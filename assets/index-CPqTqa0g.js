var SD=t=>{throw TypeError(t)};var uN=(t,e,r)=>e.has(t)||SD("Cannot "+r);var K=(t,e,r)=>(uN(t,e,"read from private field"),r?r.call(t):e.get(t)),Qe=(t,e,r)=>e.has(t)?SD("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),Me=(t,e,r,n)=>(uN(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),wt=(t,e,r)=>(uN(t,e,"access private method"),r);var xx=(t,e,r,n)=>({set _(i){Me(t,e,i,r)},get _(){return K(t,e,n)}});function fne(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var bx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ir(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var TU={exports:{}},A1={},jU={exports:{}},jt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s0=Symbol.for("react.element"),hne=Symbol.for("react.portal"),pne=Symbol.for("react.fragment"),mne=Symbol.for("react.strict_mode"),gne=Symbol.for("react.profiler"),vne=Symbol.for("react.provider"),yne=Symbol.for("react.context"),xne=Symbol.for("react.forward_ref"),bne=Symbol.for("react.suspense"),wne=Symbol.for("react.memo"),_ne=Symbol.for("react.lazy"),ND=Symbol.iterator;function Ene(t){return t===null||typeof t!="object"?null:(t=ND&&t[ND]||t["@@iterator"],typeof t=="function"?t:null)}var CU={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},AU=Object.assign,PU={};function im(t,e,r){this.props=t,this.context=e,this.refs=PU,this.updater=r||CU}im.prototype.isReactComponent={};im.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};im.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function RU(){}RU.prototype=im.prototype;function N2(t,e,r){this.props=t,this.context=e,this.refs=PU,this.updater=r||CU}var T2=N2.prototype=new RU;T2.constructor=N2;AU(T2,im.prototype);T2.isPureReactComponent=!0;var TD=Array.isArray,kU=Object.prototype.hasOwnProperty,j2={current:null},IU={key:!0,ref:!0,__self:!0,__source:!0};function OU(t,e,r){var n,i={},s=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)kU.call(e,n)&&!IU.hasOwnProperty(n)&&(i[n]=e[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var c=Array(o),u=0;u<o;u++)c[u]=arguments[u+2];i.children=c}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:s0,type:t,key:s,ref:a,props:i,_owner:j2.current}}function Sne(t,e){return{$$typeof:s0,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function C2(t){return typeof t=="object"&&t!==null&&t.$$typeof===s0}function Nne(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var jD=/\/+/g;function dN(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Nne(""+t.key):e.toString(36)}function Eb(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case s0:case hne:a=!0}}if(a)return a=t,i=i(a),t=n===""?"."+dN(a,0):n,TD(i)?(r="",t!=null&&(r=t.replace(jD,"$&/")+"/"),Eb(i,e,r,"",function(u){return u})):i!=null&&(C2(i)&&(i=Sne(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(jD,"$&/")+"/")+t)),e.push(i)),1;if(a=0,n=n===""?".":n+":",TD(t))for(var o=0;o<t.length;o++){s=t[o];var c=n+dN(s,o);a+=Eb(s,e,r,c,i)}else if(c=Ene(t),typeof c=="function")for(t=c.call(t),o=0;!(s=t.next()).done;)s=s.value,c=n+dN(s,o++),a+=Eb(s,e,r,c,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function wx(t,e,r){if(t==null)return t;var n=[],i=0;return Eb(t,n,"","",function(s){return e.call(r,s,i++)}),n}function Tne(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Pi={current:null},Sb={transition:null},jne={ReactCurrentDispatcher:Pi,ReactCurrentBatchConfig:Sb,ReactCurrentOwner:j2};function MU(){throw Error("act(...) is not supported in production builds of React.")}jt.Children={map:wx,forEach:function(t,e,r){wx(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return wx(t,function(){e++}),e},toArray:function(t){return wx(t,function(e){return e})||[]},only:function(t){if(!C2(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};jt.Component=im;jt.Fragment=pne;jt.Profiler=gne;jt.PureComponent=N2;jt.StrictMode=mne;jt.Suspense=bne;jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jne;jt.act=MU;jt.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=AU({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=j2.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(c in e)kU.call(e,c)&&!IU.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&o!==void 0?o[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){o=Array(c);for(var u=0;u<c;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:s0,type:t.type,key:i,ref:s,props:n,_owner:a}};jt.createContext=function(t){return t={$$typeof:yne,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:vne,_context:t},t.Consumer=t};jt.createElement=OU;jt.createFactory=function(t){var e=OU.bind(null,t);return e.type=t,e};jt.createRef=function(){return{current:null}};jt.forwardRef=function(t){return{$$typeof:xne,render:t}};jt.isValidElement=C2;jt.lazy=function(t){return{$$typeof:_ne,_payload:{_status:-1,_result:t},_init:Tne}};jt.memo=function(t,e){return{$$typeof:wne,type:t,compare:e===void 0?null:e}};jt.startTransition=function(t){var e=Sb.transition;Sb.transition={};try{t()}finally{Sb.transition=e}};jt.unstable_act=MU;jt.useCallback=function(t,e){return Pi.current.useCallback(t,e)};jt.useContext=function(t){return Pi.current.useContext(t)};jt.useDebugValue=function(){};jt.useDeferredValue=function(t){return Pi.current.useDeferredValue(t)};jt.useEffect=function(t,e){return Pi.current.useEffect(t,e)};jt.useId=function(){return Pi.current.useId()};jt.useImperativeHandle=function(t,e,r){return Pi.current.useImperativeHandle(t,e,r)};jt.useInsertionEffect=function(t,e){return Pi.current.useInsertionEffect(t,e)};jt.useLayoutEffect=function(t,e){return Pi.current.useLayoutEffect(t,e)};jt.useMemo=function(t,e){return Pi.current.useMemo(t,e)};jt.useReducer=function(t,e,r){return Pi.current.useReducer(t,e,r)};jt.useRef=function(t){return Pi.current.useRef(t)};jt.useState=function(t){return Pi.current.useState(t)};jt.useSyncExternalStore=function(t,e,r){return Pi.current.useSyncExternalStore(t,e,r)};jt.useTransition=function(){return Pi.current.useTransition()};jt.version="18.3.1";jU.exports=jt;var g=jU.exports;const B=ir(g),DU=fne({__proto__:null,default:B},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cne=g,Ane=Symbol.for("react.element"),Pne=Symbol.for("react.fragment"),Rne=Object.prototype.hasOwnProperty,kne=Cne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ine={key:!0,ref:!0,__self:!0,__source:!0};function LU(t,e,r){var n,i={},s=null,a=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)Rne.call(e,n)&&!Ine.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:Ane,type:t,key:s,ref:a,props:i,_owner:kne.current}}A1.Fragment=Pne;A1.jsx=LU;A1.jsxs=LU;TU.exports=A1;var l=TU.exports,$U={exports:{}},js={},FU={exports:{}},VU={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,$){var G=L.length;L.push($);e:for(;0<G;){var q=G-1>>>1,U=L[q];if(0<i(U,$))L[q]=$,L[G]=U,G=q;else break e}}function r(L){return L.length===0?null:L[0]}function n(L){if(L.length===0)return null;var $=L[0],G=L.pop();if(G!==$){L[0]=G;e:for(var q=0,U=L.length,X=U>>>1;q<X;){var ie=2*(q+1)-1,le=L[ie],xe=ie+1,ce=L[xe];if(0>i(le,G))xe<U&&0>i(ce,le)?(L[q]=ce,L[xe]=G,q=xe):(L[q]=le,L[ie]=G,q=ie);else if(xe<U&&0>i(ce,G))L[q]=ce,L[xe]=G,q=xe;else break e}}return $}function i(L,$){var G=L.sortIndex-$.sortIndex;return G!==0?G:L.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var c=[],u=[],d=1,f=null,h=3,p=!1,v=!1,m=!1,b=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(L){for(var $=r(u);$!==null;){if($.callback===null)n(u);else if($.startTime<=L)n(u),$.sortIndex=$.expirationTime,e(c,$);else break;$=r(u)}}function S(L){if(m=!1,_(L),!v)if(r(c)!==null)v=!0,M(E);else{var $=r(u);$!==null&&V(S,$.startTime-L)}}function E(L,$){v=!1,m&&(m=!1,w(j),j=-1),p=!0;var G=h;try{for(_($),f=r(c);f!==null&&(!(f.expirationTime>$)||L&&!k());){var q=f.callback;if(typeof q=="function"){f.callback=null,h=f.priorityLevel;var U=q(f.expirationTime<=$);$=t.unstable_now(),typeof U=="function"?f.callback=U:f===r(c)&&n(c),_($)}else n(c);f=r(c)}if(f!==null)var X=!0;else{var ie=r(u);ie!==null&&V(S,ie.startTime-$),X=!1}return X}finally{f=null,h=G,p=!1}}var N=!1,T=null,j=-1,A=5,R=-1;function k(){return!(t.unstable_now()-R<A)}function O(){if(T!==null){var L=t.unstable_now();R=L;var $=!0;try{$=T(!0,L)}finally{$?P():(N=!1,T=null)}}else N=!1}var P;if(typeof y=="function")P=function(){y(O)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,z=D.port2;D.port1.onmessage=O,P=function(){z.postMessage(null)}}else P=function(){b(O,0)};function M(L){T=L,N||(N=!0,P())}function V(L,$){j=b(function(){L(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,M(E))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(L){switch(h){case 1:case 2:case 3:var $=3;break;default:$=h}var G=h;h=$;try{return L()}finally{h=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,$){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var G=h;h=L;try{return $()}finally{h=G}},t.unstable_scheduleCallback=function(L,$,G){var q=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?q+G:q):G=q,L){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=G+U,L={id:d++,callback:$,priorityLevel:L,startTime:G,expirationTime:U,sortIndex:-1},G>q?(L.sortIndex=G,e(u,L),r(c)===null&&L===r(u)&&(m?(w(j),j=-1):m=!0,V(S,G-q))):(L.sortIndex=U,e(c,L),v||p||(v=!0,M(E))),L},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(L){var $=h;return function(){var G=h;h=$;try{return L.apply(this,arguments)}finally{h=G}}}})(VU);FU.exports=VU;var One=FU.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mne=g,Ss=One;function we(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var BU=new Set,pv={};function mf(t,e){ap(t,e),ap(t+"Capture",e)}function ap(t,e){for(pv[t]=e,t=0;t<e.length;t++)BU.add(e[t])}var kl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tj=Object.prototype.hasOwnProperty,Dne=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,CD={},AD={};function Lne(t){return Tj.call(AD,t)?!0:Tj.call(CD,t)?!1:Dne.test(t)?AD[t]=!0:(CD[t]=!0,!1)}function $ne(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Fne(t,e,r,n){if(e===null||typeof e>"u"||$ne(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ri(t,e,r,n,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var Hn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Hn[t]=new Ri(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Hn[e]=new Ri(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Hn[t]=new Ri(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Hn[t]=new Ri(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Hn[t]=new Ri(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Hn[t]=new Ri(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Hn[t]=new Ri(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Hn[t]=new Ri(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Hn[t]=new Ri(t,5,!1,t.toLowerCase(),null,!1,!1)});var A2=/[\-:]([a-z])/g;function P2(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(A2,P2);Hn[e]=new Ri(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(A2,P2);Hn[e]=new Ri(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(A2,P2);Hn[e]=new Ri(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Hn[t]=new Ri(t,1,!1,t.toLowerCase(),null,!1,!1)});Hn.xlinkHref=new Ri("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Hn[t]=new Ri(t,1,!1,t.toLowerCase(),null,!0,!0)});function R2(t,e,r,n){var i=Hn.hasOwnProperty(e)?Hn[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Fne(e,r,i,n)&&(r=null),n||i===null?Lne(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Yl=Mne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_x=Symbol.for("react.element"),nh=Symbol.for("react.portal"),ih=Symbol.for("react.fragment"),k2=Symbol.for("react.strict_mode"),jj=Symbol.for("react.profiler"),UU=Symbol.for("react.provider"),zU=Symbol.for("react.context"),I2=Symbol.for("react.forward_ref"),Cj=Symbol.for("react.suspense"),Aj=Symbol.for("react.suspense_list"),O2=Symbol.for("react.memo"),yc=Symbol.for("react.lazy"),qU=Symbol.for("react.offscreen"),PD=Symbol.iterator;function Wm(t){return t===null||typeof t!="object"?null:(t=PD&&t[PD]||t["@@iterator"],typeof t=="function"?t:null)}var Vr=Object.assign,fN;function bg(t){if(fN===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);fN=e&&e[1]||""}return`
`+fN+t}var hN=!1;function pN(t,e){if(!t||hN)return"";hN=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=n.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var c=`
`+i[a].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=a&&0<=o);break}}}finally{hN=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?bg(t):""}function Vne(t){switch(t.tag){case 5:return bg(t.type);case 16:return bg("Lazy");case 13:return bg("Suspense");case 19:return bg("SuspenseList");case 0:case 2:case 15:return t=pN(t.type,!1),t;case 11:return t=pN(t.type.render,!1),t;case 1:return t=pN(t.type,!0),t;default:return""}}function Pj(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ih:return"Fragment";case nh:return"Portal";case jj:return"Profiler";case k2:return"StrictMode";case Cj:return"Suspense";case Aj:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case zU:return(t.displayName||"Context")+".Consumer";case UU:return(t._context.displayName||"Context")+".Provider";case I2:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case O2:return e=t.displayName||null,e!==null?e:Pj(t.type)||"Memo";case yc:e=t._payload,t=t._init;try{return Pj(t(e))}catch{}}return null}function Bne(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Pj(e);case 8:return e===k2?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function eu(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function WU(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Une(t){var e=WU(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ex(t){t._valueTracker||(t._valueTracker=Une(t))}function HU(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=WU(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function lw(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Rj(t,e){var r=e.checked;return Vr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function RD(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=eu(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function KU(t,e){e=e.checked,e!=null&&R2(t,"checked",e,!1)}function kj(t,e){KU(t,e);var r=eu(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ij(t,e.type,r):e.hasOwnProperty("defaultValue")&&Ij(t,e.type,eu(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function kD(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Ij(t,e,r){(e!=="number"||lw(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var wg=Array.isArray;function Nh(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+eu(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Oj(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(we(91));return Vr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ID(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(we(92));if(wg(r)){if(1<r.length)throw Error(we(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:eu(r)}}function GU(t,e){var r=eu(e.value),n=eu(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function OD(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function YU(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Mj(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?YU(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Sx,XU=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Sx=Sx||document.createElement("div"),Sx.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Sx.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function mv(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Vg={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zne=["Webkit","ms","Moz","O"];Object.keys(Vg).forEach(function(t){zne.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Vg[e]=Vg[t]})});function QU(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Vg.hasOwnProperty(t)&&Vg[t]?(""+e).trim():e+"px"}function ZU(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=QU(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var qne=Vr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Dj(t,e){if(e){if(qne[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(we(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(we(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(we(61))}if(e.style!=null&&typeof e.style!="object")throw Error(we(62))}}function Lj(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $j=null;function M2(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Fj=null,Th=null,jh=null;function MD(t){if(t=l0(t)){if(typeof Fj!="function")throw Error(we(280));var e=t.stateNode;e&&(e=O1(e),Fj(t.stateNode,t.type,e))}}function JU(t){Th?jh?jh.push(t):jh=[t]:Th=t}function e9(){if(Th){var t=Th,e=jh;if(jh=Th=null,MD(t),e)for(t=0;t<e.length;t++)MD(e[t])}}function t9(t,e){return t(e)}function r9(){}var mN=!1;function n9(t,e,r){if(mN)return t(e,r);mN=!0;try{return t9(t,e,r)}finally{mN=!1,(Th!==null||jh!==null)&&(r9(),e9())}}function gv(t,e){var r=t.stateNode;if(r===null)return null;var n=O1(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(we(231,e,typeof r));return r}var Vj=!1;if(kl)try{var Hm={};Object.defineProperty(Hm,"passive",{get:function(){Vj=!0}}),window.addEventListener("test",Hm,Hm),window.removeEventListener("test",Hm,Hm)}catch{Vj=!1}function Wne(t,e,r,n,i,s,a,o,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(d){this.onError(d)}}var Bg=!1,cw=null,uw=!1,Bj=null,Hne={onError:function(t){Bg=!0,cw=t}};function Kne(t,e,r,n,i,s,a,o,c){Bg=!1,cw=null,Wne.apply(Hne,arguments)}function Gne(t,e,r,n,i,s,a,o,c){if(Kne.apply(this,arguments),Bg){if(Bg){var u=cw;Bg=!1,cw=null}else throw Error(we(198));uw||(uw=!0,Bj=u)}}function gf(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function i9(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function DD(t){if(gf(t)!==t)throw Error(we(188))}function Yne(t){var e=t.alternate;if(!e){if(e=gf(t),e===null)throw Error(we(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return DD(i),t;if(s===n)return DD(i),e;s=s.sibling}throw Error(we(188))}if(r.return!==n.return)r=i,n=s;else{for(var a=!1,o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a)throw Error(we(189))}}if(r.alternate!==n)throw Error(we(190))}if(r.tag!==3)throw Error(we(188));return r.stateNode.current===r?t:e}function s9(t){return t=Yne(t),t!==null?a9(t):null}function a9(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=a9(t);if(e!==null)return e;t=t.sibling}return null}var o9=Ss.unstable_scheduleCallback,LD=Ss.unstable_cancelCallback,Xne=Ss.unstable_shouldYield,Qne=Ss.unstable_requestPaint,sn=Ss.unstable_now,Zne=Ss.unstable_getCurrentPriorityLevel,D2=Ss.unstable_ImmediatePriority,l9=Ss.unstable_UserBlockingPriority,dw=Ss.unstable_NormalPriority,Jne=Ss.unstable_LowPriority,c9=Ss.unstable_IdlePriority,P1=null,go=null;function eie(t){if(go&&typeof go.onCommitFiberRoot=="function")try{go.onCommitFiberRoot(P1,t,void 0,(t.current.flags&128)===128)}catch{}}var Ca=Math.clz32?Math.clz32:nie,tie=Math.log,rie=Math.LN2;function nie(t){return t>>>=0,t===0?32:31-(tie(t)/rie|0)|0}var Nx=64,Tx=4194304;function _g(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function fw(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,a=r&268435455;if(a!==0){var o=a&~i;o!==0?n=_g(o):(s&=a,s!==0&&(n=_g(s)))}else a=r&~i,a!==0?n=_g(a):s!==0&&(n=_g(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Ca(e),i=1<<r,n|=t[r],e&=~i;return n}function iie(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sie(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-Ca(s),o=1<<a,c=i[a];c===-1?(!(o&r)||o&n)&&(i[a]=iie(o,e)):c<=e&&(t.expiredLanes|=o),s&=~o}}function Uj(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function u9(){var t=Nx;return Nx<<=1,!(Nx&4194240)&&(Nx=64),t}function gN(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function a0(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ca(e),t[e]=r}function aie(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-Ca(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function L2(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Ca(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var rr=0;function d9(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var f9,$2,h9,p9,m9,zj=!1,jx=[],Bc=null,Uc=null,zc=null,vv=new Map,yv=new Map,wc=[],oie="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $D(t,e){switch(t){case"focusin":case"focusout":Bc=null;break;case"dragenter":case"dragleave":Uc=null;break;case"mouseover":case"mouseout":zc=null;break;case"pointerover":case"pointerout":vv.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":yv.delete(e.pointerId)}}function Km(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=l0(e),e!==null&&$2(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function lie(t,e,r,n,i){switch(e){case"focusin":return Bc=Km(Bc,t,e,r,n,i),!0;case"dragenter":return Uc=Km(Uc,t,e,r,n,i),!0;case"mouseover":return zc=Km(zc,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return vv.set(s,Km(vv.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,yv.set(s,Km(yv.get(s)||null,t,e,r,n,i)),!0}return!1}function g9(t){var e=cd(t.target);if(e!==null){var r=gf(e);if(r!==null){if(e=r.tag,e===13){if(e=i9(r),e!==null){t.blockedOn=e,m9(t.priority,function(){h9(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Nb(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=qj(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);$j=n,r.target.dispatchEvent(n),$j=null}else return e=l0(r),e!==null&&$2(e),t.blockedOn=r,!1;e.shift()}return!0}function FD(t,e,r){Nb(t)&&r.delete(e)}function cie(){zj=!1,Bc!==null&&Nb(Bc)&&(Bc=null),Uc!==null&&Nb(Uc)&&(Uc=null),zc!==null&&Nb(zc)&&(zc=null),vv.forEach(FD),yv.forEach(FD)}function Gm(t,e){t.blockedOn===e&&(t.blockedOn=null,zj||(zj=!0,Ss.unstable_scheduleCallback(Ss.unstable_NormalPriority,cie)))}function xv(t){function e(i){return Gm(i,t)}if(0<jx.length){Gm(jx[0],t);for(var r=1;r<jx.length;r++){var n=jx[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Bc!==null&&Gm(Bc,t),Uc!==null&&Gm(Uc,t),zc!==null&&Gm(zc,t),vv.forEach(e),yv.forEach(e),r=0;r<wc.length;r++)n=wc[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<wc.length&&(r=wc[0],r.blockedOn===null);)g9(r),r.blockedOn===null&&wc.shift()}var Ch=Yl.ReactCurrentBatchConfig,hw=!0;function uie(t,e,r,n){var i=rr,s=Ch.transition;Ch.transition=null;try{rr=1,F2(t,e,r,n)}finally{rr=i,Ch.transition=s}}function die(t,e,r,n){var i=rr,s=Ch.transition;Ch.transition=null;try{rr=4,F2(t,e,r,n)}finally{rr=i,Ch.transition=s}}function F2(t,e,r,n){if(hw){var i=qj(t,e,r,n);if(i===null)TN(t,e,n,pw,r),$D(t,n);else if(lie(i,t,e,r,n))n.stopPropagation();else if($D(t,n),e&4&&-1<oie.indexOf(t)){for(;i!==null;){var s=l0(i);if(s!==null&&f9(s),s=qj(t,e,r,n),s===null&&TN(t,e,n,pw,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else TN(t,e,n,null,r)}}var pw=null;function qj(t,e,r,n){if(pw=null,t=M2(n),t=cd(t),t!==null)if(e=gf(t),e===null)t=null;else if(r=e.tag,r===13){if(t=i9(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return pw=t,null}function v9(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Zne()){case D2:return 1;case l9:return 4;case dw:case Jne:return 16;case c9:return 536870912;default:return 16}default:return 16}}var $c=null,V2=null,Tb=null;function y9(){if(Tb)return Tb;var t,e=V2,r=e.length,n,i="value"in $c?$c.value:$c.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===i[s-n];n++);return Tb=i.slice(t,1<n?1-n:void 0)}function jb(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Cx(){return!0}function VD(){return!1}function Cs(t){function e(r,n,i,s,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Cx:VD,this.isPropagationStopped=VD,this}return Vr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Cx)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Cx)},persist:function(){},isPersistent:Cx}),e}var sm={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},B2=Cs(sm),o0=Vr({},sm,{view:0,detail:0}),fie=Cs(o0),vN,yN,Ym,R1=Vr({},o0,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:U2,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ym&&(Ym&&t.type==="mousemove"?(vN=t.screenX-Ym.screenX,yN=t.screenY-Ym.screenY):yN=vN=0,Ym=t),vN)},movementY:function(t){return"movementY"in t?t.movementY:yN}}),BD=Cs(R1),hie=Vr({},R1,{dataTransfer:0}),pie=Cs(hie),mie=Vr({},o0,{relatedTarget:0}),xN=Cs(mie),gie=Vr({},sm,{animationName:0,elapsedTime:0,pseudoElement:0}),vie=Cs(gie),yie=Vr({},sm,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),xie=Cs(yie),bie=Vr({},sm,{data:0}),UD=Cs(bie),wie={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_ie={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Eie={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sie(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Eie[t])?!!e[t]:!1}function U2(){return Sie}var Nie=Vr({},o0,{key:function(t){if(t.key){var e=wie[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=jb(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?_ie[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:U2,charCode:function(t){return t.type==="keypress"?jb(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?jb(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Tie=Cs(Nie),jie=Vr({},R1,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zD=Cs(jie),Cie=Vr({},o0,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:U2}),Aie=Cs(Cie),Pie=Vr({},sm,{propertyName:0,elapsedTime:0,pseudoElement:0}),Rie=Cs(Pie),kie=Vr({},R1,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Iie=Cs(kie),Oie=[9,13,27,32],z2=kl&&"CompositionEvent"in window,Ug=null;kl&&"documentMode"in document&&(Ug=document.documentMode);var Mie=kl&&"TextEvent"in window&&!Ug,x9=kl&&(!z2||Ug&&8<Ug&&11>=Ug),qD=" ",WD=!1;function b9(t,e){switch(t){case"keyup":return Oie.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function w9(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var sh=!1;function Die(t,e){switch(t){case"compositionend":return w9(e);case"keypress":return e.which!==32?null:(WD=!0,qD);case"textInput":return t=e.data,t===qD&&WD?null:t;default:return null}}function Lie(t,e){if(sh)return t==="compositionend"||!z2&&b9(t,e)?(t=y9(),Tb=V2=$c=null,sh=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return x9&&e.locale!=="ko"?null:e.data;default:return null}}var $ie={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function HD(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!$ie[t.type]:e==="textarea"}function _9(t,e,r,n){JU(n),e=mw(e,"onChange"),0<e.length&&(r=new B2("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var zg=null,bv=null;function Fie(t){I9(t,0)}function k1(t){var e=lh(t);if(HU(e))return t}function Vie(t,e){if(t==="change")return e}var E9=!1;if(kl){var bN;if(kl){var wN="oninput"in document;if(!wN){var KD=document.createElement("div");KD.setAttribute("oninput","return;"),wN=typeof KD.oninput=="function"}bN=wN}else bN=!1;E9=bN&&(!document.documentMode||9<document.documentMode)}function GD(){zg&&(zg.detachEvent("onpropertychange",S9),bv=zg=null)}function S9(t){if(t.propertyName==="value"&&k1(bv)){var e=[];_9(e,bv,t,M2(t)),n9(Fie,e)}}function Bie(t,e,r){t==="focusin"?(GD(),zg=e,bv=r,zg.attachEvent("onpropertychange",S9)):t==="focusout"&&GD()}function Uie(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return k1(bv)}function zie(t,e){if(t==="click")return k1(e)}function qie(t,e){if(t==="input"||t==="change")return k1(e)}function Wie(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Oa=typeof Object.is=="function"?Object.is:Wie;function wv(t,e){if(Oa(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Tj.call(e,i)||!Oa(t[i],e[i]))return!1}return!0}function YD(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function XD(t,e){var r=YD(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=YD(r)}}function N9(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?N9(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function T9(){for(var t=window,e=lw();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=lw(t.document)}return e}function q2(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Hie(t){var e=T9(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&N9(r.ownerDocument.documentElement,r)){if(n!==null&&q2(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=XD(r,s);var a=XD(r,n);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Kie=kl&&"documentMode"in document&&11>=document.documentMode,ah=null,Wj=null,qg=null,Hj=!1;function QD(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Hj||ah==null||ah!==lw(n)||(n=ah,"selectionStart"in n&&q2(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),qg&&wv(qg,n)||(qg=n,n=mw(Wj,"onSelect"),0<n.length&&(e=new B2("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=ah)))}function Ax(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var oh={animationend:Ax("Animation","AnimationEnd"),animationiteration:Ax("Animation","AnimationIteration"),animationstart:Ax("Animation","AnimationStart"),transitionend:Ax("Transition","TransitionEnd")},_N={},j9={};kl&&(j9=document.createElement("div").style,"AnimationEvent"in window||(delete oh.animationend.animation,delete oh.animationiteration.animation,delete oh.animationstart.animation),"TransitionEvent"in window||delete oh.transitionend.transition);function I1(t){if(_N[t])return _N[t];if(!oh[t])return t;var e=oh[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in j9)return _N[t]=e[r];return t}var C9=I1("animationend"),A9=I1("animationiteration"),P9=I1("animationstart"),R9=I1("transitionend"),k9=new Map,ZD="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function yu(t,e){k9.set(t,e),mf(e,[t])}for(var EN=0;EN<ZD.length;EN++){var SN=ZD[EN],Gie=SN.toLowerCase(),Yie=SN[0].toUpperCase()+SN.slice(1);yu(Gie,"on"+Yie)}yu(C9,"onAnimationEnd");yu(A9,"onAnimationIteration");yu(P9,"onAnimationStart");yu("dblclick","onDoubleClick");yu("focusin","onFocus");yu("focusout","onBlur");yu(R9,"onTransitionEnd");ap("onMouseEnter",["mouseout","mouseover"]);ap("onMouseLeave",["mouseout","mouseover"]);ap("onPointerEnter",["pointerout","pointerover"]);ap("onPointerLeave",["pointerout","pointerover"]);mf("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));mf("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));mf("onBeforeInput",["compositionend","keypress","textInput","paste"]);mf("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));mf("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));mf("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Eg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xie=new Set("cancel close invalid load scroll toggle".split(" ").concat(Eg));function JD(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,Gne(n,e,void 0,t),t.currentTarget=null}function I9(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var a=n.length-1;0<=a;a--){var o=n[a],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==s&&i.isPropagationStopped())break e;JD(i,o,u),s=c}else for(a=0;a<n.length;a++){if(o=n[a],c=o.instance,u=o.currentTarget,o=o.listener,c!==s&&i.isPropagationStopped())break e;JD(i,o,u),s=c}}}if(uw)throw t=Bj,uw=!1,Bj=null,t}function _r(t,e){var r=e[Qj];r===void 0&&(r=e[Qj]=new Set);var n=t+"__bubble";r.has(n)||(O9(e,t,2,!1),r.add(n))}function NN(t,e,r){var n=0;e&&(n|=4),O9(r,t,n,e)}var Px="_reactListening"+Math.random().toString(36).slice(2);function _v(t){if(!t[Px]){t[Px]=!0,BU.forEach(function(r){r!=="selectionchange"&&(Xie.has(r)||NN(r,!1,t),NN(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Px]||(e[Px]=!0,NN("selectionchange",!1,e))}}function O9(t,e,r,n){switch(v9(e)){case 1:var i=uie;break;case 4:i=die;break;default:i=F2}r=i.bind(null,e,r,t),i=void 0,!Vj||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function TN(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;a=a.return}for(;o!==null;){if(a=cd(o),a===null)return;if(c=a.tag,c===5||c===6){n=s=a;continue e}o=o.parentNode}}n=n.return}n9(function(){var u=s,d=M2(r),f=[];e:{var h=k9.get(t);if(h!==void 0){var p=B2,v=t;switch(t){case"keypress":if(jb(r)===0)break e;case"keydown":case"keyup":p=Tie;break;case"focusin":v="focus",p=xN;break;case"focusout":v="blur",p=xN;break;case"beforeblur":case"afterblur":p=xN;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=BD;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=pie;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Aie;break;case C9:case A9:case P9:p=vie;break;case R9:p=Rie;break;case"scroll":p=fie;break;case"wheel":p=Iie;break;case"copy":case"cut":case"paste":p=xie;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=zD}var m=(e&4)!==0,b=!m&&t==="scroll",w=m?h!==null?h+"Capture":null:h;m=[];for(var y=u,_;y!==null;){_=y;var S=_.stateNode;if(_.tag===5&&S!==null&&(_=S,w!==null&&(S=gv(y,w),S!=null&&m.push(Ev(y,S,_)))),b)break;y=y.return}0<m.length&&(h=new p(h,v,null,r,d),f.push({event:h,listeners:m}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&r!==$j&&(v=r.relatedTarget||r.fromElement)&&(cd(v)||v[Il]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(v=r.relatedTarget||r.toElement,p=u,v=v?cd(v):null,v!==null&&(b=gf(v),v!==b||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=u),p!==v)){if(m=BD,S="onMouseLeave",w="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(m=zD,S="onPointerLeave",w="onPointerEnter",y="pointer"),b=p==null?h:lh(p),_=v==null?h:lh(v),h=new m(S,y+"leave",p,r,d),h.target=b,h.relatedTarget=_,S=null,cd(d)===u&&(m=new m(w,y+"enter",v,r,d),m.target=_,m.relatedTarget=b,S=m),b=S,p&&v)t:{for(m=p,w=v,y=0,_=m;_;_=Ff(_))y++;for(_=0,S=w;S;S=Ff(S))_++;for(;0<y-_;)m=Ff(m),y--;for(;0<_-y;)w=Ff(w),_--;for(;y--;){if(m===w||w!==null&&m===w.alternate)break t;m=Ff(m),w=Ff(w)}m=null}else m=null;p!==null&&eL(f,h,p,m,!1),v!==null&&b!==null&&eL(f,b,v,m,!0)}}e:{if(h=u?lh(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var E=Vie;else if(HD(h))if(E9)E=qie;else{E=Uie;var N=Bie}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(E=zie);if(E&&(E=E(t,u))){_9(f,E,r,d);break e}N&&N(t,h,u),t==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&Ij(h,"number",h.value)}switch(N=u?lh(u):window,t){case"focusin":(HD(N)||N.contentEditable==="true")&&(ah=N,Wj=u,qg=null);break;case"focusout":qg=Wj=ah=null;break;case"mousedown":Hj=!0;break;case"contextmenu":case"mouseup":case"dragend":Hj=!1,QD(f,r,d);break;case"selectionchange":if(Kie)break;case"keydown":case"keyup":QD(f,r,d)}var T;if(z2)e:{switch(t){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else sh?b9(t,r)&&(j="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(j="onCompositionStart");j&&(x9&&r.locale!=="ko"&&(sh||j!=="onCompositionStart"?j==="onCompositionEnd"&&sh&&(T=y9()):($c=d,V2="value"in $c?$c.value:$c.textContent,sh=!0)),N=mw(u,j),0<N.length&&(j=new UD(j,t,null,r,d),f.push({event:j,listeners:N}),T?j.data=T:(T=w9(r),T!==null&&(j.data=T)))),(T=Mie?Die(t,r):Lie(t,r))&&(u=mw(u,"onBeforeInput"),0<u.length&&(d=new UD("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=T))}I9(f,e)})}function Ev(t,e,r){return{instance:t,listener:e,currentTarget:r}}function mw(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=gv(t,r),s!=null&&n.unshift(Ev(t,s,i)),s=gv(t,e),s!=null&&n.push(Ev(t,s,i))),t=t.return}return n}function Ff(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function eL(t,e,r,n,i){for(var s=e._reactName,a=[];r!==null&&r!==n;){var o=r,c=o.alternate,u=o.stateNode;if(c!==null&&c===n)break;o.tag===5&&u!==null&&(o=u,i?(c=gv(r,s),c!=null&&a.unshift(Ev(r,c,o))):i||(c=gv(r,s),c!=null&&a.push(Ev(r,c,o)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var Qie=/\r\n?/g,Zie=/\u0000|\uFFFD/g;function tL(t){return(typeof t=="string"?t:""+t).replace(Qie,`
`).replace(Zie,"")}function Rx(t,e,r){if(e=tL(e),tL(t)!==e&&r)throw Error(we(425))}function gw(){}var Kj=null,Gj=null;function Yj(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Xj=typeof setTimeout=="function"?setTimeout:void 0,Jie=typeof clearTimeout=="function"?clearTimeout:void 0,rL=typeof Promise=="function"?Promise:void 0,ese=typeof queueMicrotask=="function"?queueMicrotask:typeof rL<"u"?function(t){return rL.resolve(null).then(t).catch(tse)}:Xj;function tse(t){setTimeout(function(){throw t})}function jN(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),xv(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);xv(e)}function qc(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function nL(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var am=Math.random().toString(36).slice(2),oo="__reactFiber$"+am,Sv="__reactProps$"+am,Il="__reactContainer$"+am,Qj="__reactEvents$"+am,rse="__reactListeners$"+am,nse="__reactHandles$"+am;function cd(t){var e=t[oo];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Il]||r[oo]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=nL(t);t!==null;){if(r=t[oo])return r;t=nL(t)}return e}t=r,r=t.parentNode}return null}function l0(t){return t=t[oo]||t[Il],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function lh(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(we(33))}function O1(t){return t[Sv]||null}var Zj=[],ch=-1;function xu(t){return{current:t}}function Tr(t){0>ch||(t.current=Zj[ch],Zj[ch]=null,ch--)}function gr(t,e){ch++,Zj[ch]=t.current,t.current=e}var tu={},ci=xu(tu),Ki=xu(!1),Ud=tu;function op(t,e){var r=t.type.contextTypes;if(!r)return tu;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Gi(t){return t=t.childContextTypes,t!=null}function vw(){Tr(Ki),Tr(ci)}function iL(t,e,r){if(ci.current!==tu)throw Error(we(168));gr(ci,e),gr(Ki,r)}function M9(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(we(108,Bne(t)||"Unknown",i));return Vr({},r,n)}function yw(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||tu,Ud=ci.current,gr(ci,t),gr(Ki,Ki.current),!0}function sL(t,e,r){var n=t.stateNode;if(!n)throw Error(we(169));r?(t=M9(t,e,Ud),n.__reactInternalMemoizedMergedChildContext=t,Tr(Ki),Tr(ci),gr(ci,t)):Tr(Ki),gr(Ki,r)}var sl=null,M1=!1,CN=!1;function D9(t){sl===null?sl=[t]:sl.push(t)}function ise(t){M1=!0,D9(t)}function bu(){if(!CN&&sl!==null){CN=!0;var t=0,e=rr;try{var r=sl;for(rr=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}sl=null,M1=!1}catch(i){throw sl!==null&&(sl=sl.slice(t+1)),o9(D2,bu),i}finally{rr=e,CN=!1}}return null}var uh=[],dh=0,xw=null,bw=0,$s=[],Fs=0,zd=null,fl=1,hl="";function Zu(t,e){uh[dh++]=bw,uh[dh++]=xw,xw=t,bw=e}function L9(t,e,r){$s[Fs++]=fl,$s[Fs++]=hl,$s[Fs++]=zd,zd=t;var n=fl;t=hl;var i=32-Ca(n)-1;n&=~(1<<i),r+=1;var s=32-Ca(e)+i;if(30<s){var a=i-i%5;s=(n&(1<<a)-1).toString(32),n>>=a,i-=a,fl=1<<32-Ca(e)+i|r<<i|n,hl=s+t}else fl=1<<s|r<<i|n,hl=t}function W2(t){t.return!==null&&(Zu(t,1),L9(t,1,0))}function H2(t){for(;t===xw;)xw=uh[--dh],uh[dh]=null,bw=uh[--dh],uh[dh]=null;for(;t===zd;)zd=$s[--Fs],$s[Fs]=null,hl=$s[--Fs],$s[Fs]=null,fl=$s[--Fs],$s[Fs]=null}var bs=null,ms=null,kr=!1,ya=null;function $9(t,e){var r=zs(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function aL(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,bs=t,ms=qc(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,bs=t,ms=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=zd!==null?{id:fl,overflow:hl}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=zs(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,bs=t,ms=null,!0):!1;default:return!1}}function Jj(t){return(t.mode&1)!==0&&(t.flags&128)===0}function eC(t){if(kr){var e=ms;if(e){var r=e;if(!aL(t,e)){if(Jj(t))throw Error(we(418));e=qc(r.nextSibling);var n=bs;e&&aL(t,e)?$9(n,r):(t.flags=t.flags&-4097|2,kr=!1,bs=t)}}else{if(Jj(t))throw Error(we(418));t.flags=t.flags&-4097|2,kr=!1,bs=t}}}function oL(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;bs=t}function kx(t){if(t!==bs)return!1;if(!kr)return oL(t),kr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Yj(t.type,t.memoizedProps)),e&&(e=ms)){if(Jj(t))throw F9(),Error(we(418));for(;e;)$9(t,e),e=qc(e.nextSibling)}if(oL(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(we(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){ms=qc(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}ms=null}}else ms=bs?qc(t.stateNode.nextSibling):null;return!0}function F9(){for(var t=ms;t;)t=qc(t.nextSibling)}function lp(){ms=bs=null,kr=!1}function K2(t){ya===null?ya=[t]:ya.push(t)}var sse=Yl.ReactCurrentBatchConfig;function Xm(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(we(309));var n=r.stateNode}if(!n)throw Error(we(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(we(284));if(!r._owner)throw Error(we(290,t))}return t}function Ix(t,e){throw t=Object.prototype.toString.call(e),Error(we(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function lL(t){var e=t._init;return e(t._payload)}function V9(t){function e(w,y){if(t){var _=w.deletions;_===null?(w.deletions=[y],w.flags|=16):_.push(y)}}function r(w,y){if(!t)return null;for(;y!==null;)e(w,y),y=y.sibling;return null}function n(w,y){for(w=new Map;y!==null;)y.key!==null?w.set(y.key,y):w.set(y.index,y),y=y.sibling;return w}function i(w,y){return w=Gc(w,y),w.index=0,w.sibling=null,w}function s(w,y,_){return w.index=_,t?(_=w.alternate,_!==null?(_=_.index,_<y?(w.flags|=2,y):_):(w.flags|=2,y)):(w.flags|=1048576,y)}function a(w){return t&&w.alternate===null&&(w.flags|=2),w}function o(w,y,_,S){return y===null||y.tag!==6?(y=MN(_,w.mode,S),y.return=w,y):(y=i(y,_),y.return=w,y)}function c(w,y,_,S){var E=_.type;return E===ih?d(w,y,_.props.children,S,_.key):y!==null&&(y.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===yc&&lL(E)===y.type)?(S=i(y,_.props),S.ref=Xm(w,y,_),S.return=w,S):(S=Ob(_.type,_.key,_.props,null,w.mode,S),S.ref=Xm(w,y,_),S.return=w,S)}function u(w,y,_,S){return y===null||y.tag!==4||y.stateNode.containerInfo!==_.containerInfo||y.stateNode.implementation!==_.implementation?(y=DN(_,w.mode,S),y.return=w,y):(y=i(y,_.children||[]),y.return=w,y)}function d(w,y,_,S,E){return y===null||y.tag!==7?(y=Pd(_,w.mode,S,E),y.return=w,y):(y=i(y,_),y.return=w,y)}function f(w,y,_){if(typeof y=="string"&&y!==""||typeof y=="number")return y=MN(""+y,w.mode,_),y.return=w,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case _x:return _=Ob(y.type,y.key,y.props,null,w.mode,_),_.ref=Xm(w,null,y),_.return=w,_;case nh:return y=DN(y,w.mode,_),y.return=w,y;case yc:var S=y._init;return f(w,S(y._payload),_)}if(wg(y)||Wm(y))return y=Pd(y,w.mode,_,null),y.return=w,y;Ix(w,y)}return null}function h(w,y,_,S){var E=y!==null?y.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return E!==null?null:o(w,y,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case _x:return _.key===E?c(w,y,_,S):null;case nh:return _.key===E?u(w,y,_,S):null;case yc:return E=_._init,h(w,y,E(_._payload),S)}if(wg(_)||Wm(_))return E!==null?null:d(w,y,_,S,null);Ix(w,_)}return null}function p(w,y,_,S,E){if(typeof S=="string"&&S!==""||typeof S=="number")return w=w.get(_)||null,o(y,w,""+S,E);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case _x:return w=w.get(S.key===null?_:S.key)||null,c(y,w,S,E);case nh:return w=w.get(S.key===null?_:S.key)||null,u(y,w,S,E);case yc:var N=S._init;return p(w,y,_,N(S._payload),E)}if(wg(S)||Wm(S))return w=w.get(_)||null,d(y,w,S,E,null);Ix(y,S)}return null}function v(w,y,_,S){for(var E=null,N=null,T=y,j=y=0,A=null;T!==null&&j<_.length;j++){T.index>j?(A=T,T=null):A=T.sibling;var R=h(w,T,_[j],S);if(R===null){T===null&&(T=A);break}t&&T&&R.alternate===null&&e(w,T),y=s(R,y,j),N===null?E=R:N.sibling=R,N=R,T=A}if(j===_.length)return r(w,T),kr&&Zu(w,j),E;if(T===null){for(;j<_.length;j++)T=f(w,_[j],S),T!==null&&(y=s(T,y,j),N===null?E=T:N.sibling=T,N=T);return kr&&Zu(w,j),E}for(T=n(w,T);j<_.length;j++)A=p(T,w,j,_[j],S),A!==null&&(t&&A.alternate!==null&&T.delete(A.key===null?j:A.key),y=s(A,y,j),N===null?E=A:N.sibling=A,N=A);return t&&T.forEach(function(k){return e(w,k)}),kr&&Zu(w,j),E}function m(w,y,_,S){var E=Wm(_);if(typeof E!="function")throw Error(we(150));if(_=E.call(_),_==null)throw Error(we(151));for(var N=E=null,T=y,j=y=0,A=null,R=_.next();T!==null&&!R.done;j++,R=_.next()){T.index>j?(A=T,T=null):A=T.sibling;var k=h(w,T,R.value,S);if(k===null){T===null&&(T=A);break}t&&T&&k.alternate===null&&e(w,T),y=s(k,y,j),N===null?E=k:N.sibling=k,N=k,T=A}if(R.done)return r(w,T),kr&&Zu(w,j),E;if(T===null){for(;!R.done;j++,R=_.next())R=f(w,R.value,S),R!==null&&(y=s(R,y,j),N===null?E=R:N.sibling=R,N=R);return kr&&Zu(w,j),E}for(T=n(w,T);!R.done;j++,R=_.next())R=p(T,w,j,R.value,S),R!==null&&(t&&R.alternate!==null&&T.delete(R.key===null?j:R.key),y=s(R,y,j),N===null?E=R:N.sibling=R,N=R);return t&&T.forEach(function(O){return e(w,O)}),kr&&Zu(w,j),E}function b(w,y,_,S){if(typeof _=="object"&&_!==null&&_.type===ih&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case _x:e:{for(var E=_.key,N=y;N!==null;){if(N.key===E){if(E=_.type,E===ih){if(N.tag===7){r(w,N.sibling),y=i(N,_.props.children),y.return=w,w=y;break e}}else if(N.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===yc&&lL(E)===N.type){r(w,N.sibling),y=i(N,_.props),y.ref=Xm(w,N,_),y.return=w,w=y;break e}r(w,N);break}else e(w,N);N=N.sibling}_.type===ih?(y=Pd(_.props.children,w.mode,S,_.key),y.return=w,w=y):(S=Ob(_.type,_.key,_.props,null,w.mode,S),S.ref=Xm(w,y,_),S.return=w,w=S)}return a(w);case nh:e:{for(N=_.key;y!==null;){if(y.key===N)if(y.tag===4&&y.stateNode.containerInfo===_.containerInfo&&y.stateNode.implementation===_.implementation){r(w,y.sibling),y=i(y,_.children||[]),y.return=w,w=y;break e}else{r(w,y);break}else e(w,y);y=y.sibling}y=DN(_,w.mode,S),y.return=w,w=y}return a(w);case yc:return N=_._init,b(w,y,N(_._payload),S)}if(wg(_))return v(w,y,_,S);if(Wm(_))return m(w,y,_,S);Ix(w,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,y!==null&&y.tag===6?(r(w,y.sibling),y=i(y,_),y.return=w,w=y):(r(w,y),y=MN(_,w.mode,S),y.return=w,w=y),a(w)):r(w,y)}return b}var cp=V9(!0),B9=V9(!1),ww=xu(null),_w=null,fh=null,G2=null;function Y2(){G2=fh=_w=null}function X2(t){var e=ww.current;Tr(ww),t._currentValue=e}function tC(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Ah(t,e){_w=t,G2=fh=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(zi=!0),t.firstContext=null)}function Ys(t){var e=t._currentValue;if(G2!==t)if(t={context:t,memoizedValue:e,next:null},fh===null){if(_w===null)throw Error(we(308));fh=t,_w.dependencies={lanes:0,firstContext:t}}else fh=fh.next=t;return e}var ud=null;function Q2(t){ud===null?ud=[t]:ud.push(t)}function U9(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,Q2(e)):(r.next=i.next,i.next=r),e.interleaved=r,Ol(t,n)}function Ol(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var xc=!1;function Z2(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function z9(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function bl(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Wc(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Ft&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Ol(t,r)}return i=n.interleaved,i===null?(e.next=e,Q2(n)):(e.next=i.next,i.next=e),n.interleaved=e,Ol(t,r)}function Cb(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,L2(t,r)}}function cL(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=a:s=s.next=a,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Ew(t,e,r,n){var i=t.updateQueue;xc=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var c=o,u=c.next;c.next=null,a===null?s=u:a.next=u,a=c;var d=t.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==a&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=c))}if(s!==null){var f=i.baseState;a=0,d=u=c=null,o=s;do{var h=o.lane,p=o.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var v=t,m=o;switch(h=e,p=r,m.tag){case 1:if(v=m.payload,typeof v=="function"){f=v.call(p,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=m.payload,h=typeof v=="function"?v.call(p,f,h):v,h==null)break e;f=Vr({},f,h);break e;case 2:xc=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[o]:h.push(o))}else p={eventTime:p,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,a|=h;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;h=o,o=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(c=f),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Wd|=a,t.lanes=a,t.memoizedState=f}}function uL(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(we(191,i));i.call(n)}}}var c0={},vo=xu(c0),Nv=xu(c0),Tv=xu(c0);function dd(t){if(t===c0)throw Error(we(174));return t}function J2(t,e){switch(gr(Tv,e),gr(Nv,t),gr(vo,c0),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Mj(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Mj(e,t)}Tr(vo),gr(vo,e)}function up(){Tr(vo),Tr(Nv),Tr(Tv)}function q9(t){dd(Tv.current);var e=dd(vo.current),r=Mj(e,t.type);e!==r&&(gr(Nv,t),gr(vo,r))}function eR(t){Nv.current===t&&(Tr(vo),Tr(Nv))}var Lr=xu(0);function Sw(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var AN=[];function tR(){for(var t=0;t<AN.length;t++)AN[t]._workInProgressVersionPrimary=null;AN.length=0}var Ab=Yl.ReactCurrentDispatcher,PN=Yl.ReactCurrentBatchConfig,qd=0,Fr=null,yn=null,jn=null,Nw=!1,Wg=!1,jv=0,ase=0;function Jn(){throw Error(we(321))}function rR(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Oa(t[r],e[r]))return!1;return!0}function nR(t,e,r,n,i,s){if(qd=s,Fr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ab.current=t===null||t.memoizedState===null?use:dse,t=r(n,i),Wg){s=0;do{if(Wg=!1,jv=0,25<=s)throw Error(we(301));s+=1,jn=yn=null,e.updateQueue=null,Ab.current=fse,t=r(n,i)}while(Wg)}if(Ab.current=Tw,e=yn!==null&&yn.next!==null,qd=0,jn=yn=Fr=null,Nw=!1,e)throw Error(we(300));return t}function iR(){var t=jv!==0;return jv=0,t}function no(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jn===null?Fr.memoizedState=jn=t:jn=jn.next=t,jn}function Xs(){if(yn===null){var t=Fr.alternate;t=t!==null?t.memoizedState:null}else t=yn.next;var e=jn===null?Fr.memoizedState:jn.next;if(e!==null)jn=e,yn=t;else{if(t===null)throw Error(we(310));yn=t,t={memoizedState:yn.memoizedState,baseState:yn.baseState,baseQueue:yn.baseQueue,queue:yn.queue,next:null},jn===null?Fr.memoizedState=jn=t:jn=jn.next=t}return jn}function Cv(t,e){return typeof e=="function"?e(t):e}function RN(t){var e=Xs(),r=e.queue;if(r===null)throw Error(we(311));r.lastRenderedReducer=t;var n=yn,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var o=a=null,c=null,u=s;do{var d=u.lane;if((qd&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(o=c=f,a=n):c=c.next=f,Fr.lanes|=d,Wd|=d}u=u.next}while(u!==null&&u!==s);c===null?a=n:c.next=o,Oa(n,e.memoizedState)||(zi=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,Fr.lanes|=s,Wd|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function kN(t){var e=Xs(),r=e.queue;if(r===null)throw Error(we(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);Oa(s,e.memoizedState)||(zi=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function W9(){}function H9(t,e){var r=Fr,n=Xs(),i=e(),s=!Oa(n.memoizedState,i);if(s&&(n.memoizedState=i,zi=!0),n=n.queue,sR(Y9.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||jn!==null&&jn.memoizedState.tag&1){if(r.flags|=2048,Av(9,G9.bind(null,r,n,i,e),void 0,null),An===null)throw Error(we(349));qd&30||K9(r,e,i)}return i}function K9(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Fr.updateQueue,e===null?(e={lastEffect:null,stores:null},Fr.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function G9(t,e,r,n){e.value=r,e.getSnapshot=n,X9(e)&&Q9(t)}function Y9(t,e,r){return r(function(){X9(e)&&Q9(t)})}function X9(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Oa(t,r)}catch{return!0}}function Q9(t){var e=Ol(t,1);e!==null&&Aa(e,t,1,-1)}function dL(t){var e=no();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Cv,lastRenderedState:t},e.queue=t,t=t.dispatch=cse.bind(null,Fr,t),[e.memoizedState,t]}function Av(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Fr.updateQueue,e===null?(e={lastEffect:null,stores:null},Fr.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function Z9(){return Xs().memoizedState}function Pb(t,e,r,n){var i=no();Fr.flags|=t,i.memoizedState=Av(1|e,r,void 0,n===void 0?null:n)}function D1(t,e,r,n){var i=Xs();n=n===void 0?null:n;var s=void 0;if(yn!==null){var a=yn.memoizedState;if(s=a.destroy,n!==null&&rR(n,a.deps)){i.memoizedState=Av(e,r,s,n);return}}Fr.flags|=t,i.memoizedState=Av(1|e,r,s,n)}function fL(t,e){return Pb(8390656,8,t,e)}function sR(t,e){return D1(2048,8,t,e)}function J9(t,e){return D1(4,2,t,e)}function ez(t,e){return D1(4,4,t,e)}function tz(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function rz(t,e,r){return r=r!=null?r.concat([t]):null,D1(4,4,tz.bind(null,e,t),r)}function aR(){}function nz(t,e){var r=Xs();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&rR(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function iz(t,e){var r=Xs();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&rR(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function sz(t,e,r){return qd&21?(Oa(r,e)||(r=u9(),Fr.lanes|=r,Wd|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,zi=!0),t.memoizedState=r)}function ose(t,e){var r=rr;rr=r!==0&&4>r?r:4,t(!0);var n=PN.transition;PN.transition={};try{t(!1),e()}finally{rr=r,PN.transition=n}}function az(){return Xs().memoizedState}function lse(t,e,r){var n=Kc(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},oz(t))lz(e,r);else if(r=U9(t,e,r,n),r!==null){var i=Ni();Aa(r,t,n,i),cz(r,e,n)}}function cse(t,e,r){var n=Kc(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(oz(t))lz(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,r);if(i.hasEagerState=!0,i.eagerState=o,Oa(o,a)){var c=e.interleaved;c===null?(i.next=i,Q2(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}r=U9(t,e,i,n),r!==null&&(i=Ni(),Aa(r,t,n,i),cz(r,e,n))}}function oz(t){var e=t.alternate;return t===Fr||e!==null&&e===Fr}function lz(t,e){Wg=Nw=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function cz(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,L2(t,r)}}var Tw={readContext:Ys,useCallback:Jn,useContext:Jn,useEffect:Jn,useImperativeHandle:Jn,useInsertionEffect:Jn,useLayoutEffect:Jn,useMemo:Jn,useReducer:Jn,useRef:Jn,useState:Jn,useDebugValue:Jn,useDeferredValue:Jn,useTransition:Jn,useMutableSource:Jn,useSyncExternalStore:Jn,useId:Jn,unstable_isNewReconciler:!1},use={readContext:Ys,useCallback:function(t,e){return no().memoizedState=[t,e===void 0?null:e],t},useContext:Ys,useEffect:fL,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Pb(4194308,4,tz.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Pb(4194308,4,t,e)},useInsertionEffect:function(t,e){return Pb(4,2,t,e)},useMemo:function(t,e){var r=no();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=no();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=lse.bind(null,Fr,t),[n.memoizedState,t]},useRef:function(t){var e=no();return t={current:t},e.memoizedState=t},useState:dL,useDebugValue:aR,useDeferredValue:function(t){return no().memoizedState=t},useTransition:function(){var t=dL(!1),e=t[0];return t=ose.bind(null,t[1]),no().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Fr,i=no();if(kr){if(r===void 0)throw Error(we(407));r=r()}else{if(r=e(),An===null)throw Error(we(349));qd&30||K9(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,fL(Y9.bind(null,n,s,t),[t]),n.flags|=2048,Av(9,G9.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=no(),e=An.identifierPrefix;if(kr){var r=hl,n=fl;r=(n&~(1<<32-Ca(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=jv++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=ase++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},dse={readContext:Ys,useCallback:nz,useContext:Ys,useEffect:sR,useImperativeHandle:rz,useInsertionEffect:J9,useLayoutEffect:ez,useMemo:iz,useReducer:RN,useRef:Z9,useState:function(){return RN(Cv)},useDebugValue:aR,useDeferredValue:function(t){var e=Xs();return sz(e,yn.memoizedState,t)},useTransition:function(){var t=RN(Cv)[0],e=Xs().memoizedState;return[t,e]},useMutableSource:W9,useSyncExternalStore:H9,useId:az,unstable_isNewReconciler:!1},fse={readContext:Ys,useCallback:nz,useContext:Ys,useEffect:sR,useImperativeHandle:rz,useInsertionEffect:J9,useLayoutEffect:ez,useMemo:iz,useReducer:kN,useRef:Z9,useState:function(){return kN(Cv)},useDebugValue:aR,useDeferredValue:function(t){var e=Xs();return yn===null?e.memoizedState=t:sz(e,yn.memoizedState,t)},useTransition:function(){var t=kN(Cv)[0],e=Xs().memoizedState;return[t,e]},useMutableSource:W9,useSyncExternalStore:H9,useId:az,unstable_isNewReconciler:!1};function ha(t,e){if(t&&t.defaultProps){e=Vr({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function rC(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Vr({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var L1={isMounted:function(t){return(t=t._reactInternals)?gf(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Ni(),i=Kc(t),s=bl(n,i);s.payload=e,r!=null&&(s.callback=r),e=Wc(t,s,i),e!==null&&(Aa(e,t,i,n),Cb(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Ni(),i=Kc(t),s=bl(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=Wc(t,s,i),e!==null&&(Aa(e,t,i,n),Cb(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Ni(),n=Kc(t),i=bl(r,n);i.tag=2,e!=null&&(i.callback=e),e=Wc(t,i,n),e!==null&&(Aa(e,t,n,r),Cb(e,t,n))}};function hL(t,e,r,n,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,a):e.prototype&&e.prototype.isPureReactComponent?!wv(r,n)||!wv(i,s):!0}function uz(t,e,r){var n=!1,i=tu,s=e.contextType;return typeof s=="object"&&s!==null?s=Ys(s):(i=Gi(e)?Ud:ci.current,n=e.contextTypes,s=(n=n!=null)?op(t,i):tu),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=L1,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function pL(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&L1.enqueueReplaceState(e,e.state,null)}function nC(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},Z2(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Ys(s):(s=Gi(e)?Ud:ci.current,i.context=op(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(rC(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&L1.enqueueReplaceState(i,i.state,null),Ew(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function dp(t,e){try{var r="",n=e;do r+=Vne(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function IN(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function iC(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var hse=typeof WeakMap=="function"?WeakMap:Map;function dz(t,e,r){r=bl(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Cw||(Cw=!0,pC=n),iC(t,e)},r}function fz(t,e,r){r=bl(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){iC(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){iC(t,e),typeof n!="function"&&(Hc===null?Hc=new Set([this]):Hc.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function mL(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new hse;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=jse.bind(null,t,e,r),e.then(t,t))}function gL(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function vL(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=bl(-1,1),e.tag=2,Wc(r,e,1))),r.lanes|=1),t)}var pse=Yl.ReactCurrentOwner,zi=!1;function bi(t,e,r,n){e.child=t===null?B9(e,null,r,n):cp(e,t.child,r,n)}function yL(t,e,r,n,i){r=r.render;var s=e.ref;return Ah(e,i),n=nR(t,e,r,n,s,i),r=iR(),t!==null&&!zi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ml(t,e,i)):(kr&&r&&W2(e),e.flags|=1,bi(t,e,n,i),e.child)}function xL(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!pR(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,hz(t,e,s,n,i)):(t=Ob(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(r=r.compare,r=r!==null?r:wv,r(a,n)&&t.ref===e.ref)return Ml(t,e,i)}return e.flags|=1,t=Gc(s,n),t.ref=e.ref,t.return=e,e.child=t}function hz(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(wv(s,n)&&t.ref===e.ref)if(zi=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(zi=!0);else return e.lanes=t.lanes,Ml(t,e,i)}return sC(t,e,r,n,i)}function pz(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},gr(ph,ls),ls|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,gr(ph,ls),ls|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,gr(ph,ls),ls|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,gr(ph,ls),ls|=n;return bi(t,e,i,r),e.child}function mz(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function sC(t,e,r,n,i){var s=Gi(r)?Ud:ci.current;return s=op(e,s),Ah(e,i),r=nR(t,e,r,n,s,i),n=iR(),t!==null&&!zi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ml(t,e,i)):(kr&&n&&W2(e),e.flags|=1,bi(t,e,r,i),e.child)}function bL(t,e,r,n,i){if(Gi(r)){var s=!0;yw(e)}else s=!1;if(Ah(e,i),e.stateNode===null)Rb(t,e),uz(e,r,n),nC(e,r,n,i),n=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var c=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=Ys(u):(u=Gi(r)?Ud:ci.current,u=op(e,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||c!==u)&&pL(e,a,n,u),xc=!1;var h=e.memoizedState;a.state=h,Ew(e,n,a,i),c=e.memoizedState,o!==n||h!==c||Ki.current||xc?(typeof d=="function"&&(rC(e,r,d,n),c=e.memoizedState),(o=xc||hL(e,r,o,n,h,c,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),a.props=n,a.state=c,a.context=u,n=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,z9(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:ha(e.type,o),a.props=u,f=e.pendingProps,h=a.context,c=r.contextType,typeof c=="object"&&c!==null?c=Ys(c):(c=Gi(r)?Ud:ci.current,c=op(e,c));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==f||h!==c)&&pL(e,a,n,c),xc=!1,h=e.memoizedState,a.state=h,Ew(e,n,a,i);var v=e.memoizedState;o!==f||h!==v||Ki.current||xc?(typeof p=="function"&&(rC(e,r,p,n),v=e.memoizedState),(u=xc||hL(e,r,u,n,h,v,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,v,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,v,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=v),a.props=n,a.state=v,a.context=c,n=u):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),n=!1)}return aC(t,e,r,n,s,i)}function aC(t,e,r,n,i,s){mz(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return i&&sL(e,r,!1),Ml(t,e,s);n=e.stateNode,pse.current=e;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=cp(e,t.child,null,s),e.child=cp(e,null,o,s)):bi(t,e,o,s),e.memoizedState=n.state,i&&sL(e,r,!0),e.child}function gz(t){var e=t.stateNode;e.pendingContext?iL(t,e.pendingContext,e.pendingContext!==e.context):e.context&&iL(t,e.context,!1),J2(t,e.containerInfo)}function wL(t,e,r,n,i){return lp(),K2(i),e.flags|=256,bi(t,e,r,n),e.child}var oC={dehydrated:null,treeContext:null,retryLane:0};function lC(t){return{baseLanes:t,cachePool:null,transitions:null}}function vz(t,e,r){var n=e.pendingProps,i=Lr.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),gr(Lr,i&1),t===null)return eC(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,s?(n=e.mode,s=e.child,a={mode:"hidden",children:a},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=V1(a,n,0,null),t=Pd(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=lC(r),e.memoizedState=oC,t):oR(e,a));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return mse(t,e,a,n,o,i,r);if(s){s=n.fallback,a=e.mode,i=t.child,o=i.sibling;var c={mode:"hidden",children:n.children};return!(a&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=Gc(i,c),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=Gc(o,s):(s=Pd(s,a,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,a=t.child.memoizedState,a=a===null?lC(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~r,e.memoizedState=oC,n}return s=t.child,t=s.sibling,n=Gc(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function oR(t,e){return e=V1({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ox(t,e,r,n){return n!==null&&K2(n),cp(e,t.child,null,r),t=oR(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function mse(t,e,r,n,i,s,a){if(r)return e.flags&256?(e.flags&=-257,n=IN(Error(we(422))),Ox(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=V1({mode:"visible",children:n.children},i,0,null),s=Pd(s,i,a,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&cp(e,t.child,null,a),e.child.memoizedState=lC(a),e.memoizedState=oC,s);if(!(e.mode&1))return Ox(t,e,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,s=Error(we(419)),n=IN(s,n,void 0),Ox(t,e,a,n)}if(o=(a&t.childLanes)!==0,zi||o){if(n=An,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ol(t,i),Aa(n,t,i,-1))}return hR(),n=IN(Error(we(421))),Ox(t,e,a,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Cse.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,ms=qc(i.nextSibling),bs=e,kr=!0,ya=null,t!==null&&($s[Fs++]=fl,$s[Fs++]=hl,$s[Fs++]=zd,fl=t.id,hl=t.overflow,zd=e),e=oR(e,n.children),e.flags|=4096,e)}function _L(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),tC(t.return,e,r)}function ON(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function yz(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(bi(t,e,n.children,r),n=Lr.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&_L(t,r,e);else if(t.tag===19)_L(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(gr(Lr,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Sw(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),ON(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Sw(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}ON(e,!0,r,null,s);break;case"together":ON(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Rb(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ml(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Wd|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(we(153));if(e.child!==null){for(t=e.child,r=Gc(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Gc(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function gse(t,e,r){switch(e.tag){case 3:gz(e),lp();break;case 5:q9(e);break;case 1:Gi(e.type)&&yw(e);break;case 4:J2(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;gr(ww,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(gr(Lr,Lr.current&1),e.flags|=128,null):r&e.child.childLanes?vz(t,e,r):(gr(Lr,Lr.current&1),t=Ml(t,e,r),t!==null?t.sibling:null);gr(Lr,Lr.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return yz(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),gr(Lr,Lr.current),n)break;return null;case 22:case 23:return e.lanes=0,pz(t,e,r)}return Ml(t,e,r)}var xz,cC,bz,wz;xz=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};cC=function(){};bz=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,dd(vo.current);var s=null;switch(r){case"input":i=Rj(t,i),n=Rj(t,n),s=[];break;case"select":i=Vr({},i,{value:void 0}),n=Vr({},n,{value:void 0}),s=[];break;case"textarea":i=Oj(t,i),n=Oj(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=gw)}Dj(r,n);var a;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(pv.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var c=n[u];if(o=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&c!==o&&(c!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in c)c.hasOwnProperty(a)&&o[a]!==c[a]&&(r||(r={}),r[a]=c[a])}else r||(s||(s=[]),s.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(pv.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&_r("scroll",t),s||o===c||(s=[])):(s=s||[]).push(u,c))}r&&(s=s||[]).push("style",r);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};wz=function(t,e,r,n){r!==n&&(e.flags|=4)};function Qm(t,e){if(!kr)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function ei(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function vse(t,e,r){var n=e.pendingProps;switch(H2(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ei(e),null;case 1:return Gi(e.type)&&vw(),ei(e),null;case 3:return n=e.stateNode,up(),Tr(Ki),Tr(ci),tR(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(kx(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ya!==null&&(vC(ya),ya=null))),cC(t,e),ei(e),null;case 5:eR(e);var i=dd(Tv.current);if(r=e.type,t!==null&&e.stateNode!=null)bz(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(we(166));return ei(e),null}if(t=dd(vo.current),kx(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[oo]=e,n[Sv]=s,t=(e.mode&1)!==0,r){case"dialog":_r("cancel",n),_r("close",n);break;case"iframe":case"object":case"embed":_r("load",n);break;case"video":case"audio":for(i=0;i<Eg.length;i++)_r(Eg[i],n);break;case"source":_r("error",n);break;case"img":case"image":case"link":_r("error",n),_r("load",n);break;case"details":_r("toggle",n);break;case"input":RD(n,s),_r("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},_r("invalid",n);break;case"textarea":ID(n,s),_r("invalid",n)}Dj(r,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?n.textContent!==o&&(s.suppressHydrationWarning!==!0&&Rx(n.textContent,o,t),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&Rx(n.textContent,o,t),i=["children",""+o]):pv.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&_r("scroll",n)}switch(r){case"input":Ex(n),kD(n,s,!0);break;case"textarea":Ex(n),OD(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=gw)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=YU(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[oo]=e,t[Sv]=n,xz(t,e,!1,!1),e.stateNode=t;e:{switch(a=Lj(r,n),r){case"dialog":_r("cancel",t),_r("close",t),i=n;break;case"iframe":case"object":case"embed":_r("load",t),i=n;break;case"video":case"audio":for(i=0;i<Eg.length;i++)_r(Eg[i],t);i=n;break;case"source":_r("error",t),i=n;break;case"img":case"image":case"link":_r("error",t),_r("load",t),i=n;break;case"details":_r("toggle",t),i=n;break;case"input":RD(t,n),i=Rj(t,n),_r("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=Vr({},n,{value:void 0}),_r("invalid",t);break;case"textarea":ID(t,n),i=Oj(t,n),_r("invalid",t);break;default:i=n}Dj(r,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var c=o[s];s==="style"?ZU(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&XU(t,c)):s==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&mv(t,c):typeof c=="number"&&mv(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(pv.hasOwnProperty(s)?c!=null&&s==="onScroll"&&_r("scroll",t):c!=null&&R2(t,s,c,a))}switch(r){case"input":Ex(t),kD(t,n,!1);break;case"textarea":Ex(t),OD(t);break;case"option":n.value!=null&&t.setAttribute("value",""+eu(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?Nh(t,!!n.multiple,s,!1):n.defaultValue!=null&&Nh(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=gw)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ei(e),null;case 6:if(t&&e.stateNode!=null)wz(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(we(166));if(r=dd(Tv.current),dd(vo.current),kx(e)){if(n=e.stateNode,r=e.memoizedProps,n[oo]=e,(s=n.nodeValue!==r)&&(t=bs,t!==null))switch(t.tag){case 3:Rx(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Rx(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[oo]=e,e.stateNode=n}return ei(e),null;case 13:if(Tr(Lr),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(kr&&ms!==null&&e.mode&1&&!(e.flags&128))F9(),lp(),e.flags|=98560,s=!1;else if(s=kx(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(we(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(we(317));s[oo]=e}else lp(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ei(e),s=!1}else ya!==null&&(vC(ya),ya=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Lr.current&1?bn===0&&(bn=3):hR())),e.updateQueue!==null&&(e.flags|=4),ei(e),null);case 4:return up(),cC(t,e),t===null&&_v(e.stateNode.containerInfo),ei(e),null;case 10:return X2(e.type._context),ei(e),null;case 17:return Gi(e.type)&&vw(),ei(e),null;case 19:if(Tr(Lr),s=e.memoizedState,s===null)return ei(e),null;if(n=(e.flags&128)!==0,a=s.rendering,a===null)if(n)Qm(s,!1);else{if(bn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Sw(t),a!==null){for(e.flags|=128,Qm(s,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return gr(Lr,Lr.current&1|2),e.child}t=t.sibling}s.tail!==null&&sn()>fp&&(e.flags|=128,n=!0,Qm(s,!1),e.lanes=4194304)}else{if(!n)if(t=Sw(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Qm(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!kr)return ei(e),null}else 2*sn()-s.renderingStartTime>fp&&r!==1073741824&&(e.flags|=128,n=!0,Qm(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(r=s.last,r!==null?r.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=sn(),e.sibling=null,r=Lr.current,gr(Lr,n?r&1|2:r&1),e):(ei(e),null);case 22:case 23:return fR(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?ls&1073741824&&(ei(e),e.subtreeFlags&6&&(e.flags|=8192)):ei(e),null;case 24:return null;case 25:return null}throw Error(we(156,e.tag))}function yse(t,e){switch(H2(e),e.tag){case 1:return Gi(e.type)&&vw(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return up(),Tr(Ki),Tr(ci),tR(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return eR(e),null;case 13:if(Tr(Lr),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(we(340));lp()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Tr(Lr),null;case 4:return up(),null;case 10:return X2(e.type._context),null;case 22:case 23:return fR(),null;case 24:return null;default:return null}}var Mx=!1,si=!1,xse=typeof WeakSet=="function"?WeakSet:Set,Fe=null;function hh(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Gr(t,e,n)}else r.current=null}function uC(t,e,r){try{r()}catch(n){Gr(t,e,n)}}var EL=!1;function bse(t,e){if(Kj=hw,t=T9(),q2(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var a=0,o=-1,c=-1,u=0,d=0,f=t,h=null;t:for(;;){for(var p;f!==r||i!==0&&f.nodeType!==3||(o=a+i),f!==s||n!==0&&f.nodeType!==3||(c=a+n),f.nodeType===3&&(a+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===t)break t;if(h===r&&++u===i&&(o=a),h===s&&++d===n&&(c=a),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=o===-1||c===-1?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Gj={focusedElem:t,selectionRange:r},hw=!1,Fe=e;Fe!==null;)if(e=Fe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Fe=t;else for(;Fe!==null;){e=Fe;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var m=v.memoizedProps,b=v.memoizedState,w=e.stateNode,y=w.getSnapshotBeforeUpdate(e.elementType===e.type?m:ha(e.type,m),b);w.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(we(163))}}catch(S){Gr(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,Fe=t;break}Fe=e.return}return v=EL,EL=!1,v}function Hg(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&uC(e,r,s)}i=i.next}while(i!==n)}}function $1(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function dC(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function _z(t){var e=t.alternate;e!==null&&(t.alternate=null,_z(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[oo],delete e[Sv],delete e[Qj],delete e[rse],delete e[nse])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Ez(t){return t.tag===5||t.tag===3||t.tag===4}function SL(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ez(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function fC(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=gw));else if(n!==4&&(t=t.child,t!==null))for(fC(t,e,r),t=t.sibling;t!==null;)fC(t,e,r),t=t.sibling}function hC(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(hC(t,e,r),t=t.sibling;t!==null;)hC(t,e,r),t=t.sibling}var Dn=null,ga=!1;function oc(t,e,r){for(r=r.child;r!==null;)Sz(t,e,r),r=r.sibling}function Sz(t,e,r){if(go&&typeof go.onCommitFiberUnmount=="function")try{go.onCommitFiberUnmount(P1,r)}catch{}switch(r.tag){case 5:si||hh(r,e);case 6:var n=Dn,i=ga;Dn=null,oc(t,e,r),Dn=n,ga=i,Dn!==null&&(ga?(t=Dn,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Dn.removeChild(r.stateNode));break;case 18:Dn!==null&&(ga?(t=Dn,r=r.stateNode,t.nodeType===8?jN(t.parentNode,r):t.nodeType===1&&jN(t,r),xv(t)):jN(Dn,r.stateNode));break;case 4:n=Dn,i=ga,Dn=r.stateNode.containerInfo,ga=!0,oc(t,e,r),Dn=n,ga=i;break;case 0:case 11:case 14:case 15:if(!si&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&uC(r,e,a),i=i.next}while(i!==n)}oc(t,e,r);break;case 1:if(!si&&(hh(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Gr(r,e,o)}oc(t,e,r);break;case 21:oc(t,e,r);break;case 22:r.mode&1?(si=(n=si)||r.memoizedState!==null,oc(t,e,r),si=n):oc(t,e,r);break;default:oc(t,e,r)}}function NL(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new xse),e.forEach(function(n){var i=Ase.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function oa(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:Dn=o.stateNode,ga=!1;break e;case 3:Dn=o.stateNode.containerInfo,ga=!0;break e;case 4:Dn=o.stateNode.containerInfo,ga=!0;break e}o=o.return}if(Dn===null)throw Error(we(160));Sz(s,a,i),Dn=null,ga=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){Gr(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Nz(e,t),e=e.sibling}function Nz(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(oa(e,t),ro(t),n&4){try{Hg(3,t,t.return),$1(3,t)}catch(m){Gr(t,t.return,m)}try{Hg(5,t,t.return)}catch(m){Gr(t,t.return,m)}}break;case 1:oa(e,t),ro(t),n&512&&r!==null&&hh(r,r.return);break;case 5:if(oa(e,t),ro(t),n&512&&r!==null&&hh(r,r.return),t.flags&32){var i=t.stateNode;try{mv(i,"")}catch(m){Gr(t,t.return,m)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=r!==null?r.memoizedProps:s,o=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&KU(i,s),Lj(o,a);var u=Lj(o,s);for(a=0;a<c.length;a+=2){var d=c[a],f=c[a+1];d==="style"?ZU(i,f):d==="dangerouslySetInnerHTML"?XU(i,f):d==="children"?mv(i,f):R2(i,d,f,u)}switch(o){case"input":kj(i,s);break;case"textarea":GU(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?Nh(i,!!s.multiple,p,!1):h!==!!s.multiple&&(s.defaultValue!=null?Nh(i,!!s.multiple,s.defaultValue,!0):Nh(i,!!s.multiple,s.multiple?[]:"",!1))}i[Sv]=s}catch(m){Gr(t,t.return,m)}}break;case 6:if(oa(e,t),ro(t),n&4){if(t.stateNode===null)throw Error(we(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(m){Gr(t,t.return,m)}}break;case 3:if(oa(e,t),ro(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{xv(e.containerInfo)}catch(m){Gr(t,t.return,m)}break;case 4:oa(e,t),ro(t);break;case 13:oa(e,t),ro(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(uR=sn())),n&4&&NL(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(si=(u=si)||d,oa(e,t),si=u):oa(e,t),ro(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(Fe=t,d=t.child;d!==null;){for(f=Fe=d;Fe!==null;){switch(h=Fe,p=h.child,h.tag){case 0:case 11:case 14:case 15:Hg(4,h,h.return);break;case 1:hh(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){n=h,r=h.return;try{e=n,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(m){Gr(n,r,m)}}break;case 5:hh(h,h.return);break;case 22:if(h.memoizedState!==null){jL(f);continue}}p!==null?(p.return=h,Fe=p):jL(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=f.stateNode,c=f.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=QU("display",a))}catch(m){Gr(t,t.return,m)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(m){Gr(t,t.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:oa(e,t),ro(t),n&4&&NL(t);break;case 21:break;default:oa(e,t),ro(t)}}function ro(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(Ez(r)){var n=r;break e}r=r.return}throw Error(we(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(mv(i,""),n.flags&=-33);var s=SL(t);hC(t,s,i);break;case 3:case 4:var a=n.stateNode.containerInfo,o=SL(t);fC(t,o,a);break;default:throw Error(we(161))}}catch(c){Gr(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function wse(t,e,r){Fe=t,Tz(t)}function Tz(t,e,r){for(var n=(t.mode&1)!==0;Fe!==null;){var i=Fe,s=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||Mx;if(!a){var o=i.alternate,c=o!==null&&o.memoizedState!==null||si;o=Mx;var u=si;if(Mx=a,(si=c)&&!u)for(Fe=i;Fe!==null;)a=Fe,c=a.child,a.tag===22&&a.memoizedState!==null?CL(i):c!==null?(c.return=a,Fe=c):CL(i);for(;s!==null;)Fe=s,Tz(s),s=s.sibling;Fe=i,Mx=o,si=u}TL(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Fe=s):TL(t)}}function TL(t){for(;Fe!==null;){var e=Fe;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:si||$1(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!si)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:ha(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&uL(e,s,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}uL(e,a,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&xv(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(we(163))}si||e.flags&512&&dC(e)}catch(h){Gr(e,e.return,h)}}if(e===t){Fe=null;break}if(r=e.sibling,r!==null){r.return=e.return,Fe=r;break}Fe=e.return}}function jL(t){for(;Fe!==null;){var e=Fe;if(e===t){Fe=null;break}var r=e.sibling;if(r!==null){r.return=e.return,Fe=r;break}Fe=e.return}}function CL(t){for(;Fe!==null;){var e=Fe;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{$1(4,e)}catch(c){Gr(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(c){Gr(e,i,c)}}var s=e.return;try{dC(e)}catch(c){Gr(e,s,c)}break;case 5:var a=e.return;try{dC(e)}catch(c){Gr(e,a,c)}}}catch(c){Gr(e,e.return,c)}if(e===t){Fe=null;break}var o=e.sibling;if(o!==null){o.return=e.return,Fe=o;break}Fe=e.return}}var _se=Math.ceil,jw=Yl.ReactCurrentDispatcher,lR=Yl.ReactCurrentOwner,Ks=Yl.ReactCurrentBatchConfig,Ft=0,An=null,hn=null,zn=0,ls=0,ph=xu(0),bn=0,Pv=null,Wd=0,F1=0,cR=0,Kg=null,Bi=null,uR=0,fp=1/0,nl=null,Cw=!1,pC=null,Hc=null,Dx=!1,Fc=null,Aw=0,Gg=0,mC=null,kb=-1,Ib=0;function Ni(){return Ft&6?sn():kb!==-1?kb:kb=sn()}function Kc(t){return t.mode&1?Ft&2&&zn!==0?zn&-zn:sse.transition!==null?(Ib===0&&(Ib=u9()),Ib):(t=rr,t!==0||(t=window.event,t=t===void 0?16:v9(t.type)),t):1}function Aa(t,e,r,n){if(50<Gg)throw Gg=0,mC=null,Error(we(185));a0(t,r,n),(!(Ft&2)||t!==An)&&(t===An&&(!(Ft&2)&&(F1|=r),bn===4&&_c(t,zn)),Yi(t,n),r===1&&Ft===0&&!(e.mode&1)&&(fp=sn()+500,M1&&bu()))}function Yi(t,e){var r=t.callbackNode;sie(t,e);var n=fw(t,t===An?zn:0);if(n===0)r!==null&&LD(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&LD(r),e===1)t.tag===0?ise(AL.bind(null,t)):D9(AL.bind(null,t)),ese(function(){!(Ft&6)&&bu()}),r=null;else{switch(d9(n)){case 1:r=D2;break;case 4:r=l9;break;case 16:r=dw;break;case 536870912:r=c9;break;default:r=dw}r=Oz(r,jz.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function jz(t,e){if(kb=-1,Ib=0,Ft&6)throw Error(we(327));var r=t.callbackNode;if(Ph()&&t.callbackNode!==r)return null;var n=fw(t,t===An?zn:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Pw(t,n);else{e=n;var i=Ft;Ft|=2;var s=Az();(An!==t||zn!==e)&&(nl=null,fp=sn()+500,Ad(t,e));do try{Nse();break}catch(o){Cz(t,o)}while(!0);Y2(),jw.current=s,Ft=i,hn!==null?e=0:(An=null,zn=0,e=bn)}if(e!==0){if(e===2&&(i=Uj(t),i!==0&&(n=i,e=gC(t,i))),e===1)throw r=Pv,Ad(t,0),_c(t,n),Yi(t,sn()),r;if(e===6)_c(t,n);else{if(i=t.current.alternate,!(n&30)&&!Ese(i)&&(e=Pw(t,n),e===2&&(s=Uj(t),s!==0&&(n=s,e=gC(t,s))),e===1))throw r=Pv,Ad(t,0),_c(t,n),Yi(t,sn()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(we(345));case 2:Ju(t,Bi,nl);break;case 3:if(_c(t,n),(n&130023424)===n&&(e=uR+500-sn(),10<e)){if(fw(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Ni(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Xj(Ju.bind(null,t,Bi,nl),e);break}Ju(t,Bi,nl);break;case 4:if(_c(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var a=31-Ca(n);s=1<<a,a=e[a],a>i&&(i=a),n&=~s}if(n=i,n=sn()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*_se(n/1960))-n,10<n){t.timeoutHandle=Xj(Ju.bind(null,t,Bi,nl),n);break}Ju(t,Bi,nl);break;case 5:Ju(t,Bi,nl);break;default:throw Error(we(329))}}}return Yi(t,sn()),t.callbackNode===r?jz.bind(null,t):null}function gC(t,e){var r=Kg;return t.current.memoizedState.isDehydrated&&(Ad(t,e).flags|=256),t=Pw(t,e),t!==2&&(e=Bi,Bi=r,e!==null&&vC(e)),t}function vC(t){Bi===null?Bi=t:Bi.push.apply(Bi,t)}function Ese(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!Oa(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function _c(t,e){for(e&=~cR,e&=~F1,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Ca(e),n=1<<r;t[r]=-1,e&=~n}}function AL(t){if(Ft&6)throw Error(we(327));Ph();var e=fw(t,0);if(!(e&1))return Yi(t,sn()),null;var r=Pw(t,e);if(t.tag!==0&&r===2){var n=Uj(t);n!==0&&(e=n,r=gC(t,n))}if(r===1)throw r=Pv,Ad(t,0),_c(t,e),Yi(t,sn()),r;if(r===6)throw Error(we(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ju(t,Bi,nl),Yi(t,sn()),null}function dR(t,e){var r=Ft;Ft|=1;try{return t(e)}finally{Ft=r,Ft===0&&(fp=sn()+500,M1&&bu())}}function Hd(t){Fc!==null&&Fc.tag===0&&!(Ft&6)&&Ph();var e=Ft;Ft|=1;var r=Ks.transition,n=rr;try{if(Ks.transition=null,rr=1,t)return t()}finally{rr=n,Ks.transition=r,Ft=e,!(Ft&6)&&bu()}}function fR(){ls=ph.current,Tr(ph)}function Ad(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,Jie(r)),hn!==null)for(r=hn.return;r!==null;){var n=r;switch(H2(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&vw();break;case 3:up(),Tr(Ki),Tr(ci),tR();break;case 5:eR(n);break;case 4:up();break;case 13:Tr(Lr);break;case 19:Tr(Lr);break;case 10:X2(n.type._context);break;case 22:case 23:fR()}r=r.return}if(An=t,hn=t=Gc(t.current,null),zn=ls=e,bn=0,Pv=null,cR=F1=Wd=0,Bi=Kg=null,ud!==null){for(e=0;e<ud.length;e++)if(r=ud[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var a=s.next;s.next=i,n.next=a}r.pending=n}ud=null}return t}function Cz(t,e){do{var r=hn;try{if(Y2(),Ab.current=Tw,Nw){for(var n=Fr.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Nw=!1}if(qd=0,jn=yn=Fr=null,Wg=!1,jv=0,lR.current=null,r===null||r.return===null){bn=1,Pv=e,hn=null;break}e:{var s=t,a=r.return,o=r,c=e;if(e=zn,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=o,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=gL(a);if(p!==null){p.flags&=-257,vL(p,a,o,s,e),p.mode&1&&mL(s,u,e),e=p,c=u;var v=e.updateQueue;if(v===null){var m=new Set;m.add(c),e.updateQueue=m}else v.add(c);break e}else{if(!(e&1)){mL(s,u,e),hR();break e}c=Error(we(426))}}else if(kr&&o.mode&1){var b=gL(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),vL(b,a,o,s,e),K2(dp(c,o));break e}}s=c=dp(c,o),bn!==4&&(bn=2),Kg===null?Kg=[s]:Kg.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var w=dz(s,c,e);cL(s,w);break e;case 1:o=c;var y=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Hc===null||!Hc.has(_)))){s.flags|=65536,e&=-e,s.lanes|=e;var S=fz(s,o,e);cL(s,S);break e}}s=s.return}while(s!==null)}Rz(r)}catch(E){e=E,hn===r&&r!==null&&(hn=r=r.return);continue}break}while(!0)}function Az(){var t=jw.current;return jw.current=Tw,t===null?Tw:t}function hR(){(bn===0||bn===3||bn===2)&&(bn=4),An===null||!(Wd&268435455)&&!(F1&268435455)||_c(An,zn)}function Pw(t,e){var r=Ft;Ft|=2;var n=Az();(An!==t||zn!==e)&&(nl=null,Ad(t,e));do try{Sse();break}catch(i){Cz(t,i)}while(!0);if(Y2(),Ft=r,jw.current=n,hn!==null)throw Error(we(261));return An=null,zn=0,bn}function Sse(){for(;hn!==null;)Pz(hn)}function Nse(){for(;hn!==null&&!Xne();)Pz(hn)}function Pz(t){var e=Iz(t.alternate,t,ls);t.memoizedProps=t.pendingProps,e===null?Rz(t):hn=e,lR.current=null}function Rz(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=yse(r,e),r!==null){r.flags&=32767,hn=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{bn=6,hn=null;return}}else if(r=vse(r,e,ls),r!==null){hn=r;return}if(e=e.sibling,e!==null){hn=e;return}hn=e=t}while(e!==null);bn===0&&(bn=5)}function Ju(t,e,r){var n=rr,i=Ks.transition;try{Ks.transition=null,rr=1,Tse(t,e,r,n)}finally{Ks.transition=i,rr=n}return null}function Tse(t,e,r,n){do Ph();while(Fc!==null);if(Ft&6)throw Error(we(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(we(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(aie(t,s),t===An&&(hn=An=null,zn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Dx||(Dx=!0,Oz(dw,function(){return Ph(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Ks.transition,Ks.transition=null;var a=rr;rr=1;var o=Ft;Ft|=4,lR.current=null,bse(t,r),Nz(r,t),Hie(Gj),hw=!!Kj,Gj=Kj=null,t.current=r,wse(r),Qne(),Ft=o,rr=a,Ks.transition=s}else t.current=r;if(Dx&&(Dx=!1,Fc=t,Aw=i),s=t.pendingLanes,s===0&&(Hc=null),eie(r.stateNode),Yi(t,sn()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Cw)throw Cw=!1,t=pC,pC=null,t;return Aw&1&&t.tag!==0&&Ph(),s=t.pendingLanes,s&1?t===mC?Gg++:(Gg=0,mC=t):Gg=0,bu(),null}function Ph(){if(Fc!==null){var t=d9(Aw),e=Ks.transition,r=rr;try{if(Ks.transition=null,rr=16>t?16:t,Fc===null)var n=!1;else{if(t=Fc,Fc=null,Aw=0,Ft&6)throw Error(we(331));var i=Ft;for(Ft|=4,Fe=t.current;Fe!==null;){var s=Fe,a=s.child;if(Fe.flags&16){var o=s.deletions;if(o!==null){for(var c=0;c<o.length;c++){var u=o[c];for(Fe=u;Fe!==null;){var d=Fe;switch(d.tag){case 0:case 11:case 15:Hg(8,d,s)}var f=d.child;if(f!==null)f.return=d,Fe=f;else for(;Fe!==null;){d=Fe;var h=d.sibling,p=d.return;if(_z(d),d===u){Fe=null;break}if(h!==null){h.return=p,Fe=h;break}Fe=p}}}var v=s.alternate;if(v!==null){var m=v.child;if(m!==null){v.child=null;do{var b=m.sibling;m.sibling=null,m=b}while(m!==null)}}Fe=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,Fe=a;else e:for(;Fe!==null;){if(s=Fe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Hg(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,Fe=w;break e}Fe=s.return}}var y=t.current;for(Fe=y;Fe!==null;){a=Fe;var _=a.child;if(a.subtreeFlags&2064&&_!==null)_.return=a,Fe=_;else e:for(a=y;Fe!==null;){if(o=Fe,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:$1(9,o)}}catch(E){Gr(o,o.return,E)}if(o===a){Fe=null;break e}var S=o.sibling;if(S!==null){S.return=o.return,Fe=S;break e}Fe=o.return}}if(Ft=i,bu(),go&&typeof go.onPostCommitFiberRoot=="function")try{go.onPostCommitFiberRoot(P1,t)}catch{}n=!0}return n}finally{rr=r,Ks.transition=e}}return!1}function PL(t,e,r){e=dp(r,e),e=dz(t,e,1),t=Wc(t,e,1),e=Ni(),t!==null&&(a0(t,1,e),Yi(t,e))}function Gr(t,e,r){if(t.tag===3)PL(t,t,r);else for(;e!==null;){if(e.tag===3){PL(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Hc===null||!Hc.has(n))){t=dp(r,t),t=fz(e,t,1),e=Wc(e,t,1),t=Ni(),e!==null&&(a0(e,1,t),Yi(e,t));break}}e=e.return}}function jse(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Ni(),t.pingedLanes|=t.suspendedLanes&r,An===t&&(zn&r)===r&&(bn===4||bn===3&&(zn&130023424)===zn&&500>sn()-uR?Ad(t,0):cR|=r),Yi(t,e)}function kz(t,e){e===0&&(t.mode&1?(e=Tx,Tx<<=1,!(Tx&130023424)&&(Tx=4194304)):e=1);var r=Ni();t=Ol(t,e),t!==null&&(a0(t,e,r),Yi(t,r))}function Cse(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),kz(t,r)}function Ase(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(we(314))}n!==null&&n.delete(e),kz(t,r)}var Iz;Iz=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ki.current)zi=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return zi=!1,gse(t,e,r);zi=!!(t.flags&131072)}else zi=!1,kr&&e.flags&1048576&&L9(e,bw,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Rb(t,e),t=e.pendingProps;var i=op(e,ci.current);Ah(e,r),i=nR(null,e,n,t,i,r);var s=iR();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Gi(n)?(s=!0,yw(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Z2(e),i.updater=L1,e.stateNode=i,i._reactInternals=e,nC(e,n,t,r),e=aC(null,e,n,!0,s,r)):(e.tag=0,kr&&s&&W2(e),bi(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Rb(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=Rse(n),t=ha(n,t),i){case 0:e=sC(null,e,n,t,r);break e;case 1:e=bL(null,e,n,t,r);break e;case 11:e=yL(null,e,n,t,r);break e;case 14:e=xL(null,e,n,ha(n.type,t),r);break e}throw Error(we(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ha(n,i),sC(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ha(n,i),bL(t,e,n,i,r);case 3:e:{if(gz(e),t===null)throw Error(we(387));n=e.pendingProps,s=e.memoizedState,i=s.element,z9(t,e),Ew(e,n,null,r);var a=e.memoizedState;if(n=a.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=dp(Error(we(423)),e),e=wL(t,e,n,r,i);break e}else if(n!==i){i=dp(Error(we(424)),e),e=wL(t,e,n,r,i);break e}else for(ms=qc(e.stateNode.containerInfo.firstChild),bs=e,kr=!0,ya=null,r=B9(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(lp(),n===i){e=Ml(t,e,r);break e}bi(t,e,n,r)}e=e.child}return e;case 5:return q9(e),t===null&&eC(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,Yj(n,i)?a=null:s!==null&&Yj(n,s)&&(e.flags|=32),mz(t,e),bi(t,e,a,r),e.child;case 6:return t===null&&eC(e),null;case 13:return vz(t,e,r);case 4:return J2(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=cp(e,null,n,r):bi(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ha(n,i),yL(t,e,n,i,r);case 7:return bi(t,e,e.pendingProps,r),e.child;case 8:return bi(t,e,e.pendingProps.children,r),e.child;case 12:return bi(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,gr(ww,n._currentValue),n._currentValue=a,s!==null)if(Oa(s.value,a)){if(s.children===i.children&&!Ki.current){e=Ml(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var c=o.firstContext;c!==null;){if(c.context===n){if(s.tag===1){c=bl(-1,r&-r),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),tC(s.return,r,e),o.lanes|=r;break}c=c.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(we(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),tC(a,r,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}bi(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Ah(e,r),i=Ys(i),n=n(i),e.flags|=1,bi(t,e,n,r),e.child;case 14:return n=e.type,i=ha(n,e.pendingProps),i=ha(n.type,i),xL(t,e,n,i,r);case 15:return hz(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ha(n,i),Rb(t,e),e.tag=1,Gi(n)?(t=!0,yw(e)):t=!1,Ah(e,r),uz(e,n,i),nC(e,n,i,r),aC(null,e,n,!0,t,r);case 19:return yz(t,e,r);case 22:return pz(t,e,r)}throw Error(we(156,e.tag))};function Oz(t,e){return o9(t,e)}function Pse(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zs(t,e,r,n){return new Pse(t,e,r,n)}function pR(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Rse(t){if(typeof t=="function")return pR(t)?1:0;if(t!=null){if(t=t.$$typeof,t===I2)return 11;if(t===O2)return 14}return 2}function Gc(t,e){var r=t.alternate;return r===null?(r=zs(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Ob(t,e,r,n,i,s){var a=2;if(n=t,typeof t=="function")pR(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case ih:return Pd(r.children,i,s,e);case k2:a=8,i|=8;break;case jj:return t=zs(12,r,e,i|2),t.elementType=jj,t.lanes=s,t;case Cj:return t=zs(13,r,e,i),t.elementType=Cj,t.lanes=s,t;case Aj:return t=zs(19,r,e,i),t.elementType=Aj,t.lanes=s,t;case qU:return V1(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case UU:a=10;break e;case zU:a=9;break e;case I2:a=11;break e;case O2:a=14;break e;case yc:a=16,n=null;break e}throw Error(we(130,t==null?t:typeof t,""))}return e=zs(a,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function Pd(t,e,r,n){return t=zs(7,t,n,e),t.lanes=r,t}function V1(t,e,r,n){return t=zs(22,t,n,e),t.elementType=qU,t.lanes=r,t.stateNode={isHidden:!1},t}function MN(t,e,r){return t=zs(6,t,null,e),t.lanes=r,t}function DN(t,e,r){return e=zs(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function kse(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gN(0),this.expirationTimes=gN(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gN(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function mR(t,e,r,n,i,s,a,o,c){return t=new kse(t,e,r,o,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=zs(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Z2(s),t}function Ise(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:nh,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function Mz(t){if(!t)return tu;t=t._reactInternals;e:{if(gf(t)!==t||t.tag!==1)throw Error(we(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Gi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(we(171))}if(t.tag===1){var r=t.type;if(Gi(r))return M9(t,r,e)}return e}function Dz(t,e,r,n,i,s,a,o,c){return t=mR(r,n,!0,t,i,s,a,o,c),t.context=Mz(null),r=t.current,n=Ni(),i=Kc(r),s=bl(n,i),s.callback=e??null,Wc(r,s,i),t.current.lanes=i,a0(t,i,n),Yi(t,n),t}function B1(t,e,r,n){var i=e.current,s=Ni(),a=Kc(i);return r=Mz(r),e.context===null?e.context=r:e.pendingContext=r,e=bl(s,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Wc(i,e,a),t!==null&&(Aa(t,i,a,s),Cb(t,i,a)),a}function Rw(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function RL(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function gR(t,e){RL(t,e),(t=t.alternate)&&RL(t,e)}function Ose(){return null}var Lz=typeof reportError=="function"?reportError:function(t){console.error(t)};function vR(t){this._internalRoot=t}U1.prototype.render=vR.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(we(409));B1(t,e,null,null)};U1.prototype.unmount=vR.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Hd(function(){B1(null,t,null,null)}),e[Il]=null}};function U1(t){this._internalRoot=t}U1.prototype.unstable_scheduleHydration=function(t){if(t){var e=p9();t={blockedOn:null,target:t,priority:e};for(var r=0;r<wc.length&&e!==0&&e<wc[r].priority;r++);wc.splice(r,0,t),r===0&&g9(t)}};function yR(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function z1(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function kL(){}function Mse(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var u=Rw(a);s.call(u)}}var a=Dz(e,n,t,0,null,!1,!1,"",kL);return t._reactRootContainer=a,t[Il]=a.current,_v(t.nodeType===8?t.parentNode:t),Hd(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var u=Rw(c);o.call(u)}}var c=mR(t,0,!1,null,null,!1,!1,"",kL);return t._reactRootContainer=c,t[Il]=c.current,_v(t.nodeType===8?t.parentNode:t),Hd(function(){B1(e,c,r,n)}),c}function q1(t,e,r,n,i){var s=r._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var c=Rw(a);o.call(c)}}B1(e,a,t,i)}else a=Mse(r,e,t,i,n);return Rw(a)}f9=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=_g(e.pendingLanes);r!==0&&(L2(e,r|1),Yi(e,sn()),!(Ft&6)&&(fp=sn()+500,bu()))}break;case 13:Hd(function(){var n=Ol(t,1);if(n!==null){var i=Ni();Aa(n,t,1,i)}}),gR(t,1)}};$2=function(t){if(t.tag===13){var e=Ol(t,134217728);if(e!==null){var r=Ni();Aa(e,t,134217728,r)}gR(t,134217728)}};h9=function(t){if(t.tag===13){var e=Kc(t),r=Ol(t,e);if(r!==null){var n=Ni();Aa(r,t,e,n)}gR(t,e)}};p9=function(){return rr};m9=function(t,e){var r=rr;try{return rr=t,e()}finally{rr=r}};Fj=function(t,e,r){switch(e){case"input":if(kj(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=O1(n);if(!i)throw Error(we(90));HU(n),kj(n,i)}}}break;case"textarea":GU(t,r);break;case"select":e=r.value,e!=null&&Nh(t,!!r.multiple,e,!1)}};t9=dR;r9=Hd;var Dse={usingClientEntryPoint:!1,Events:[l0,lh,O1,JU,e9,dR]},Zm={findFiberByHostInstance:cd,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Lse={bundleType:Zm.bundleType,version:Zm.version,rendererPackageName:Zm.rendererPackageName,rendererConfig:Zm.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Yl.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=s9(t),t===null?null:t.stateNode},findFiberByHostInstance:Zm.findFiberByHostInstance||Ose,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lx=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lx.isDisabled&&Lx.supportsFiber)try{P1=Lx.inject(Lse),go=Lx}catch{}}js.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Dse;js.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!yR(e))throw Error(we(200));return Ise(t,e,null,r)};js.createRoot=function(t,e){if(!yR(t))throw Error(we(299));var r=!1,n="",i=Lz;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=mR(t,1,!1,null,null,r,!1,n,i),t[Il]=e.current,_v(t.nodeType===8?t.parentNode:t),new vR(e)};js.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(we(188)):(t=Object.keys(t).join(","),Error(we(268,t)));return t=s9(e),t=t===null?null:t.stateNode,t};js.flushSync=function(t){return Hd(t)};js.hydrate=function(t,e,r){if(!z1(e))throw Error(we(200));return q1(null,t,e,!0,r)};js.hydrateRoot=function(t,e,r){if(!yR(t))throw Error(we(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",a=Lz;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=Dz(e,null,t,1,r??null,i,!1,s,a),t[Il]=e.current,_v(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new U1(e)};js.render=function(t,e,r){if(!z1(e))throw Error(we(200));return q1(null,t,e,!1,r)};js.unmountComponentAtNode=function(t){if(!z1(t))throw Error(we(40));return t._reactRootContainer?(Hd(function(){q1(null,null,t,!1,function(){t._reactRootContainer=null,t[Il]=null})}),!0):!1};js.unstable_batchedUpdates=dR;js.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!z1(r))throw Error(we(200));if(t==null||t._reactInternals===void 0)throw Error(we(38));return q1(t,e,r,!1,n)};js.version="18.3.1-next-f1338f8080-20240426";function $z(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($z)}catch(t){console.error(t)}}$z(),$U.exports=js;var Bo=$U.exports;const W1=ir(Bo);var Fz,IL=Bo;Fz=IL.createRoot,IL.hydrateRoot;const $se=1,Fse=1e6;let LN=0;function Vse(){return LN=(LN+1)%Number.MAX_SAFE_INTEGER,LN.toString()}const $N=new Map,OL=t=>{if($N.has(t))return;const e=setTimeout(()=>{$N.delete(t),Yg({type:"REMOVE_TOAST",toastId:t})},Fse);$N.set(t,e)},Bse=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,$se)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?OL(r):t.toasts.forEach(n=>{OL(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},Mb=[];let Db={toasts:[]};function Yg(t){Db=Bse(Db,t),Mb.forEach(e=>{e(Db)})}function Use({...t}){const e=Vse(),r=i=>Yg({type:"UPDATE_TOAST",toast:{...i,id:e}}),n=()=>Yg({type:"DISMISS_TOAST",toastId:e});return Yg({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||n()}}}),{id:e,dismiss:n,update:r}}function qa(){const[t,e]=g.useState(Db);return g.useEffect(()=>(Mb.push(e),()=>{const r=Mb.indexOf(e);r>-1&&Mb.splice(r,1)}),[t]),{...t,toast:Use,dismiss:r=>Yg({type:"DISMISS_TOAST",toastId:r})}}function Se(t,e,{checkForDefaultPrevented:r=!0}={}){return function(i){if(t==null||t(i),r===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function ML(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Io(...t){return e=>{let r=!1;const n=t.map(i=>{const s=ML(i,e);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let i=0;i<n.length;i++){const s=n[i];typeof s=="function"?s():ML(t[i],null)}}}}function rt(...t){return g.useCallback(Io(...t),t)}function zse(t,e){const r=g.createContext(e),n=s=>{const{children:a,...o}=s,c=g.useMemo(()=>o,Object.values(o));return l.jsx(r.Provider,{value:c,children:a})};n.displayName=t+"Provider";function i(s){const a=g.useContext(r);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[n,i]}function fi(t,e=[]){let r=[];function n(s,a){const o=g.createContext(a),c=r.length;r=[...r,a];const u=f=>{var w;const{scope:h,children:p,...v}=f,m=((w=h==null?void 0:h[t])==null?void 0:w[c])||o,b=g.useMemo(()=>v,Object.values(v));return l.jsx(m.Provider,{value:b,children:p})};u.displayName=s+"Provider";function d(f,h){var m;const p=((m=h==null?void 0:h[t])==null?void 0:m[c])||o,v=g.useContext(p);if(v)return v;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,d]}const i=()=>{const s=r.map(a=>g.createContext(a));return function(o){const c=(o==null?void 0:o[t])||s;return g.useMemo(()=>({[`__scope${t}`]:{...o,[t]:c}}),[o,c])}};return i.scopeName=t,[n,qse(i,...e)]}function qse(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=n.reduce((o,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...o,...f}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return r.scopeName=e.scopeName,r}function hp(t){const e=Wse(t),r=g.forwardRef((n,i)=>{const{children:s,...a}=n,o=g.Children.toArray(s),c=o.find(Hse);if(c){const u=c.props.children,d=o.map(f=>f===c?g.Children.count(u)>1?g.Children.only(null):g.isValidElement(u)?u.props.children:null:f);return l.jsx(e,{...a,ref:i,children:g.isValidElement(u)?g.cloneElement(u,void 0,d):null})}return l.jsx(e,{...a,ref:i,children:s})});return r.displayName=`${t}.Slot`,r}var Vz=hp("Slot");function Wse(t){const e=g.forwardRef((r,n)=>{const{children:i,...s}=r,a=g.isValidElement(i)?Gse(i):void 0,o=rt(a,n);if(g.isValidElement(i)){const c=Kse(s,i.props);return i.type!==g.Fragment&&(c.ref=o),g.cloneElement(i,c)}return g.Children.count(i)>1?g.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Bz=Symbol("radix.slottable");function Uz(t){const e=({children:r})=>l.jsx(l.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=Bz,e}function Hse(t){return g.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Bz}function Kse(t,e){const r={...e};for(const n in e){const i=t[n],s=e[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...o)=>{const c=s(...o);return i(...o),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...t,...r}}function Gse(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function xR(t){const e=t+"CollectionProvider",[r,n]=fi(e),[i,s]=r(e,{collectionRef:{current:null},itemMap:new Map}),a=m=>{const{scope:b,children:w}=m,y=B.useRef(null),_=B.useRef(new Map).current;return l.jsx(i,{scope:b,itemMap:_,collectionRef:y,children:w})};a.displayName=e;const o=t+"CollectionSlot",c=hp(o),u=B.forwardRef((m,b)=>{const{scope:w,children:y}=m,_=s(o,w),S=rt(b,_.collectionRef);return l.jsx(c,{ref:S,children:y})});u.displayName=o;const d=t+"CollectionItemSlot",f="data-radix-collection-item",h=hp(d),p=B.forwardRef((m,b)=>{const{scope:w,children:y,..._}=m,S=B.useRef(null),E=rt(b,S),N=s(d,w);return B.useEffect(()=>(N.itemMap.set(S,{ref:S,..._}),()=>void N.itemMap.delete(S))),l.jsx(h,{[f]:"",ref:E,children:y})});p.displayName=d;function v(m){const b=s(t+"CollectionConsumer",m);return B.useCallback(()=>{const y=b.collectionRef.current;if(!y)return[];const _=Array.from(y.querySelectorAll(`[${f}]`));return Array.from(b.itemMap.values()).sort((N,T)=>_.indexOf(N.ref.current)-_.indexOf(T.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:a,Slot:u,ItemSlot:p},v,n]}var Yse=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ht=Yse.reduce((t,e)=>{const r=hp(`Primitive.${e}`),n=g.forwardRef((i,s)=>{const{asChild:a,...o}=i,c=a?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(c,{...o,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function bR(t,e){t&&Bo.flushSync(()=>t.dispatchEvent(e))}function Or(t){const e=g.useRef(t);return g.useEffect(()=>{e.current=t}),g.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}function wR(t,e=globalThis==null?void 0:globalThis.document){const r=Or(t);g.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var Xse="DismissableLayer",yC="dismissableLayer.update",Qse="dismissableLayer.pointerDownOutside",Zse="dismissableLayer.focusOutside",DL,zz=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),u0=g.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:a,onDismiss:o,...c}=t,u=g.useContext(zz),[d,f]=g.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=g.useState({}),v=rt(e,T=>f(T)),m=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),w=m.indexOf(b),y=d?m.indexOf(d):-1,_=u.layersWithOutsidePointerEventsDisabled.size>0,S=y>=w,E=eae(T=>{const j=T.target,A=[...u.branches].some(R=>R.contains(j));!S||A||(i==null||i(T),a==null||a(T),T.defaultPrevented||o==null||o())},h),N=tae(T=>{const j=T.target;[...u.branches].some(R=>R.contains(j))||(s==null||s(T),a==null||a(T),T.defaultPrevented||o==null||o())},h);return wR(T=>{y===u.layers.size-1&&(n==null||n(T),!T.defaultPrevented&&o&&(T.preventDefault(),o()))},h),g.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(DL=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),LL(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=DL)}},[d,h,r,u]),g.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),LL())},[d,u]),g.useEffect(()=>{const T=()=>p({});return document.addEventListener(yC,T),()=>document.removeEventListener(yC,T)},[]),l.jsx(ht.div,{...c,ref:v,style:{pointerEvents:_?S?"auto":"none":void 0,...t.style},onFocusCapture:Se(t.onFocusCapture,N.onFocusCapture),onBlurCapture:Se(t.onBlurCapture,N.onBlurCapture),onPointerDownCapture:Se(t.onPointerDownCapture,E.onPointerDownCapture)})});u0.displayName=Xse;var Jse="DismissableLayerBranch",qz=g.forwardRef((t,e)=>{const r=g.useContext(zz),n=g.useRef(null),i=rt(e,n);return g.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),l.jsx(ht.div,{...t,ref:i})});qz.displayName=Jse;function eae(t,e=globalThis==null?void 0:globalThis.document){const r=Or(t),n=g.useRef(!1),i=g.useRef(()=>{});return g.useEffect(()=>{const s=o=>{if(o.target&&!n.current){let c=function(){Wz(Qse,r,u,{discrete:!0})};const u={originalEvent:o};o.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}else e.removeEventListener("click",i.current);n.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function tae(t,e=globalThis==null?void 0:globalThis.document){const r=Or(t),n=g.useRef(!1);return g.useEffect(()=>{const i=s=>{s.target&&!n.current&&Wz(Zse,r,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function LL(){const t=new CustomEvent(yC);document.dispatchEvent(t)}function Wz(t,e,r,{discrete:n}){const i=r.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?bR(i,s):i.dispatchEvent(s)}var rae=u0,nae=qz,Br=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{},iae="Portal",H1=g.forwardRef((t,e)=>{var o;const{container:r,...n}=t,[i,s]=g.useState(!1);Br(()=>s(!0),[]);const a=r||i&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return a?W1.createPortal(l.jsx(ht.div,{...n,ref:e}),a):null});H1.displayName=iae;function sae(t,e){return g.useReducer((r,n)=>e[r][n]??r,t)}var Zi=t=>{const{present:e,children:r}=t,n=aae(e),i=typeof r=="function"?r({present:n.isPresent}):g.Children.only(r),s=rt(n.ref,oae(i));return typeof r=="function"||n.isPresent?g.cloneElement(i,{ref:s}):null};Zi.displayName="Presence";function aae(t){const[e,r]=g.useState(),n=g.useRef(null),i=g.useRef(t),s=g.useRef("none"),a=t?"mounted":"unmounted",[o,c]=sae(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const u=$x(n.current);s.current=o==="mounted"?u:"none"},[o]),Br(()=>{const u=n.current,d=i.current;if(d!==t){const h=s.current,p=$x(u);t?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,c]),Br(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,f=p=>{const m=$x(n.current).includes(p.animationName);if(p.target===e&&m&&(c("ANIMATION_END"),!i.current)){const b=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=b)})}},h=p=>{p.target===e&&(s.current=$x(n.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:g.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function $x(t){return(t==null?void 0:t.animationName)||"none"}function oae(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var lae=DU[" useInsertionEffect ".trim().toString()]||Br;function Dl({prop:t,defaultProp:e,onChange:r=()=>{},caller:n}){const[i,s,a]=cae({defaultProp:e,onChange:r}),o=t!==void 0,c=o?t:i;{const d=g.useRef(t!==void 0);g.useEffect(()=>{const f=d.current;f!==o&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=o},[o,n])}const u=g.useCallback(d=>{var f;if(o){const h=uae(d)?d(t):d;h!==t&&((f=a.current)==null||f.call(a,h))}else s(d)},[o,t,s,a]);return[c,u]}function cae({defaultProp:t,onChange:e}){const[r,n]=g.useState(t),i=g.useRef(r),s=g.useRef(e);return lae(()=>{s.current=e},[e]),g.useEffect(()=>{var a;i.current!==r&&((a=s.current)==null||a.call(s,r),i.current=r)},[r,i]),[r,n,s]}function uae(t){return typeof t=="function"}var dae=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),fae="VisuallyHidden",K1=g.forwardRef((t,e)=>l.jsx(ht.span,{...t,ref:e,style:{...dae,...t.style}}));K1.displayName=fae;var hae=K1,_R="ToastProvider",[ER,pae,mae]=xR("Toast"),[Hz,tet]=fi("Toast",[mae]),[gae,G1]=Hz(_R),Kz=t=>{const{__scopeToast:e,label:r="Notification",duration:n=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:a}=t,[o,c]=g.useState(null),[u,d]=g.useState(0),f=g.useRef(!1),h=g.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${_R}\`. Expected non-empty \`string\`.`),l.jsx(ER.Provider,{scope:e,children:l.jsx(gae,{scope:e,label:r,duration:n,swipeDirection:i,swipeThreshold:s,toastCount:u,viewport:o,onViewportChange:c,onToastAdd:g.useCallback(()=>d(p=>p+1),[]),onToastRemove:g.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:a})})};Kz.displayName=_R;var Gz="ToastViewport",vae=["F8"],xC="toast.viewportPause",bC="toast.viewportResume",Yz=g.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:n=vae,label:i="Notifications ({hotkey})",...s}=t,a=G1(Gz,r),o=pae(r),c=g.useRef(null),u=g.useRef(null),d=g.useRef(null),f=g.useRef(null),h=rt(e,f,a.onViewportChange),p=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=a.toastCount>0;g.useEffect(()=>{const b=w=>{var _;n.length!==0&&n.every(S=>w[S]||w.code===S)&&((_=f.current)==null||_.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[n]),g.useEffect(()=>{const b=c.current,w=f.current;if(v&&b&&w){const y=()=>{if(!a.isClosePausedRef.current){const N=new CustomEvent(xC);w.dispatchEvent(N),a.isClosePausedRef.current=!0}},_=()=>{if(a.isClosePausedRef.current){const N=new CustomEvent(bC);w.dispatchEvent(N),a.isClosePausedRef.current=!1}},S=N=>{!b.contains(N.relatedTarget)&&_()},E=()=>{b.contains(document.activeElement)||_()};return b.addEventListener("focusin",y),b.addEventListener("focusout",S),b.addEventListener("pointermove",y),b.addEventListener("pointerleave",E),window.addEventListener("blur",y),window.addEventListener("focus",_),()=>{b.removeEventListener("focusin",y),b.removeEventListener("focusout",S),b.removeEventListener("pointermove",y),b.removeEventListener("pointerleave",E),window.removeEventListener("blur",y),window.removeEventListener("focus",_)}}},[v,a.isClosePausedRef]);const m=g.useCallback(({tabbingDirection:b})=>{const y=o().map(_=>{const S=_.ref.current,E=[S,...Pae(S)];return b==="forwards"?E:E.reverse()});return(b==="forwards"?y.reverse():y).flat()},[o]);return g.useEffect(()=>{const b=f.current;if(b){const w=y=>{var E,N,T;const _=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!_){const j=document.activeElement,A=y.shiftKey;if(y.target===b&&A){(E=u.current)==null||E.focus();return}const O=m({tabbingDirection:A?"backwards":"forwards"}),P=O.findIndex(D=>D===j);FN(O.slice(P+1))?y.preventDefault():A?(N=u.current)==null||N.focus():(T=d.current)==null||T.focus()}};return b.addEventListener("keydown",w),()=>b.removeEventListener("keydown",w)}},[o,m]),l.jsxs(nae,{ref:c,role:"region","aria-label":i.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&l.jsx(wC,{ref:u,onFocusFromOutsideViewport:()=>{const b=m({tabbingDirection:"forwards"});FN(b)}}),l.jsx(ER.Slot,{scope:r,children:l.jsx(ht.ol,{tabIndex:-1,...s,ref:h})}),v&&l.jsx(wC,{ref:d,onFocusFromOutsideViewport:()=>{const b=m({tabbingDirection:"backwards"});FN(b)}})]})});Yz.displayName=Gz;var Xz="ToastFocusProxy",wC=g.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...i}=t,s=G1(Xz,r);return l.jsx(K1,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:a=>{var u;const o=a.relatedTarget;!((u=s.viewport)!=null&&u.contains(o))&&n()}})});wC.displayName=Xz;var d0="Toast",yae="toast.swipeStart",xae="toast.swipeMove",bae="toast.swipeCancel",wae="toast.swipeEnd",Qz=g.forwardRef((t,e)=>{const{forceMount:r,open:n,defaultOpen:i,onOpenChange:s,...a}=t,[o,c]=Dl({prop:n,defaultProp:i??!0,onChange:s,caller:d0});return l.jsx(Zi,{present:r||o,children:l.jsx(Sae,{open:o,...a,ref:e,onClose:()=>c(!1),onPause:Or(t.onPause),onResume:Or(t.onResume),onSwipeStart:Se(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Se(t.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Se(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Se(t.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});Qz.displayName=d0;var[_ae,Eae]=Hz(d0,{onClose(){}}),Sae=g.forwardRef((t,e)=>{const{__scopeToast:r,type:n="foreground",duration:i,open:s,onClose:a,onEscapeKeyDown:o,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:p,...v}=t,m=G1(d0,r),[b,w]=g.useState(null),y=rt(e,D=>w(D)),_=g.useRef(null),S=g.useRef(null),E=i||m.duration,N=g.useRef(0),T=g.useRef(E),j=g.useRef(0),{onToastAdd:A,onToastRemove:R}=m,k=Or(()=>{var z;(b==null?void 0:b.contains(document.activeElement))&&((z=m.viewport)==null||z.focus()),a()}),O=g.useCallback(D=>{!D||D===1/0||(window.clearTimeout(j.current),N.current=new Date().getTime(),j.current=window.setTimeout(k,D))},[k]);g.useEffect(()=>{const D=m.viewport;if(D){const z=()=>{O(T.current),u==null||u()},M=()=>{const V=new Date().getTime()-N.current;T.current=T.current-V,window.clearTimeout(j.current),c==null||c()};return D.addEventListener(xC,M),D.addEventListener(bC,z),()=>{D.removeEventListener(xC,M),D.removeEventListener(bC,z)}}},[m.viewport,E,c,u,O]),g.useEffect(()=>{s&&!m.isClosePausedRef.current&&O(E)},[s,E,m.isClosePausedRef,O]),g.useEffect(()=>(A(),()=>R()),[A,R]);const P=g.useMemo(()=>b?i8(b):null,[b]);return m.viewport?l.jsxs(l.Fragment,{children:[P&&l.jsx(Nae,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:P}),l.jsx(_ae,{scope:r,onClose:k,children:Bo.createPortal(l.jsx(ER.ItemSlot,{scope:r,children:l.jsx(rae,{asChild:!0,onEscapeKeyDown:Se(o,()=>{m.isFocusedToastEscapeKeyDownRef.current||k(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:l.jsx(ht.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":m.swipeDirection,...v,ref:y,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Se(t.onKeyDown,D=>{D.key==="Escape"&&(o==null||o(D.nativeEvent),D.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,k()))}),onPointerDown:Se(t.onPointerDown,D=>{D.button===0&&(_.current={x:D.clientX,y:D.clientY})}),onPointerMove:Se(t.onPointerMove,D=>{if(!_.current)return;const z=D.clientX-_.current.x,M=D.clientY-_.current.y,V=!!S.current,L=["left","right"].includes(m.swipeDirection),$=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,G=L?$(0,z):0,q=L?0:$(0,M),U=D.pointerType==="touch"?10:2,X={x:G,y:q},ie={originalEvent:D,delta:X};V?(S.current=X,Fx(xae,f,ie,{discrete:!1})):$L(X,m.swipeDirection,U)?(S.current=X,Fx(yae,d,ie,{discrete:!1}),D.target.setPointerCapture(D.pointerId)):(Math.abs(z)>U||Math.abs(M)>U)&&(_.current=null)}),onPointerUp:Se(t.onPointerUp,D=>{const z=S.current,M=D.target;if(M.hasPointerCapture(D.pointerId)&&M.releasePointerCapture(D.pointerId),S.current=null,_.current=null,z){const V=D.currentTarget,L={originalEvent:D,delta:z};$L(z,m.swipeDirection,m.swipeThreshold)?Fx(wae,p,L,{discrete:!0}):Fx(bae,h,L,{discrete:!0}),V.addEventListener("click",$=>$.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),Nae=t=>{const{__scopeToast:e,children:r,...n}=t,i=G1(d0,e),[s,a]=g.useState(!1),[o,c]=g.useState(!1);return Cae(()=>a(!0)),g.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),o?null:l.jsx(H1,{asChild:!0,children:l.jsx(K1,{...n,children:s&&l.jsxs(l.Fragment,{children:[i.label," ",r]})})})},Tae="ToastTitle",Zz=g.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return l.jsx(ht.div,{...n,ref:e})});Zz.displayName=Tae;var jae="ToastDescription",Jz=g.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return l.jsx(ht.div,{...n,ref:e})});Jz.displayName=jae;var e8="ToastAction",t8=g.forwardRef((t,e)=>{const{altText:r,...n}=t;return r.trim()?l.jsx(n8,{altText:r,asChild:!0,children:l.jsx(SR,{...n,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${e8}\`. Expected non-empty \`string\`.`),null)});t8.displayName=e8;var r8="ToastClose",SR=g.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t,i=Eae(r8,r);return l.jsx(n8,{asChild:!0,children:l.jsx(ht.button,{type:"button",...n,ref:e,onClick:Se(t.onClick,i.onClose)})})});SR.displayName=r8;var n8=g.forwardRef((t,e)=>{const{__scopeToast:r,altText:n,...i}=t;return l.jsx(ht.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...i,ref:e})});function i8(t){const e=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),Aae(n)){const i=n.ariaHidden||n.hidden||n.style.display==="none",s=n.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const a=n.dataset.radixToastAnnounceAlt;a&&e.push(a)}else e.push(...i8(n))}}),e}function Fx(t,e,r,{discrete:n}){const i=r.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?bR(i,s):i.dispatchEvent(s)}var $L=(t,e,r=0)=>{const n=Math.abs(t.x),i=Math.abs(t.y),s=n>i;return e==="left"||e==="right"?s&&n>r:!s&&i>r};function Cae(t=()=>{}){const e=Or(t);Br(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[e])}function Aae(t){return t.nodeType===t.ELEMENT_NODE}function Pae(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function FN(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var Rae=Kz,s8=Yz,a8=Qz,o8=Zz,l8=Jz,c8=t8,u8=SR;function d8(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=d8(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function $t(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=d8(t))&&(n&&(n+=" "),n+=e);return n}const FL=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,VL=$t,f0=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return VL(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:i,defaultVariants:s}=e,a=Object.keys(i).map(u=>{const d=r==null?void 0:r[u],f=s==null?void 0:s[u];if(d===null)return null;const h=FL(d)||FL(f);return i[u][h]}),o=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...p}=d;return Object.entries(p).every(v=>{let[m,b]=v;return Array.isArray(b)?b.includes({...s,...o}[m]):{...s,...o}[m]===b})?[...u,f,h]:u},[]);return VL(t,a,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kae=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),f8=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Iae={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oae=g.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:s,iconNode:a,...o},c)=>g.createElement("svg",{ref:c,...Iae,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:f8("lucide",i),...o},[...a.map(([u,d])=>g.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=(t,e)=>{const r=g.forwardRef(({className:n,...i},s)=>g.createElement(Oae,{ref:s,iconNode:e,className:f8(`lucide-${kae(t)}`,n),...i}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BL=ke("BellPlus",[["path",{d:"M19.3 14.8C20.1 16.4 21 17 21 17H3s3-2 3-9c0-3.3 2.7-6 6-6 1 0 1.9.2 2.8.7",key:"guizqy"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"M15 8h6",key:"8ybuxh"}],["path",{d:"M18 5v6",key:"g5ayrv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mae=ke("BellRing",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rd=ke("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dae=ke("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fd=ke("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NR=ke("CalendarCheck",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UL=ke("CalendarPlus",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 13V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8",key:"3spt84"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M16 19h6",key:"xwg31i"}],["path",{d:"M19 16v6",key:"tddt3s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zL=ke("CalendarX",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m14 14-4 4",key:"rymu2i"}],["path",{d:"m10 14 4 4",key:"3sz06r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _i=ke("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y1=ke("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vf=ke("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qs=ke("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kw=ke("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rv=ke("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h8=ke("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lae=ke("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VN=ke("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ae=ke("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pp=ke("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qL=ke("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TR=ke("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const om=ke("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fae=ke("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p8=ke("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X1=ke("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vae=ke("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bae=ke("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q1=ke("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m8=ke("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kd=ke("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WL=ke("FileImage",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ti=ke("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wl=ke("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lb=ke("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uae=ke("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z1=ke("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jR=ke("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zae=ke("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iw=ke("Laptop",[["path",{d:"M20 16V7a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v9m16 0H4m16 0 1.28 2.55a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45L4 16",key:"tarvll"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g8=ke("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v8=ke("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qae=ke("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HL=ke("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KL=ke("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wae=ke("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hae=ke("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kae=ke("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J1=ke("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gae=ke("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y8=ke("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x8=ke("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ow=ke("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kv=ke("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CR=ke("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yf=ke("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b8=ke("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yae=ke("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w8=ke("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AR=ke("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yo=ke("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iv=ke("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ll=ke("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _C=ke("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mw=ke("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xae=ke("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _8=ke("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qae=ke("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Id=ke("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ov=ke("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PR=ke("Warehouse",[["path",{d:"M22 8.35V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8.35A2 2 0 0 1 3.26 6.5l8-3.2a2 2 0 0 1 1.48 0l8 3.2A2 2 0 0 1 22 8.35Z",key:"gksnxg"}],["path",{d:"M6 18h12",key:"9pbo8z"}],["path",{d:"M6 14h12",key:"4cwo0f"}],["rect",{width:"12",height:"12",x:"6",y:"10",key:"apd30q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pa=ke("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xo=ke("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),RR="-",Zae=t=>{const e=eoe(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:a=>{const o=a.split(RR);return o[0]===""&&o.length!==1&&o.shift(),E8(o,e)||Jae(a)},getConflictingClassGroupIds:(a,o)=>{const c=r[a]||[];return o&&n[a]?[...c,...n[a]]:c}}},E8=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),i=n?E8(t.slice(1),n):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(RR);return(a=e.validators.find(({validator:o})=>o(s)))==null?void 0:a.classGroupId},GL=/^\[(.+)\]$/,Jae=t=>{if(GL.test(t)){const e=GL.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},eoe=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return roe(Object.entries(t.classGroups),r).forEach(([s,a])=>{EC(a,n,s,e)}),n},EC=(t,e,r,n)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:YL(e,i);s.classGroupId=r;return}if(typeof i=="function"){if(toe(i)){EC(i(n),e,r,n);return}e.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([s,a])=>{EC(a,YL(e,s),r,n)})})},YL=(t,e)=>{let r=t;return e.split(RR).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},toe=t=>t.isThemeGetter,roe=(t,e)=>e?t.map(([r,n])=>{const i=n.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([a,o])=>[e+a,o])):s);return[r,i]}):t,noe=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const i=(s,a)=>{r.set(s,a),e++,e>t&&(e=0,n=r,r=new Map)};return{get(s){let a=r.get(s);if(a!==void 0)return a;if((a=n.get(s))!==void 0)return i(s,a),a},set(s,a){r.has(s)?r.set(s,a):i(s,a)}}},S8="!",ioe=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,i=e[0],s=e.length,a=o=>{const c=[];let u=0,d=0,f;for(let b=0;b<o.length;b++){let w=o[b];if(u===0){if(w===i&&(n||o.slice(b,b+s)===e)){c.push(o.slice(d,b)),d=b+s;continue}if(w==="/"){f=b;continue}}w==="["?u++:w==="]"&&u--}const h=c.length===0?o:o.substring(d),p=h.startsWith(S8),v=p?h.substring(1):h,m=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:v,maybePostfixModifierPosition:m}};return r?o=>r({className:o,parseClassName:a}):a},soe=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},aoe=t=>({cache:noe(t.cacheSize),parseClassName:ioe(t),...Zae(t)}),ooe=/\s+/,loe=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=e,s=[],a=t.trim().split(ooe);let o="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:p}=r(u);let v=!!p,m=n(v?h.substring(0,p):h);if(!m){if(!v){o=u+(o.length>0?" "+o:o);continue}if(m=n(h),!m){o=u+(o.length>0?" "+o:o);continue}v=!1}const b=soe(d).join(":"),w=f?b+S8:b,y=w+m;if(s.includes(y))continue;s.push(y);const _=i(m,v);for(let S=0;S<_.length;++S){const E=_[S];s.push(w+E)}o=u+(o.length>0?" "+o:o)}return o};function coe(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=N8(e))&&(n&&(n+=" "),n+=r);return n}const N8=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=N8(t[n]))&&(r&&(r+=" "),r+=e);return r};function uoe(t,...e){let r,n,i,s=a;function a(c){const u=e.reduce((d,f)=>f(d),t());return r=aoe(u),n=r.cache.get,i=r.cache.set,s=o,o(c)}function o(c){const u=n(c);if(u)return u;const d=loe(c,r);return i(c,d),d}return function(){return s(coe.apply(null,arguments))}}const wr=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},T8=/^\[(?:([a-z-]+):)?(.+)\]$/i,doe=/^\d+\/\d+$/,foe=new Set(["px","full","screen"]),hoe=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,poe=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,moe=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,goe=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,voe=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Qo=t=>Rh(t)||foe.has(t)||doe.test(t),lc=t=>lm(t,"length",Noe),Rh=t=>!!t&&!Number.isNaN(Number(t)),BN=t=>lm(t,"number",Rh),Jm=t=>!!t&&Number.isInteger(Number(t)),yoe=t=>t.endsWith("%")&&Rh(t.slice(0,-1)),xt=t=>T8.test(t),cc=t=>hoe.test(t),xoe=new Set(["length","size","percentage"]),boe=t=>lm(t,xoe,j8),woe=t=>lm(t,"position",j8),_oe=new Set(["image","url"]),Eoe=t=>lm(t,_oe,joe),Soe=t=>lm(t,"",Toe),eg=()=>!0,lm=(t,e,r)=>{const n=T8.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},Noe=t=>poe.test(t)&&!moe.test(t),j8=()=>!1,Toe=t=>goe.test(t),joe=t=>voe.test(t),Coe=()=>{const t=wr("colors"),e=wr("spacing"),r=wr("blur"),n=wr("brightness"),i=wr("borderColor"),s=wr("borderRadius"),a=wr("borderSpacing"),o=wr("borderWidth"),c=wr("contrast"),u=wr("grayscale"),d=wr("hueRotate"),f=wr("invert"),h=wr("gap"),p=wr("gradientColorStops"),v=wr("gradientColorStopPositions"),m=wr("inset"),b=wr("margin"),w=wr("opacity"),y=wr("padding"),_=wr("saturate"),S=wr("scale"),E=wr("sepia"),N=wr("skew"),T=wr("space"),j=wr("translate"),A=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto",xt,e],O=()=>[xt,e],P=()=>["",Qo,lc],D=()=>["auto",Rh,xt],z=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],M=()=>["solid","dashed","dotted","double","none"],V=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],L=()=>["start","end","center","between","around","evenly","stretch"],$=()=>["","0",xt],G=()=>["auto","avoid","all","avoid-page","page","left","right","column"],q=()=>[Rh,xt];return{cacheSize:500,separator:":",theme:{colors:[eg],spacing:[Qo,lc],blur:["none","",cc,xt],brightness:q(),borderColor:[t],borderRadius:["none","","full",cc,xt],borderSpacing:O(),borderWidth:P(),contrast:q(),grayscale:$(),hueRotate:q(),invert:$(),gap:O(),gradientColorStops:[t],gradientColorStopPositions:[yoe,lc],inset:k(),margin:k(),opacity:q(),padding:O(),saturate:q(),scale:q(),sepia:$(),skew:q(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",xt]}],container:["container"],columns:[{columns:[cc]}],"break-after":[{"break-after":G()}],"break-before":[{"break-before":G()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...z(),xt]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Jm,xt]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",xt]}],grow:[{grow:$()}],shrink:[{shrink:$()}],order:[{order:["first","last","none",Jm,xt]}],"grid-cols":[{"grid-cols":[eg]}],"col-start-end":[{col:["auto",{span:["full",Jm,xt]},xt]}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":[eg]}],"row-start-end":[{row:["auto",{span:[Jm,xt]},xt]}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",xt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",xt]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...L()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...L(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...L(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[T]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[T]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",xt,e]}],"min-w":[{"min-w":[xt,e,"min","max","fit"]}],"max-w":[{"max-w":[xt,e,"none","full","min","max","fit","prose",{screen:[cc]},cc]}],h:[{h:[xt,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[xt,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[xt,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[xt,e,"auto","min","max","fit"]}],"font-size":[{text:["base",cc,lc]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",BN]}],"font-family":[{font:[eg]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",xt]}],"line-clamp":[{"line-clamp":["none",Rh,BN]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Qo,xt]}],"list-image":[{"list-image":["none",xt]}],"list-style-type":[{list:["none","disc","decimal",xt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...M(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Qo,lc]}],"underline-offset":[{"underline-offset":["auto",Qo,xt]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",xt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",xt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...z(),woe]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",boe]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Eoe]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...M(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:M()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...M()]}],"outline-offset":[{"outline-offset":[Qo,xt]}],"outline-w":[{outline:[Qo,lc]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:P()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[Qo,lc]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",cc,Soe]}],"shadow-color":[{shadow:[eg]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...V(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":V()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",cc,xt]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[_]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[_]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",xt]}],duration:[{duration:q()}],ease:[{ease:["linear","in","out","in-out",xt]}],delay:[{delay:q()}],animate:[{animate:["none","spin","ping","pulse","bounce",xt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[Jm,xt]}],"translate-x":[{"translate-x":[j]}],"translate-y":[{"translate-y":[j]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",xt]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",xt]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",xt]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Qo,lc,BN]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Aoe=uoe(Coe);function ge(...t){return Aoe($t(t))}const Poe=Rae,C8=g.forwardRef(({className:t,...e},r)=>l.jsx(s8,{ref:r,className:ge("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));C8.displayName=s8.displayName;const Roe=f0("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),A8=g.forwardRef(({className:t,variant:e,...r},n)=>l.jsx(a8,{ref:n,className:ge(Roe({variant:e}),t),...r}));A8.displayName=a8.displayName;const koe=g.forwardRef(({className:t,...e},r)=>l.jsx(c8,{ref:r,className:ge("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));koe.displayName=c8.displayName;const P8=g.forwardRef(({className:t,...e},r)=>l.jsx(u8,{ref:r,className:ge("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:l.jsx(xo,{className:"h-4 w-4"})}));P8.displayName=u8.displayName;const R8=g.forwardRef(({className:t,...e},r)=>l.jsx(o8,{ref:r,className:ge("text-sm font-semibold",t),...e}));R8.displayName=o8.displayName;const k8=g.forwardRef(({className:t,...e},r)=>l.jsx(l8,{ref:r,className:ge("text-sm opacity-90",t),...e}));k8.displayName=l8.displayName;function Ioe(){const{toasts:t}=qa();return l.jsxs(Poe,{children:[t.map(function({id:e,title:r,description:n,action:i,...s}){return l.jsxs(A8,{...s,children:[l.jsxs("div",{className:"grid gap-1",children:[r&&l.jsx(R8,{children:r}),n&&l.jsx(k8,{children:n})]}),i,l.jsx(P8,{})]},e)}),l.jsx(C8,{})]})}var XL=["light","dark"],Ooe="(prefers-color-scheme: dark)",Moe=g.createContext(void 0),Doe={setTheme:t=>{},themes:[]},Loe=()=>{var t;return(t=g.useContext(Moe))!=null?t:Doe};g.memo(({forcedTheme:t,storageKey:e,attribute:r,enableSystem:n,enableColorScheme:i,defaultTheme:s,value:a,attrs:o,nonce:c})=>{let u=s==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${o.map(v=>`'${v}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=i?XL.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(v,m=!1,b=!0)=>{let w=a?a[v]:v,y=m?v+"|| ''":`'${w}'`,_="";return i&&b&&!m&&XL.includes(v)&&(_+=`d.style.colorScheme = '${v}';`),r==="class"?m||w?_+=`c.add(${y})`:_+="null":w&&(_+=`d[s](n,${y})`),_},p=t?`!function(){${d}${h(t)}}()`:n?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${Ooe}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${a?`var x=${JSON.stringify(a)};`:""}${h(a?"x[e]":"e",!0)}}${u?"":"else{"+h(s,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${a?`var x=${JSON.stringify(a)};`:""}${h(a?"x[e]":"e",!0)}}else{${h(s,!1,!1)};}${f}}catch(t){}}();`;return g.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:p}})});var $oe=t=>{switch(t){case"success":return Boe;case"info":return zoe;case"warning":return Uoe;case"error":return qoe;default:return null}},Foe=Array(12).fill(0),Voe=({visible:t,className:e})=>B.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},B.createElement("div",{className:"sonner-spinner"},Foe.map((r,n)=>B.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),Boe=B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},B.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Uoe=B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},B.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),zoe=B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},B.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),qoe=B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},B.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Woe=B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},B.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),B.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Hoe=()=>{let[t,e]=B.useState(document.hidden);return B.useEffect(()=>{let r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t},SC=1,Koe=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:r,...n}=t,i=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:SC++,s=this.toasts.find(o=>o.id===i),a=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),s?this.toasts=this.toasts.map(o=>o.id===i?(this.publish({...o,...t,id:i,title:r}),{...o,...t,id:i,dismissible:a,title:r}):o):this.addToast({title:r,...n,dismissible:a,id:i}),i},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(r=>r({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let r;e.loading!==void 0&&(r=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let n=t instanceof Promise?t:t(),i=r!==void 0,s,a=n.then(async c=>{if(s=["resolve",c],B.isValidElement(c))i=!1,this.create({id:r,type:"default",message:c});else if(Yoe(c)&&!c.ok){i=!1;let u=typeof e.error=="function"?await e.error(`HTTP error! status: ${c.status}`):e.error,d=typeof e.description=="function"?await e.description(`HTTP error! status: ${c.status}`):e.description;this.create({id:r,type:"error",message:u,description:d})}else if(e.success!==void 0){i=!1;let u=typeof e.success=="function"?await e.success(c):e.success,d=typeof e.description=="function"?await e.description(c):e.description;this.create({id:r,type:"success",message:u,description:d})}}).catch(async c=>{if(s=["reject",c],e.error!==void 0){i=!1;let u=typeof e.error=="function"?await e.error(c):e.error,d=typeof e.description=="function"?await e.description(c):e.description;this.create({id:r,type:"error",message:u,description:d})}}).finally(()=>{var c;i&&(this.dismiss(r),r=void 0),(c=e.finally)==null||c.call(e)}),o=()=>new Promise((c,u)=>a.then(()=>s[0]==="reject"?u(s[1]):c(s[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:o}:Object.assign(r,{unwrap:o})},this.custom=(t,e)=>{let r=(e==null?void 0:e.id)||SC++;return this.create({jsx:t(r),id:r,...e}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Fi=new Koe,Goe=(t,e)=>{let r=(e==null?void 0:e.id)||SC++;return Fi.addToast({title:t,...e,id:r}),r},Yoe=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",Xoe=Goe,Qoe=()=>Fi.toasts,Zoe=()=>Fi.getActiveToasts(),Ke=Object.assign(Xoe,{success:Fi.success,info:Fi.info,warning:Fi.warning,error:Fi.error,custom:Fi.custom,message:Fi.message,promise:Fi.promise,dismiss:Fi.dismiss,loading:Fi.loading},{getHistory:Qoe,getToasts:Zoe});function Joe(t,{insertAt:e}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}Joe(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Vx(t){return t.label!==void 0}var ele=3,tle="32px",rle="16px",QL=4e3,nle=356,ile=14,sle=20,ale=200;function la(...t){return t.filter(Boolean).join(" ")}function ole(t){let[e,r]=t.split("-"),n=[];return e&&n.push(e),r&&n.push(r),n}var lle=t=>{var e,r,n,i,s,a,o,c,u,d,f;let{invert:h,toast:p,unstyled:v,interacting:m,setHeights:b,visibleToasts:w,heights:y,index:_,toasts:S,expanded:E,removeToast:N,defaultRichColors:T,closeButton:j,style:A,cancelButtonStyle:R,actionButtonStyle:k,className:O="",descriptionClassName:P="",duration:D,position:z,gap:M,loadingIcon:V,expandByDefault:L,classNames:$,icons:G,closeButtonAriaLabel:q="Close toast",pauseWhenPageIsHidden:U}=t,[X,ie]=B.useState(null),[le,xe]=B.useState(null),[ce,Q]=B.useState(!1),[Y,ee]=B.useState(!1),[se,J]=B.useState(!1),[je,Ae]=B.useState(!1),[ct,fe]=B.useState(!1),[$e,Xe]=B.useState(0),[vt,Ar]=B.useState(0),lr=B.useRef(p.duration||D||QL),W=B.useRef(null),te=B.useRef(null),ue=_===0,Te=_+1<=w,pe=p.type,he=p.dismissible!==!1,Re=p.className||"",yt=p.descriptionClassName||"",Ht=B.useMemo(()=>y.findIndex(Ze=>Ze.toastId===p.id)||0,[y,p.id]),Zt=B.useMemo(()=>{var Ze;return(Ze=p.closeButton)!=null?Ze:j},[p.closeButton,j]),is=B.useMemo(()=>p.duration||D||QL,[p.duration,D]),ss=B.useRef(0),Gn=B.useRef(0),Ya=B.useRef(0),Mi=B.useRef(null),[Xa,na]=z.split("-"),Ho=B.useMemo(()=>y.reduce((Ze,Pt,Jt)=>Jt>=Ht?Ze:Ze+Pt.height,0),[y,Ht]),zu=Hoe(),Qa=p.invert||h,Ko=pe==="loading";Gn.current=B.useMemo(()=>Ht*M+Ho,[Ht,Ho]),B.useEffect(()=>{lr.current=is},[is]),B.useEffect(()=>{Q(!0)},[]),B.useEffect(()=>{let Ze=te.current;if(Ze){let Pt=Ze.getBoundingClientRect().height;return Ar(Pt),b(Jt=>[{toastId:p.id,height:Pt,position:p.position},...Jt]),()=>b(Jt=>Jt.filter(H=>H.toastId!==p.id))}},[b,p.id]),B.useLayoutEffect(()=>{if(!ce)return;let Ze=te.current,Pt=Ze.style.height;Ze.style.height="auto";let Jt=Ze.getBoundingClientRect().height;Ze.style.height=Pt,Ar(Jt),b(H=>H.find(Z=>Z.toastId===p.id)?H.map(Z=>Z.toastId===p.id?{...Z,height:Jt}:Z):[{toastId:p.id,height:Jt,position:p.position},...H])},[ce,p.title,p.description,b,p.id]);let hi=B.useCallback(()=>{ee(!0),Xe(Gn.current),b(Ze=>Ze.filter(Pt=>Pt.toastId!==p.id)),setTimeout(()=>{N(p)},ale)},[p,N,b,Gn]);B.useEffect(()=>{if(p.promise&&pe==="loading"||p.duration===1/0||p.type==="loading")return;let Ze;return E||m||U&&zu?(()=>{if(Ya.current<ss.current){let Pt=new Date().getTime()-ss.current;lr.current=lr.current-Pt}Ya.current=new Date().getTime()})():lr.current!==1/0&&(ss.current=new Date().getTime(),Ze=setTimeout(()=>{var Pt;(Pt=p.onAutoClose)==null||Pt.call(p,p),hi()},lr.current)),()=>clearTimeout(Ze)},[E,m,p,pe,U,zu,hi]),B.useEffect(()=>{p.delete&&hi()},[hi,p.delete]);function Di(){var Ze,Pt,Jt;return G!=null&&G.loading?B.createElement("div",{className:la($==null?void 0:$.loader,(Ze=p==null?void 0:p.classNames)==null?void 0:Ze.loader,"sonner-loader"),"data-visible":pe==="loading"},G.loading):V?B.createElement("div",{className:la($==null?void 0:$.loader,(Pt=p==null?void 0:p.classNames)==null?void 0:Pt.loader,"sonner-loader"),"data-visible":pe==="loading"},V):B.createElement(Voe,{className:la($==null?void 0:$.loader,(Jt=p==null?void 0:p.classNames)==null?void 0:Jt.loader),visible:pe==="loading"})}return B.createElement("li",{tabIndex:0,ref:te,className:la(O,Re,$==null?void 0:$.toast,(e=p==null?void 0:p.classNames)==null?void 0:e.toast,$==null?void 0:$.default,$==null?void 0:$[pe],(r=p==null?void 0:p.classNames)==null?void 0:r[pe]),"data-sonner-toast":"","data-rich-colors":(n=p.richColors)!=null?n:T,"data-styled":!(p.jsx||p.unstyled||v),"data-mounted":ce,"data-promise":!!p.promise,"data-swiped":ct,"data-removed":Y,"data-visible":Te,"data-y-position":Xa,"data-x-position":na,"data-index":_,"data-front":ue,"data-swiping":se,"data-dismissible":he,"data-type":pe,"data-invert":Qa,"data-swipe-out":je,"data-swipe-direction":le,"data-expanded":!!(E||L&&ce),style:{"--index":_,"--toasts-before":_,"--z-index":S.length-_,"--offset":`${Y?$e:Gn.current}px`,"--initial-height":L?"auto":`${vt}px`,...A,...p.style},onDragEnd:()=>{J(!1),ie(null),Mi.current=null},onPointerDown:Ze=>{Ko||!he||(W.current=new Date,Xe(Gn.current),Ze.target.setPointerCapture(Ze.pointerId),Ze.target.tagName!=="BUTTON"&&(J(!0),Mi.current={x:Ze.clientX,y:Ze.clientY}))},onPointerUp:()=>{var Ze,Pt,Jt,H;if(je||!he)return;Mi.current=null;let Z=Number(((Ze=te.current)==null?void 0:Ze.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),ne=Number(((Pt=te.current)==null?void 0:Pt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ve=new Date().getTime()-((Jt=W.current)==null?void 0:Jt.getTime()),Ee=X==="x"?Z:ne,Oe=Math.abs(Ee)/ve;if(Math.abs(Ee)>=sle||Oe>.11){Xe(Gn.current),(H=p.onDismiss)==null||H.call(p,p),xe(X==="x"?Z>0?"right":"left":ne>0?"down":"up"),hi(),Ae(!0),fe(!1);return}J(!1),ie(null)},onPointerMove:Ze=>{var Pt,Jt,H,Z;if(!Mi.current||!he||((Pt=window.getSelection())==null?void 0:Pt.toString().length)>0)return;let ne=Ze.clientY-Mi.current.y,ve=Ze.clientX-Mi.current.x,Ee=(Jt=t.swipeDirections)!=null?Jt:ole(z);!X&&(Math.abs(ve)>1||Math.abs(ne)>1)&&ie(Math.abs(ve)>Math.abs(ne)?"x":"y");let Oe={x:0,y:0};X==="y"?(Ee.includes("top")||Ee.includes("bottom"))&&(Ee.includes("top")&&ne<0||Ee.includes("bottom")&&ne>0)&&(Oe.y=ne):X==="x"&&(Ee.includes("left")||Ee.includes("right"))&&(Ee.includes("left")&&ve<0||Ee.includes("right")&&ve>0)&&(Oe.x=ve),(Math.abs(Oe.x)>0||Math.abs(Oe.y)>0)&&fe(!0),(H=te.current)==null||H.style.setProperty("--swipe-amount-x",`${Oe.x}px`),(Z=te.current)==null||Z.style.setProperty("--swipe-amount-y",`${Oe.y}px`)}},Zt&&!p.jsx?B.createElement("button",{"aria-label":q,"data-disabled":Ko,"data-close-button":!0,onClick:Ko||!he?()=>{}:()=>{var Ze;hi(),(Ze=p.onDismiss)==null||Ze.call(p,p)},className:la($==null?void 0:$.closeButton,(i=p==null?void 0:p.classNames)==null?void 0:i.closeButton)},(s=G==null?void 0:G.close)!=null?s:Woe):null,p.jsx||g.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:B.createElement(B.Fragment,null,pe||p.icon||p.promise?B.createElement("div",{"data-icon":"",className:la($==null?void 0:$.icon,(a=p==null?void 0:p.classNames)==null?void 0:a.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||Di():null,p.type!=="loading"?p.icon||(G==null?void 0:G[pe])||$oe(pe):null):null,B.createElement("div",{"data-content":"",className:la($==null?void 0:$.content,(o=p==null?void 0:p.classNames)==null?void 0:o.content)},B.createElement("div",{"data-title":"",className:la($==null?void 0:$.title,(c=p==null?void 0:p.classNames)==null?void 0:c.title)},typeof p.title=="function"?p.title():p.title),p.description?B.createElement("div",{"data-description":"",className:la(P,yt,$==null?void 0:$.description,(u=p==null?void 0:p.classNames)==null?void 0:u.description)},typeof p.description=="function"?p.description():p.description):null),g.isValidElement(p.cancel)?p.cancel:p.cancel&&Vx(p.cancel)?B.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||R,onClick:Ze=>{var Pt,Jt;Vx(p.cancel)&&he&&((Jt=(Pt=p.cancel).onClick)==null||Jt.call(Pt,Ze),hi())},className:la($==null?void 0:$.cancelButton,(d=p==null?void 0:p.classNames)==null?void 0:d.cancelButton)},p.cancel.label):null,g.isValidElement(p.action)?p.action:p.action&&Vx(p.action)?B.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||k,onClick:Ze=>{var Pt,Jt;Vx(p.action)&&((Jt=(Pt=p.action).onClick)==null||Jt.call(Pt,Ze),!Ze.defaultPrevented&&hi())},className:la($==null?void 0:$.actionButton,(f=p==null?void 0:p.classNames)==null?void 0:f.actionButton)},p.action.label):null))};function ZL(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function cle(t,e){let r={};return[t,e].forEach((n,i)=>{let s=i===1,a=s?"--mobile-offset":"--offset",o=s?rle:tle;function c(u){["top","right","bottom","left"].forEach(d=>{r[`${a}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${a}-${u}`]=o:r[`${a}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(o)}),r}var ule=g.forwardRef(function(t,e){let{invert:r,position:n="bottom-right",hotkey:i=["altKey","KeyT"],expand:s,closeButton:a,className:o,offset:c,mobileOffset:u,theme:d="light",richColors:f,duration:h,style:p,visibleToasts:v=ele,toastOptions:m,dir:b=ZL(),gap:w=ile,loadingIcon:y,icons:_,containerAriaLabel:S="Notifications",pauseWhenPageIsHidden:E}=t,[N,T]=B.useState([]),j=B.useMemo(()=>Array.from(new Set([n].concat(N.filter(U=>U.position).map(U=>U.position)))),[N,n]),[A,R]=B.useState([]),[k,O]=B.useState(!1),[P,D]=B.useState(!1),[z,M]=B.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),V=B.useRef(null),L=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),$=B.useRef(null),G=B.useRef(!1),q=B.useCallback(U=>{T(X=>{var ie;return(ie=X.find(le=>le.id===U.id))!=null&&ie.delete||Fi.dismiss(U.id),X.filter(({id:le})=>le!==U.id)})},[]);return B.useEffect(()=>Fi.subscribe(U=>{if(U.dismiss){T(X=>X.map(ie=>ie.id===U.id?{...ie,delete:!0}:ie));return}setTimeout(()=>{W1.flushSync(()=>{T(X=>{let ie=X.findIndex(le=>le.id===U.id);return ie!==-1?[...X.slice(0,ie),{...X[ie],...U},...X.slice(ie+1)]:[U,...X]})})})}),[]),B.useEffect(()=>{if(d!=="system"){M(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?M("dark"):M("light")),typeof window>"u")return;let U=window.matchMedia("(prefers-color-scheme: dark)");try{U.addEventListener("change",({matches:X})=>{M(X?"dark":"light")})}catch{U.addListener(({matches:ie})=>{try{M(ie?"dark":"light")}catch(le){console.error(le)}})}},[d]),B.useEffect(()=>{N.length<=1&&O(!1)},[N]),B.useEffect(()=>{let U=X=>{var ie,le;i.every(xe=>X[xe]||X.code===xe)&&(O(!0),(ie=V.current)==null||ie.focus()),X.code==="Escape"&&(document.activeElement===V.current||(le=V.current)!=null&&le.contains(document.activeElement))&&O(!1)};return document.addEventListener("keydown",U),()=>document.removeEventListener("keydown",U)},[i]),B.useEffect(()=>{if(V.current)return()=>{$.current&&($.current.focus({preventScroll:!0}),$.current=null,G.current=!1)}},[V.current]),B.createElement("section",{ref:e,"aria-label":`${S} ${L}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},j.map((U,X)=>{var ie;let[le,xe]=U.split("-");return N.length?B.createElement("ol",{key:U,dir:b==="auto"?ZL():b,tabIndex:-1,ref:V,className:o,"data-sonner-toaster":!0,"data-theme":z,"data-y-position":le,"data-lifted":k&&N.length>1&&!s,"data-x-position":xe,style:{"--front-toast-height":`${((ie=A[0])==null?void 0:ie.height)||0}px`,"--width":`${nle}px`,"--gap":`${w}px`,...p,...cle(c,u)},onBlur:ce=>{G.current&&!ce.currentTarget.contains(ce.relatedTarget)&&(G.current=!1,$.current&&($.current.focus({preventScroll:!0}),$.current=null))},onFocus:ce=>{ce.target instanceof HTMLElement&&ce.target.dataset.dismissible==="false"||G.current||(G.current=!0,$.current=ce.relatedTarget)},onMouseEnter:()=>O(!0),onMouseMove:()=>O(!0),onMouseLeave:()=>{P||O(!1)},onDragEnd:()=>O(!1),onPointerDown:ce=>{ce.target instanceof HTMLElement&&ce.target.dataset.dismissible==="false"||D(!0)},onPointerUp:()=>D(!1)},N.filter(ce=>!ce.position&&X===0||ce.position===U).map((ce,Q)=>{var Y,ee;return B.createElement(lle,{key:ce.id,icons:_,index:Q,toast:ce,defaultRichColors:f,duration:(Y=m==null?void 0:m.duration)!=null?Y:h,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:r,visibleToasts:v,closeButton:(ee=m==null?void 0:m.closeButton)!=null?ee:a,interacting:P,position:U,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,removeToast:q,toasts:N.filter(se=>se.position==ce.position),heights:A.filter(se=>se.position==ce.position),setHeights:R,expandByDefault:s,gap:w,loadingIcon:y,expanded:k,pauseWhenPageIsHidden:E,swipeDirections:t.swipeDirections})})):null}))});const dle=({...t})=>{const{theme:e="system"}=Loe();return l.jsx(ule,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var fle=DU[" useId ".trim().toString()]||(()=>{}),hle=0;function qn(t){const[e,r]=g.useState(fle());return Br(()=>{r(n=>n??String(hle++))},[t]),e?`radix-${e}`:""}const ple=["top","right","bottom","left"],ru=Math.min,fs=Math.max,Dw=Math.round,Bx=Math.floor,bo=t=>({x:t,y:t}),mle={left:"right",right:"left",bottom:"top",top:"bottom"},gle={start:"end",end:"start"};function NC(t,e,r){return fs(t,ru(e,r))}function $l(t,e){return typeof t=="function"?t(e):t}function Fl(t){return t.split("-")[0]}function cm(t){return t.split("-")[1]}function kR(t){return t==="x"?"y":"x"}function IR(t){return t==="y"?"height":"width"}function _l(t){return["top","bottom"].includes(Fl(t))?"y":"x"}function OR(t){return kR(_l(t))}function vle(t,e,r){r===void 0&&(r=!1);const n=cm(t),i=OR(t),s=IR(i);let a=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(a=Lw(a)),[a,Lw(a)]}function yle(t){const e=Lw(t);return[TC(t),e,TC(e)]}function TC(t){return t.replace(/start|end/g,e=>gle[e])}function xle(t,e,r){const n=["left","right"],i=["right","left"],s=["top","bottom"],a=["bottom","top"];switch(t){case"top":case"bottom":return r?e?i:n:e?n:i;case"left":case"right":return e?s:a;default:return[]}}function ble(t,e,r,n){const i=cm(t);let s=xle(Fl(t),r==="start",n);return i&&(s=s.map(a=>a+"-"+i),e&&(s=s.concat(s.map(TC)))),s}function Lw(t){return t.replace(/left|right|bottom|top/g,e=>mle[e])}function wle(t){return{top:0,right:0,bottom:0,left:0,...t}}function I8(t){return typeof t!="number"?wle(t):{top:t,right:t,bottom:t,left:t}}function $w(t){const{x:e,y:r,width:n,height:i}=t;return{width:n,height:i,top:r,left:e,right:e+n,bottom:r+i,x:e,y:r}}function JL(t,e,r){let{reference:n,floating:i}=t;const s=_l(e),a=OR(e),o=IR(a),c=Fl(e),u=s==="y",d=n.x+n.width/2-i.width/2,f=n.y+n.height/2-i.height/2,h=n[o]/2-i[o]/2;let p;switch(c){case"top":p={x:d,y:n.y-i.height};break;case"bottom":p={x:d,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:f};break;case"left":p={x:n.x-i.width,y:f};break;default:p={x:n.x,y:n.y}}switch(cm(e)){case"start":p[a]-=h*(r&&u?-1:1);break;case"end":p[a]+=h*(r&&u?-1:1);break}return p}const _le=async(t,e,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:s=[],platform:a}=r,o=s.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(e));let u=await a.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:f}=JL(u,n,c),h=n,p={},v=0;for(let m=0;m<o.length;m++){const{name:b,fn:w}=o[m],{x:y,y:_,data:S,reset:E}=await w({x:d,y:f,initialPlacement:n,placement:h,strategy:i,middlewareData:p,rects:u,platform:a,elements:{reference:t,floating:e}});d=y??d,f=_??f,p={...p,[b]:{...p[b],...S}},E&&v<=50&&(v++,typeof E=="object"&&(E.placement&&(h=E.placement),E.rects&&(u=E.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:i}):E.rects),{x:d,y:f}=JL(u,h,c)),m=-1)}return{x:d,y:f,placement:h,strategy:i,middlewareData:p}};async function Mv(t,e){var r;e===void 0&&(e={});const{x:n,y:i,platform:s,rects:a,elements:o,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=$l(e,t),v=I8(p),b=o[h?f==="floating"?"reference":"floating":f],w=$w(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(b)))==null||r?b:b.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(o.floating)),boundary:u,rootBoundary:d,strategy:c})),y=f==="floating"?{x:n,y:i,width:a.floating.width,height:a.floating.height}:a.reference,_=await(s.getOffsetParent==null?void 0:s.getOffsetParent(o.floating)),S=await(s.isElement==null?void 0:s.isElement(_))?await(s.getScale==null?void 0:s.getScale(_))||{x:1,y:1}:{x:1,y:1},E=$w(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:y,offsetParent:_,strategy:c}):y);return{top:(w.top-E.top+v.top)/S.y,bottom:(E.bottom-w.bottom+v.bottom)/S.y,left:(w.left-E.left+v.left)/S.x,right:(E.right-w.right+v.right)/S.x}}const Ele=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:i,rects:s,platform:a,elements:o,middlewareData:c}=e,{element:u,padding:d=0}=$l(t,e)||{};if(u==null)return{};const f=I8(d),h={x:r,y:n},p=OR(i),v=IR(p),m=await a.getDimensions(u),b=p==="y",w=b?"top":"left",y=b?"bottom":"right",_=b?"clientHeight":"clientWidth",S=s.reference[v]+s.reference[p]-h[p]-s.floating[v],E=h[p]-s.reference[p],N=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let T=N?N[_]:0;(!T||!await(a.isElement==null?void 0:a.isElement(N)))&&(T=o.floating[_]||s.floating[v]);const j=S/2-E/2,A=T/2-m[v]/2-1,R=ru(f[w],A),k=ru(f[y],A),O=R,P=T-m[v]-k,D=T/2-m[v]/2+j,z=NC(O,D,P),M=!c.arrow&&cm(i)!=null&&D!==z&&s.reference[v]/2-(D<O?R:k)-m[v]/2<0,V=M?D<O?D-O:D-P:0;return{[p]:h[p]+V,data:{[p]:z,centerOffset:D-z-V,...M&&{alignmentOffset:V}},reset:M}}}),Sle=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:i,middlewareData:s,rects:a,initialPlacement:o,platform:c,elements:u}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:m=!0,...b}=$l(t,e);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const w=Fl(i),y=_l(o),_=Fl(o)===o,S=await(c.isRTL==null?void 0:c.isRTL(u.floating)),E=h||(_||!m?[Lw(o)]:yle(o)),N=v!=="none";!h&&N&&E.push(...ble(o,m,v,S));const T=[o,...E],j=await Mv(e,b),A=[];let R=((n=s.flip)==null?void 0:n.overflows)||[];if(d&&A.push(j[w]),f){const z=vle(i,a,S);A.push(j[z[0]],j[z[1]])}if(R=[...R,{placement:i,overflows:A}],!A.every(z=>z<=0)){var k,O;const z=(((k=s.flip)==null?void 0:k.index)||0)+1,M=T[z];if(M){var P;const L=f==="alignment"?y!==_l(M):!1,$=((P=R[0])==null?void 0:P.overflows[0])>0;if(!L||$)return{data:{index:z,overflows:R},reset:{placement:M}}}let V=(O=R.filter(L=>L.overflows[0]<=0).sort((L,$)=>L.overflows[1]-$.overflows[1])[0])==null?void 0:O.placement;if(!V)switch(p){case"bestFit":{var D;const L=(D=R.filter($=>{if(N){const G=_l($.placement);return G===y||G==="y"}return!0}).map($=>[$.placement,$.overflows.filter(G=>G>0).reduce((G,q)=>G+q,0)]).sort(($,G)=>$[1]-G[1])[0])==null?void 0:D[0];L&&(V=L);break}case"initialPlacement":V=o;break}if(i!==V)return{reset:{placement:V}}}return{}}}};function e$(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function t$(t){return ple.some(e=>t[e]>=0)}const Nle=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...i}=$l(t,e);switch(n){case"referenceHidden":{const s=await Mv(e,{...i,elementContext:"reference"}),a=e$(s,r.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:t$(a)}}}case"escaped":{const s=await Mv(e,{...i,altBoundary:!0}),a=e$(s,r.floating);return{data:{escapedOffsets:a,escaped:t$(a)}}}default:return{}}}}};async function Tle(t,e){const{placement:r,platform:n,elements:i}=t,s=await(n.isRTL==null?void 0:n.isRTL(i.floating)),a=Fl(r),o=cm(r),c=_l(r)==="y",u=["left","top"].includes(a)?-1:1,d=s&&c?-1:1,f=$l(e,t);let{mainAxis:h,crossAxis:p,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return o&&typeof v=="number"&&(p=o==="end"?v*-1:v),c?{x:p*d,y:h*u}:{x:h*u,y:p*d}}const jle=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:i,y:s,placement:a,middlewareData:o}=e,c=await Tle(e,t);return a===((r=o.offset)==null?void 0:r.placement)&&(n=o.arrow)!=null&&n.alignmentOffset?{}:{x:i+c.x,y:s+c.y,data:{...c,placement:a}}}}},Cle=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:i}=e,{mainAxis:s=!0,crossAxis:a=!1,limiter:o={fn:b=>{let{x:w,y}=b;return{x:w,y}}},...c}=$l(t,e),u={x:r,y:n},d=await Mv(e,c),f=_l(Fl(i)),h=kR(f);let p=u[h],v=u[f];if(s){const b=h==="y"?"top":"left",w=h==="y"?"bottom":"right",y=p+d[b],_=p-d[w];p=NC(y,p,_)}if(a){const b=f==="y"?"top":"left",w=f==="y"?"bottom":"right",y=v+d[b],_=v-d[w];v=NC(y,v,_)}const m=o.fn({...e,[h]:p,[f]:v});return{...m,data:{x:m.x-r,y:m.y-n,enabled:{[h]:s,[f]:a}}}}}},Ale=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:i,rects:s,middlewareData:a}=e,{offset:o=0,mainAxis:c=!0,crossAxis:u=!0}=$l(t,e),d={x:r,y:n},f=_l(i),h=kR(f);let p=d[h],v=d[f];const m=$l(o,e),b=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(c){const _=h==="y"?"height":"width",S=s.reference[h]-s.floating[_]+b.mainAxis,E=s.reference[h]+s.reference[_]-b.mainAxis;p<S?p=S:p>E&&(p=E)}if(u){var w,y;const _=h==="y"?"width":"height",S=["top","left"].includes(Fl(i)),E=s.reference[f]-s.floating[_]+(S&&((w=a.offset)==null?void 0:w[f])||0)+(S?0:b.crossAxis),N=s.reference[f]+s.reference[_]+(S?0:((y=a.offset)==null?void 0:y[f])||0)-(S?b.crossAxis:0);v<E?v=E:v>N&&(v=N)}return{[h]:p,[f]:v}}}},Ple=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:i,rects:s,platform:a,elements:o}=e,{apply:c=()=>{},...u}=$l(t,e),d=await Mv(e,u),f=Fl(i),h=cm(i),p=_l(i)==="y",{width:v,height:m}=s.floating;let b,w;f==="top"||f==="bottom"?(b=f,w=h===(await(a.isRTL==null?void 0:a.isRTL(o.floating))?"start":"end")?"left":"right"):(w=f,b=h==="end"?"top":"bottom");const y=m-d.top-d.bottom,_=v-d.left-d.right,S=ru(m-d[b],y),E=ru(v-d[w],_),N=!e.middlewareData.shift;let T=S,j=E;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(j=_),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(T=y),N&&!h){const R=fs(d.left,0),k=fs(d.right,0),O=fs(d.top,0),P=fs(d.bottom,0);p?j=v-2*(R!==0||k!==0?R+k:fs(d.left,d.right)):T=m-2*(O!==0||P!==0?O+P:fs(d.top,d.bottom))}await c({...e,availableWidth:j,availableHeight:T});const A=await a.getDimensions(o.floating);return v!==A.width||m!==A.height?{reset:{rects:!0}}:{}}}};function eE(){return typeof window<"u"}function um(t){return O8(t)?(t.nodeName||"").toLowerCase():"#document"}function ws(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Uo(t){var e;return(e=(O8(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function O8(t){return eE()?t instanceof Node||t instanceof ws(t).Node:!1}function Ma(t){return eE()?t instanceof Element||t instanceof ws(t).Element:!1}function Oo(t){return eE()?t instanceof HTMLElement||t instanceof ws(t).HTMLElement:!1}function r$(t){return!eE()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ws(t).ShadowRoot}function h0(t){const{overflow:e,overflowX:r,overflowY:n,display:i}=Da(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!["inline","contents"].includes(i)}function Rle(t){return["table","td","th"].includes(um(t))}function tE(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function MR(t){const e=DR(),r=Ma(t)?Da(t):t;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function kle(t){let e=nu(t);for(;Oo(e)&&!mp(e);){if(MR(e))return e;if(tE(e))return null;e=nu(e)}return null}function DR(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function mp(t){return["html","body","#document"].includes(um(t))}function Da(t){return ws(t).getComputedStyle(t)}function rE(t){return Ma(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function nu(t){if(um(t)==="html")return t;const e=t.assignedSlot||t.parentNode||r$(t)&&t.host||Uo(t);return r$(e)?e.host:e}function M8(t){const e=nu(t);return mp(e)?t.ownerDocument?t.ownerDocument.body:t.body:Oo(e)&&h0(e)?e:M8(e)}function Dv(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const i=M8(t),s=i===((n=t.ownerDocument)==null?void 0:n.body),a=ws(i);if(s){const o=jC(a);return e.concat(a,a.visualViewport||[],h0(i)?i:[],o&&r?Dv(o):[])}return e.concat(i,Dv(i,[],r))}function jC(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function D8(t){const e=Da(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=Oo(t),s=i?t.offsetWidth:r,a=i?t.offsetHeight:n,o=Dw(r)!==s||Dw(n)!==a;return o&&(r=s,n=a),{width:r,height:n,$:o}}function LR(t){return Ma(t)?t:t.contextElement}function kh(t){const e=LR(t);if(!Oo(e))return bo(1);const r=e.getBoundingClientRect(),{width:n,height:i,$:s}=D8(e);let a=(s?Dw(r.width):r.width)/n,o=(s?Dw(r.height):r.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!o||!Number.isFinite(o))&&(o=1),{x:a,y:o}}const Ile=bo(0);function L8(t){const e=ws(t);return!DR()||!e.visualViewport?Ile:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Ole(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==ws(t)?!1:e}function Kd(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const i=t.getBoundingClientRect(),s=LR(t);let a=bo(1);e&&(n?Ma(n)&&(a=kh(n)):a=kh(t));const o=Ole(s,r,n)?L8(s):bo(0);let c=(i.left+o.x)/a.x,u=(i.top+o.y)/a.y,d=i.width/a.x,f=i.height/a.y;if(s){const h=ws(s),p=n&&Ma(n)?ws(n):n;let v=h,m=jC(v);for(;m&&n&&p!==v;){const b=kh(m),w=m.getBoundingClientRect(),y=Da(m),_=w.left+(m.clientLeft+parseFloat(y.paddingLeft))*b.x,S=w.top+(m.clientTop+parseFloat(y.paddingTop))*b.y;c*=b.x,u*=b.y,d*=b.x,f*=b.y,c+=_,u+=S,v=ws(m),m=jC(v)}}return $w({width:d,height:f,x:c,y:u})}function $R(t,e){const r=rE(t).scrollLeft;return e?e.left+r:Kd(Uo(t)).left+r}function $8(t,e,r){r===void 0&&(r=!1);const n=t.getBoundingClientRect(),i=n.left+e.scrollLeft-(r?0:$R(t,n)),s=n.top+e.scrollTop;return{x:i,y:s}}function Mle(t){let{elements:e,rect:r,offsetParent:n,strategy:i}=t;const s=i==="fixed",a=Uo(n),o=e?tE(e.floating):!1;if(n===a||o&&s)return r;let c={scrollLeft:0,scrollTop:0},u=bo(1);const d=bo(0),f=Oo(n);if((f||!f&&!s)&&((um(n)!=="body"||h0(a))&&(c=rE(n)),Oo(n))){const p=Kd(n);u=kh(n),d.x=p.x+n.clientLeft,d.y=p.y+n.clientTop}const h=a&&!f&&!s?$8(a,c,!0):bo(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-c.scrollTop*u.y+d.y+h.y}}function Dle(t){return Array.from(t.getClientRects())}function Lle(t){const e=Uo(t),r=rE(t),n=t.ownerDocument.body,i=fs(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),s=fs(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let a=-r.scrollLeft+$R(t);const o=-r.scrollTop;return Da(n).direction==="rtl"&&(a+=fs(e.clientWidth,n.clientWidth)-i),{width:i,height:s,x:a,y:o}}function $le(t,e){const r=ws(t),n=Uo(t),i=r.visualViewport;let s=n.clientWidth,a=n.clientHeight,o=0,c=0;if(i){s=i.width,a=i.height;const u=DR();(!u||u&&e==="fixed")&&(o=i.offsetLeft,c=i.offsetTop)}return{width:s,height:a,x:o,y:c}}function Fle(t,e){const r=Kd(t,!0,e==="fixed"),n=r.top+t.clientTop,i=r.left+t.clientLeft,s=Oo(t)?kh(t):bo(1),a=t.clientWidth*s.x,o=t.clientHeight*s.y,c=i*s.x,u=n*s.y;return{width:a,height:o,x:c,y:u}}function n$(t,e,r){let n;if(e==="viewport")n=$le(t,r);else if(e==="document")n=Lle(Uo(t));else if(Ma(e))n=Fle(e,r);else{const i=L8(t);n={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return $w(n)}function F8(t,e){const r=nu(t);return r===e||!Ma(r)||mp(r)?!1:Da(r).position==="fixed"||F8(r,e)}function Vle(t,e){const r=e.get(t);if(r)return r;let n=Dv(t,[],!1).filter(o=>Ma(o)&&um(o)!=="body"),i=null;const s=Da(t).position==="fixed";let a=s?nu(t):t;for(;Ma(a)&&!mp(a);){const o=Da(a),c=MR(a);!c&&o.position==="fixed"&&(i=null),(s?!c&&!i:!c&&o.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||h0(a)&&!c&&F8(t,a))?n=n.filter(d=>d!==a):i=o,a=nu(a)}return e.set(t,n),n}function Ble(t){let{element:e,boundary:r,rootBoundary:n,strategy:i}=t;const a=[...r==="clippingAncestors"?tE(e)?[]:Vle(e,this._c):[].concat(r),n],o=a[0],c=a.reduce((u,d)=>{const f=n$(e,d,i);return u.top=fs(f.top,u.top),u.right=ru(f.right,u.right),u.bottom=ru(f.bottom,u.bottom),u.left=fs(f.left,u.left),u},n$(e,o,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Ule(t){const{width:e,height:r}=D8(t);return{width:e,height:r}}function zle(t,e,r){const n=Oo(e),i=Uo(e),s=r==="fixed",a=Kd(t,!0,s,e);let o={scrollLeft:0,scrollTop:0};const c=bo(0);function u(){c.x=$R(i)}if(n||!n&&!s)if((um(e)!=="body"||h0(i))&&(o=rE(e)),n){const p=Kd(e,!0,s,e);c.x=p.x+e.clientLeft,c.y=p.y+e.clientTop}else i&&u();s&&!n&&i&&u();const d=i&&!n&&!s?$8(i,o):bo(0),f=a.left+o.scrollLeft-c.x-d.x,h=a.top+o.scrollTop-c.y-d.y;return{x:f,y:h,width:a.width,height:a.height}}function UN(t){return Da(t).position==="static"}function i$(t,e){if(!Oo(t)||Da(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return Uo(t)===r&&(r=r.ownerDocument.body),r}function V8(t,e){const r=ws(t);if(tE(t))return r;if(!Oo(t)){let i=nu(t);for(;i&&!mp(i);){if(Ma(i)&&!UN(i))return i;i=nu(i)}return r}let n=i$(t,e);for(;n&&Rle(n)&&UN(n);)n=i$(n,e);return n&&mp(n)&&UN(n)&&!MR(n)?r:n||kle(t)||r}const qle=async function(t){const e=this.getOffsetParent||V8,r=this.getDimensions,n=await r(t.floating);return{reference:zle(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Wle(t){return Da(t).direction==="rtl"}const Hle={convertOffsetParentRelativeRectToViewportRelativeRect:Mle,getDocumentElement:Uo,getClippingRect:Ble,getOffsetParent:V8,getElementRects:qle,getClientRects:Dle,getDimensions:Ule,getScale:kh,isElement:Ma,isRTL:Wle};function B8(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Kle(t,e){let r=null,n;const i=Uo(t);function s(){var o;clearTimeout(n),(o=r)==null||o.disconnect(),r=null}function a(o,c){o===void 0&&(o=!1),c===void 0&&(c=1),s();const u=t.getBoundingClientRect(),{left:d,top:f,width:h,height:p}=u;if(o||e(),!h||!p)return;const v=Bx(f),m=Bx(i.clientWidth-(d+h)),b=Bx(i.clientHeight-(f+p)),w=Bx(d),_={rootMargin:-v+"px "+-m+"px "+-b+"px "+-w+"px",threshold:fs(0,ru(1,c))||1};let S=!0;function E(N){const T=N[0].intersectionRatio;if(T!==c){if(!S)return a();T?a(!1,T):n=setTimeout(()=>{a(!1,1e-7)},1e3)}T===1&&!B8(u,t.getBoundingClientRect())&&a(),S=!1}try{r=new IntersectionObserver(E,{..._,root:i.ownerDocument})}catch{r=new IntersectionObserver(E,_)}r.observe(t)}return a(!0),s}function FR(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=LR(t),d=i||s?[...u?Dv(u):[],...Dv(e)]:[];d.forEach(w=>{i&&w.addEventListener("scroll",r,{passive:!0}),s&&w.addEventListener("resize",r)});const f=u&&o?Kle(u,r):null;let h=-1,p=null;a&&(p=new ResizeObserver(w=>{let[y]=w;y&&y.target===u&&p&&(p.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var _;(_=p)==null||_.observe(e)})),r()}),u&&!c&&p.observe(u),p.observe(e));let v,m=c?Kd(t):null;c&&b();function b(){const w=Kd(t);m&&!B8(m,w)&&r(),m=w,v=requestAnimationFrame(b)}return r(),()=>{var w;d.forEach(y=>{i&&y.removeEventListener("scroll",r),s&&y.removeEventListener("resize",r)}),f==null||f(),(w=p)==null||w.disconnect(),p=null,c&&cancelAnimationFrame(v)}}const Gle=jle,Yle=Cle,Xle=Sle,Qle=Ple,Zle=Nle,s$=Ele,Jle=Ale,ece=(t,e,r)=>{const n=new Map,i={platform:Hle,...r},s={...i.platform,_c:n};return _le(t,e,{...i,platform:s})};var $b=typeof document<"u"?g.useLayoutEffect:g.useEffect;function Fw(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!Fw(t[n],e[n]))return!1;return!0}if(i=Object.keys(t),r=i.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,i[n]))return!1;for(n=r;n--!==0;){const s=i[n];if(!(s==="_owner"&&t.$$typeof)&&!Fw(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function U8(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function a$(t,e){const r=U8(t);return Math.round(e*r)/r}function zN(t){const e=g.useRef(t);return $b(()=>{e.current=t}),e}function VR(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:s,floating:a}={},transform:o=!0,whileElementsMounted:c,open:u}=t,[d,f]=g.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[h,p]=g.useState(n);Fw(h,n)||p(n);const[v,m]=g.useState(null),[b,w]=g.useState(null),y=g.useCallback(L=>{L!==N.current&&(N.current=L,m(L))},[]),_=g.useCallback(L=>{L!==T.current&&(T.current=L,w(L))},[]),S=s||v,E=a||b,N=g.useRef(null),T=g.useRef(null),j=g.useRef(d),A=c!=null,R=zN(c),k=zN(i),O=zN(u),P=g.useCallback(()=>{if(!N.current||!T.current)return;const L={placement:e,strategy:r,middleware:h};k.current&&(L.platform=k.current),ece(N.current,T.current,L).then($=>{const G={...$,isPositioned:O.current!==!1};D.current&&!Fw(j.current,G)&&(j.current=G,Bo.flushSync(()=>{f(G)}))})},[h,e,r,k,O]);$b(()=>{u===!1&&j.current.isPositioned&&(j.current.isPositioned=!1,f(L=>({...L,isPositioned:!1})))},[u]);const D=g.useRef(!1);$b(()=>(D.current=!0,()=>{D.current=!1}),[]),$b(()=>{if(S&&(N.current=S),E&&(T.current=E),S&&E){if(R.current)return R.current(S,E,P);P()}},[S,E,P,R,A]);const z=g.useMemo(()=>({reference:N,floating:T,setReference:y,setFloating:_}),[y,_]),M=g.useMemo(()=>({reference:S,floating:E}),[S,E]),V=g.useMemo(()=>{const L={position:r,left:0,top:0};if(!M.floating)return L;const $=a$(M.floating,d.x),G=a$(M.floating,d.y);return o?{...L,transform:"translate("+$+"px, "+G+"px)",...U8(M.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:$,top:G}},[r,o,M.floating,d.x,d.y]);return g.useMemo(()=>({...d,update:P,refs:z,elements:M,floatingStyles:V}),[d,P,z,M,V])}const tce=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:i}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?s$({element:n.current,padding:i}).fn(r):{}:n?s$({element:n,padding:i}).fn(r):{}}}},BR=(t,e)=>({...Gle(t),options:[t,e]}),UR=(t,e)=>({...Yle(t),options:[t,e]}),zR=(t,e)=>({...Jle(t),options:[t,e]}),qR=(t,e)=>({...Xle(t),options:[t,e]}),WR=(t,e)=>({...Qle(t),options:[t,e]}),HR=(t,e)=>({...Zle(t),options:[t,e]}),KR=(t,e)=>({...tce(t),options:[t,e]});var rce="Arrow",z8=g.forwardRef((t,e)=>{const{children:r,width:n=10,height:i=5,...s}=t;return l.jsx(ht.svg,{...s,ref:e,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});z8.displayName=rce;var nce=z8;function nE(t){const[e,r]=g.useState(void 0);return Br(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let a,o;if("borderBoxSize"in s){const c=s.borderBoxSize,u=Array.isArray(c)?c[0]:c;a=u.inlineSize,o=u.blockSize}else a=t.offsetWidth,o=t.offsetHeight;r({width:a,height:o})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var GR="Popper",[q8,iE]=fi(GR),[ice,W8]=q8(GR),H8=t=>{const{__scopePopper:e,children:r}=t,[n,i]=g.useState(null);return l.jsx(ice,{scope:e,anchor:n,onAnchorChange:i,children:r})};H8.displayName=GR;var K8="PopperAnchor",G8=g.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...i}=t,s=W8(K8,r),a=g.useRef(null),o=rt(e,a);return g.useEffect(()=>{s.onAnchorChange((n==null?void 0:n.current)||a.current)}),n?null:l.jsx(ht.div,{...i,ref:o})});G8.displayName=K8;var YR="PopperContent",[sce,ace]=q8(YR),Y8=g.forwardRef((t,e)=>{var ce,Q,Y,ee,se,J;const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:s="center",alignOffset:a=0,arrowPadding:o=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:v,...m}=t,b=W8(YR,r),[w,y]=g.useState(null),_=rt(e,je=>y(je)),[S,E]=g.useState(null),N=nE(S),T=(N==null?void 0:N.width)??0,j=(N==null?void 0:N.height)??0,A=n+(s!=="center"?"-"+s:""),R=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},k=Array.isArray(u)?u:[u],O=k.length>0,P={padding:R,boundary:k.filter(lce),altBoundary:O},{refs:D,floatingStyles:z,placement:M,isPositioned:V,middlewareData:L}=VR({strategy:"fixed",placement:A,whileElementsMounted:(...je)=>FR(...je,{animationFrame:p==="always"}),elements:{reference:b.anchor},middleware:[BR({mainAxis:i+j,alignmentAxis:a}),c&&UR({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?zR():void 0,...P}),c&&qR({...P}),WR({...P,apply:({elements:je,rects:Ae,availableWidth:ct,availableHeight:fe})=>{const{width:$e,height:Xe}=Ae.reference,vt=je.floating.style;vt.setProperty("--radix-popper-available-width",`${ct}px`),vt.setProperty("--radix-popper-available-height",`${fe}px`),vt.setProperty("--radix-popper-anchor-width",`${$e}px`),vt.setProperty("--radix-popper-anchor-height",`${Xe}px`)}}),S&&KR({element:S,padding:o}),cce({arrowWidth:T,arrowHeight:j}),h&&HR({strategy:"referenceHidden",...P})]}),[$,G]=Z8(M),q=Or(v);Br(()=>{V&&(q==null||q())},[V,q]);const U=(ce=L.arrow)==null?void 0:ce.x,X=(Q=L.arrow)==null?void 0:Q.y,ie=((Y=L.arrow)==null?void 0:Y.centerOffset)!==0,[le,xe]=g.useState();return Br(()=>{w&&xe(window.getComputedStyle(w).zIndex)},[w]),l.jsx("div",{ref:D.setFloating,"data-radix-popper-content-wrapper":"",style:{...z,transform:V?z.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:le,"--radix-popper-transform-origin":[(ee=L.transformOrigin)==null?void 0:ee.x,(se=L.transformOrigin)==null?void 0:se.y].join(" "),...((J=L.hide)==null?void 0:J.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:l.jsx(sce,{scope:r,placedSide:$,onArrowChange:E,arrowX:U,arrowY:X,shouldHideArrow:ie,children:l.jsx(ht.div,{"data-side":$,"data-align":G,...m,ref:_,style:{...m.style,animation:V?void 0:"none"}})})})});Y8.displayName=YR;var X8="PopperArrow",oce={top:"bottom",right:"left",bottom:"top",left:"right"},Q8=g.forwardRef(function(e,r){const{__scopePopper:n,...i}=e,s=ace(X8,n),a=oce[s.placedSide];return l.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:l.jsx(nce,{...i,ref:r,style:{...i.style,display:"block"}})})});Q8.displayName=X8;function lce(t){return t!==null}var cce=t=>({name:"transformOrigin",options:t,fn(e){var b,w,y;const{placement:r,rects:n,middlewareData:i}=e,a=((b=i.arrow)==null?void 0:b.centerOffset)!==0,o=a?0:t.arrowWidth,c=a?0:t.arrowHeight,[u,d]=Z8(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((w=i.arrow)==null?void 0:w.x)??0)+o/2,p=(((y=i.arrow)==null?void 0:y.y)??0)+c/2;let v="",m="";return u==="bottom"?(v=a?f:`${h}px`,m=`${-c}px`):u==="top"?(v=a?f:`${h}px`,m=`${n.floating.height+c}px`):u==="right"?(v=`${-c}px`,m=a?f:`${p}px`):u==="left"&&(v=`${n.floating.width+c}px`,m=a?f:`${p}px`),{data:{x:v,y:m}}}});function Z8(t){const[e,r="center"]=t.split("-");return[e,r]}var uce=H8,J8=G8,eq=Y8,tq=Q8,[sE,ret]=fi("Tooltip",[iE]),XR=iE(),rq="TooltipProvider",dce=700,o$="tooltip.open",[fce,nq]=sE(rq),iq=t=>{const{__scopeTooltip:e,delayDuration:r=dce,skipDelayDuration:n=300,disableHoverableContent:i=!1,children:s}=t,a=g.useRef(!0),o=g.useRef(!1),c=g.useRef(0);return g.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),l.jsx(fce,{scope:e,isOpenDelayedRef:a,delayDuration:r,onOpen:g.useCallback(()=>{window.clearTimeout(c.current),a.current=!1},[]),onClose:g.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a.current=!0,n)},[n]),isPointerInTransitRef:o,onPointerInTransitChange:g.useCallback(u=>{o.current=u},[]),disableHoverableContent:i,children:s})};iq.displayName=rq;var sq="Tooltip",[net,aE]=sE(sq),CC="TooltipTrigger",hce=g.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=aE(CC,r),s=nq(CC,r),a=XR(r),o=g.useRef(null),c=rt(e,o,i.onTriggerChange),u=g.useRef(!1),d=g.useRef(!1),f=g.useCallback(()=>u.current=!1,[]);return g.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),l.jsx(J8,{asChild:!0,...a,children:l.jsx(ht.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...n,ref:c,onPointerMove:Se(t.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:Se(t.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:Se(t.onPointerDown,()=>{i.open&&i.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Se(t.onFocus,()=>{u.current||i.onOpen()}),onBlur:Se(t.onBlur,i.onClose),onClick:Se(t.onClick,i.onClose)})})});hce.displayName=CC;var pce="TooltipPortal",[iet,mce]=sE(pce,{forceMount:void 0}),gp="TooltipContent",aq=g.forwardRef((t,e)=>{const r=mce(gp,t.__scopeTooltip),{forceMount:n=r.forceMount,side:i="top",...s}=t,a=aE(gp,t.__scopeTooltip);return l.jsx(Zi,{present:n||a.open,children:a.disableHoverableContent?l.jsx(oq,{side:i,...s,ref:e}):l.jsx(gce,{side:i,...s,ref:e})})}),gce=g.forwardRef((t,e)=>{const r=aE(gp,t.__scopeTooltip),n=nq(gp,t.__scopeTooltip),i=g.useRef(null),s=rt(e,i),[a,o]=g.useState(null),{trigger:c,onClose:u}=r,d=i.current,{onPointerInTransitChange:f}=n,h=g.useCallback(()=>{o(null),f(!1)},[f]),p=g.useCallback((v,m)=>{const b=v.currentTarget,w={x:v.clientX,y:v.clientY},y=wce(w,b.getBoundingClientRect()),_=_ce(w,y),S=Ece(m.getBoundingClientRect()),E=Nce([..._,...S]);o(E),f(!0)},[f]);return g.useEffect(()=>()=>h(),[h]),g.useEffect(()=>{if(c&&d){const v=b=>p(b,d),m=b=>p(b,c);return c.addEventListener("pointerleave",v),d.addEventListener("pointerleave",m),()=>{c.removeEventListener("pointerleave",v),d.removeEventListener("pointerleave",m)}}},[c,d,p,h]),g.useEffect(()=>{if(a){const v=m=>{const b=m.target,w={x:m.clientX,y:m.clientY},y=(c==null?void 0:c.contains(b))||(d==null?void 0:d.contains(b)),_=!Sce(w,a);y?h():_&&(h(),u())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[c,d,a,u,h]),l.jsx(oq,{...t,ref:s})}),[vce,yce]=sE(sq,{isInside:!1}),xce=Uz("TooltipContent"),oq=g.forwardRef((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:a,...o}=t,c=aE(gp,r),u=XR(r),{onClose:d}=c;return g.useEffect(()=>(document.addEventListener(o$,d),()=>document.removeEventListener(o$,d)),[d]),g.useEffect(()=>{if(c.trigger){const f=h=>{const p=h.target;p!=null&&p.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),l.jsx(u0,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:l.jsxs(eq,{"data-state":c.stateAttribute,...u,...o,ref:e,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[l.jsx(xce,{children:n}),l.jsx(vce,{scope:r,isInside:!0,children:l.jsx(hae,{id:c.contentId,role:"tooltip",children:i||n})})]})})});aq.displayName=gp;var lq="TooltipArrow",bce=g.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=XR(r);return yce(lq,r).isInside?null:l.jsx(tq,{...i,...n,ref:e})});bce.displayName=lq;function wce(t,e){const r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(r,n,i,s)){case s:return"left";case i:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function _ce(t,e,r=5){const n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function Ece(t){const{top:e,right:r,bottom:n,left:i}=t;return[{x:i,y:e},{x:r,y:e},{x:r,y:n},{x:i,y:n}]}function Sce(t,e){const{x:r,y:n}=t;let i=!1;for(let s=0,a=e.length-1;s<e.length;a=s++){const o=e[s],c=e[a],u=o.x,d=o.y,f=c.x,h=c.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(i=!i)}return i}function Nce(t){const e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),Tce(e)}function Tce(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const i=t[n];for(;e.length>=2;){const s=e[e.length-1],a=e[e.length-2];if((s.x-a.x)*(i.y-a.y)>=(s.y-a.y)*(i.x-a.x))e.pop();else break}e.push(i)}e.pop();const r=[];for(let n=t.length-1;n>=0;n--){const i=t[n];for(;r.length>=2;){const s=r[r.length-1],a=r[r.length-2];if((s.x-a.x)*(i.y-a.y)>=(s.y-a.y)*(i.x-a.x))r.pop();else break}r.push(i)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var jce=iq,cq=aq;const Cce=jce,Ace=g.forwardRef(({className:t,sideOffset:e=4,...r},n)=>l.jsx(cq,{ref:n,sideOffset:e,className:ge("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r}));Ace.displayName=cq.displayName;var dm=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Gd=typeof window>"u"||"Deno"in globalThis;function Ms(){}function Pce(t,e){return typeof t=="function"?t(e):t}function AC(t){return typeof t=="number"&&t>=0&&t!==1/0}function uq(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Ih(t,e){return typeof t=="function"?t(e):t}function xa(t,e){return typeof t=="function"?t(e):t}function l$(t,e){const{type:r="all",exact:n,fetchStatus:i,predicate:s,queryKey:a,stale:o}=t;if(a){if(n){if(e.queryHash!==QR(a,e.options))return!1}else if(!Lv(e.queryKey,a))return!1}if(r!=="all"){const c=e.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof o=="boolean"&&e.isStale()!==o||i&&i!==e.state.fetchStatus||s&&!s(e))}function c$(t,e){const{exact:r,status:n,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(r){if(Yd(e.options.mutationKey)!==Yd(s))return!1}else if(!Lv(e.options.mutationKey,s))return!1}return!(n&&e.state.status!==n||i&&!i(e))}function QR(t,e){return((e==null?void 0:e.queryKeyHashFn)||Yd)(t)}function Yd(t){return JSON.stringify(t,(e,r)=>PC(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function Lv(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>Lv(t[r],e[r])):!1}function dq(t,e){if(t===e)return t;const r=u$(t)&&u$(e);if(r||PC(t)&&PC(e)){const n=r?t:Object.keys(t),i=n.length,s=r?e:Object.keys(e),a=s.length,o=r?[]:{};let c=0;for(let u=0;u<a;u++){const d=r?u:s[u];(!r&&n.includes(d)||r)&&t[d]===void 0&&e[d]===void 0?(o[d]=void 0,c++):(o[d]=dq(t[d],e[d]),o[d]===t[d]&&t[d]!==void 0&&c++)}return i===a&&c===i?t:o}return e}function Vw(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function u$(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function PC(t){if(!d$(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!d$(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function d$(t){return Object.prototype.toString.call(t)==="[object Object]"}function Rce(t){return new Promise(e=>{setTimeout(e,t)})}function RC(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?dq(t,e):e}function kce(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function Ice(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var ZR=Symbol();function fq(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===ZR?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var wd,Cc,Kh,gU,Oce=(gU=class extends dm{constructor(){super();Qe(this,wd);Qe(this,Cc);Qe(this,Kh);Me(this,Kh,e=>{if(!Gd&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){K(this,Cc)||this.setEventListener(K(this,Kh))}onUnsubscribe(){var e;this.hasListeners()||((e=K(this,Cc))==null||e.call(this),Me(this,Cc,void 0))}setEventListener(e){var r;Me(this,Kh,e),(r=K(this,Cc))==null||r.call(this),Me(this,Cc,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){K(this,wd)!==e&&(Me(this,wd,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof K(this,wd)=="boolean"?K(this,wd):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},wd=new WeakMap,Cc=new WeakMap,Kh=new WeakMap,gU),JR=new Oce,Gh,Ac,Yh,vU,Mce=(vU=class extends dm{constructor(){super();Qe(this,Gh,!0);Qe(this,Ac);Qe(this,Yh);Me(this,Yh,e=>{if(!Gd&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){K(this,Ac)||this.setEventListener(K(this,Yh))}onUnsubscribe(){var e;this.hasListeners()||((e=K(this,Ac))==null||e.call(this),Me(this,Ac,void 0))}setEventListener(e){var r;Me(this,Yh,e),(r=K(this,Ac))==null||r.call(this),Me(this,Ac,e(this.setOnline.bind(this)))}setOnline(e){K(this,Gh)!==e&&(Me(this,Gh,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return K(this,Gh)}},Gh=new WeakMap,Ac=new WeakMap,Yh=new WeakMap,vU),Bw=new Mce;function kC(){let t,e;const r=new Promise((i,s)=>{t=i,e=s});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),t(i)},r.reject=i=>{n({status:"rejected",reason:i}),e(i)},r}function Dce(t){return Math.min(1e3*2**t,3e4)}function hq(t){return(t??"online")==="online"?Bw.isOnline():!0}var pq=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function qN(t){return t instanceof pq}function mq(t){let e=!1,r=0,n=!1,i;const s=kC(),a=m=>{var b;n||(h(new pq(m)),(b=t.abort)==null||b.call(t))},o=()=>{e=!0},c=()=>{e=!1},u=()=>JR.isFocused()&&(t.networkMode==="always"||Bw.isOnline())&&t.canRun(),d=()=>hq(t.networkMode)&&t.canRun(),f=m=>{var b;n||(n=!0,(b=t.onSuccess)==null||b.call(t,m),i==null||i(),s.resolve(m))},h=m=>{var b;n||(n=!0,(b=t.onError)==null||b.call(t,m),i==null||i(),s.reject(m))},p=()=>new Promise(m=>{var b;i=w=>{(n||u())&&m(w)},(b=t.onPause)==null||b.call(t)}).then(()=>{var m;i=void 0,n||(m=t.onContinue)==null||m.call(t)}),v=()=>{if(n)return;let m;const b=r===0?t.initialPromise:void 0;try{m=b??t.fn()}catch(w){m=Promise.reject(w)}Promise.resolve(m).then(f).catch(w=>{var N;if(n)return;const y=t.retry??(Gd?0:3),_=t.retryDelay??Dce,S=typeof _=="function"?_(r,w):_,E=y===!0||typeof y=="number"&&r<y||typeof y=="function"&&y(r,w);if(e||!E){h(w);return}r++,(N=t.onFail)==null||N.call(t,r,w),Rce(S).then(()=>u()?void 0:p()).then(()=>{e?h(w):v()})})};return{promise:s,cancel:a,continue:()=>(i==null||i(),s),cancelRetry:o,continueRetry:c,canStart:d,start:()=>(d()?v():p().then(v),s)}}var Lce=t=>setTimeout(t,0);function $ce(){let t=[],e=0,r=o=>{o()},n=o=>{o()},i=Lce;const s=o=>{e?t.push(o):i(()=>{r(o)})},a=()=>{const o=t;t=[],o.length&&i(()=>{n(()=>{o.forEach(c=>{r(c)})})})};return{batch:o=>{let c;e++;try{c=o()}finally{e--,e||a()}return c},batchCalls:o=>(...c)=>{s(()=>{o(...c)})},schedule:s,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{i=o}}}var xn=$ce(),_d,yU,gq=(yU=class{constructor(){Qe(this,_d)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),AC(this.gcTime)&&Me(this,_d,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Gd?1/0:5*60*1e3))}clearGcTimeout(){K(this,_d)&&(clearTimeout(K(this,_d)),Me(this,_d,void 0))}},_d=new WeakMap,yU),Xh,Qh,Os,Ed,ri,t0,Sd,pa,tl,xU,Fce=(xU=class extends gq{constructor(r){super();Qe(this,pa);Qe(this,Xh);Qe(this,Qh);Qe(this,Os);Qe(this,Ed);Qe(this,ri);Qe(this,t0);Qe(this,Sd);Me(this,Sd,!1),Me(this,t0,r.defaultOptions),this.setOptions(r.options),this.observers=[],Me(this,Ed,r.client),Me(this,Os,K(this,Ed).getQueryCache()),this.queryKey=r.queryKey,this.queryHash=r.queryHash,Me(this,Xh,Vce(this.options)),this.state=r.state??K(this,Xh),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var r;return(r=K(this,ri))==null?void 0:r.promise}setOptions(r){this.options={...K(this,t0),...r},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&K(this,Os).remove(this)}setData(r,n){const i=RC(this.state.data,r,this.options);return wt(this,pa,tl).call(this,{data:i,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),i}setState(r,n){wt(this,pa,tl).call(this,{type:"setState",state:r,setStateOptions:n})}cancel(r){var i,s;const n=(i=K(this,ri))==null?void 0:i.promise;return(s=K(this,ri))==null||s.cancel(r),n?n.then(Ms).catch(Ms):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(K(this,Xh))}isActive(){return this.observers.some(r=>xa(r.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ZR||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(r=>r.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(r=0){return this.state.isInvalidated||this.state.data===void 0||!uq(this.state.dataUpdatedAt,r)}onFocus(){var n;const r=this.observers.find(i=>i.shouldFetchOnWindowFocus());r==null||r.refetch({cancelRefetch:!1}),(n=K(this,ri))==null||n.continue()}onOnline(){var n;const r=this.observers.find(i=>i.shouldFetchOnReconnect());r==null||r.refetch({cancelRefetch:!1}),(n=K(this,ri))==null||n.continue()}addObserver(r){this.observers.includes(r)||(this.observers.push(r),this.clearGcTimeout(),K(this,Os).notify({type:"observerAdded",query:this,observer:r}))}removeObserver(r){this.observers.includes(r)&&(this.observers=this.observers.filter(n=>n!==r),this.observers.length||(K(this,ri)&&(K(this,Sd)?K(this,ri).cancel({revert:!0}):K(this,ri).cancelRetry()),this.scheduleGc()),K(this,Os).notify({type:"observerRemoved",query:this,observer:r}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||wt(this,pa,tl).call(this,{type:"invalidate"})}fetch(r,n){var u,d,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(K(this,ri))return K(this,ri).continueRetry(),K(this,ri).promise}if(r&&this.setOptions(r),!this.options.queryFn){const h=this.observers.find(p=>p.options.queryFn);h&&this.setOptions(h.options)}const i=new AbortController,s=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(Me(this,Sd,!0),i.signal)})},a=()=>{const h=fq(this.options,n),p={client:K(this,Ed),queryKey:this.queryKey,meta:this.meta};return s(p),Me(this,Sd,!1),this.options.persister?this.options.persister(h,p,this):h(p)},o={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:K(this,Ed),state:this.state,fetchFn:a};s(o),(u=this.options.behavior)==null||u.onFetch(o,this),Me(this,Qh,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=o.fetchOptions)==null?void 0:d.meta))&&wt(this,pa,tl).call(this,{type:"fetch",meta:(f=o.fetchOptions)==null?void 0:f.meta});const c=h=>{var p,v,m,b;qN(h)&&h.silent||wt(this,pa,tl).call(this,{type:"error",error:h}),qN(h)||((v=(p=K(this,Os).config).onError)==null||v.call(p,h,this),(b=(m=K(this,Os).config).onSettled)==null||b.call(m,this.state.data,h,this)),this.scheduleGc()};return Me(this,ri,mq({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,abort:i.abort.bind(i),onSuccess:h=>{var p,v,m,b;if(h===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(w){c(w);return}(v=(p=K(this,Os).config).onSuccess)==null||v.call(p,h,this),(b=(m=K(this,Os).config).onSettled)==null||b.call(m,h,this.state.error,this),this.scheduleGc()},onError:c,onFail:(h,p)=>{wt(this,pa,tl).call(this,{type:"failed",failureCount:h,error:p})},onPause:()=>{wt(this,pa,tl).call(this,{type:"pause"})},onContinue:()=>{wt(this,pa,tl).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),K(this,ri).start()}},Xh=new WeakMap,Qh=new WeakMap,Os=new WeakMap,Ed=new WeakMap,ri=new WeakMap,t0=new WeakMap,Sd=new WeakMap,pa=new WeakSet,tl=function(r){const n=i=>{switch(r.type){case"failed":return{...i,fetchFailureCount:r.failureCount,fetchFailureReason:r.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...vq(i.data,this.options),fetchMeta:r.meta??null};case"success":return{...i,data:r.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:r.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!r.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=r.error;return qN(s)&&s.revert&&K(this,Qh)?{...K(this,Qh),fetchStatus:"idle"}:{...i,error:s,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...r.state}}};this.state=n(this.state),xn.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),K(this,Os).notify({query:this,type:"updated",action:r})})},xU);function vq(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:hq(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Vce(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var io,bU,Bce=(bU=class extends dm{constructor(e={}){super();Qe(this,io);this.config=e,Me(this,io,new Map)}build(e,r,n){const i=r.queryKey,s=r.queryHash??QR(i,r);let a=this.get(s);return a||(a=new Fce({client:e,queryKey:i,queryHash:s,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(i)}),this.add(a)),a}add(e){K(this,io).has(e.queryHash)||(K(this,io).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=K(this,io).get(e.queryHash);r&&(e.destroy(),r===e&&K(this,io).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){xn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return K(this,io).get(e)}getAll(){return[...K(this,io).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>l$(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>l$(e,n)):r}notify(e){xn.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){xn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){xn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},io=new WeakMap,bU),so,gi,Nd,ao,fc,wU,Uce=(wU=class extends gq{constructor(r){super();Qe(this,ao);Qe(this,so);Qe(this,gi);Qe(this,Nd);this.mutationId=r.mutationId,Me(this,gi,r.mutationCache),Me(this,so,[]),this.state=r.state||yq(),this.setOptions(r.options),this.scheduleGc()}setOptions(r){this.options=r,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(r){K(this,so).includes(r)||(K(this,so).push(r),this.clearGcTimeout(),K(this,gi).notify({type:"observerAdded",mutation:this,observer:r}))}removeObserver(r){Me(this,so,K(this,so).filter(n=>n!==r)),this.scheduleGc(),K(this,gi).notify({type:"observerRemoved",mutation:this,observer:r})}optionalRemove(){K(this,so).length||(this.state.status==="pending"?this.scheduleGc():K(this,gi).remove(this))}continue(){var r;return((r=K(this,Nd))==null?void 0:r.continue())??this.execute(this.state.variables)}async execute(r){var a,o,c,u,d,f,h,p,v,m,b,w,y,_,S,E,N,T,j,A;const n=()=>{wt(this,ao,fc).call(this,{type:"continue"})};Me(this,Nd,mq({fn:()=>this.options.mutationFn?this.options.mutationFn(r):Promise.reject(new Error("No mutationFn found")),onFail:(R,k)=>{wt(this,ao,fc).call(this,{type:"failed",failureCount:R,error:k})},onPause:()=>{wt(this,ao,fc).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>K(this,gi).canRun(this)}));const i=this.state.status==="pending",s=!K(this,Nd).canStart();try{if(i)n();else{wt(this,ao,fc).call(this,{type:"pending",variables:r,isPaused:s}),await((o=(a=K(this,gi).config).onMutate)==null?void 0:o.call(a,r,this));const k=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,r));k!==this.state.context&&wt(this,ao,fc).call(this,{type:"pending",context:k,variables:r,isPaused:s})}const R=await K(this,Nd).start();return await((f=(d=K(this,gi).config).onSuccess)==null?void 0:f.call(d,R,r,this.state.context,this)),await((p=(h=this.options).onSuccess)==null?void 0:p.call(h,R,r,this.state.context)),await((m=(v=K(this,gi).config).onSettled)==null?void 0:m.call(v,R,null,this.state.variables,this.state.context,this)),await((w=(b=this.options).onSettled)==null?void 0:w.call(b,R,null,r,this.state.context)),wt(this,ao,fc).call(this,{type:"success",data:R}),R}catch(R){try{throw await((_=(y=K(this,gi).config).onError)==null?void 0:_.call(y,R,r,this.state.context,this)),await((E=(S=this.options).onError)==null?void 0:E.call(S,R,r,this.state.context)),await((T=(N=K(this,gi).config).onSettled)==null?void 0:T.call(N,void 0,R,this.state.variables,this.state.context,this)),await((A=(j=this.options).onSettled)==null?void 0:A.call(j,void 0,R,r,this.state.context)),R}finally{wt(this,ao,fc).call(this,{type:"error",error:R})}}finally{K(this,gi).runNext(this)}}},so=new WeakMap,gi=new WeakMap,Nd=new WeakMap,ao=new WeakSet,fc=function(r){const n=i=>{switch(r.type){case"failed":return{...i,failureCount:r.failureCount,failureReason:r.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:r.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:r.isPaused,status:"pending",variables:r.variables,submittedAt:Date.now()};case"success":return{...i,data:r.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:r.error,failureCount:i.failureCount+1,failureReason:r.error,isPaused:!1,status:"error"}}};this.state=n(this.state),xn.batch(()=>{K(this,so).forEach(i=>{i.onMutationUpdate(r)}),K(this,gi).notify({mutation:this,type:"updated",action:r})})},wU);function yq(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ol,ma,r0,_U,zce=(_U=class extends dm{constructor(e={}){super();Qe(this,ol);Qe(this,ma);Qe(this,r0);this.config=e,Me(this,ol,new Set),Me(this,ma,new Map),Me(this,r0,0)}build(e,r,n){const i=new Uce({mutationCache:this,mutationId:++xx(this,r0)._,options:e.defaultMutationOptions(r),state:n});return this.add(i),i}add(e){K(this,ol).add(e);const r=Ux(e);if(typeof r=="string"){const n=K(this,ma).get(r);n?n.push(e):K(this,ma).set(r,[e])}this.notify({type:"added",mutation:e})}remove(e){if(K(this,ol).delete(e)){const r=Ux(e);if(typeof r=="string"){const n=K(this,ma).get(r);if(n)if(n.length>1){const i=n.indexOf(e);i!==-1&&n.splice(i,1)}else n[0]===e&&K(this,ma).delete(r)}}this.notify({type:"removed",mutation:e})}canRun(e){const r=Ux(e);if(typeof r=="string"){const n=K(this,ma).get(r),i=n==null?void 0:n.find(s=>s.state.status==="pending");return!i||i===e}else return!0}runNext(e){var n;const r=Ux(e);if(typeof r=="string"){const i=(n=K(this,ma).get(r))==null?void 0:n.find(s=>s!==e&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){xn.batch(()=>{K(this,ol).forEach(e=>{this.notify({type:"removed",mutation:e})}),K(this,ol).clear(),K(this,ma).clear()})}getAll(){return Array.from(K(this,ol))}find(e){const r={exact:!0,...e};return this.getAll().find(n=>c$(r,n))}findAll(e={}){return this.getAll().filter(r=>c$(e,r))}notify(e){xn.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return xn.batch(()=>Promise.all(e.map(r=>r.continue().catch(Ms))))}},ol=new WeakMap,ma=new WeakMap,r0=new WeakMap,_U);function Ux(t){var e;return(e=t.options.scope)==null?void 0:e.id}function f$(t){return{onFetch:(e,r)=>{var d,f,h,p,v;const n=e.options,i=(h=(f=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,s=((p=e.state.data)==null?void 0:p.pages)||[],a=((v=e.state.data)==null?void 0:v.pageParams)||[];let o={pages:[],pageParams:[]},c=0;const u=async()=>{let m=!1;const b=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(e.signal.aborted?m=!0:e.signal.addEventListener("abort",()=>{m=!0}),e.signal)})},w=fq(e.options,e.fetchOptions),y=async(_,S,E)=>{if(m)return Promise.reject();if(S==null&&_.pages.length)return Promise.resolve(_);const N={client:e.client,queryKey:e.queryKey,pageParam:S,direction:E?"backward":"forward",meta:e.options.meta};b(N);const T=await w(N),{maxPages:j}=e.options,A=E?Ice:kce;return{pages:A(_.pages,T,j),pageParams:A(_.pageParams,S,j)}};if(i&&s.length){const _=i==="backward",S=_?qce:h$,E={pages:s,pageParams:a},N=S(n,E);o=await y(E,N,_)}else{const _=t??s.length;do{const S=c===0?a[0]??n.initialPageParam:h$(n,o);if(c>0&&S==null)break;o=await y(o,S),c++}while(c<_)}return o};e.options.persister?e.fetchFn=()=>{var m,b;return(b=(m=e.options).persister)==null?void 0:b.call(m,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=u}}}function h$(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function qce(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var Hr,Pc,Rc,Zh,Jh,kc,ep,tp,EU,Wce=(EU=class{constructor(t={}){Qe(this,Hr);Qe(this,Pc);Qe(this,Rc);Qe(this,Zh);Qe(this,Jh);Qe(this,kc);Qe(this,ep);Qe(this,tp);Me(this,Hr,t.queryCache||new Bce),Me(this,Pc,t.mutationCache||new zce),Me(this,Rc,t.defaultOptions||{}),Me(this,Zh,new Map),Me(this,Jh,new Map),Me(this,kc,0)}mount(){xx(this,kc)._++,K(this,kc)===1&&(Me(this,ep,JR.subscribe(async t=>{t&&(await this.resumePausedMutations(),K(this,Hr).onFocus())})),Me(this,tp,Bw.subscribe(async t=>{t&&(await this.resumePausedMutations(),K(this,Hr).onOnline())})))}unmount(){var t,e;xx(this,kc)._--,K(this,kc)===0&&((t=K(this,ep))==null||t.call(this),Me(this,ep,void 0),(e=K(this,tp))==null||e.call(this),Me(this,tp,void 0))}isFetching(t){return K(this,Hr).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return K(this,Pc).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=K(this,Hr).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=K(this,Hr).build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(Ih(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return K(this,Hr).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),i=K(this,Hr).get(n.queryHash),s=i==null?void 0:i.state.data,a=Pce(e,s);if(a!==void 0)return K(this,Hr).build(this,n).setData(a,{...r,manual:!0})}setQueriesData(t,e,r){return xn.batch(()=>K(this,Hr).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=K(this,Hr).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=K(this,Hr);xn.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=K(this,Hr);return xn.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},n=xn.batch(()=>K(this,Hr).findAll(t).map(i=>i.cancel(r)));return Promise.all(n).then(Ms).catch(Ms)}invalidateQueries(t,e={}){return xn.batch(()=>(K(this,Hr).findAll(t).forEach(r=>{r.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},n=xn.batch(()=>K(this,Hr).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,r);return r.throwOnError||(s=s.catch(Ms)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(Ms)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=K(this,Hr).build(this,e);return r.isStaleByTime(Ih(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Ms).catch(Ms)}fetchInfiniteQuery(t){return t.behavior=f$(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Ms).catch(Ms)}ensureInfiniteQueryData(t){return t.behavior=f$(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Bw.isOnline()?K(this,Pc).resumePausedMutations():Promise.resolve()}getQueryCache(){return K(this,Hr)}getMutationCache(){return K(this,Pc)}getDefaultOptions(){return K(this,Rc)}setDefaultOptions(t){Me(this,Rc,t)}setQueryDefaults(t,e){K(this,Zh).set(Yd(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...K(this,Zh).values()],r={};return e.forEach(n=>{Lv(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){K(this,Jh).set(Yd(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...K(this,Jh).values()],r={};return e.forEach(n=>{Lv(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...K(this,Rc).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=QR(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===ZR&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...K(this,Rc).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){K(this,Hr).clear(),K(this,Pc).clear()}},Hr=new WeakMap,Pc=new WeakMap,Rc=new WeakMap,Zh=new WeakMap,Jh=new WeakMap,kc=new WeakMap,ep=new WeakMap,tp=new WeakMap,EU),Li,kt,n0,vi,Td,rp,Ic,Oc,i0,np,ip,jd,Cd,Mc,sp,Qt,Sg,IC,OC,MC,DC,LC,$C,FC,xq,SU,Hce=(SU=class extends dm{constructor(e,r){super();Qe(this,Qt);Qe(this,Li);Qe(this,kt);Qe(this,n0);Qe(this,vi);Qe(this,Td);Qe(this,rp);Qe(this,Ic);Qe(this,Oc);Qe(this,i0);Qe(this,np);Qe(this,ip);Qe(this,jd);Qe(this,Cd);Qe(this,Mc);Qe(this,sp,new Set);this.options=r,Me(this,Li,e),Me(this,Oc,null),Me(this,Ic,kC()),this.options.experimental_prefetchInRender||K(this,Ic).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(K(this,kt).addObserver(this),p$(K(this,kt),this.options)?wt(this,Qt,Sg).call(this):this.updateResult(),wt(this,Qt,DC).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return VC(K(this,kt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return VC(K(this,kt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,wt(this,Qt,LC).call(this),wt(this,Qt,$C).call(this),K(this,kt).removeObserver(this)}setOptions(e){const r=this.options,n=K(this,kt);if(this.options=K(this,Li).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof xa(this.options.enabled,K(this,kt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");wt(this,Qt,FC).call(this),K(this,kt).setOptions(this.options),r._defaulted&&!Vw(this.options,r)&&K(this,Li).getQueryCache().notify({type:"observerOptionsUpdated",query:K(this,kt),observer:this});const i=this.hasListeners();i&&m$(K(this,kt),n,this.options,r)&&wt(this,Qt,Sg).call(this),this.updateResult(),i&&(K(this,kt)!==n||xa(this.options.enabled,K(this,kt))!==xa(r.enabled,K(this,kt))||Ih(this.options.staleTime,K(this,kt))!==Ih(r.staleTime,K(this,kt)))&&wt(this,Qt,IC).call(this);const s=wt(this,Qt,OC).call(this);i&&(K(this,kt)!==n||xa(this.options.enabled,K(this,kt))!==xa(r.enabled,K(this,kt))||s!==K(this,Mc))&&wt(this,Qt,MC).call(this,s)}getOptimisticResult(e){const r=K(this,Li).getQueryCache().build(K(this,Li),e),n=this.createResult(r,e);return Gce(this,n)&&(Me(this,vi,n),Me(this,rp,this.options),Me(this,Td,K(this,kt).state)),n}getCurrentResult(){return K(this,vi)}trackResult(e,r){return new Proxy(e,{get:(n,i)=>(this.trackProp(i),r==null||r(i),Reflect.get(n,i))})}trackProp(e){K(this,sp).add(e)}getCurrentQuery(){return K(this,kt)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=K(this,Li).defaultQueryOptions(e),n=K(this,Li).getQueryCache().build(K(this,Li),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(e){return wt(this,Qt,Sg).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),K(this,vi)))}createResult(e,r){var A;const n=K(this,kt),i=this.options,s=K(this,vi),a=K(this,Td),o=K(this,rp),u=e!==n?e.state:K(this,n0),{state:d}=e;let f={...d},h=!1,p;if(r._optimisticResults){const R=this.hasListeners(),k=!R&&p$(e,r),O=R&&m$(e,n,r,i);(k||O)&&(f={...f,...vq(d.data,e.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:v,errorUpdatedAt:m,status:b}=f;p=f.data;let w=!1;if(r.placeholderData!==void 0&&p===void 0&&b==="pending"){let R;s!=null&&s.isPlaceholderData&&r.placeholderData===(o==null?void 0:o.placeholderData)?(R=s.data,w=!0):R=typeof r.placeholderData=="function"?r.placeholderData((A=K(this,ip))==null?void 0:A.state.data,K(this,ip)):r.placeholderData,R!==void 0&&(b="success",p=RC(s==null?void 0:s.data,R,r),h=!0)}if(r.select&&p!==void 0&&!w)if(s&&p===(a==null?void 0:a.data)&&r.select===K(this,i0))p=K(this,np);else try{Me(this,i0,r.select),p=r.select(p),p=RC(s==null?void 0:s.data,p,r),Me(this,np,p),Me(this,Oc,null)}catch(R){Me(this,Oc,R)}K(this,Oc)&&(v=K(this,Oc),p=K(this,np),m=Date.now(),b="error");const y=f.fetchStatus==="fetching",_=b==="pending",S=b==="error",E=_&&y,N=p!==void 0,j={status:b,fetchStatus:f.fetchStatus,isPending:_,isSuccess:b==="success",isError:S,isInitialLoading:E,isLoading:E,data:p,dataUpdatedAt:f.dataUpdatedAt,error:v,errorUpdatedAt:m,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:y,isRefetching:y&&!_,isLoadingError:S&&!N,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:S&&N,isStale:ek(e,r),refetch:this.refetch,promise:K(this,Ic)};if(this.options.experimental_prefetchInRender){const R=P=>{j.status==="error"?P.reject(j.error):j.data!==void 0&&P.resolve(j.data)},k=()=>{const P=Me(this,Ic,j.promise=kC());R(P)},O=K(this,Ic);switch(O.status){case"pending":e.queryHash===n.queryHash&&R(O);break;case"fulfilled":(j.status==="error"||j.data!==O.value)&&k();break;case"rejected":(j.status!=="error"||j.error!==O.reason)&&k();break}}return j}updateResult(){const e=K(this,vi),r=this.createResult(K(this,kt),this.options);if(Me(this,Td,K(this,kt).state),Me(this,rp,this.options),K(this,Td).data!==void 0&&Me(this,ip,K(this,kt)),Vw(r,e))return;Me(this,vi,r);const n=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,s=typeof i=="function"?i():i;if(s==="all"||!s&&!K(this,sp).size)return!0;const a=new Set(s??K(this,sp));return this.options.throwOnError&&a.add("error"),Object.keys(K(this,vi)).some(o=>{const c=o;return K(this,vi)[c]!==e[c]&&a.has(c)})};wt(this,Qt,xq).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&wt(this,Qt,DC).call(this)}},Li=new WeakMap,kt=new WeakMap,n0=new WeakMap,vi=new WeakMap,Td=new WeakMap,rp=new WeakMap,Ic=new WeakMap,Oc=new WeakMap,i0=new WeakMap,np=new WeakMap,ip=new WeakMap,jd=new WeakMap,Cd=new WeakMap,Mc=new WeakMap,sp=new WeakMap,Qt=new WeakSet,Sg=function(e){wt(this,Qt,FC).call(this);let r=K(this,kt).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(Ms)),r},IC=function(){wt(this,Qt,LC).call(this);const e=Ih(this.options.staleTime,K(this,kt));if(Gd||K(this,vi).isStale||!AC(e))return;const n=uq(K(this,vi).dataUpdatedAt,e)+1;Me(this,jd,setTimeout(()=>{K(this,vi).isStale||this.updateResult()},n))},OC=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(K(this,kt)):this.options.refetchInterval)??!1},MC=function(e){wt(this,Qt,$C).call(this),Me(this,Mc,e),!(Gd||xa(this.options.enabled,K(this,kt))===!1||!AC(K(this,Mc))||K(this,Mc)===0)&&Me(this,Cd,setInterval(()=>{(this.options.refetchIntervalInBackground||JR.isFocused())&&wt(this,Qt,Sg).call(this)},K(this,Mc)))},DC=function(){wt(this,Qt,IC).call(this),wt(this,Qt,MC).call(this,wt(this,Qt,OC).call(this))},LC=function(){K(this,jd)&&(clearTimeout(K(this,jd)),Me(this,jd,void 0))},$C=function(){K(this,Cd)&&(clearInterval(K(this,Cd)),Me(this,Cd,void 0))},FC=function(){const e=K(this,Li).getQueryCache().build(K(this,Li),this.options);if(e===K(this,kt))return;const r=K(this,kt);Me(this,kt,e),Me(this,n0,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},xq=function(e){xn.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(K(this,vi))}),K(this,Li).getQueryCache().notify({query:K(this,kt),type:"observerResultsUpdated"})})},SU);function Kce(t,e){return xa(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function p$(t,e){return Kce(t,e)||t.state.data!==void 0&&VC(t,e,e.refetchOnMount)}function VC(t,e,r){if(xa(e.enabled,t)!==!1){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&ek(t,e)}return!1}function m$(t,e,r,n){return(t!==e||xa(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&ek(t,r)}function ek(t,e){return xa(e.enabled,t)!==!1&&t.isStaleByTime(Ih(e.staleTime,t))}function Gce(t,e){return!Vw(t.getCurrentResult(),e)}var Dc,Lc,$i,ll,Rl,Fb,BC,NU,Yce=(NU=class extends dm{constructor(r,n){super();Qe(this,Rl);Qe(this,Dc);Qe(this,Lc);Qe(this,$i);Qe(this,ll);Me(this,Dc,r),this.setOptions(n),this.bindMethods(),wt(this,Rl,Fb).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var i;const n=this.options;this.options=K(this,Dc).defaultMutationOptions(r),Vw(this.options,n)||K(this,Dc).getMutationCache().notify({type:"observerOptionsUpdated",mutation:K(this,$i),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Yd(n.mutationKey)!==Yd(this.options.mutationKey)?this.reset():((i=K(this,$i))==null?void 0:i.state.status)==="pending"&&K(this,$i).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=K(this,$i))==null||r.removeObserver(this)}onMutationUpdate(r){wt(this,Rl,Fb).call(this),wt(this,Rl,BC).call(this,r)}getCurrentResult(){return K(this,Lc)}reset(){var r;(r=K(this,$i))==null||r.removeObserver(this),Me(this,$i,void 0),wt(this,Rl,Fb).call(this),wt(this,Rl,BC).call(this)}mutate(r,n){var i;return Me(this,ll,n),(i=K(this,$i))==null||i.removeObserver(this),Me(this,$i,K(this,Dc).getMutationCache().build(K(this,Dc),this.options)),K(this,$i).addObserver(this),K(this,$i).execute(r)}},Dc=new WeakMap,Lc=new WeakMap,$i=new WeakMap,ll=new WeakMap,Rl=new WeakSet,Fb=function(){var n;const r=((n=K(this,$i))==null?void 0:n.state)??yq();Me(this,Lc,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},BC=function(r){xn.batch(()=>{var n,i,s,a,o,c,u,d;if(K(this,ll)&&this.hasListeners()){const f=K(this,Lc).variables,h=K(this,Lc).context;(r==null?void 0:r.type)==="success"?((i=(n=K(this,ll)).onSuccess)==null||i.call(n,r.data,f,h),(a=(s=K(this,ll)).onSettled)==null||a.call(s,r.data,null,f,h)):(r==null?void 0:r.type)==="error"&&((c=(o=K(this,ll)).onError)==null||c.call(o,r.error,f,h),(d=(u=K(this,ll)).onSettled)==null||d.call(u,void 0,r.error,f,h))}this.listeners.forEach(f=>{f(K(this,Lc))})})},NU),bq=g.createContext(void 0),wu=t=>{const e=g.useContext(bq);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},Xce=({client:t,children:e})=>(g.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),l.jsx(bq.Provider,{value:t,children:e})),wq=g.createContext(!1),Qce=()=>g.useContext(wq);wq.Provider;function Zce(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Jce=g.createContext(Zce()),eue=()=>g.useContext(Jce);function _q(t,e){return typeof t=="function"?t(...e):!!t}function UC(){}var tue=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},rue=t=>{g.useEffect(()=>{t.clearReset()},[t])},nue=({result:t,errorResetBoundary:e,throwOnError:r,query:n,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&(i&&t.data===void 0||_q(r,[t.error,n])),iue=t=>{const e=t.staleTime;t.suspense&&(t.staleTime=typeof e=="function"?(...r)=>Math.max(e(...r),1e3):Math.max(e??1e3,1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},sue=(t,e)=>t.isLoading&&t.isFetching&&!e,aue=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,g$=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function oue(t,e,r){var f,h,p,v,m;const n=wu(),i=Qce(),s=eue(),a=n.defaultQueryOptions(t);(h=(f=n.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||h.call(f,a),a._optimisticResults=i?"isRestoring":"optimistic",iue(a),tue(a,s),rue(s);const o=!n.getQueryCache().get(a.queryHash),[c]=g.useState(()=>new e(n,a)),u=c.getOptimisticResult(a),d=!i&&t.subscribed!==!1;if(g.useSyncExternalStore(g.useCallback(b=>{const w=d?c.subscribe(xn.batchCalls(b)):UC;return c.updateResult(),w},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),g.useEffect(()=>{c.setOptions(a)},[a,c]),aue(a,u))throw g$(a,c,s);if(nue({result:u,errorResetBoundary:s,throwOnError:a.throwOnError,query:n.getQueryCache().get(a.queryHash),suspense:a.suspense}))throw u.error;if((v=(p=n.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||v.call(p,a,u),a.experimental_prefetchInRender&&!Gd&&sue(u,i)){const b=o?g$(a,c,s):(m=n.getQueryCache().get(a.queryHash))==null?void 0:m.promise;b==null||b.catch(UC).finally(()=>{c.updateResult()})}return a.notifyOnChangeProps?u:c.trackResult(u)}function Xi(t,e){return oue(t,Hce)}function zx(t,e){const r=wu(),[n]=g.useState(()=>new Yce(r,t));g.useEffect(()=>{n.setOptions(t)},[n,t]);const i=g.useSyncExternalStore(g.useCallback(a=>n.subscribe(xn.batchCalls(a)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),s=g.useCallback((a,o)=>{n.mutate(a,o).catch(UC)},[n]);if(i.error&&_q(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}var tk={};Object.defineProperty(tk,"__esModule",{value:!0});tk.parse=pue;tk.serialize=mue;const lue=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,cue=/^[\u0021-\u003A\u003C-\u007E]*$/,uue=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,due=/^[\u0020-\u003A\u003D-\u007E]*$/,fue=Object.prototype.toString,hue=(()=>{const t=function(){};return t.prototype=Object.create(null),t})();function pue(t,e){const r=new hue,n=t.length;if(n<2)return r;const i=(e==null?void 0:e.decode)||gue;let s=0;do{const a=t.indexOf("=",s);if(a===-1)break;const o=t.indexOf(";",s),c=o===-1?n:o;if(a>c){s=t.lastIndexOf(";",a-1)+1;continue}const u=v$(t,s,a),d=y$(t,a,u),f=t.slice(u,d);if(r[f]===void 0){let h=v$(t,a+1,c),p=y$(t,c,h);const v=i(t.slice(h,p));r[f]=v}s=c+1}while(s<n);return r}function v$(t,e,r){do{const n=t.charCodeAt(e);if(n!==32&&n!==9)return e}while(++e<r);return r}function y$(t,e,r){for(;e>r;){const n=t.charCodeAt(--e);if(n!==32&&n!==9)return e+1}return r}function mue(t,e,r){const n=(r==null?void 0:r.encode)||encodeURIComponent;if(!lue.test(t))throw new TypeError(`argument name is invalid: ${t}`);const i=n(e);if(!cue.test(i))throw new TypeError(`argument val is invalid: ${e}`);let s=t+"="+i;if(!r)return s;if(r.maxAge!==void 0){if(!Number.isInteger(r.maxAge))throw new TypeError(`option maxAge is invalid: ${r.maxAge}`);s+="; Max-Age="+r.maxAge}if(r.domain){if(!uue.test(r.domain))throw new TypeError(`option domain is invalid: ${r.domain}`);s+="; Domain="+r.domain}if(r.path){if(!due.test(r.path))throw new TypeError(`option path is invalid: ${r.path}`);s+="; Path="+r.path}if(r.expires){if(!vue(r.expires)||!Number.isFinite(r.expires.valueOf()))throw new TypeError(`option expires is invalid: ${r.expires}`);s+="; Expires="+r.expires.toUTCString()}if(r.httpOnly&&(s+="; HttpOnly"),r.secure&&(s+="; Secure"),r.partitioned&&(s+="; Partitioned"),r.priority)switch(typeof r.priority=="string"?r.priority.toLowerCase():void 0){case"low":s+="; Priority=Low";break;case"medium":s+="; Priority=Medium";break;case"high":s+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${r.priority}`)}if(r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:case"strict":s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"none":s+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${r.sameSite}`)}return s}function gue(t){if(t.indexOf("%")===-1)return t;try{return decodeURIComponent(t)}catch{return t}}function vue(t){return fue.call(t)==="[object Date]"}/**
 * react-router v7.5.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Eq=t=>{throw TypeError(t)},yue=(t,e,r)=>e.has(t)||Eq("Cannot "+r),WN=(t,e,r)=>(yue(t,e,"read from private field"),r?r.call(t):e.get(t)),xue=(t,e,r)=>e.has(t)?Eq("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),x$="popstate";function bue(t={}){function e(n,i){let{pathname:s,search:a,hash:o}=n.location;return $v("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:iu(i)}return _ue(e,r,null,t)}function Nt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function an(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function wue(){return Math.random().toString(36).substring(2,10)}function b$(t,e){return{usr:t.state,key:t.key,idx:e}}function $v(t,e,r=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?_u(e):e,state:r,key:e&&e.key||n||wue()}}function iu({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function _u(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substring(n),t=t.substring(0,n)),t&&(e.pathname=t)}return e}function _ue(t,e,r,n={}){let{window:i=document.defaultView,v5Compat:s=!1}=n,a=i.history,o="POP",c=null,u=d();u==null&&(u=0,a.replaceState({...a.state,idx:u},""));function d(){return(a.state||{idx:null}).idx}function f(){o="POP";let b=d(),w=b==null?null:b-u;u=b,c&&c({action:o,location:m.location,delta:w})}function h(b,w){o="PUSH";let y=$v(m.location,b,w);u=d()+1;let _=b$(y,u),S=m.createHref(y);try{a.pushState(_,"",S)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;i.location.assign(S)}s&&c&&c({action:o,location:m.location,delta:1})}function p(b,w){o="REPLACE";let y=$v(m.location,b,w);u=d();let _=b$(y,u),S=m.createHref(y);a.replaceState(_,"",S),s&&c&&c({action:o,location:m.location,delta:0})}function v(b){let w=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof b=="string"?b:iu(b);return y=y.replace(/ $/,"%20"),Nt(w,`No window.location.(origin|href) available to create URL for href: ${y}`),new URL(y,w)}let m={get action(){return o},get location(){return t(i,a)},listen(b){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(x$,f),c=b,()=>{i.removeEventListener(x$,f),c=null}},createHref(b){return e(i,b)},createURL:v,encodeLocation(b){let w=v(b);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:h,replace:p,go(b){return a.go(b)}};return m}var Ng,w$=class{constructor(t){if(xue(this,Ng,new Map),t)for(let[e,r]of t)this.set(e,r)}get(t){if(WN(this,Ng).has(t))return WN(this,Ng).get(t);if(t.defaultValue!==void 0)return t.defaultValue;throw new Error("No value found for context")}set(t,e){WN(this,Ng).set(t,e)}};Ng=new WeakMap;var Eue=new Set(["lazy","caseSensitive","path","id","index","children"]);function Sue(t){return Eue.has(t)}var Nue=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function Tue(t){return Nue.has(t)}function jue(t){return t.index===!0}function Uw(t,e,r=[],n={}){return t.map((i,s)=>{let a=[...r,String(s)],o=typeof i.id=="string"?i.id:a.join("-");if(Nt(i.index!==!0||!i.children,"Cannot specify children on an index route"),Nt(!n[o],`Found a route id collision on id "${o}".  Route id's must be globally unique within Data Router usages`),jue(i)){let c={...i,...e(i),id:o};return n[o]=c,c}else{let c={...i,...e(i),id:o,children:void 0};return n[o]=c,i.children&&(c.children=Uw(i.children,e,a,n)),c}})}function Ec(t,e,r="/"){return Vb(t,e,r,!1)}function Vb(t,e,r,n){let i=typeof e=="string"?_u(e):e,s=Qs(i.pathname||"/",r);if(s==null)return null;let a=Sq(t);Aue(a);let o=null;for(let c=0;o==null&&c<a.length;++c){let u=Vue(s);o=$ue(a[c],u,n)}return o}function Cue(t,e){let{route:r,pathname:n,params:i}=t;return{id:r.id,pathname:n,params:i,data:e[r.id],handle:r.handle}}function Sq(t,e=[],r=[],n=""){let i=(s,a,o)=>{let c={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};c.relativePath.startsWith("/")&&(Nt(c.relativePath.startsWith(n),`Absolute route path "${c.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(n.length));let u=wo([n,c.relativePath]),d=r.concat(c);s.children&&s.children.length>0&&(Nt(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),Sq(s.children,e,d,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:Due(u,s.index),routesMeta:d})};return t.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let c of Nq(s.path))i(s,a,c)}),e}function Nq(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let a=Nq(n.join("/")),o=[];return o.push(...a.map(c=>c===""?s:[s,c].join("/"))),i&&o.push(...a),o.map(c=>t.startsWith("/")&&c===""?"/":c)}function Aue(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:Lue(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var Pue=/^:[\w-]+$/,Rue=3,kue=2,Iue=1,Oue=10,Mue=-2,_$=t=>t==="*";function Due(t,e){let r=t.split("/"),n=r.length;return r.some(_$)&&(n+=Mue),e&&(n+=kue),r.filter(i=>!_$(i)).reduce((i,s)=>i+(Pue.test(s)?Rue:s===""?Iue:Oue),n)}function Lue(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function $ue(t,e,r=!1){let{routesMeta:n}=t,i={},s="/",a=[];for(let o=0;o<n.length;++o){let c=n[o],u=o===n.length-1,d=s==="/"?e:e.slice(s.length)||"/",f=zw({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=zw({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(i,f.params),a.push({params:i,pathname:wo([s,f.pathname]),pathnameBase:zue(wo([s,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(s=wo([s,f.pathnameBase]))}return a}function zw(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=Fue(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((u,{paramName:d,isOptional:f},h)=>{if(d==="*"){let v=o[h]||"";a=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const p=o[h];return f&&!p?u[d]=void 0:u[d]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:a,pattern:t}}function Fue(t,e=!1,r=!0){an(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,c)=>(n.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function Vue(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return an(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Qs(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function Bue(t,e="/"){let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?_u(t):t;return{pathname:r?r.startsWith("/")?r:Uue(r,e):e,search:que(n),hash:Wue(i)}}function Uue(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function HN(t,e,r,n){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Tq(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function oE(t){let e=Tq(t);return e.map((r,n)=>n===e.length-1?r.pathname:r.pathnameBase)}function lE(t,e,r,n=!1){let i;typeof t=="string"?i=_u(t):(i={...t},Nt(!i.pathname||!i.pathname.includes("?"),HN("?","pathname","search",i)),Nt(!i.pathname||!i.pathname.includes("#"),HN("#","pathname","hash",i)),Nt(!i.search||!i.search.includes("#"),HN("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=r;else{let f=e.length-1;if(!n&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}o=f>=0?e[f]:"/"}let c=Bue(i,o),u=a&&a!=="/"&&a.endsWith("/"),d=(s||a===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}var wo=t=>t.join("/").replace(/\/\/+/g,"/"),zue=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),que=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Wue=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,qw=class{constructor(t,e,r,n=!1){this.status=t,this.statusText=e||"",this.internal=n,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function Fv(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var jq=["POST","PUT","PATCH","DELETE"],Hue=new Set(jq),Kue=["GET",...jq],Gue=new Set(Kue),Yue=new Set([301,302,303,307,308]),Xue=new Set([307,308]),KN={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Que={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},tg={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},rk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Zue=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),Cq="remix-router-transitions",Aq=Symbol("ResetLoaderData");function Jue(t){const e=t.window?t.window:typeof window<"u"?window:void 0,r=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Nt(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let n=t.hydrationRouteProperties||[],i=t.mapRouteProperties||Zue,s={},a=Uw(t.routes,i,void 0,s),o,c=t.basename||"/",u=t.dataStrategy||ide,d={unstable_middleware:!1,...t.future},f=null,h=new Set,p=null,v=null,m=null,b=t.hydrationData!=null,w=Ec(a,t.history.location,c),y=!1,_=null;if(w==null&&!t.patchRoutesOnNavigation){let H=Ds(404,{pathname:t.history.location.pathname}),{matches:Z,route:ne}=O$(a);w=Z,_={[ne.id]:H}}w&&!t.hydrationData&&Di(w,a,t.history.location.pathname).active&&(w=null);let S;if(w)if(w.some(H=>H.route.lazy))S=!1;else if(!w.some(H=>H.route.loader))S=!0;else{let H=t.hydrationData?t.hydrationData.loaderData:null,Z=t.hydrationData?t.hydrationData.errors:null;if(Z){let ne=w.findIndex(ve=>Z[ve.route.id]!==void 0);S=w.slice(0,ne+1).every(ve=>!qC(ve.route,H,Z))}else S=w.every(ne=>!qC(ne.route,H,Z))}else{S=!1,w=[];let H=Di(null,a,t.history.location.pathname);H.active&&H.matches&&(y=!0,w=H.matches)}let E,N={historyAction:t.history.action,location:t.history.location,matches:w,initialized:S,navigation:KN,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||_,fetchers:new Map,blockers:new Map},T="POP",j=!1,A,R=!1,k=new Map,O=null,P=!1,D=!1,z=new Set,M=new Map,V=0,L=-1,$=new Map,G=new Set,q=new Map,U=new Map,X=new Set,ie=new Map,le,xe=null;function ce(){if(f=t.history.listen(({action:H,location:Z,delta:ne})=>{if(le){le(),le=void 0;return}an(ie.size===0||ne!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ve=na({currentLocation:N.location,nextLocation:Z,historyAction:H});if(ve&&ne!=null){let Ee=new Promise(Oe=>{le=Oe});t.history.go(ne*-1),Xa(ve,{state:"blocked",location:Z,proceed(){Xa(ve,{state:"proceeding",proceed:void 0,reset:void 0,location:Z}),Ee.then(()=>t.history.go(ne))},reset(){let Oe=new Map(N.blockers);Oe.set(ve,tg),ee({blockers:Oe})}});return}return Ae(H,Z)}),r){mde(e,k);let H=()=>gde(e,k);e.addEventListener("pagehide",H),O=()=>e.removeEventListener("pagehide",H)}return N.initialized||Ae("POP",N.location,{initialHydration:!0}),E}function Q(){f&&f(),O&&O(),h.clear(),A&&A.abort(),N.fetchers.forEach((H,Z)=>yt(Z)),N.blockers.forEach((H,Z)=>Mi(Z))}function Y(H){return h.add(H),()=>h.delete(H)}function ee(H,Z={}){N={...N,...H};let ne=[],ve=[];N.fetchers.forEach((Ee,Oe)=>{Ee.state==="idle"&&(X.has(Oe)?ne.push(Oe):ve.push(Oe))}),X.forEach(Ee=>{!N.fetchers.has(Ee)&&!M.has(Ee)&&ne.push(Ee)}),[...h].forEach(Ee=>Ee(N,{deletedFetchers:ne,viewTransitionOpts:Z.viewTransitionOpts,flushSync:Z.flushSync===!0})),ne.forEach(Ee=>yt(Ee)),ve.forEach(Ee=>N.fetchers.delete(Ee))}function se(H,Z,{flushSync:ne}={}){var Ge,ut;let ve=N.actionData!=null&&N.navigation.formMethod!=null&&us(N.navigation.formMethod)&&N.navigation.state==="loading"&&((Ge=H.state)==null?void 0:Ge._isRedirect)!==!0,Ee;Z.actionData?Object.keys(Z.actionData).length>0?Ee=Z.actionData:Ee=null:ve?Ee=N.actionData:Ee=null;let Oe=Z.loaderData?k$(N.loaderData,Z.loaderData,Z.matches||[],Z.errors):N.loaderData,nt=N.blockers;nt.size>0&&(nt=new Map(nt),nt.forEach((He,pt)=>nt.set(pt,tg)));let Be=j===!0||N.navigation.formMethod!=null&&us(N.navigation.formMethod)&&((ut=H.state)==null?void 0:ut._isRedirect)!==!0;o&&(a=o,o=void 0),P||T==="POP"||(T==="PUSH"?t.history.push(H,H.state):T==="REPLACE"&&t.history.replace(H,H.state));let qe;if(T==="POP"){let He=k.get(N.location.pathname);He&&He.has(H.pathname)?qe={currentLocation:N.location,nextLocation:H}:k.has(H.pathname)&&(qe={currentLocation:H,nextLocation:N.location})}else if(R){let He=k.get(N.location.pathname);He?He.add(H.pathname):(He=new Set([H.pathname]),k.set(N.location.pathname,He)),qe={currentLocation:N.location,nextLocation:H}}ee({...Z,actionData:Ee,loaderData:Oe,historyAction:T,location:H,initialized:!0,navigation:KN,revalidation:"idle",restoreScrollPosition:hi(H,Z.matches||N.matches),preventScrollReset:Be,blockers:nt},{viewTransitionOpts:qe,flushSync:ne===!0}),T="POP",j=!1,R=!1,P=!1,D=!1,xe==null||xe.resolve(),xe=null}async function J(H,Z){if(typeof H=="number"){t.history.go(H);return}let ne=zC(N.location,N.matches,c,H,Z==null?void 0:Z.fromRouteId,Z==null?void 0:Z.relative),{path:ve,submission:Ee,error:Oe}=E$(!1,ne,Z),nt=N.location,Be=$v(N.location,ve,Z&&Z.state);Be={...Be,...t.history.encodeLocation(Be)};let qe=Z&&Z.replace!=null?Z.replace:void 0,Ge="PUSH";qe===!0?Ge="REPLACE":qe===!1||Ee!=null&&us(Ee.formMethod)&&Ee.formAction===N.location.pathname+N.location.search&&(Ge="REPLACE");let ut=Z&&"preventScrollReset"in Z?Z.preventScrollReset===!0:void 0,He=(Z&&Z.flushSync)===!0,pt=na({currentLocation:nt,nextLocation:Be,historyAction:Ge});if(pt){Xa(pt,{state:"blocked",location:Be,proceed(){Xa(pt,{state:"proceeding",proceed:void 0,reset:void 0,location:Be}),J(H,Z)},reset(){let Kt=new Map(N.blockers);Kt.set(pt,tg),ee({blockers:Kt})}});return}await Ae(Ge,Be,{submission:Ee,pendingError:Oe,preventScrollReset:ut,replace:Z&&Z.replace,enableViewTransition:Z&&Z.viewTransition,flushSync:He})}function je(){xe||(xe=vde()),Te(),ee({revalidation:"loading"});let H=xe.promise;return N.navigation.state==="submitting"?H:N.navigation.state==="idle"?(Ae(N.historyAction,N.location,{startUninterruptedRevalidation:!0}),H):(Ae(T||N.historyAction,N.navigation.location,{overrideNavigation:N.navigation,enableViewTransition:R===!0}),H)}async function Ae(H,Z,ne){A&&A.abort(),A=null,T=H,P=(ne&&ne.startUninterruptedRevalidation)===!0,Ko(N.location,N.matches),j=(ne&&ne.preventScrollReset)===!0,R=(ne&&ne.enableViewTransition)===!0;let ve=o||a,Ee=ne&&ne.overrideNavigation,Oe=ne!=null&&ne.initialHydration&&N.matches&&N.matches.length>0&&!y?N.matches:Ec(ve,Z,c),nt=(ne&&ne.flushSync)===!0;if(Oe&&N.initialized&&!D&&ude(N.location,Z)&&!(ne&&ne.submission&&us(ne.submission.formMethod))){se(Z,{matches:Oe},{flushSync:nt});return}let Be=Di(Oe,ve,Z.pathname);if(Be.active&&Be.matches&&(Oe=Be.matches),!Oe){let{error:xr,notFoundMatches:Yn,route:Rt}=Ho(Z.pathname);se(Z,{matches:Yn,loaderData:{},errors:{[Rt.id]:xr}},{flushSync:nt});return}A=new AbortController;let qe=Yf(t.history,Z,A.signal,ne&&ne.submission),Ge=new w$(t.unstable_getContext?await t.unstable_getContext():void 0),ut;if(ne&&ne.pendingError)ut=[od(Oe).route.id,{type:"error",error:ne.pendingError}];else if(ne&&ne.submission&&us(ne.submission.formMethod)){let xr=await ct(qe,Z,ne.submission,Oe,Ge,Be.active,ne&&ne.initialHydration===!0,{replace:ne.replace,flushSync:nt});if(xr.shortCircuited)return;if(xr.pendingActionResult){let[Yn,Rt]=xr.pendingActionResult;if(cs(Rt)&&Fv(Rt.error)&&Rt.error.status===404){A=null,se(Z,{matches:xr.matches,loaderData:{},errors:{[Yn]:Rt.error}});return}}Oe=xr.matches||Oe,ut=xr.pendingActionResult,Ee=GN(Z,ne.submission),nt=!1,Be.active=!1,qe=Yf(t.history,qe.url,qe.signal)}let{shortCircuited:He,matches:pt,loaderData:Kt,errors:Pr}=await fe(qe,Z,Oe,Ge,Be.active,Ee,ne&&ne.submission,ne&&ne.fetcherSubmission,ne&&ne.replace,ne&&ne.initialHydration===!0,nt,ut);He||(A=null,se(Z,{matches:pt||Oe,...I$(ut),loaderData:Kt,errors:Pr}))}async function ct(H,Z,ne,ve,Ee,Oe,nt,Be={}){Te();let qe=hde(Z,ne);if(ee({navigation:qe},{flushSync:Be.flushSync===!0}),Oe){let He=await Ze(ve,Z.pathname,H.signal);if(He.type==="aborted")return{shortCircuited:!0};if(He.type==="error"){let pt=od(He.partialMatches).route.id;return{matches:He.partialMatches,pendingActionResult:[pt,{type:"error",error:He.error}]}}else if(He.matches)ve=He.matches;else{let{notFoundMatches:pt,error:Kt,route:Pr}=Ho(Z.pathname);return{matches:pt,pendingActionResult:[Pr.id,{type:"error",error:Kt}]}}}let Ge,ut=Tg(ve,Z);if(!ut.route.action&&!ut.route.lazy)Ge={type:"error",error:Ds(405,{method:H.method,pathname:Z.pathname,routeId:ut.route.id})};else{let He=Oh(i,s,H,ve,ut,nt?[]:n,Ee),pt=await te(H,He,Ee,null);if(Ge=pt[ut.route.id],!Ge){for(let Kt of ve)if(pt[Kt.route.id]){Ge=pt[Kt.route.id];break}}if(H.signal.aborted)return{shortCircuited:!0}}if(hd(Ge)){let He;return Be&&Be.replace!=null?He=Be.replace:He=A$(Ge.response.headers.get("Location"),new URL(H.url),c)===N.location.pathname+N.location.search,await W(H,Ge,!0,{submission:ne,replace:He}),{shortCircuited:!0}}if(cs(Ge)){let He=od(ve,ut.route.id);return(Be&&Be.replace)!==!0&&(T="PUSH"),{matches:ve,pendingActionResult:[He.route.id,Ge,ut.route.id]}}return{matches:ve,pendingActionResult:[ut.route.id,Ge]}}async function fe(H,Z,ne,ve,Ee,Oe,nt,Be,qe,Ge,ut,He){let pt=Oe||GN(Z,nt),Kt=nt||Be||D$(pt),Pr=!P&&!Ge;if(Ee){if(Pr){let Xn=$e(He);ee({navigation:pt,...Xn!==void 0?{actionData:Xn}:{}},{flushSync:ut})}let Ct=await Ze(ne,Z.pathname,H.signal);if(Ct.type==="aborted")return{shortCircuited:!0};if(Ct.type==="error"){let Xn=od(Ct.partialMatches).route.id;return{matches:Ct.partialMatches,loaderData:{},errors:{[Xn]:Ct.error}}}else if(Ct.matches)ne=Ct.matches;else{let{error:Xn,notFoundMatches:eo,route:Wu}=Ho(Z.pathname);return{matches:eo,loaderData:{},errors:{[Wu.id]:Xn}}}}let xr=o||a,{dsMatches:Yn,revalidatingFetchers:Rt}=S$(H,ve,i,s,t.history,N,ne,Kt,Z,Ge?[]:n,Ge===!0,D,z,X,q,G,xr,c,He);if(L=++V,!t.dataStrategy&&!Yn.some(Ct=>Ct.shouldLoad)&&Rt.length===0){let Ct=ss();return se(Z,{matches:ne,loaderData:{},errors:He&&cs(He[1])?{[He[0]]:He[1].error}:null,...I$(He),...Ct?{fetchers:new Map(N.fetchers)}:{}},{flushSync:ut}),{shortCircuited:!0}}if(Pr){let Ct={};if(!Ee){Ct.navigation=pt;let Xn=$e(He);Xn!==void 0&&(Ct.actionData=Xn)}Rt.length>0&&(Ct.fetchers=Xe(Rt)),ee(Ct,{flushSync:ut})}Rt.forEach(Ct=>{Zt(Ct.key),Ct.controller&&M.set(Ct.key,Ct.controller)});let Go=()=>Rt.forEach(Ct=>Zt(Ct.key));A&&A.signal.addEventListener("abort",Go);let{loaderResults:ia,fetcherResults:ic}=await ue(Yn,Rt,H,ve);if(H.signal.aborted)return{shortCircuited:!0};A&&A.signal.removeEventListener("abort",Go),Rt.forEach(Ct=>M.delete(Ct.key));let pi=qx(ia);if(pi)return await W(H,pi.result,!0,{replace:qe}),{shortCircuited:!0};if(pi=qx(ic),pi)return G.add(pi.key),await W(H,pi.result,!0,{replace:qe}),{shortCircuited:!0};let{loaderData:qu,errors:Za}=R$(N,ne,ia,He,Rt,ic);Ge&&N.errors&&(Za={...N.errors,...Za});let If=ss(),sa=Gn(L),Ja=If||sa||Rt.length>0;return{matches:ne,loaderData:qu,errors:Za,...Ja?{fetchers:new Map(N.fetchers)}:{}}}function $e(H){if(H&&!cs(H[1]))return{[H[0]]:H[1].data};if(N.actionData)return Object.keys(N.actionData).length===0?null:N.actionData}function Xe(H){return H.forEach(Z=>{let ne=N.fetchers.get(Z.key),ve=rg(void 0,ne?ne.data:void 0);N.fetchers.set(Z.key,ve)}),new Map(N.fetchers)}async function vt(H,Z,ne,ve){Zt(H);let Ee=(ve&&ve.flushSync)===!0,Oe=o||a,nt=zC(N.location,N.matches,c,ne,Z,ve==null?void 0:ve.relative),Be=Ec(Oe,nt,c),qe=Di(Be,Oe,nt);if(qe.active&&qe.matches&&(Be=qe.matches),!Be){he(H,Z,Ds(404,{pathname:nt}),{flushSync:Ee});return}let{path:Ge,submission:ut,error:He}=E$(!0,nt,ve);if(He){he(H,Z,He,{flushSync:Ee});return}let pt=Tg(Be,Ge),Kt=new w$(t.unstable_getContext?await t.unstable_getContext():void 0),Pr=(ve&&ve.preventScrollReset)===!0;if(ut&&us(ut.formMethod)){await Ar(H,Z,Ge,pt,Be,Kt,qe.active,Ee,Pr,ut);return}q.set(H,{routeId:Z,path:Ge}),await lr(H,Z,Ge,pt,Be,Kt,qe.active,Ee,Pr,ut)}async function Ar(H,Z,ne,ve,Ee,Oe,nt,Be,qe,Ge){Te(),q.delete(H);function ut(Mr){if(!Mr.route.action&&!Mr.route.lazy){let to=Ds(405,{method:Ge.formMethod,pathname:ne,routeId:Z});return he(H,Z,to,{flushSync:Be}),!0}return!1}if(!nt&&ut(ve))return;let He=N.fetchers.get(H);pe(H,pde(Ge,He),{flushSync:Be});let pt=new AbortController,Kt=Yf(t.history,ne,pt.signal,Ge);if(nt){let Mr=await Ze(Ee,ne,Kt.signal,H);if(Mr.type==="aborted")return;if(Mr.type==="error"){he(H,Z,Mr.error,{flushSync:Be});return}else if(Mr.matches){if(Ee=Mr.matches,ve=Tg(Ee,ne),ut(ve))return}else{he(H,Z,Ds(404,{pathname:ne}),{flushSync:Be});return}}M.set(H,pt);let Pr=V,xr=Oh(i,s,Kt,Ee,ve,n,Oe),Rt=(await te(Kt,xr,Oe,H))[ve.route.id];if(Kt.signal.aborted){M.get(H)===pt&&M.delete(H);return}if(X.has(H)){if(hd(Rt)||cs(Rt)){pe(H,hc(void 0));return}}else{if(hd(Rt))if(M.delete(H),L>Pr){pe(H,hc(void 0));return}else return G.add(H),pe(H,rg(Ge)),W(Kt,Rt,!1,{fetcherSubmission:Ge,preventScrollReset:qe});if(cs(Rt)){he(H,Z,Rt.error);return}}let Go=N.navigation.location||N.location,ia=Yf(t.history,Go,pt.signal),ic=o||a,pi=N.navigation.state!=="idle"?Ec(ic,N.navigation.location,c):N.matches;Nt(pi,"Didn't find any matches after fetcher action");let qu=++V;$.set(H,qu);let Za=rg(Ge,Rt.data);N.fetchers.set(H,Za);let{dsMatches:If,revalidatingFetchers:sa}=S$(ia,Oe,i,s,t.history,N,pi,Ge,Go,n,!1,D,z,X,q,G,ic,c,[ve.route.id,Rt]);sa.filter(Mr=>Mr.key!==H).forEach(Mr=>{let to=Mr.key,Mf=N.fetchers.get(to),ox=rg(void 0,Mf?Mf.data:void 0);N.fetchers.set(to,ox),Zt(to),Mr.controller&&M.set(to,Mr.controller)}),ee({fetchers:new Map(N.fetchers)});let Ja=()=>sa.forEach(Mr=>Zt(Mr.key));pt.signal.addEventListener("abort",Ja);let{loaderResults:Ct,fetcherResults:Xn}=await ue(If,sa,ia,Oe);if(pt.signal.aborted)return;pt.signal.removeEventListener("abort",Ja),$.delete(H),M.delete(H),sa.forEach(Mr=>M.delete(Mr.key));let eo=qx(Ct);if(eo)return W(ia,eo.result,!1,{preventScrollReset:qe});if(eo=qx(Xn),eo)return G.add(eo.key),W(ia,eo.result,!1,{preventScrollReset:qe});let{loaderData:Wu,errors:Of}=R$(N,pi,Ct,void 0,sa,Xn);if(N.fetchers.has(H)){let Mr=hc(Rt.data);N.fetchers.set(H,Mr)}Gn(qu),N.navigation.state==="loading"&&qu>L?(Nt(T,"Expected pending action"),A&&A.abort(),se(N.navigation.location,{matches:pi,loaderData:Wu,errors:Of,fetchers:new Map(N.fetchers)})):(ee({errors:Of,loaderData:k$(N.loaderData,Wu,pi,Of),fetchers:new Map(N.fetchers)}),D=!1)}async function lr(H,Z,ne,ve,Ee,Oe,nt,Be,qe,Ge){let ut=N.fetchers.get(H);pe(H,rg(Ge,ut?ut.data:void 0),{flushSync:Be});let He=new AbortController,pt=Yf(t.history,ne,He.signal);if(nt){let Rt=await Ze(Ee,ne,pt.signal,H);if(Rt.type==="aborted")return;if(Rt.type==="error"){he(H,Z,Rt.error,{flushSync:Be});return}else if(Rt.matches)Ee=Rt.matches,ve=Tg(Ee,ne);else{he(H,Z,Ds(404,{pathname:ne}),{flushSync:Be});return}}M.set(H,He);let Kt=V,Pr=Oh(i,s,pt,Ee,ve,n,Oe),Yn=(await te(pt,Pr,Oe,H))[ve.route.id];if(M.get(H)===He&&M.delete(H),!pt.signal.aborted){if(X.has(H)){pe(H,hc(void 0));return}if(hd(Yn))if(L>Kt){pe(H,hc(void 0));return}else{G.add(H),await W(pt,Yn,!1,{preventScrollReset:qe});return}if(cs(Yn)){he(H,Z,Yn.error);return}pe(H,hc(Yn.data))}}async function W(H,Z,ne,{submission:ve,fetcherSubmission:Ee,preventScrollReset:Oe,replace:nt}={}){Z.response.headers.has("X-Remix-Revalidate")&&(D=!0);let Be=Z.response.headers.get("Location");Nt(Be,"Expected a Location header on the redirect Response"),Be=A$(Be,new URL(H.url),c);let qe=$v(N.location,Be,{_isRedirect:!0});if(r){let Pr=!1;if(Z.response.headers.has("X-Remix-Reload-Document"))Pr=!0;else if(rk.test(Be)){const xr=t.history.createURL(Be);Pr=xr.origin!==e.location.origin||Qs(xr.pathname,c)==null}if(Pr){nt?e.location.replace(Be):e.location.assign(Be);return}}A=null;let Ge=nt===!0||Z.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:ut,formAction:He,formEncType:pt}=N.navigation;!ve&&!Ee&&ut&&He&&pt&&(ve=D$(N.navigation));let Kt=ve||Ee;if(Xue.has(Z.response.status)&&Kt&&us(Kt.formMethod))await Ae(Ge,qe,{submission:{...Kt,formAction:Be},preventScrollReset:Oe||j,enableViewTransition:ne?R:void 0});else{let Pr=GN(qe,ve);await Ae(Ge,qe,{overrideNavigation:Pr,fetcherSubmission:Ee,preventScrollReset:Oe||j,enableViewTransition:ne?R:void 0})}}async function te(H,Z,ne,ve){let Ee,Oe={};try{Ee=await sde(u,H,Z,ve,ne,!1)}catch(nt){return Z.filter(Be=>Be.shouldLoad).forEach(Be=>{Oe[Be.route.id]={type:"error",error:nt}}),Oe}for(let[nt,Be]of Object.entries(Ee))if(dde(Be)){let qe=Be.result;Oe[nt]={type:"redirect",response:lde(qe,H,nt,Z,c)}}else Oe[nt]=await ode(Be);return Oe}async function ue(H,Z,ne,ve){let Ee=te(ne,H,ve,null),Oe=Promise.all(Z.map(async qe=>{if(qe.matches&&qe.match&&qe.request&&qe.controller){let ut=(await te(qe.request,qe.matches,ve,qe.key))[qe.match.route.id];return{[qe.key]:ut}}else return Promise.resolve({[qe.key]:{type:"error",error:Ds(404,{pathname:qe.path})}})})),nt=await Ee,Be=(await Oe).reduce((qe,Ge)=>Object.assign(qe,Ge),{});return{loaderResults:nt,fetcherResults:Be}}function Te(){D=!0,q.forEach((H,Z)=>{M.has(Z)&&z.add(Z),Zt(Z)})}function pe(H,Z,ne={}){N.fetchers.set(H,Z),ee({fetchers:new Map(N.fetchers)},{flushSync:(ne&&ne.flushSync)===!0})}function he(H,Z,ne,ve={}){let Ee=od(N.matches,Z);yt(H),ee({errors:{[Ee.route.id]:ne},fetchers:new Map(N.fetchers)},{flushSync:(ve&&ve.flushSync)===!0})}function Re(H){return U.set(H,(U.get(H)||0)+1),X.has(H)&&X.delete(H),N.fetchers.get(H)||Que}function yt(H){let Z=N.fetchers.get(H);M.has(H)&&!(Z&&Z.state==="loading"&&$.has(H))&&Zt(H),q.delete(H),$.delete(H),G.delete(H),X.delete(H),z.delete(H),N.fetchers.delete(H)}function Ht(H){let Z=(U.get(H)||0)-1;Z<=0?(U.delete(H),X.add(H)):U.set(H,Z),ee({fetchers:new Map(N.fetchers)})}function Zt(H){let Z=M.get(H);Z&&(Z.abort(),M.delete(H))}function is(H){for(let Z of H){let ne=Re(Z),ve=hc(ne.data);N.fetchers.set(Z,ve)}}function ss(){let H=[],Z=!1;for(let ne of G){let ve=N.fetchers.get(ne);Nt(ve,`Expected fetcher: ${ne}`),ve.state==="loading"&&(G.delete(ne),H.push(ne),Z=!0)}return is(H),Z}function Gn(H){let Z=[];for(let[ne,ve]of $)if(ve<H){let Ee=N.fetchers.get(ne);Nt(Ee,`Expected fetcher: ${ne}`),Ee.state==="loading"&&(Zt(ne),$.delete(ne),Z.push(ne))}return is(Z),Z.length>0}function Ya(H,Z){let ne=N.blockers.get(H)||tg;return ie.get(H)!==Z&&ie.set(H,Z),ne}function Mi(H){N.blockers.delete(H),ie.delete(H)}function Xa(H,Z){let ne=N.blockers.get(H)||tg;Nt(ne.state==="unblocked"&&Z.state==="blocked"||ne.state==="blocked"&&Z.state==="blocked"||ne.state==="blocked"&&Z.state==="proceeding"||ne.state==="blocked"&&Z.state==="unblocked"||ne.state==="proceeding"&&Z.state==="unblocked",`Invalid blocker state transition: ${ne.state} -> ${Z.state}`);let ve=new Map(N.blockers);ve.set(H,Z),ee({blockers:ve})}function na({currentLocation:H,nextLocation:Z,historyAction:ne}){if(ie.size===0)return;ie.size>1&&an(!1,"A router only supports one blocker at a time");let ve=Array.from(ie.entries()),[Ee,Oe]=ve[ve.length-1],nt=N.blockers.get(Ee);if(!(nt&&nt.state==="proceeding")&&Oe({currentLocation:H,nextLocation:Z,historyAction:ne}))return Ee}function Ho(H){let Z=Ds(404,{pathname:H}),ne=o||a,{matches:ve,route:Ee}=O$(ne);return{notFoundMatches:ve,route:Ee,error:Z}}function zu(H,Z,ne){if(p=H,m=Z,v=ne||null,!b&&N.navigation===KN){b=!0;let ve=hi(N.location,N.matches);ve!=null&&ee({restoreScrollPosition:ve})}return()=>{p=null,m=null,v=null}}function Qa(H,Z){return v&&v(H,Z.map(ve=>Cue(ve,N.loaderData)))||H.key}function Ko(H,Z){if(p&&m){let ne=Qa(H,Z);p[ne]=m()}}function hi(H,Z){if(p){let ne=Qa(H,Z),ve=p[ne];if(typeof ve=="number")return ve}return null}function Di(H,Z,ne){if(t.patchRoutesOnNavigation)if(H){if(Object.keys(H[0].params).length>0)return{active:!0,matches:Vb(Z,ne,c,!0)}}else return{active:!0,matches:Vb(Z,ne,c,!0)||[]};return{active:!1,matches:null}}async function Ze(H,Z,ne,ve){if(!t.patchRoutesOnNavigation)return{type:"success",matches:H};let Ee=H;for(;;){let Oe=o==null,nt=o||a,Be=s;try{await t.patchRoutesOnNavigation({signal:ne,path:Z,matches:Ee,fetcherKey:ve,patch:(ut,He)=>{ne.aborted||N$(ut,He,nt,Be,i)}})}catch(ut){return{type:"error",error:ut,partialMatches:Ee}}finally{Oe&&!ne.aborted&&(a=[...a])}if(ne.aborted)return{type:"aborted"};let qe=Ec(nt,Z,c);if(qe)return{type:"success",matches:qe};let Ge=Vb(nt,Z,c,!0);if(!Ge||Ee.length===Ge.length&&Ee.every((ut,He)=>ut.route.id===Ge[He].route.id))return{type:"success",matches:null};Ee=Ge}}function Pt(H){s={},o=Uw(H,i,void 0,s)}function Jt(H,Z){let ne=o==null;N$(H,Z,o||a,s,i),ne&&(a=[...a],ee({}))}return E={get basename(){return c},get future(){return d},get state(){return N},get routes(){return a},get window(){return e},initialize:ce,subscribe:Y,enableScrollRestoration:zu,navigate:J,fetch:vt,revalidate:je,createHref:H=>t.history.createHref(H),encodeLocation:H=>t.history.encodeLocation(H),getFetcher:Re,deleteFetcher:Ht,dispose:Q,getBlocker:Ya,deleteBlocker:Mi,patchRoutes:Jt,_internalFetchControllers:M,_internalSetRoutes:Pt},E}function ede(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function zC(t,e,r,n,i,s){let a,o;if(i){a=[];for(let u of e)if(a.push(u),u.route.id===i){o=u;break}}else a=e,o=e[e.length-1];let c=lE(n||".",oE(a),Qs(t.pathname,r)||t.pathname,s==="path");if(n==null&&(c.search=t.search,c.hash=t.hash),(n==null||n===""||n===".")&&o){let u=nk(c.search);if(o.route.index&&!u)c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index";else if(!o.route.index&&u){let d=new URLSearchParams(c.search),f=d.getAll("index");d.delete("index"),f.filter(p=>p).forEach(p=>d.append("index",p));let h=d.toString();c.search=h?`?${h}`:""}}return r!=="/"&&(c.pathname=c.pathname==="/"?r:wo([r,c.pathname])),iu(c)}function E$(t,e,r){if(!r||!ede(r))return{path:e};if(r.formMethod&&!fde(r.formMethod))return{path:e,error:Ds(405,{method:r.formMethod})};let n=()=>({path:e,error:Ds(400,{type:"invalid-body"})}),s=(r.formMethod||"get").toUpperCase(),a=Mq(e);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!us(s))return n();let f=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((h,[p,v])=>`${h}${p}=${v}
`,""):String(r.body);return{path:e,submission:{formMethod:s,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:f}}}else if(r.formEncType==="application/json"){if(!us(s))return n();try{let f=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:e,submission:{formMethod:s,formAction:a,formEncType:r.formEncType,formData:void 0,json:f,text:void 0}}}catch{return n()}}}Nt(typeof FormData=="function","FormData is not available in this environment");let o,c;if(r.formData)o=HC(r.formData),c=r.formData;else if(r.body instanceof FormData)o=HC(r.body),c=r.body;else if(r.body instanceof URLSearchParams)o=r.body,c=P$(o);else if(r.body==null)o=new URLSearchParams,c=new FormData;else try{o=new URLSearchParams(r.body),c=P$(o)}catch{return n()}let u={formMethod:s,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(us(u.formMethod))return{path:e,submission:u};let d=_u(e);return t&&d.search&&nk(d.search)&&o.append("index",""),d.search=`?${o}`,{path:iu(d),submission:u}}function S$(t,e,r,n,i,s,a,o,c,u,d,f,h,p,v,m,b,w,y){var O;let _=y?cs(y[1])?y[1].error:y[1].data:void 0,S=i.createURL(s.location),E=i.createURL(c),N;if(d&&s.errors){let P=Object.keys(s.errors)[0];N=a.findIndex(D=>D.route.id===P)}else if(y&&cs(y[1])){let P=y[0];N=a.findIndex(D=>D.route.id===P)-1}let T=y?y[1].statusCode:void 0,j=T&&T>=400,A={currentUrl:S,currentParams:((O=s.matches[0])==null?void 0:O.params)||{},nextUrl:E,nextParams:a[0].params,...o,actionResult:_,actionStatus:T},R=a.map((P,D)=>{let{route:z}=P,M=null;if(N!=null&&D>N?M=!1:z.lazy?M=!0:z.loader==null?M=!1:d?M=qC(z,s.loaderData,s.errors):tde(s.loaderData,s.matches[D],P)&&(M=!0),M!==null)return WC(r,n,t,P,u,e,M);let V=j?!1:f||S.pathname+S.search===E.pathname+E.search||S.search!==E.search||rde(s.matches[D],P),L={...A,defaultShouldRevalidate:V},$=Ww(P,L);return WC(r,n,t,P,u,e,$,L)}),k=[];return v.forEach((P,D)=>{if(d||!a.some(q=>q.route.id===P.routeId)||p.has(D))return;let z=Ec(b,P.path,w);if(!z){k.push({key:D,routeId:P.routeId,path:P.path,matches:null,match:null,request:null,controller:null});return}if(m.has(D))return;let M=s.fetchers.get(D),V=Tg(z,P.path),L=new AbortController,$=Yf(i,P.path,L.signal),G=null;if(h.has(D))h.delete(D),G=Oh(r,n,$,z,V,u,e);else if(M&&M.state!=="idle"&&M.data===void 0)f&&(G=Oh(r,n,$,z,V,u,e));else{let q={...A,defaultShouldRevalidate:j?!1:f};Ww(V,q)&&(G=Oh(r,n,$,z,V,u,e,q))}G&&k.push({key:D,routeId:P.routeId,path:P.path,matches:G,match:V,request:$,controller:L})}),{dsMatches:R,revalidatingFetchers:k}}function qC(t,e,r){if(t.lazy)return!0;if(!t.loader)return!1;let n=e!=null&&e[t.id]!==void 0,i=r!=null&&r[t.id]!==void 0;return!n&&i?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!n&&!i}function tde(t,e,r){let n=!e||r.route.id!==e.route.id,i=!t.hasOwnProperty(r.route.id);return n||i}function rde(t,e){let r=t.route.path;return t.pathname!==e.pathname||r!=null&&r.endsWith("*")&&t.params["*"]!==e.params["*"]}function Ww(t,e){if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate(e);if(typeof r=="boolean")return r}return e.defaultShouldRevalidate}function N$(t,e,r,n,i){let s;if(t){let c=n[t];Nt(c,`No route found to patch children into: routeId = ${t}`),c.children||(c.children=[]),s=c.children}else s=r;let a=e.filter(c=>!s.some(u=>Pq(c,u))),o=Uw(a,i,[t||"_","patch",String((s==null?void 0:s.length)||"0")],n);s.push(...o)}function Pq(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((r,n)=>{var i;return(i=e.children)==null?void 0:i.some(s=>Pq(r,s))}):!1}var T$=new WeakMap,Rq=({key:t,route:e,manifest:r,mapRouteProperties:n})=>{let i=r[e.id];if(Nt(i,"No route found in manifest"),!i.lazy||typeof i.lazy!="object")return;let s=i.lazy[t];if(!s)return;let a=T$.get(i);a||(a={},T$.set(i,a));let o=a[t];if(o)return o;let c=(async()=>{let u=Sue(t),f=i[t]!==void 0&&t!=="hasErrorBoundary";if(u)an(!u,"Route property "+t+" is not a supported lazy route property. This property will be ignored."),a[t]=Promise.resolve();else if(f)an(!1,`Route "${i.id}" has a static property "${t}" defined. The lazy property will be ignored.`);else{let h=await s();h!=null&&(Object.assign(i,{[t]:h}),Object.assign(i,n(i)))}typeof i.lazy=="object"&&(i.lazy[t]=void 0,Object.values(i.lazy).every(h=>h===void 0)&&(i.lazy=void 0))})();return a[t]=c,c},j$=new WeakMap;function nde(t,e,r,n,i){let s=r[t.id];if(Nt(s,"No route found in manifest"),!t.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof t.lazy=="function"){let d=j$.get(s);if(d)return{lazyRoutePromise:d,lazyHandlerPromise:d};let f=(async()=>{Nt(typeof t.lazy=="function","No lazy route function found");let h=await t.lazy(),p={};for(let v in h){let m=h[v];if(m===void 0)continue;let b=Tue(v),y=s[v]!==void 0&&v!=="hasErrorBoundary";b?an(!b,"Route property "+v+" is not a supported property to be returned from a lazy route function. This property will be ignored."):y?an(!y,`Route "${s.id}" has a static property "${v}" defined but its lazy function is also returning a value for this property. The lazy route property "${v}" will be ignored.`):p[v]=m}Object.assign(s,p),Object.assign(s,{...n(s),lazy:void 0})})();return j$.set(s,f),f.catch(()=>{}),{lazyRoutePromise:f,lazyHandlerPromise:f}}let a=Object.keys(t.lazy),o=[],c;for(let d of a){if(i&&i.includes(d))continue;let f=Rq({key:d,route:t,manifest:r,mapRouteProperties:n});f&&(o.push(f),d===e&&(c=f))}let u=o.length>0?Promise.all(o).then(()=>{}):void 0;return u==null||u.catch(()=>{}),c==null||c.catch(()=>{}),{lazyRoutePromise:u,lazyHandlerPromise:c}}async function C$(t){let e=t.matches.filter(i=>i.shouldLoad),r={};return(await Promise.all(e.map(i=>i.resolve()))).forEach((i,s)=>{r[e[s].route.id]=i}),r}async function ide(t){return t.matches.some(e=>e.route.unstable_middleware)?kq(t,!1,()=>C$(t),(e,r)=>({[r]:{type:"error",result:e}})):C$(t)}async function kq(t,e,r,n){let{matches:i,request:s,params:a,context:o}=t,c={handlerResult:void 0};try{let u=i.flatMap(f=>f.route.unstable_middleware?f.route.unstable_middleware.map(h=>[f.route.id,h]):[]),d=await Iq({request:s,params:a,context:o},u,e,c,r);return e?d:c.handlerResult}catch(u){if(!c.middlewareError)throw u;let d=await n(c.middlewareError.error,c.middlewareError.routeId);return c.handlerResult?Object.assign(c.handlerResult,d):d}}async function Iq(t,e,r,n,i,s=0){let{request:a}=t;if(a.signal.aborted)throw a.signal.reason?a.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${a.method} ${a.url}`);let o=e[s];if(!o)return n.handlerResult=await i(),n.handlerResult;let[c,u]=o,d=!1,f,h=async()=>{if(d)throw new Error("You may only call `next()` once per middleware");d=!0,await Iq(t,e,r,n,i,s+1)};try{let p=await u({request:t.request,params:t.params,context:t.context},h);return d?p===void 0?f:p:h()}catch(p){throw n.middlewareError?n.middlewareError.error!==p&&(n.middlewareError={routeId:c,error:p}):n.middlewareError={routeId:c,error:p},p}}function Oq(t,e,r,n,i){let s=Rq({key:"unstable_middleware",route:n.route,manifest:e,mapRouteProperties:t}),a=nde(n.route,us(r.method)?"action":"loader",e,t,i);return{middleware:s,route:a.lazyRoutePromise,handler:a.lazyHandlerPromise}}function WC(t,e,r,n,i,s,a,o=null){let c=!1,u=Oq(t,e,r,n,i);return{...n,_lazyPromises:u,shouldLoad:a,unstable_shouldRevalidateArgs:o,unstable_shouldCallHandler(d){return c=!0,o?typeof d=="boolean"?Ww(n,{...o,defaultShouldRevalidate:d}):Ww(n,o):a},resolve(d){return c||a||d&&r.method==="GET"&&(n.route.lazy||n.route.loader)?ade({request:r,match:n,lazyHandlerPromise:u==null?void 0:u.handler,lazyRoutePromise:u==null?void 0:u.route,handlerOverride:d,scopedContext:s}):Promise.resolve({type:"data",result:void 0})}}}function Oh(t,e,r,n,i,s,a,o=null){return n.map(c=>c.route.id!==i.route.id?{...c,shouldLoad:!1,unstable_shouldRevalidateArgs:o,unstable_shouldCallHandler:()=>!1,_lazyPromises:Oq(t,e,r,c,s),resolve:()=>Promise.resolve({type:"data",result:void 0})}:WC(t,e,r,c,s,a,!0,o))}async function sde(t,e,r,n,i,s){r.some(u=>{var d;return(d=u._lazyPromises)==null?void 0:d.middleware})&&await Promise.all(r.map(u=>{var d;return(d=u._lazyPromises)==null?void 0:d.middleware}));let a={request:e,params:r[0].params,context:i,matches:r},c=await t({...a,fetcherKey:n,unstable_runClientMiddleware:u=>{let d=a;return kq(d,!1,()=>u({...d,fetcherKey:n,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(f,h)=>({[h]:{type:"error",result:f}}))}});try{await Promise.all(r.flatMap(u=>{var d,f;return[(d=u._lazyPromises)==null?void 0:d.handler,(f=u._lazyPromises)==null?void 0:f.route]}))}catch{}return c}async function ade({request:t,match:e,lazyHandlerPromise:r,lazyRoutePromise:n,handlerOverride:i,scopedContext:s}){let a,o,c=us(t.method),u=c?"action":"loader",d=f=>{let h,p=new Promise((b,w)=>h=w);o=()=>h(),t.signal.addEventListener("abort",o);let v=b=>typeof f!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${u}" [routeId: ${e.route.id}]`)):f({request:t,params:e.params,context:s},...b!==void 0?[b]:[]),m=(async()=>{try{return{type:"data",result:await(i?i(w=>v(w)):v())}}catch(b){return{type:"error",result:b}}})();return Promise.race([m,p])};try{let f=c?e.route.action:e.route.loader;if(r||n)if(f){let h,[p]=await Promise.all([d(f).catch(v=>{h=v}),r,n]);if(h!==void 0)throw h;a=p}else{await r;let h=c?e.route.action:e.route.loader;if(h)[a]=await Promise.all([d(h),n]);else if(u==="action"){let p=new URL(t.url),v=p.pathname+p.search;throw Ds(405,{method:t.method,pathname:v,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(f)a=await d(f);else{let h=new URL(t.url),p=h.pathname+h.search;throw Ds(404,{pathname:p})}}catch(f){return{type:"error",result:f}}finally{o&&t.signal.removeEventListener("abort",o)}return a}async function ode(t){var n,i,s,a,o,c;let{result:e,type:r}=t;if(Dq(e)){let u;try{let d=e.headers.get("Content-Type");d&&/\bapplication\/json\b/.test(d)?e.body==null?u=null:u=await e.json():u=await e.text()}catch(d){return{type:"error",error:d}}return r==="error"?{type:"error",error:new qw(e.status,e.statusText,u),statusCode:e.status,headers:e.headers}:{type:"data",data:u,statusCode:e.status,headers:e.headers}}return r==="error"?M$(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(n=e.init)==null?void 0:n.status,headers:(i=e.init)!=null&&i.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new qw(((s=e.init)==null?void 0:s.status)||500,void 0,e.data),statusCode:Fv(e)?e.status:void 0,headers:(a=e.init)!=null&&a.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:Fv(e)?e.status:void 0}:M$(e)?{type:"data",data:e.data,statusCode:(o=e.init)==null?void 0:o.status,headers:(c=e.init)!=null&&c.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function lde(t,e,r,n,i){let s=t.headers.get("Location");if(Nt(s,"Redirects returned/thrown from loaders/actions must have a Location header"),!rk.test(s)){let a=n.slice(0,n.findIndex(o=>o.route.id===r)+1);s=zC(new URL(e.url),a,i,s),t.headers.set("Location",s)}return t}function A$(t,e,r){if(rk.test(t)){let n=t,i=n.startsWith("//")?new URL(e.protocol+n):new URL(n),s=Qs(i.pathname,r)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return t}function Yf(t,e,r,n){let i=t.createURL(Mq(e)).toString(),s={signal:r};if(n&&us(n.formMethod)){let{formMethod:a,formEncType:o}=n;s.method=a.toUpperCase(),o==="application/json"?(s.headers=new Headers({"Content-Type":o}),s.body=JSON.stringify(n.json)):o==="text/plain"?s.body=n.text:o==="application/x-www-form-urlencoded"&&n.formData?s.body=HC(n.formData):s.body=n.formData}return new Request(i,s)}function HC(t){let e=new URLSearchParams;for(let[r,n]of t.entries())e.append(r,typeof n=="string"?n:n.name);return e}function P$(t){let e=new FormData;for(let[r,n]of t.entries())e.append(r,n);return e}function cde(t,e,r,n=!1,i=!1){let s={},a=null,o,c=!1,u={},d=r&&cs(r[1])?r[1].error:void 0;return t.forEach(f=>{if(!(f.route.id in e))return;let h=f.route.id,p=e[h];if(Nt(!hd(p),"Cannot handle redirect results in processLoaderData"),cs(p)){let v=p.error;if(d!==void 0&&(v=d,d=void 0),a=a||{},i)a[h]=v;else{let m=od(t,h);a[m.route.id]==null&&(a[m.route.id]=v)}n||(s[h]=Aq),c||(c=!0,o=Fv(p.error)?p.error.status:500),p.headers&&(u[h]=p.headers)}else s[h]=p.data,p.statusCode&&p.statusCode!==200&&!c&&(o=p.statusCode),p.headers&&(u[h]=p.headers)}),d!==void 0&&r&&(a={[r[0]]:d},r[2]&&(s[r[2]]=void 0)),{loaderData:s,errors:a,statusCode:o||200,loaderHeaders:u}}function R$(t,e,r,n,i,s){let{loaderData:a,errors:o}=cde(e,r,n);return i.filter(c=>!c.matches||c.matches.some(u=>u.shouldLoad)).forEach(c=>{let{key:u,match:d,controller:f}=c,h=s[u];if(Nt(h,"Did not find corresponding fetcher result"),!(f&&f.signal.aborted))if(cs(h)){let p=od(t.matches,d==null?void 0:d.route.id);o&&o[p.route.id]||(o={...o,[p.route.id]:h.error}),t.fetchers.delete(u)}else if(hd(h))Nt(!1,"Unhandled fetcher revalidation redirect");else{let p=hc(h.data);t.fetchers.set(u,p)}}),{loaderData:a,errors:o}}function k$(t,e,r,n){let i=Object.entries(e).filter(([,s])=>s!==Aq).reduce((s,[a,o])=>(s[a]=o,s),{});for(let s of r){let a=s.route.id;if(!e.hasOwnProperty(a)&&t.hasOwnProperty(a)&&s.route.loader&&(i[a]=t[a]),n&&n.hasOwnProperty(a))break}return i}function I$(t){return t?cs(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function od(t,e){return(e?t.slice(0,t.findIndex(n=>n.route.id===e)+1):[...t]).reverse().find(n=>n.route.hasErrorBoundary===!0)||t[0]}function O$(t){let e=t.length===1?t[0]:t.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Ds(t,{pathname:e,routeId:r,method:n,type:i,message:s}={}){let a="Unknown Server Error",o="Unknown @remix-run/router error";return t===400?(a="Bad Request",n&&e&&r?o=`You made a ${n} request to "${e}" but did not provide a \`loader\` for route "${r}", so there is no way to handle the request.`:i==="invalid-body"&&(o="Unable to encode submission body")):t===403?(a="Forbidden",o=`Route "${r}" does not match URL "${e}"`):t===404?(a="Not Found",o=`No route matches URL "${e}"`):t===405&&(a="Method Not Allowed",n&&e&&r?o=`You made a ${n.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${r}", so there is no way to handle the request.`:n&&(o=`Invalid request method "${n.toUpperCase()}"`)),new qw(t||500,a,new Error(o),!0)}function qx(t){let e=Object.entries(t);for(let r=e.length-1;r>=0;r--){let[n,i]=e[r];if(hd(i))return{key:n,result:i}}}function Mq(t){let e=typeof t=="string"?_u(t):t;return iu({...e,hash:""})}function ude(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function dde(t){return Dq(t.result)&&Yue.has(t.result.status)}function cs(t){return t.type==="error"}function hd(t){return(t&&t.type)==="redirect"}function M$(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function Dq(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function fde(t){return Gue.has(t.toUpperCase())}function us(t){return Hue.has(t.toUpperCase())}function nk(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Tg(t,e){let r=typeof e=="string"?_u(e).search:e.search;if(t[t.length-1].route.index&&nk(r||""))return t[t.length-1];let n=Tq(t);return n[n.length-1]}function D$(t){let{formMethod:e,formAction:r,formEncType:n,text:i,formData:s,json:a}=t;if(!(!e||!r||!n)){if(i!=null)return{formMethod:e,formAction:r,formEncType:n,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:r,formEncType:n,formData:s,json:void 0,text:void 0};if(a!==void 0)return{formMethod:e,formAction:r,formEncType:n,formData:void 0,json:a,text:void 0}}}function GN(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function hde(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function rg(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function pde(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function hc(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function mde(t,e){try{let r=t.sessionStorage.getItem(Cq);if(r){let n=JSON.parse(r);for(let[i,s]of Object.entries(n||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function gde(t,e){if(e.size>0){let r={};for(let[n,i]of e)r[n]=[...i];try{t.sessionStorage.setItem(Cq,JSON.stringify(r))}catch(n){an(!1,`Failed to save applied view transitions in sessionStorage (${n}).`)}}}function vde(){let t,e,r=new Promise((n,i)=>{t=async s=>{n(s);try{await r}catch{}},e=async s=>{i(s);try{await r}catch{}}});return{promise:r,resolve:t,reject:e}}var xf=g.createContext(null);xf.displayName="DataRouter";var p0=g.createContext(null);p0.displayName="DataRouterState";var ik=g.createContext({isTransitioning:!1});ik.displayName="ViewTransition";var Lq=g.createContext(new Map);Lq.displayName="Fetchers";var yde=g.createContext(null);yde.displayName="Await";var Wa=g.createContext(null);Wa.displayName="Navigation";var cE=g.createContext(null);cE.displayName="Location";var Ha=g.createContext({outlet:null,matches:[],isDataRoute:!1});Ha.displayName="Route";var sk=g.createContext(null);sk.displayName="RouteError";function xde(t,{relative:e}={}){Nt(fm(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=g.useContext(Wa),{hash:i,pathname:s,search:a}=m0(t,{relative:e}),o=s;return r!=="/"&&(o=s==="/"?r:wo([r,s])),n.createHref({pathname:o,search:a,hash:i})}function fm(){return g.useContext(cE)!=null}function Ji(){return Nt(fm(),"useLocation() may be used only in the context of a <Router> component."),g.useContext(cE).location}var $q="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Fq(t){g.useContext(Wa).static||g.useLayoutEffect(t)}function bf(){let{isDataRoute:t}=g.useContext(Ha);return t?Ode():bde()}function bde(){Nt(fm(),"useNavigate() may be used only in the context of a <Router> component.");let t=g.useContext(xf),{basename:e,navigator:r}=g.useContext(Wa),{matches:n}=g.useContext(Ha),{pathname:i}=Ji(),s=JSON.stringify(oE(n)),a=g.useRef(!1);return Fq(()=>{a.current=!0}),g.useCallback((c,u={})=>{if(an(a.current,$q),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=lE(c,JSON.parse(s),i,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:wo([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,s,i,t])}var wde=g.createContext(null);function _de(t){let e=g.useContext(Ha).outlet;return e&&g.createElement(wde.Provider,{value:t},e)}function m0(t,{relative:e}={}){let{matches:r}=g.useContext(Ha),{pathname:n}=Ji(),i=JSON.stringify(oE(r));return g.useMemo(()=>lE(t,JSON.parse(i),n,e==="path"),[t,i,n,e])}function Ede(t,e,r,n){Nt(fm(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:s}=g.useContext(Wa),{matches:a}=g.useContext(Ha),o=a[a.length-1],c=o?o.params:{},u=o?o.pathname:"/",d=o?o.pathnameBase:"/",f=o&&o.route;{let y=f&&f.path||"";Vq(u,!f||y.endsWith("*")||y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${y}"> to <Route path="${y==="/"?"*":`${y}/*`}">.`)}let h=Ji(),p;p=h;let v=p.pathname||"/",m=v;if(d!=="/"){let y=d.replace(/^\//,"").split("/");m="/"+v.replace(/^\//,"").split("/").slice(y.length).join("/")}let b=!s&&r&&r.matches&&r.matches.length>0?r.matches:Ec(t,{pathname:m});return an(f||b!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),an(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),Cde(b&&b.map(y=>Object.assign({},y,{params:Object.assign({},c,y.params),pathname:wo([d,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?d:wo([d,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),a,r,n)}function Sde(){let t=Ide(),e=Fv(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=g.createElement(g.Fragment,null,g.createElement("p",null,"💿 Hey developer 👋"),g.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",g.createElement("code",{style:s},"ErrorBoundary")," or"," ",g.createElement("code",{style:s},"errorElement")," prop on your route.")),g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},e),r?g.createElement("pre",{style:i},r):null,a)}var Nde=g.createElement(Sde,null),Tde=class extends g.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?g.createElement(Ha.Provider,{value:this.props.routeContext},g.createElement(sk.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function jde({routeContext:t,match:e,children:r}){let n=g.useContext(xf);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),g.createElement(Ha.Provider,{value:t},r)}function Cde(t,e=[],r=null,n=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let i=t,s=r==null?void 0:r.errors;if(s!=null){let c=i.findIndex(u=>u.route.id&&(s==null?void 0:s[u.route.id])!==void 0);Nt(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,c+1))}let a=!1,o=-1;if(r)for(let c=0;c<i.length;c++){let u=i[c];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(o=c),u.route.id){let{loaderData:d,errors:f}=r,h=u.route.loader&&!d.hasOwnProperty(u.route.id)&&(!f||f[u.route.id]===void 0);if(u.route.lazy||h){a=!0,o>=0?i=i.slice(0,o+1):i=[i[0]];break}}}return i.reduceRight((c,u,d)=>{let f,h=!1,p=null,v=null;r&&(f=s&&u.route.id?s[u.route.id]:void 0,p=u.route.errorElement||Nde,a&&(o<0&&d===0?(Vq("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,v=null):o===d&&(h=!0,v=u.route.hydrateFallbackElement||null)));let m=e.concat(i.slice(0,d+1)),b=()=>{let w;return f?w=p:h?w=v:u.route.Component?w=g.createElement(u.route.Component,null):u.route.element?w=u.route.element:w=c,g.createElement(jde,{match:u,routeContext:{outlet:c,matches:m,isDataRoute:r!=null},children:w})};return r&&(u.route.ErrorBoundary||u.route.errorElement||d===0)?g.createElement(Tde,{location:r.location,revalidation:r.revalidation,component:p,error:f,children:b(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):b()},null)}function ak(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ade(t){let e=g.useContext(xf);return Nt(e,ak(t)),e}function Pde(t){let e=g.useContext(p0);return Nt(e,ak(t)),e}function Rde(t){let e=g.useContext(Ha);return Nt(e,ak(t)),e}function ok(t){let e=Rde(t),r=e.matches[e.matches.length-1];return Nt(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function kde(){return ok("useRouteId")}function Ide(){var n;let t=g.useContext(sk),e=Pde("useRouteError"),r=ok("useRouteError");return t!==void 0?t:(n=e.errors)==null?void 0:n[r]}function Ode(){let{router:t}=Ade("useNavigate"),e=ok("useNavigate"),r=g.useRef(!1);return Fq(()=>{r.current=!0}),g.useCallback(async(i,s={})=>{an(r.current,$q),r.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var L$={};function Vq(t,e,r){!e&&!L$[t]&&(L$[t]=!0,an(!1,r))}var $$={};function F$(t,e){!t&&!$$[e]&&($$[e]=!0,console.warn(e))}function Mde(t){let e={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&an(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:g.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&an(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:g.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&an(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:g.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),e}var Dde=["HydrateFallback","hydrateFallbackElement"],Lde=class{constructor(){this.status="pending",this.promise=new Promise((e,r)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",e(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",r(n))}})}};function $de({router:t,flushSync:e}){let[r,n]=g.useState(t.state),[i,s]=g.useState(),[a,o]=g.useState({isTransitioning:!1}),[c,u]=g.useState(),[d,f]=g.useState(),[h,p]=g.useState(),v=g.useRef(new Map),m=g.useCallback((_,{deletedFetchers:S,flushSync:E,viewTransitionOpts:N})=>{_.fetchers.forEach((j,A)=>{j.data!==void 0&&v.current.set(A,j.data)}),S.forEach(j=>v.current.delete(j)),F$(E===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let T=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(F$(N==null||T,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!N||!T){e&&E?e(()=>n(_)):g.startTransition(()=>n(_));return}if(e&&E){e(()=>{d&&(c&&c.resolve(),d.skipTransition()),o({isTransitioning:!0,flushSync:!0,currentLocation:N.currentLocation,nextLocation:N.nextLocation})});let j=t.window.document.startViewTransition(()=>{e(()=>n(_))});j.finished.finally(()=>{e(()=>{u(void 0),f(void 0),s(void 0),o({isTransitioning:!1})})}),e(()=>f(j));return}d?(c&&c.resolve(),d.skipTransition(),p({state:_,currentLocation:N.currentLocation,nextLocation:N.nextLocation})):(s(_),o({isTransitioning:!0,flushSync:!1,currentLocation:N.currentLocation,nextLocation:N.nextLocation}))},[t.window,e,d,c]);g.useLayoutEffect(()=>t.subscribe(m),[t,m]),g.useEffect(()=>{a.isTransitioning&&!a.flushSync&&u(new Lde)},[a]),g.useEffect(()=>{if(c&&i&&t.window){let _=i,S=c.promise,E=t.window.document.startViewTransition(async()=>{g.startTransition(()=>n(_)),await S});E.finished.finally(()=>{u(void 0),f(void 0),s(void 0),o({isTransitioning:!1})}),f(E)}},[i,c,t.window]),g.useEffect(()=>{c&&i&&r.location.key===i.location.key&&c.resolve()},[c,d,r.location,i]),g.useEffect(()=>{!a.isTransitioning&&h&&(s(h.state),o({isTransitioning:!0,flushSync:!1,currentLocation:h.currentLocation,nextLocation:h.nextLocation}),p(void 0))},[a.isTransitioning,h]);let b=g.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:_=>t.navigate(_),push:(_,S,E)=>t.navigate(_,{state:S,preventScrollReset:E==null?void 0:E.preventScrollReset}),replace:(_,S,E)=>t.navigate(_,{replace:!0,state:S,preventScrollReset:E==null?void 0:E.preventScrollReset})}),[t]),w=t.basename||"/",y=g.useMemo(()=>({router:t,navigator:b,static:!1,basename:w}),[t,b,w]);return g.createElement(g.Fragment,null,g.createElement(xf.Provider,{value:y},g.createElement(p0.Provider,{value:r},g.createElement(Lq.Provider,{value:v.current},g.createElement(ik.Provider,{value:a},g.createElement(Ude,{basename:w,location:r.location,navigationType:r.historyAction,navigator:b},g.createElement(Fde,{routes:t.routes,future:t.future,state:r})))))),null)}var Fde=g.memo(Vde);function Vde({routes:t,future:e,state:r}){return Ede(t,void 0,r,e)}function Xg({to:t,replace:e,state:r,relative:n}){Nt(fm(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=g.useContext(Wa);an(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=g.useContext(Ha),{pathname:a}=Ji(),o=bf(),c=lE(t,oE(s),a,n==="path"),u=JSON.stringify(c);return g.useEffect(()=>{o(JSON.parse(u),{replace:e,state:r,relative:n})},[o,u,n,e,r]),null}function Bde(t){return _de(t.context)}function Ude({basename:t="/",children:e=null,location:r,navigationType:n="POP",navigator:i,static:s=!1}){Nt(!fm(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=t.replace(/^\/*/,"/"),o=g.useMemo(()=>({basename:a,navigator:i,static:s,future:{}}),[a,i,s]);typeof r=="string"&&(r=_u(r));let{pathname:c="/",search:u="",hash:d="",state:f=null,key:h="default"}=r,p=g.useMemo(()=>{let v=Qs(c,a);return v==null?null:{location:{pathname:v,search:u,hash:d,state:f,key:h},navigationType:n}},[a,c,u,d,f,h,n]);return an(p!=null,`<Router basename="${a}"> is not able to match the URL "${c}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:g.createElement(Wa.Provider,{value:o},g.createElement(cE.Provider,{children:e,value:p}))}var Bb="get",Ub="application/x-www-form-urlencoded";function uE(t){return t!=null&&typeof t.tagName=="string"}function zde(t){return uE(t)&&t.tagName.toLowerCase()==="button"}function qde(t){return uE(t)&&t.tagName.toLowerCase()==="form"}function Wde(t){return uE(t)&&t.tagName.toLowerCase()==="input"}function Hde(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Kde(t,e){return t.button===0&&(!e||e==="_self")&&!Hde(t)}var Wx=null;function Gde(){if(Wx===null)try{new FormData(document.createElement("form"),0),Wx=!1}catch{Wx=!0}return Wx}var Yde=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function YN(t){return t!=null&&!Yde.has(t)?(an(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ub}"`),null):t}function Xde(t,e){let r,n,i,s,a;if(qde(t)){let o=t.getAttribute("action");n=o?Qs(o,e):null,r=t.getAttribute("method")||Bb,i=YN(t.getAttribute("enctype"))||Ub,s=new FormData(t)}else if(zde(t)||Wde(t)&&(t.type==="submit"||t.type==="image")){let o=t.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||o.getAttribute("action");if(n=c?Qs(c,e):null,r=t.getAttribute("formmethod")||o.getAttribute("method")||Bb,i=YN(t.getAttribute("formenctype"))||YN(o.getAttribute("enctype"))||Ub,s=new FormData(o,t),!Gde()){let{name:u,type:d,value:f}=t;if(d==="image"){let h=u?`${u}.`:"";s.append(`${h}x`,"0"),s.append(`${h}y`,"0")}else u&&s.append(u,f)}}else{if(uE(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Bb,n=null,i=Ub,a=t}return s&&i==="text/plain"&&(a=s,s=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:s,body:a}}function lk(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function Qde(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Zde(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Jde(t,e,r){let n=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let a=await Qde(s,r);return a.links?a.links():[]}return[]}));return nfe(n.flat(1).filter(Zde).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function V$(t,e,r,n,i,s){let a=(c,u)=>r[u]?c.route.id!==r[u].route.id:!0,o=(c,u)=>{var d;return r[u].pathname!==c.pathname||((d=r[u].route.path)==null?void 0:d.endsWith("*"))&&r[u].params["*"]!==c.params["*"]};return s==="assets"?e.filter((c,u)=>a(c,u)||o(c,u)):s==="data"?e.filter((c,u)=>{var f;let d=n.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(a(c,u)||o(c,u))return!0;if(c.route.shouldRevalidate){let h=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((f=r[0])==null?void 0:f.params)||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function efe(t,e,{includeHydrateFallback:r}={}){return tfe(t.map(n=>{let i=e.routes[n.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function tfe(t){return[...new Set(t)]}function rfe(t){let e={},r=Object.keys(t).sort();for(let n of r)e[n]=t[n];return e}function nfe(t,e){let r=new Set;return new Set(e),t.reduce((n,i)=>{let s=JSON.stringify(rfe(i));return r.has(s)||(r.add(s),n.push({key:s,link:i})),n},[])}var ife=new Set([100,101,204,205]);function sfe(t,e){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname="_root.data":e&&Qs(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.data`:r.pathname=`${r.pathname.replace(/\/$/,"")}.data`,r}function Bq(){let t=g.useContext(xf);return lk(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function afe(){let t=g.useContext(p0);return lk(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var ck=g.createContext(void 0);ck.displayName="FrameworkContext";function Uq(){let t=g.useContext(ck);return lk(t,"You must render this element inside a <HydratedRouter> element"),t}function ofe(t,e){let r=g.useContext(ck),[n,i]=g.useState(!1),[s,a]=g.useState(!1),{onFocus:o,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:f}=e,h=g.useRef(null);g.useEffect(()=>{if(t==="render"&&a(!0),t==="viewport"){let m=w=>{w.forEach(y=>{a(y.isIntersecting)})},b=new IntersectionObserver(m,{threshold:.5});return h.current&&b.observe(h.current),()=>{b.disconnect()}}},[t]),g.useEffect(()=>{if(n){let m=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(m)}}},[n]);let p=()=>{i(!0)},v=()=>{i(!1),a(!1)};return r?t!=="intent"?[s,h,{}]:[s,h,{onFocus:ng(o,p),onBlur:ng(c,v),onMouseEnter:ng(u,p),onMouseLeave:ng(d,v),onTouchStart:ng(f,p)}]:[!1,h,{}]}function ng(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function lfe({page:t,...e}){let{router:r}=Bq(),n=g.useMemo(()=>Ec(r.routes,t,r.basename),[r.routes,t,r.basename]);return n?g.createElement(ufe,{page:t,matches:n,...e}):null}function cfe(t){let{manifest:e,routeModules:r}=Uq(),[n,i]=g.useState([]);return g.useEffect(()=>{let s=!1;return Jde(t,e,r).then(a=>{s||i(a)}),()=>{s=!0}},[t,e,r]),n}function ufe({page:t,matches:e,...r}){let n=Ji(),{manifest:i,routeModules:s}=Uq(),{basename:a}=Bq(),{loaderData:o,matches:c}=afe(),u=g.useMemo(()=>V$(t,e,c,i,n,"data"),[t,e,c,i,n]),d=g.useMemo(()=>V$(t,e,c,i,n,"assets"),[t,e,c,i,n]),f=g.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let v=new Set,m=!1;if(e.forEach(w=>{var _;let y=i.routes[w.route.id];!y||!y.hasLoader||(!u.some(S=>S.route.id===w.route.id)&&w.route.id in o&&((_=s[w.route.id])!=null&&_.shouldRevalidate)||y.hasClientLoader?m=!0:v.add(w.route.id))}),v.size===0)return[];let b=sfe(t,a);return m&&v.size>0&&b.searchParams.set("_routes",e.filter(w=>v.has(w.route.id)).map(w=>w.route.id).join(",")),[b.pathname+b.search]},[a,o,n,i,u,e,t,s]),h=g.useMemo(()=>efe(d,i),[d,i]),p=cfe(d);return g.createElement(g.Fragment,null,f.map(v=>g.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...r})),h.map(v=>g.createElement("link",{key:v,rel:"modulepreload",href:v,...r})),p.map(({key:v,link:m})=>g.createElement("link",{key:v,...m})))}function dfe(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var zq=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{zq&&(window.__reactRouterVersion="7.5.3")}catch{}function ffe(t,e){return Jue({basename:e==null?void 0:e.basename,unstable_getContext:e==null?void 0:e.unstable_getContext,future:e==null?void 0:e.future,history:bue({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||hfe(),routes:t,mapRouteProperties:Mde,hydrationRouteProperties:Dde,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function hfe(){let t=window==null?void 0:window.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:pfe(t.errors)}),t}function pfe(t){if(!t)return null;let e=Object.entries(t),r={};for(let[n,i]of e)if(i&&i.__type==="RouteErrorResponse")r[n]=new qw(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let a=new s(i.message);a.stack="",r[n]=a}catch{}}if(r[n]==null){let s=new Error(i.message);s.stack="",r[n]=s}}else r[n]=i;return r}var qq=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xd=g.forwardRef(function({onClick:e,discover:r="render",prefetch:n="none",relative:i,reloadDocument:s,replace:a,state:o,target:c,to:u,preventScrollReset:d,viewTransition:f,...h},p){let{basename:v}=g.useContext(Wa),m=typeof u=="string"&&qq.test(u),b,w=!1;if(typeof u=="string"&&m&&(b=u,zq))try{let A=new URL(window.location.href),R=u.startsWith("//")?new URL(A.protocol+u):new URL(u),k=Qs(R.pathname,v);R.origin===A.origin&&k!=null?u=k+R.search+R.hash:w=!0}catch{an(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let y=xde(u,{relative:i}),[_,S,E]=ofe(n,h),N=yfe(u,{replace:a,state:o,target:c,preventScrollReset:d,relative:i,viewTransition:f});function T(A){e&&e(A),A.defaultPrevented||N(A)}let j=g.createElement("a",{...h,...E,href:b||y,onClick:w||s?e:T,ref:dfe(p,S),target:c,"data-discover":!m&&r==="render"?"true":void 0});return _&&!m?g.createElement(g.Fragment,null,j,g.createElement(lfe,{page:y})):j});Xd.displayName="Link";var mfe=g.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:n="",end:i=!1,style:s,to:a,viewTransition:o,children:c,...u},d){let f=m0(a,{relative:u.relative}),h=Ji(),p=g.useContext(p0),{navigator:v,basename:m}=g.useContext(Wa),b=p!=null&&Efe(f)&&o===!0,w=v.encodeLocation?v.encodeLocation(f).pathname:f.pathname,y=h.pathname,_=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;r||(y=y.toLowerCase(),_=_?_.toLowerCase():null,w=w.toLowerCase()),_&&m&&(_=Qs(_,m)||_);const S=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let E=y===w||!i&&y.startsWith(w)&&y.charAt(S)==="/",N=_!=null&&(_===w||!i&&_.startsWith(w)&&_.charAt(w.length)==="/"),T={isActive:E,isPending:N,isTransitioning:b},j=E?e:void 0,A;typeof n=="function"?A=n(T):A=[n,E?"active":null,N?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let R=typeof s=="function"?s(T):s;return g.createElement(Xd,{...u,"aria-current":j,className:A,ref:d,style:R,to:a,viewTransition:o},typeof c=="function"?c(T):c)});mfe.displayName="NavLink";var gfe=g.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:n,replace:i,state:s,method:a=Bb,action:o,onSubmit:c,relative:u,preventScrollReset:d,viewTransition:f,...h},p)=>{let v=wfe(),m=_fe(o,{relative:u}),b=a.toLowerCase()==="get"?"get":"post",w=typeof o=="string"&&qq.test(o),y=_=>{if(c&&c(_),_.defaultPrevented)return;_.preventDefault();let S=_.nativeEvent.submitter,E=(S==null?void 0:S.getAttribute("formmethod"))||a;v(S||_.currentTarget,{fetcherKey:e,method:E,navigate:r,replace:i,state:s,relative:u,preventScrollReset:d,viewTransition:f})};return g.createElement("form",{ref:p,method:b,action:m,onSubmit:n?c:y,...h,"data-discover":!w&&t==="render"?"true":void 0})});gfe.displayName="Form";function vfe(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Wq(t){let e=g.useContext(xf);return Nt(e,vfe(t)),e}function yfe(t,{target:e,replace:r,state:n,preventScrollReset:i,relative:s,viewTransition:a}={}){let o=bf(),c=Ji(),u=m0(t,{relative:s});return g.useCallback(d=>{if(Kde(d,e)){d.preventDefault();let f=r!==void 0?r:iu(c)===iu(u);o(t,{replace:f,state:n,preventScrollReset:i,relative:s,viewTransition:a})}},[c,o,u,r,n,e,t,i,s,a])}var xfe=0,bfe=()=>`__${String(++xfe)}__`;function wfe(){let{router:t}=Wq("useSubmit"),{basename:e}=g.useContext(Wa),r=kde();return g.useCallback(async(n,i={})=>{let{action:s,method:a,encType:o,formData:c,body:u}=Xde(n,e);if(i.navigate===!1){let d=i.fetcherKey||bfe();await t.fetch(d,r,i.action||s,{preventScrollReset:i.preventScrollReset,formData:c,body:u,formMethod:i.method||a,formEncType:i.encType||o,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:c,body:u,formMethod:i.method||a,formEncType:i.encType||o,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,r])}function _fe(t,{relative:e}={}){let{basename:r}=g.useContext(Wa),n=g.useContext(Ha);Nt(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),s={...m0(t||".",{relative:e})},a=Ji();if(t==null){s.search=a.search;let o=new URLSearchParams(s.search),c=o.getAll("index");if(c.some(d=>d==="")){o.delete("index"),c.filter(f=>f).forEach(f=>o.append("index",f));let d=o.toString();s.search=d?`?${d}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(s.pathname=s.pathname==="/"?r:wo([r,s.pathname])),iu(s)}function Efe(t,e={}){let r=g.useContext(ik);Nt(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=Wq("useViewTransitionState"),i=m0(t,{relative:e.relative});if(!r.isTransitioning)return!1;let s=Qs(r.currentLocation.pathname,n)||r.currentLocation.pathname,a=Qs(r.nextLocation.pathname,n)||r.nextLocation.pathname;return zw(i.pathname,a)!=null||zw(i.pathname,s)!=null}new TextEncoder;[...ife];/**
 * react-router v7.5.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sfe(t){return g.createElement($de,{flushSync:Bo.flushSync,...t})}var B$={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hq=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},Nfe=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[r++];e[n++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[r++],a=t[r++],o=t[r++],c=((i&7)<<18|(s&63)<<12|(a&63)<<6|o&63)-65536;e[n++]=String.fromCharCode(55296+(c>>10)),e[n++]=String.fromCharCode(56320+(c&1023))}else{const s=t[r++],a=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},Kq={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,o=a?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,d=s>>2,f=(s&3)<<4|o>>4;let h=(o&15)<<2|u>>6,p=u&63;c||(p=64,a||(h=64)),n.push(r[d],r[f],r[h],r[p])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Hq(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Nfe(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const s=r[t.charAt(i++)],o=i<t.length?r[t.charAt(i)]:0;++i;const u=i<t.length?r[t.charAt(i)]:64;++i;const f=i<t.length?r[t.charAt(i)]:64;if(++i,s==null||o==null||u==null||f==null)throw new Tfe;const h=s<<2|o>>4;if(n.push(h),u!==64){const p=o<<4&240|u>>2;if(n.push(p),f!==64){const v=u<<6&192|f;n.push(v)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Tfe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const jfe=function(t){const e=Hq(t);return Kq.encodeByteArray(e,!0)},Hw=function(t){return jfe(t).replace(/\./g,"")},Gq=function(t){try{return Kq.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cfe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Afe=()=>Cfe().__FIREBASE_DEFAULTS__,Pfe=()=>{if(typeof process>"u"||typeof B$>"u")return;const t=B$.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Rfe=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Gq(t[1]);return e&&JSON.parse(e)},dE=()=>{try{return Afe()||Pfe()||Rfe()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Yq=t=>{var e,r;return(r=(e=dE())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},Xq=t=>{const e=Yq(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},Qq=()=>{var t;return(t=dE())===null||t===void 0?void 0:t.config},Zq=t=>{var e;return(e=dE())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kfe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jq(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Hw(JSON.stringify(r)),Hw(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ui(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ife(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ui())}function Ofe(){var t;const e=(t=dE())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Mfe(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Dfe(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Lfe(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $fe(){const t=ui();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Ffe(){return!Ofe()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Vfe(){try{return typeof indexedDB=="object"}catch{return!1}}function Bfe(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ufe="FirebaseError";class zo extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=Ufe,Object.setPrototypeOf(this,zo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,g0.prototype.create)}}class g0{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?zfe(s,n):"Error",o=`${this.serviceName}: ${a} (${i}).`;return new zo(i,o,n)}}function zfe(t,e){return t.replace(qfe,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const qfe=/\{\$([^}]+)}/g;function Wfe(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Vv(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const s=t[i],a=e[i];if(U$(s)&&U$(a)){if(!Vv(s,a))return!1}else if(s!==a)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function U$(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v0(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function Hfe(t,e){const r=new Kfe(t,e);return r.subscribe.bind(r)}class Kfe{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");Gfe(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=XN),i.error===void 0&&(i.error=XN),i.complete===void 0&&(i.complete=XN);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Gfe(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function XN(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hr(t){return t&&t._delegate?t._delegate:t}class su{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ed="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yfe{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new kfe;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Qfe(e))try{this.getOrInitializeService({instanceIdentifier:ed})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const s=this.getOrInitializeService({instanceIdentifier:i});n.resolve(s)}catch{}}}}clearInstance(e=ed){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ed){return this.instances.has(e)}getOptions(e=ed){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[s,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);n===o&&a.resolve(i)}return i}onInit(e,r){var n;const i=this.normalizeInstanceIdentifier(r),s=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:Xfe(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=ed){return this.component?this.component.multipleInstances?e:ed:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Xfe(t){return t===ed?void 0:t}function Qfe(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zfe{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new Yfe(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var It;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(It||(It={}));const Jfe={debug:It.DEBUG,verbose:It.VERBOSE,info:It.INFO,warn:It.WARN,error:It.ERROR,silent:It.SILENT},ehe=It.INFO,the={[It.DEBUG]:"log",[It.VERBOSE]:"log",[It.INFO]:"info",[It.WARN]:"warn",[It.ERROR]:"error"},rhe=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=the[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class uk{constructor(e){this.name=e,this._logLevel=ehe,this._logHandler=rhe,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in It))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Jfe[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,It.DEBUG,...e),this._logHandler(this,It.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,It.VERBOSE,...e),this._logHandler(this,It.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,It.INFO,...e),this._logHandler(this,It.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,It.WARN,...e),this._logHandler(this,It.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,It.ERROR,...e),this._logHandler(this,It.ERROR,...e)}}const nhe=(t,e)=>e.some(r=>t instanceof r);let z$,q$;function ihe(){return z$||(z$=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function she(){return q$||(q$=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const eW=new WeakMap,KC=new WeakMap,tW=new WeakMap,QN=new WeakMap,dk=new WeakMap;function ahe(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{r(Yc(t.result)),i()},a=()=>{n(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(r=>{r instanceof IDBCursor&&eW.set(r,t)}).catch(()=>{}),dk.set(e,t),e}function ohe(t){if(KC.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{r(),i()},a=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});KC.set(t,e)}let GC={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return KC.get(t);if(e==="objectStoreNames")return t.objectStoreNames||tW.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Yc(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function lhe(t){GC=t(GC)}function che(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(ZN(this),e,...r);return tW.set(n,e.sort?e.sort():[e]),Yc(n)}:she().includes(t)?function(...e){return t.apply(ZN(this),e),Yc(eW.get(this))}:function(...e){return Yc(t.apply(ZN(this),e))}}function uhe(t){return typeof t=="function"?che(t):(t instanceof IDBTransaction&&ohe(t),nhe(t,ihe())?new Proxy(t,GC):t)}function Yc(t){if(t instanceof IDBRequest)return ahe(t);if(QN.has(t))return QN.get(t);const e=uhe(t);return e!==t&&(QN.set(t,e),dk.set(e,t)),e}const ZN=t=>dk.get(t);function dhe(t,e,{blocked:r,upgrade:n,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),o=Yc(a);return n&&a.addEventListener("upgradeneeded",c=>{n(Yc(a.result),c.oldVersion,c.newVersion,Yc(a.transaction),c)}),r&&a.addEventListener("blocked",c=>r(c.oldVersion,c.newVersion,c)),o.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),o}const fhe=["get","getKey","getAll","getAllKeys","count"],hhe=["put","add","delete","clear"],JN=new Map;function W$(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(JN.get(e))return JN.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=hhe.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||fhe.includes(r)))return;const s=async function(a,...o){const c=this.transaction(a,i?"readwrite":"readonly");let u=c.store;return n&&(u=u.index(o.shift())),(await Promise.all([u[r](...o),i&&c.done]))[0]};return JN.set(e,s),s}lhe(t=>({...t,get:(e,r,n)=>W$(e,r)||t.get(e,r,n),has:(e,r)=>!!W$(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class phe{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(mhe(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function mhe(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const YC="@firebase/app",H$="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vl=new uk("@firebase/app"),ghe="@firebase/app-compat",vhe="@firebase/analytics-compat",yhe="@firebase/analytics",xhe="@firebase/app-check-compat",bhe="@firebase/app-check",whe="@firebase/auth",_he="@firebase/auth-compat",Ehe="@firebase/database",She="@firebase/data-connect",Nhe="@firebase/database-compat",The="@firebase/functions",jhe="@firebase/functions-compat",Che="@firebase/installations",Ahe="@firebase/installations-compat",Phe="@firebase/messaging",Rhe="@firebase/messaging-compat",khe="@firebase/performance",Ihe="@firebase/performance-compat",Ohe="@firebase/remote-config",Mhe="@firebase/remote-config-compat",Dhe="@firebase/storage",Lhe="@firebase/storage-compat",$he="@firebase/firestore",Fhe="@firebase/vertexai-preview",Vhe="@firebase/firestore-compat",Bhe="firebase",Uhe="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC="[DEFAULT]",zhe={[YC]:"fire-core",[ghe]:"fire-core-compat",[yhe]:"fire-analytics",[vhe]:"fire-analytics-compat",[bhe]:"fire-app-check",[xhe]:"fire-app-check-compat",[whe]:"fire-auth",[_he]:"fire-auth-compat",[Ehe]:"fire-rtdb",[She]:"fire-data-connect",[Nhe]:"fire-rtdb-compat",[The]:"fire-fn",[jhe]:"fire-fn-compat",[Che]:"fire-iid",[Ahe]:"fire-iid-compat",[Phe]:"fire-fcm",[Rhe]:"fire-fcm-compat",[khe]:"fire-perf",[Ihe]:"fire-perf-compat",[Ohe]:"fire-rc",[Mhe]:"fire-rc-compat",[Dhe]:"fire-gcs",[Lhe]:"fire-gcs-compat",[$he]:"fire-fst",[Vhe]:"fire-fst-compat",[Fhe]:"fire-vertex","fire-js":"fire-js",[Bhe]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw=new Map,qhe=new Map,QC=new Map;function K$(t,e){try{t.container.addComponent(e)}catch(r){Vl.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function Qd(t){const e=t.name;if(QC.has(e))return Vl.debug(`There were multiple attempts to register component ${e}.`),!1;QC.set(e,t);for(const r of Kw.values())K$(r,t);for(const r of qhe.values())K$(r,t);return!0}function fE(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function pl(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Whe={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xc=new g0("app","Firebase",Whe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hhe{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new su("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xc.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wf=Uhe;function rW(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:XC,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw Xc.create("bad-app-name",{appName:String(i)});if(r||(r=Qq()),!r)throw Xc.create("no-options");const s=Kw.get(i);if(s){if(Vv(r,s.options)&&Vv(n,s.config))return s;throw Xc.create("duplicate-app",{appName:i})}const a=new Zfe(i);for(const c of QC.values())a.addComponent(c);const o=new Hhe(r,n,a);return Kw.set(i,o),o}function fk(t=XC){const e=Kw.get(t);if(!e&&t===XC&&Qq())return rW();if(!e)throw Xc.create("no-app",{appName:t});return e}function _o(t,e,r){var n;let i=(n=zhe[t])!==null&&n!==void 0?n:t;r&&(i+=`-${r}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const o=[`Unable to register library "${i}" with version "${e}":`];s&&o.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Vl.warn(o.join(" "));return}Qd(new su(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Khe="firebase-heartbeat-database",Ghe=1,Bv="firebase-heartbeat-store";let eT=null;function nW(){return eT||(eT=dhe(Khe,Ghe,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Bv)}catch(r){console.warn(r)}}}}).catch(t=>{throw Xc.create("idb-open",{originalErrorMessage:t.message})})),eT}async function Yhe(t){try{const r=(await nW()).transaction(Bv),n=await r.objectStore(Bv).get(iW(t));return await r.done,n}catch(e){if(e instanceof zo)Vl.warn(e.message);else{const r=Xc.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Vl.warn(r.message)}}}async function G$(t,e){try{const n=(await nW()).transaction(Bv,"readwrite");await n.objectStore(Bv).put(e,iW(t)),await n.done}catch(r){if(r instanceof zo)Vl.warn(r.message);else{const n=Xc.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Vl.warn(n.message)}}}function iW(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xhe=1024,Qhe=30*24*60*60*1e3;class Zhe{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new epe(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Y$();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const o=new Date(a.date).valueOf();return Date.now()-o<=Qhe}),this._storage.overwrite(this._heartbeatsCache))}catch(n){Vl.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=Y$(),{heartbeatsToSend:n,unsentEntries:i}=Jhe(this._heartbeatsCache.heartbeats),s=Hw(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(r){return Vl.warn(r),""}}}function Y$(){return new Date().toISOString().substring(0,10)}function Jhe(t,e=Xhe){const r=[];let n=t.slice();for(const i of t){const s=r.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),X$(r)>e){s.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),X$(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class epe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Vfe()?Bfe().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await Yhe(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return G$(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return G$(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function X$(t){return Hw(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tpe(t){Qd(new su("platform-logger",e=>new phe(e),"PRIVATE")),Qd(new su("heartbeat",e=>new Zhe(e),"PRIVATE")),_o(YC,H$,t),_o(YC,H$,"esm2017"),_o("fire-js","")}tpe("");var lo=function(){return lo=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},lo.apply(this,arguments)};function y0(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function rpe(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))}function sW(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const npe=sW,aW=new g0("auth","Firebase",sW());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw=new uk("@firebase/auth");function ipe(t,...e){Gw.logLevel<=It.WARN&&Gw.warn(`Auth (${wf}): ${t}`,...e)}function zb(t,...e){Gw.logLevel<=It.ERROR&&Gw.error(`Auth (${wf}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mo(t,...e){throw pk(t,...e)}function Ra(t,...e){return pk(t,...e)}function hk(t,e,r){const n=Object.assign(Object.assign({},npe()),{[e]:r});return new g0("auth","Firebase",n).create(e,{appName:t.name})}function Od(t){return hk(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function spe(t,e,r){const n=r;if(!(e instanceof n))throw n.name!==e.constructor.name&&Mo(t,"argument-error"),hk(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function pk(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return aW.create(t,...e)}function ot(t,e,...r){if(!t)throw pk(e,...r)}function ml(t){const e="INTERNAL ASSERTION FAILED: "+t;throw zb(e),new Error(e)}function Bl(t,e){t||ml(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZC(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function ape(){return Q$()==="http:"||Q$()==="https:"}function Q$(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ope(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ape()||Dfe()||"connection"in navigator)?navigator.onLine:!0}function lpe(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(e,r){this.shortDelay=e,this.longDelay=r,Bl(r>e,"Short delay should be less than long delay!"),this.isMobile=Ife()||Lfe()}get(){return ope()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mk(t,e){Bl(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oW{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ml("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ml("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ml("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cpe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const upe=new x0(3e4,6e4);function gk(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function hm(t,e,r,n,i={}){return lW(t,i,async()=>{let s={},a={};n&&(e==="GET"?a=n:s={body:JSON.stringify(n)});const o=v0(Object.assign({key:t.config.apiKey},a)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:c},s);return Mfe()||(u.referrerPolicy="no-referrer"),oW.fetch()(cW(t,t.config.apiHost,r,o),u)})}async function lW(t,e,r){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},cpe),e);try{const i=new fpe(t),s=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw Hx(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const o=s.ok?a.errorMessage:a.error.message,[c,u]=o.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Hx(t,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw Hx(t,"email-already-in-use",a);if(c==="USER_DISABLED")throw Hx(t,"user-disabled",a);const d=n[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw hk(t,d,u);Mo(t,d)}}catch(i){if(i instanceof zo)throw i;Mo(t,"network-request-failed",{message:String(i)})}}async function dpe(t,e,r,n,i={}){const s=await hm(t,e,r,n,i);return"mfaPendingCredential"in s&&Mo(t,"multi-factor-auth-required",{_serverResponse:s}),s}function cW(t,e,r,n){const i=`${e}${r}?${n}`;return t.config.emulator?mk(t.config,i):`${t.config.apiScheme}://${i}`}class fpe{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(Ra(this.auth,"network-request-failed")),upe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Hx(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=Ra(t,e,n);return i.customData._tokenResponse=r,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hpe(t,e){return hm(t,"POST","/v1/accounts:delete",e)}async function uW(t,e){return hm(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qg(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ppe(t,e=!1){const r=hr(t),n=await r.getIdToken(e),i=vk(n);ot(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:n,authTime:Qg(tT(i.auth_time)),issuedAtTime:Qg(tT(i.iat)),expirationTime:Qg(tT(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function tT(t){return Number(t)*1e3}function vk(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return zb("JWT malformed, contained fewer than 3 sections"),null;try{const i=Gq(r);return i?JSON.parse(i):(zb("Failed to decode base64 JWT payload"),null)}catch(i){return zb("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Z$(t){const e=vk(t);return ot(e,"internal-error"),ot(typeof e.exp<"u","internal-error"),ot(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uv(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof zo&&mpe(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function mpe({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gpe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=Qg(this.lastLoginAt),this.creationTime=Qg(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yw(t){var e;const r=t.auth,n=await t.getIdToken(),i=await Uv(t,uW(r,{idToken:n}));ot(i==null?void 0:i.users.length,r,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?dW(s.providerUserInfo):[],o=ype(t.providerData,a),c=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),d=c?u:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new JC(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function vpe(t){const e=hr(t);await Yw(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ype(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function dW(t){return t.map(e=>{var{providerId:r}=e,n=y0(e,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xpe(t,e){const r=await lW(t,{},async()=>{const n=v0({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=cW(t,i,"/v1/token",`key=${s}`),o=await t._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",oW.fetch()(a,{method:"POST",headers:o,body:n})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function bpe(t,e){return hm(t,"POST","/v2/accounts:revokeToken",gk(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ot(e.idToken,"internal-error"),ot(typeof e.idToken<"u","internal-error"),ot(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Z$(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){ot(e.length!==0,"internal-error");const r=Z$(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(ot(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:s}=await xpe(e,r);this.updateTokensAndExpiration(n,i,Number(s))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:s}=r,a=new Mh;return n&&(ot(typeof n=="string","internal-error",{appName:e}),a.refreshToken=n),i&&(ot(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(ot(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Mh,this.toJSON())}_performRefresh(){return ml("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uc(t,e){ot(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class gl{constructor(e){var{uid:r,auth:n,stsTokenManager:i}=e,s=y0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new gpe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new JC(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const r=await Uv(this,this.stsTokenManager.getToken(this.auth,e));return ot(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return ppe(this,e)}reload(){return vpe(this)}_assign(e){this!==e&&(ot(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new gl(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){ot(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await Yw(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(pl(this.auth.app))return Promise.reject(Od(this.auth));const e=await this.getIdToken();return await Uv(this,hpe(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var n,i,s,a,o,c,u,d;const f=(n=r.displayName)!==null&&n!==void 0?n:void 0,h=(i=r.email)!==null&&i!==void 0?i:void 0,p=(s=r.phoneNumber)!==null&&s!==void 0?s:void 0,v=(a=r.photoURL)!==null&&a!==void 0?a:void 0,m=(o=r.tenantId)!==null&&o!==void 0?o:void 0,b=(c=r._redirectEventId)!==null&&c!==void 0?c:void 0,w=(u=r.createdAt)!==null&&u!==void 0?u:void 0,y=(d=r.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:_,emailVerified:S,isAnonymous:E,providerData:N,stsTokenManager:T}=r;ot(_&&T,e,"internal-error");const j=Mh.fromJSON(this.name,T);ot(typeof _=="string",e,"internal-error"),uc(f,e.name),uc(h,e.name),ot(typeof S=="boolean",e,"internal-error"),ot(typeof E=="boolean",e,"internal-error"),uc(p,e.name),uc(v,e.name),uc(m,e.name),uc(b,e.name),uc(w,e.name),uc(y,e.name);const A=new gl({uid:_,auth:e,email:h,emailVerified:S,displayName:f,isAnonymous:E,photoURL:v,phoneNumber:p,tenantId:m,stsTokenManager:j,createdAt:w,lastLoginAt:y});return N&&Array.isArray(N)&&(A.providerData=N.map(R=>Object.assign({},R))),b&&(A._redirectEventId=b),A}static async _fromIdTokenResponse(e,r,n=!1){const i=new Mh;i.updateFromServerResponse(r);const s=new gl({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await Yw(s),s}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];ot(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?dW(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),o=new Mh;o.updateFromIdToken(n);const c=new gl({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new JC(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J$=new Map;function vl(t){Bl(t instanceof Function,"Expected a class definition");let e=J$.get(t);return e?(Bl(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,J$.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fW{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}fW.type="NONE";const e4=fW;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qb(t,e,r){return`firebase:${t}:${e}:${r}`}class Dh{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:s}=this.auth;this.fullUserKey=qb(this.userKey,i.apiKey,s),this.fullPersistenceKey=qb("persistence",i.apiKey,s),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?gl._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new Dh(vl(e4),e,n);const i=(await Promise.all(r.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||vl(e4);const a=qb(n,e.config.apiKey,e.name);let o=null;for(const u of r)try{const d=await u._get(a);if(d){const f=gl._fromJSON(e,d);u!==s&&(o=f),s=u;break}}catch{}const c=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new Dh(s,e,n):(s=c[0],o&&await s._set(a,o.toJSON()),await Promise.all(r.map(async u=>{if(u!==s)try{await u._remove(a)}catch{}})),new Dh(s,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t4(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(gW(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(hW(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(yW(e))return"Blackberry";if(xW(e))return"Webos";if(pW(e))return"Safari";if((e.includes("chrome/")||mW(e))&&!e.includes("edge/"))return"Chrome";if(vW(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function hW(t=ui()){return/firefox\//i.test(t)}function pW(t=ui()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function mW(t=ui()){return/crios\//i.test(t)}function gW(t=ui()){return/iemobile/i.test(t)}function vW(t=ui()){return/android/i.test(t)}function yW(t=ui()){return/blackberry/i.test(t)}function xW(t=ui()){return/webos/i.test(t)}function yk(t=ui()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function wpe(t=ui()){var e;return yk(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function _pe(){return $fe()&&document.documentMode===10}function bW(t=ui()){return yk(t)||vW(t)||xW(t)||yW(t)||/windows phone/i.test(t)||gW(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wW(t,e=[]){let r;switch(t){case"Browser":r=t4(ui());break;case"Worker":r=`${t4(ui())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${wf}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Epe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=s=>new Promise((a,o)=>{try{const c=e(s);a(c)}catch(c){o(c)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Spe(t,e={}){return hm(t,"GET","/v2/passwordPolicy",gk(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Npe=6;class Tpe{constructor(e){var r,n,i,s;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=a.minPasswordLength)!==null&&r!==void 0?r:Npe,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,n,i,s,a,o;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(r=c.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(n=c.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNumericCharacter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(o=c.containsNonAlphanumericCharacter)!==null&&o!==void 0?o:!0),c}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jpe{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new r4(this),this.idTokenSubscription=new r4(this),this.beforeStateQueue=new Epe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=aW,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=vl(r)),this._initializationPromise=this.queue(async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await Dh.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await uW(this,{idToken:e}),n=await gl._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(pl(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,o=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===o)&&(c!=null&&c.user)&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ot(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await Yw(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=lpe()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(pl(this.app))return Promise.reject(Od(this));const r=e?hr(e):null;return r&&ot(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&ot(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return pl(this.app)?Promise.reject(Od(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return pl(this.app)?Promise.reject(Od(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(vl(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Spe(this),r=new Tpe(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new g0("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await bpe(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&vl(e)||this._popupRedirectResolver;ot(r,this,"argument-error"),this.redirectPersistenceManager=await Dh.create(this,[vl(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const s=typeof r=="function"?r:r.next.bind(r);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(ot(o,this,"internal-error"),o.then(()=>{a||s(this.currentUser)}),typeof r=="function"){const c=e.addObserver(r,n,i);return()=>{a=!0,c()}}else{const c=e.addObserver(r);return()=>{a=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ot(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=wW(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(r["X-Firebase-AppCheck"]=i),r}async _getAppCheckToken(){var e;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r!=null&&r.error&&ipe(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function hE(t){return hr(t)}class r4{constructor(e){this.auth=e,this.observer=null,this.addObserver=Hfe(r=>this.observer=r)}get next(){return ot(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xk={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Cpe(t){xk=t}function Ape(t){return xk.loadJS(t)}function Ppe(){return xk.gapiScript}function Rpe(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kpe(t,e){const r=fE(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),s=r.getOptions();if(Vv(s,e??{}))return i;Mo(i,"already-initialized")}return r.initialize({options:e})}function Ipe(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(vl);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function Ope(t,e,r){const n=hE(t);ot(n._canInitEmulator,n,"emulator-config-failed"),ot(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,s=_W(e),{host:a,port:o}=Mpe(e),c=o===null?"":`:${o}`;n.config.emulator={url:`${s}//${a}${c}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),Dpe()}function _W(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Mpe(t){const e=_W(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const s=i[1];return{host:s,port:n4(n.substr(s.length+1))}}else{const[s,a]=n.split(":");return{host:s,port:n4(a)}}}function n4(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Dpe(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EW{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return ml("not implemented")}_getIdTokenResponse(e){return ml("not implemented")}_linkToIdToken(e,r){return ml("not implemented")}_getReauthenticationResolver(e){return ml("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lh(t,e){return dpe(t,"POST","/v1/accounts:signInWithIdp",gk(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lpe="http://localhost";class Zd extends EW{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new Zd(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):Mo("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i}=r,s=y0(r,["providerId","signInMethod"]);if(!n||!i)return null;const a=new Zd(n,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const r=this.buildRequest();return Lh(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,Lh(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,Lh(e,r)}buildRequest(){const e={requestUri:Lpe,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=v0(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0 extends bk{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc extends b0{constructor(){super("facebook.com")}static credential(e){return Zd._fromParams({providerId:Sc.PROVIDER_ID,signInMethod:Sc.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Sc.credentialFromTaggedObject(e)}static credentialFromError(e){return Sc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Sc.credential(e.oauthAccessToken)}catch{return null}}}Sc.FACEBOOK_SIGN_IN_METHOD="facebook.com";Sc.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl extends b0{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return Zd._fromParams({providerId:cl.PROVIDER_ID,signInMethod:cl.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return cl.credentialFromTaggedObject(e)}static credentialFromError(e){return cl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return cl.credential(r,n)}catch{return null}}}cl.GOOGLE_SIGN_IN_METHOD="google.com";cl.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc extends b0{constructor(){super("github.com")}static credential(e){return Zd._fromParams({providerId:Nc.PROVIDER_ID,signInMethod:Nc.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Nc.credentialFromTaggedObject(e)}static credentialFromError(e){return Nc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Nc.credential(e.oauthAccessToken)}catch{return null}}}Nc.GITHUB_SIGN_IN_METHOD="github.com";Nc.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc extends b0{constructor(){super("twitter.com")}static credential(e,r){return Zd._fromParams({providerId:Tc.PROVIDER_ID,signInMethod:Tc.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return Tc.credentialFromTaggedObject(e)}static credentialFromError(e){return Tc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return Tc.credential(r,n)}catch{return null}}}Tc.TWITTER_SIGN_IN_METHOD="twitter.com";Tc.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const s=await gl._fromIdTokenResponse(e,n,i),a=i4(n);return new vp({user:s,providerId:a,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=i4(n);return new vp({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function i4(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw extends zo{constructor(e,r,n,i){var s;super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,Xw.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new Xw(e,r,n,i)}}function SW(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Xw._fromErrorAndOperation(t,s,e,n):s})}async function $pe(t,e,r=!1){const n=await Uv(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return vp._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fpe(t,e,r=!1){const{auth:n}=t;if(pl(n.app))return Promise.reject(Od(n));const i="reauthenticate";try{const s=await Uv(t,SW(n,i,e,t),r);ot(s.idToken,n,"internal-error");const a=vk(s.idToken);ot(a,n,"internal-error");const{sub:o}=a;return ot(t.uid===o,n,"user-mismatch"),vp._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Mo(n,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vpe(t,e,r=!1){if(pl(t.app))return Promise.reject(Od(t));const n="signIn",i=await SW(t,n,e),s=await vp._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(s.user),s}function Bpe(t,e,r,n){return hr(t).onIdTokenChanged(e,r,n)}function Upe(t,e,r){return hr(t).beforeAuthStateChanged(e,r)}function zpe(t,e,r,n){return hr(t).onAuthStateChanged(e,r,n)}function Kx(t){return hr(t).signOut()}const Qw="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NW{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(Qw,"1"),this.storage.removeItem(Qw),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qpe=1e3,Wpe=10;class TW extends NW{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=bW(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((a,o,c)=>{this.notifyListeners(a,c)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(n);!r&&this.localCache[n]===a||this.notifyListeners(n,a)},s=this.storage.getItem(n);_pe()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Wpe):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},qpe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}TW.type="LOCAL";const Hpe=TW;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jW extends NW{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}jW.type="SESSION";const CW=jW;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kpe(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new pE(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:s}=r.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const o=Array.from(a).map(async u=>u(r.origin,s)),c=await Kpe(o);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:c})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}pE.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wk(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gpe{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((o,c)=>{const u=wk("",20);i.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},n);a={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),o(h.data.response);break;default:clearTimeout(d),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:u,data:r},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eo(){return window}function Ype(t){Eo().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AW(){return typeof Eo().WorkerGlobalScope<"u"&&typeof Eo().importScripts=="function"}async function Xpe(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Qpe(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Zpe(){return AW()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PW="firebaseLocalStorageDb",Jpe=1,Zw="firebaseLocalStorage",RW="fbase_key";class w0{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function mE(t,e){return t.transaction([Zw],e?"readwrite":"readonly").objectStore(Zw)}function eme(){const t=indexedDB.deleteDatabase(PW);return new w0(t).toPromise()}function eA(){const t=indexedDB.open(PW,Jpe);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(Zw,{keyPath:RW})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(Zw)?e(n):(n.close(),await eme(),e(await eA()))})})}async function s4(t,e,r){const n=mE(t,!0).put({[RW]:e,value:r});return new w0(n).toPromise()}async function tme(t,e){const r=mE(t,!1).get(e),n=await new w0(r).toPromise();return n===void 0?null:n.value}function a4(t,e){const r=mE(t,!0).delete(e);return new w0(r).toPromise()}const rme=800,nme=3;class kW{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await eA(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>nme)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return AW()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=pE._getInstance(Zpe()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await Xpe(),!this.activeServiceWorker)return;this.sender=new Gpe(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Qpe()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await eA();return await s4(e,Qw,"1"),await a4(e,Qw),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>s4(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>tme(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>a4(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=mE(i,!1).getAll();return new w0(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),rme)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}kW.type="LOCAL";const ime=kW;new x0(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IW(t,e){return e?vl(e):(ot(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k extends EW{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Lh(e,this._buildIdpRequest())}_linkToIdToken(e,r){return Lh(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return Lh(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function sme(t){return Vpe(t.auth,new _k(t),t.bypassAuthState)}function ame(t){const{auth:e,user:r}=t;return ot(r,e,"internal-error"),Fpe(r,new _k(t),t.bypassAuthState)}async function ome(t){const{auth:e,user:r}=t;return ot(r,e,"internal-error"),$pe(r,new _k(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OW{constructor(e,r,n,i,s=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:s,error:a,type:o}=e;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:r,sessionId:n,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return sme;case"linkViaPopup":case"linkViaRedirect":return ome;case"reauthViaPopup":case"reauthViaRedirect":return ame;default:Mo(this.auth,"internal-error")}}resolve(e){Bl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Bl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lme=new x0(2e3,1e4);async function cme(t,e,r){if(pl(t.app))return Promise.reject(Ra(t,"operation-not-supported-in-this-environment"));const n=hE(t);spe(t,e,bk);const i=IW(n,r);return new pd(n,"signInViaPopup",e,i).executeNotNull()}class pd extends OW{constructor(e,r,n,i,s){super(e,r,i,s),this.provider=n,this.authWindow=null,this.pollId=null,pd.currentPopupAction&&pd.currentPopupAction.cancel(),pd.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ot(e,this.auth,"internal-error"),e}async onExecution(){Bl(this.filter.length===1,"Popup operations only handle one event");const e=wk();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Ra(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ra(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,pd.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ra(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,lme.get())};e()}}pd.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ume="pendingRedirect",Wb=new Map;class dme extends OW{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=Wb.get(this.auth._key());if(!e){try{const n=await fme(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}Wb.set(this.auth._key(),e)}return this.bypassAuthState||Wb.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function fme(t,e){const r=mme(e),n=pme(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function hme(t,e){Wb.set(t._key(),e)}function pme(t){return vl(t._redirectPersistence)}function mme(t){return qb(ume,t.config.apiKey,t.name)}async function gme(t,e,r=!1){if(pl(t.app))return Promise.reject(Od(t));const n=hE(t),i=IW(n,e),a=await new dme(n,i,r).execute();return a&&!r&&(delete a.user._redirectEventId,await n._persistUserIfCurrent(a.user),await n._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vme=10*60*1e3;class yme{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!xme(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!MW(e)){const i=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(Ra(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=vme&&this.cachedEventUids.clear(),this.cachedEventUids.has(o4(e))}saveEventToCache(e){this.cachedEventUids.add(o4(e)),this.lastProcessedEventTime=Date.now()}}function o4(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function MW({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function xme(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return MW(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bme(t,e={}){return hm(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wme=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_me=/^https?/;async function Eme(t){if(t.config.emulator)return;const{authorizedDomains:e}=await bme(t);for(const r of e)try{if(Sme(r))return}catch{}Mo(t,"unauthorized-domain")}function Sme(t){const e=ZC(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&a.hostname===n}if(!_me.test(r))return!1;if(wme.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nme=new x0(3e4,6e4);function l4(){const t=Eo().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function Tme(t){return new Promise((e,r)=>{var n,i,s;function a(){l4(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{l4(),r(Ra(t,"network-request-failed"))},timeout:Nme.get()})}if(!((i=(n=Eo().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Eo().gapi)===null||s===void 0)&&s.load)a();else{const o=Rpe("iframefcb");return Eo()[o]=()=>{gapi.load?a():r(Ra(t,"network-request-failed"))},Ape(`${Ppe()}?onload=${o}`).catch(c=>r(c))}}).catch(e=>{throw Hb=null,e})}let Hb=null;function jme(t){return Hb=Hb||Tme(t),Hb}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cme=new x0(5e3,15e3),Ame="__/auth/iframe",Pme="emulator/auth/iframe",Rme={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},kme=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ime(t){const e=t.config;ot(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?mk(e,Pme):`https://${t.config.authDomain}/${Ame}`,n={apiKey:e.apiKey,appName:t.name,v:wf},i=kme.get(t.config.apiHost);i&&(n.eid=i);const s=t._getFrameworks();return s.length&&(n.fw=s.join(",")),`${r}?${v0(n).slice(1)}`}async function Ome(t){const e=await jme(t),r=Eo().gapi;return ot(r,t,"internal-error"),e.open({where:document.body,url:Ime(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Rme,dontclear:!0},n=>new Promise(async(i,s)=>{await n.restyle({setHideOnLeave:!1});const a=Ra(t,"network-request-failed"),o=Eo().setTimeout(()=>{s(a)},Cme.get());function c(){Eo().clearTimeout(o),i(n)}n.ping(c).then(c,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mme={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Dme=500,Lme=600,$me="_blank",Fme="http://localhost";class c4{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Vme(t,e,r,n=Dme,i=Lme){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-n)/2,0).toString();let o="";const c=Object.assign(Object.assign({},Mme),{width:n.toString(),height:i.toString(),top:s,left:a}),u=ui().toLowerCase();r&&(o=mW(u)?$me:r),hW(u)&&(e=e||Fme,c.scrollbars="yes");const d=Object.entries(c).reduce((h,[p,v])=>`${h}${p}=${v},`,"");if(wpe(u)&&o!=="_self")return Bme(e||"",o),new c4(null);const f=window.open(e||"",o,d);ot(f,t,"popup-blocked");try{f.focus()}catch{}return new c4(f)}function Bme(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ume="__/auth/handler",zme="emulator/auth/handler",qme=encodeURIComponent("fac");async function u4(t,e,r,n,i,s){ot(t.config.authDomain,t,"auth-domain-config-required"),ot(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:wf,eventId:i};if(e instanceof bk){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",Wfe(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))a[d]=f}if(e instanceof b0){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(a.scopes=d.join(","))}t.tenantId&&(a.tid=t.tenantId);const o=a;for(const d of Object.keys(o))o[d]===void 0&&delete o[d];const c=await t._getAppCheckToken(),u=c?`#${qme}=${encodeURIComponent(c)}`:"";return`${Wme(t)}?${v0(o).slice(1)}${u}`}function Wme({config:t}){return t.emulator?mk(t,zme):`https://${t.authDomain}/${Ume}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT="webStorageSupport";class Hme{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=CW,this._completeRedirectFn=gme,this._overrideRedirectResult=hme}async _openPopup(e,r,n,i){var s;Bl((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await u4(e,r,n,ZC(),i);return Vme(e,a,wk())}async _openRedirect(e,r,n,i){await this._originValidation(e);const s=await u4(e,r,n,ZC(),i);return Ype(s),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:s}=this.eventManagers[r];return i?Promise.resolve(i):(Bl(s,"If manager is not set, promise should be"),s)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await Ome(e),n=new yme(e);return r.register("authEvent",i=>(ot(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(rT,{type:rT},i=>{var s;const a=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[rT];a!==void 0&&r(!!a),Mo(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=Eme(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return bW()||pW()||yk()}}const Kme=Hme;var d4="@firebase/auth",f4="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gme{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){ot(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yme(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Xme(t){Qd(new su("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=n.options;ot(a&&!a.includes(":"),"invalid-api-key",{appName:n.name});const c={apiKey:a,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wW(t)},u=new jpe(n,i,s,c);return Ipe(u,r),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),Qd(new su("auth-internal",e=>{const r=hE(e.getProvider("auth").getImmediate());return(n=>new Gme(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),_o(d4,f4,Yme(t)),_o(d4,f4,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qme=5*60,Zme=Zq("authIdTokenMaxAge")||Qme;let h4=null;const Jme=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>Zme)return;const i=r==null?void 0:r.token;h4!==i&&(h4=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function ege(t=fk()){const e=fE(t,"auth");if(e.isInitialized())return e.getImmediate();const r=kpe(t,{popupRedirectResolver:Kme,persistence:[ime,Hpe,CW]}),n=Zq("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(n,location.origin);if(location.origin===s.origin){const a=Jme(s.toString());Upe(r,a,()=>a(r.currentUser)),Bpe(r,o=>a(o))}}const i=Yq("auth");return i&&Ope(r,`http://${i}`),r}function tge(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Cpe({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const s=Ra("internal-error");s.customData=i,r(s)},n.type="text/javascript",n.charset="UTF-8",tge().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Xme("Browser");var rge="firebase",nge="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_o(rge,nge,"app");var p4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Md,DW;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,j){function A(){}A.prototype=j.prototype,T.D=j.prototype,T.prototype=new A,T.prototype.constructor=T,T.C=function(R,k,O){for(var P=Array(arguments.length-2),D=2;D<arguments.length;D++)P[D-2]=arguments[D];return j.prototype[k].apply(R,P)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,j,A){A||(A=0);var R=Array(16);if(typeof j=="string")for(var k=0;16>k;++k)R[k]=j.charCodeAt(A++)|j.charCodeAt(A++)<<8|j.charCodeAt(A++)<<16|j.charCodeAt(A++)<<24;else for(k=0;16>k;++k)R[k]=j[A++]|j[A++]<<8|j[A++]<<16|j[A++]<<24;j=T.g[0],A=T.g[1],k=T.g[2];var O=T.g[3],P=j+(O^A&(k^O))+R[0]+3614090360&4294967295;j=A+(P<<7&4294967295|P>>>25),P=O+(k^j&(A^k))+R[1]+3905402710&4294967295,O=j+(P<<12&4294967295|P>>>20),P=k+(A^O&(j^A))+R[2]+606105819&4294967295,k=O+(P<<17&4294967295|P>>>15),P=A+(j^k&(O^j))+R[3]+3250441966&4294967295,A=k+(P<<22&4294967295|P>>>10),P=j+(O^A&(k^O))+R[4]+4118548399&4294967295,j=A+(P<<7&4294967295|P>>>25),P=O+(k^j&(A^k))+R[5]+1200080426&4294967295,O=j+(P<<12&4294967295|P>>>20),P=k+(A^O&(j^A))+R[6]+2821735955&4294967295,k=O+(P<<17&4294967295|P>>>15),P=A+(j^k&(O^j))+R[7]+4249261313&4294967295,A=k+(P<<22&4294967295|P>>>10),P=j+(O^A&(k^O))+R[8]+1770035416&4294967295,j=A+(P<<7&4294967295|P>>>25),P=O+(k^j&(A^k))+R[9]+2336552879&4294967295,O=j+(P<<12&4294967295|P>>>20),P=k+(A^O&(j^A))+R[10]+4294925233&4294967295,k=O+(P<<17&4294967295|P>>>15),P=A+(j^k&(O^j))+R[11]+2304563134&4294967295,A=k+(P<<22&4294967295|P>>>10),P=j+(O^A&(k^O))+R[12]+1804603682&4294967295,j=A+(P<<7&4294967295|P>>>25),P=O+(k^j&(A^k))+R[13]+4254626195&4294967295,O=j+(P<<12&4294967295|P>>>20),P=k+(A^O&(j^A))+R[14]+2792965006&4294967295,k=O+(P<<17&4294967295|P>>>15),P=A+(j^k&(O^j))+R[15]+1236535329&4294967295,A=k+(P<<22&4294967295|P>>>10),P=j+(k^O&(A^k))+R[1]+4129170786&4294967295,j=A+(P<<5&4294967295|P>>>27),P=O+(A^k&(j^A))+R[6]+3225465664&4294967295,O=j+(P<<9&4294967295|P>>>23),P=k+(j^A&(O^j))+R[11]+643717713&4294967295,k=O+(P<<14&4294967295|P>>>18),P=A+(O^j&(k^O))+R[0]+3921069994&4294967295,A=k+(P<<20&4294967295|P>>>12),P=j+(k^O&(A^k))+R[5]+3593408605&4294967295,j=A+(P<<5&4294967295|P>>>27),P=O+(A^k&(j^A))+R[10]+38016083&4294967295,O=j+(P<<9&4294967295|P>>>23),P=k+(j^A&(O^j))+R[15]+3634488961&4294967295,k=O+(P<<14&4294967295|P>>>18),P=A+(O^j&(k^O))+R[4]+3889429448&4294967295,A=k+(P<<20&4294967295|P>>>12),P=j+(k^O&(A^k))+R[9]+568446438&4294967295,j=A+(P<<5&4294967295|P>>>27),P=O+(A^k&(j^A))+R[14]+3275163606&4294967295,O=j+(P<<9&4294967295|P>>>23),P=k+(j^A&(O^j))+R[3]+4107603335&4294967295,k=O+(P<<14&4294967295|P>>>18),P=A+(O^j&(k^O))+R[8]+1163531501&4294967295,A=k+(P<<20&4294967295|P>>>12),P=j+(k^O&(A^k))+R[13]+2850285829&4294967295,j=A+(P<<5&4294967295|P>>>27),P=O+(A^k&(j^A))+R[2]+4243563512&4294967295,O=j+(P<<9&4294967295|P>>>23),P=k+(j^A&(O^j))+R[7]+1735328473&4294967295,k=O+(P<<14&4294967295|P>>>18),P=A+(O^j&(k^O))+R[12]+2368359562&4294967295,A=k+(P<<20&4294967295|P>>>12),P=j+(A^k^O)+R[5]+4294588738&4294967295,j=A+(P<<4&4294967295|P>>>28),P=O+(j^A^k)+R[8]+2272392833&4294967295,O=j+(P<<11&4294967295|P>>>21),P=k+(O^j^A)+R[11]+1839030562&4294967295,k=O+(P<<16&4294967295|P>>>16),P=A+(k^O^j)+R[14]+4259657740&4294967295,A=k+(P<<23&4294967295|P>>>9),P=j+(A^k^O)+R[1]+2763975236&4294967295,j=A+(P<<4&4294967295|P>>>28),P=O+(j^A^k)+R[4]+1272893353&4294967295,O=j+(P<<11&4294967295|P>>>21),P=k+(O^j^A)+R[7]+4139469664&4294967295,k=O+(P<<16&4294967295|P>>>16),P=A+(k^O^j)+R[10]+3200236656&4294967295,A=k+(P<<23&4294967295|P>>>9),P=j+(A^k^O)+R[13]+681279174&4294967295,j=A+(P<<4&4294967295|P>>>28),P=O+(j^A^k)+R[0]+3936430074&4294967295,O=j+(P<<11&4294967295|P>>>21),P=k+(O^j^A)+R[3]+3572445317&4294967295,k=O+(P<<16&4294967295|P>>>16),P=A+(k^O^j)+R[6]+76029189&4294967295,A=k+(P<<23&4294967295|P>>>9),P=j+(A^k^O)+R[9]+3654602809&4294967295,j=A+(P<<4&4294967295|P>>>28),P=O+(j^A^k)+R[12]+3873151461&4294967295,O=j+(P<<11&4294967295|P>>>21),P=k+(O^j^A)+R[15]+530742520&4294967295,k=O+(P<<16&4294967295|P>>>16),P=A+(k^O^j)+R[2]+3299628645&4294967295,A=k+(P<<23&4294967295|P>>>9),P=j+(k^(A|~O))+R[0]+4096336452&4294967295,j=A+(P<<6&4294967295|P>>>26),P=O+(A^(j|~k))+R[7]+1126891415&4294967295,O=j+(P<<10&4294967295|P>>>22),P=k+(j^(O|~A))+R[14]+2878612391&4294967295,k=O+(P<<15&4294967295|P>>>17),P=A+(O^(k|~j))+R[5]+4237533241&4294967295,A=k+(P<<21&4294967295|P>>>11),P=j+(k^(A|~O))+R[12]+1700485571&4294967295,j=A+(P<<6&4294967295|P>>>26),P=O+(A^(j|~k))+R[3]+2399980690&4294967295,O=j+(P<<10&4294967295|P>>>22),P=k+(j^(O|~A))+R[10]+4293915773&4294967295,k=O+(P<<15&4294967295|P>>>17),P=A+(O^(k|~j))+R[1]+2240044497&4294967295,A=k+(P<<21&4294967295|P>>>11),P=j+(k^(A|~O))+R[8]+1873313359&4294967295,j=A+(P<<6&4294967295|P>>>26),P=O+(A^(j|~k))+R[15]+4264355552&4294967295,O=j+(P<<10&4294967295|P>>>22),P=k+(j^(O|~A))+R[6]+2734768916&4294967295,k=O+(P<<15&4294967295|P>>>17),P=A+(O^(k|~j))+R[13]+1309151649&4294967295,A=k+(P<<21&4294967295|P>>>11),P=j+(k^(A|~O))+R[4]+4149444226&4294967295,j=A+(P<<6&4294967295|P>>>26),P=O+(A^(j|~k))+R[11]+3174756917&4294967295,O=j+(P<<10&4294967295|P>>>22),P=k+(j^(O|~A))+R[2]+718787259&4294967295,k=O+(P<<15&4294967295|P>>>17),P=A+(O^(k|~j))+R[9]+3951481745&4294967295,T.g[0]=T.g[0]+j&4294967295,T.g[1]=T.g[1]+(k+(P<<21&4294967295|P>>>11))&4294967295,T.g[2]=T.g[2]+k&4294967295,T.g[3]=T.g[3]+O&4294967295}n.prototype.u=function(T,j){j===void 0&&(j=T.length);for(var A=j-this.blockSize,R=this.B,k=this.h,O=0;O<j;){if(k==0)for(;O<=A;)i(this,T,O),O+=this.blockSize;if(typeof T=="string"){for(;O<j;)if(R[k++]=T.charCodeAt(O++),k==this.blockSize){i(this,R),k=0;break}}else for(;O<j;)if(R[k++]=T[O++],k==this.blockSize){i(this,R),k=0;break}}this.h=k,this.o+=j},n.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var j=1;j<T.length-8;++j)T[j]=0;var A=8*this.o;for(j=T.length-8;j<T.length;++j)T[j]=A&255,A/=256;for(this.u(T),T=Array(16),j=A=0;4>j;++j)for(var R=0;32>R;R+=8)T[A++]=this.g[j]>>>R&255;return T};function s(T,j){var A=o;return Object.prototype.hasOwnProperty.call(A,T)?A[T]:A[T]=j(T)}function a(T,j){this.h=j;for(var A=[],R=!0,k=T.length-1;0<=k;k--){var O=T[k]|0;R&&O==j||(A[k]=O,R=!1)}this.g=A}var o={};function c(T){return-128<=T&&128>T?s(T,function(j){return new a([j|0],0>j?-1:0)}):new a([T|0],0>T?-1:0)}function u(T){if(isNaN(T)||!isFinite(T))return f;if(0>T)return b(u(-T));for(var j=[],A=1,R=0;T>=A;R++)j[R]=T/A|0,A*=4294967296;return new a(j,0)}function d(T,j){if(T.length==0)throw Error("number format error: empty string");if(j=j||10,2>j||36<j)throw Error("radix out of range: "+j);if(T.charAt(0)=="-")return b(d(T.substring(1),j));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=u(Math.pow(j,8)),R=f,k=0;k<T.length;k+=8){var O=Math.min(8,T.length-k),P=parseInt(T.substring(k,k+O),j);8>O?(O=u(Math.pow(j,O)),R=R.j(O).add(u(P))):(R=R.j(A),R=R.add(u(P)))}return R}var f=c(0),h=c(1),p=c(16777216);t=a.prototype,t.m=function(){if(m(this))return-b(this).m();for(var T=0,j=1,A=0;A<this.g.length;A++){var R=this.i(A);T+=(0<=R?R:4294967296+R)*j,j*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(v(this))return"0";if(m(this))return"-"+b(this).toString(T);for(var j=u(Math.pow(T,6)),A=this,R="";;){var k=S(A,j).g;A=w(A,k.j(j));var O=((0<A.g.length?A.g[0]:A.h)>>>0).toString(T);if(A=k,v(A))return O+R;for(;6>O.length;)O="0"+O;R=O+R}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function v(T){if(T.h!=0)return!1;for(var j=0;j<T.g.length;j++)if(T.g[j]!=0)return!1;return!0}function m(T){return T.h==-1}t.l=function(T){return T=w(this,T),m(T)?-1:v(T)?0:1};function b(T){for(var j=T.g.length,A=[],R=0;R<j;R++)A[R]=~T.g[R];return new a(A,~T.h).add(h)}t.abs=function(){return m(this)?b(this):this},t.add=function(T){for(var j=Math.max(this.g.length,T.g.length),A=[],R=0,k=0;k<=j;k++){var O=R+(this.i(k)&65535)+(T.i(k)&65535),P=(O>>>16)+(this.i(k)>>>16)+(T.i(k)>>>16);R=P>>>16,O&=65535,P&=65535,A[k]=P<<16|O}return new a(A,A[A.length-1]&-2147483648?-1:0)};function w(T,j){return T.add(b(j))}t.j=function(T){if(v(this)||v(T))return f;if(m(this))return m(T)?b(this).j(b(T)):b(b(this).j(T));if(m(T))return b(this.j(b(T)));if(0>this.l(p)&&0>T.l(p))return u(this.m()*T.m());for(var j=this.g.length+T.g.length,A=[],R=0;R<2*j;R++)A[R]=0;for(R=0;R<this.g.length;R++)for(var k=0;k<T.g.length;k++){var O=this.i(R)>>>16,P=this.i(R)&65535,D=T.i(k)>>>16,z=T.i(k)&65535;A[2*R+2*k]+=P*z,y(A,2*R+2*k),A[2*R+2*k+1]+=O*z,y(A,2*R+2*k+1),A[2*R+2*k+1]+=P*D,y(A,2*R+2*k+1),A[2*R+2*k+2]+=O*D,y(A,2*R+2*k+2)}for(R=0;R<j;R++)A[R]=A[2*R+1]<<16|A[2*R];for(R=j;R<2*j;R++)A[R]=0;return new a(A,0)};function y(T,j){for(;(T[j]&65535)!=T[j];)T[j+1]+=T[j]>>>16,T[j]&=65535,j++}function _(T,j){this.g=T,this.h=j}function S(T,j){if(v(j))throw Error("division by zero");if(v(T))return new _(f,f);if(m(T))return j=S(b(T),j),new _(b(j.g),b(j.h));if(m(j))return j=S(T,b(j)),new _(b(j.g),j.h);if(30<T.g.length){if(m(T)||m(j))throw Error("slowDivide_ only works with positive integers.");for(var A=h,R=j;0>=R.l(T);)A=E(A),R=E(R);var k=N(A,1),O=N(R,1);for(R=N(R,2),A=N(A,2);!v(R);){var P=O.add(R);0>=P.l(T)&&(k=k.add(A),O=P),R=N(R,1),A=N(A,1)}return j=w(T,k.j(j)),new _(k,j)}for(k=f;0<=T.l(j);){for(A=Math.max(1,Math.floor(T.m()/j.m())),R=Math.ceil(Math.log(A)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),O=u(A),P=O.j(j);m(P)||0<P.l(T);)A-=R,O=u(A),P=O.j(j);v(O)&&(O=h),k=k.add(O),T=w(T,P)}return new _(k,T)}t.A=function(T){return S(this,T).h},t.and=function(T){for(var j=Math.max(this.g.length,T.g.length),A=[],R=0;R<j;R++)A[R]=this.i(R)&T.i(R);return new a(A,this.h&T.h)},t.or=function(T){for(var j=Math.max(this.g.length,T.g.length),A=[],R=0;R<j;R++)A[R]=this.i(R)|T.i(R);return new a(A,this.h|T.h)},t.xor=function(T){for(var j=Math.max(this.g.length,T.g.length),A=[],R=0;R<j;R++)A[R]=this.i(R)^T.i(R);return new a(A,this.h^T.h)};function E(T){for(var j=T.g.length+1,A=[],R=0;R<j;R++)A[R]=T.i(R)<<1|T.i(R-1)>>>31;return new a(A,T.h)}function N(T,j){var A=j>>5;j%=32;for(var R=T.g.length-A,k=[],O=0;O<R;O++)k[O]=0<j?T.i(O+A)>>>j|T.i(O+A+1)<<32-j:T.i(O+A);return new a(k,T.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,DW=n,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=u,a.fromString=d,Md=a}).apply(typeof p4<"u"?p4:typeof self<"u"?self:typeof window<"u"?window:{});var Gx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var LW,jg,$W,Kb,tA,FW,VW,BW;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(x,C,I){return x==Array.prototype||x==Object.prototype||(x[C]=I.value),x};function r(x){x=[typeof globalThis=="object"&&globalThis,x,typeof window=="object"&&window,typeof self=="object"&&self,typeof Gx=="object"&&Gx];for(var C=0;C<x.length;++C){var I=x[C];if(I&&I.Math==Math)return I}throw Error("Cannot find global object")}var n=r(this);function i(x,C){if(C)e:{var I=n;x=x.split(".");for(var F=0;F<x.length-1;F++){var re=x[F];if(!(re in I))break e;I=I[re]}x=x[x.length-1],F=I[x],C=C(F),C!=F&&C!=null&&e(I,x,{configurable:!0,writable:!0,value:C})}}function s(x,C){x instanceof String&&(x+="");var I=0,F=!1,re={next:function(){if(!F&&I<x.length){var ae=I++;return{value:C(ae,x[ae]),done:!1}}return F=!0,{done:!0,value:void 0}}};return re[Symbol.iterator]=function(){return re},re}i("Array.prototype.values",function(x){return x||function(){return s(this,function(C,I){return I})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function c(x){var C=typeof x;return C=C!="object"?C:x?Array.isArray(x)?"array":C:"null",C=="array"||C=="object"&&typeof x.length=="number"}function u(x){var C=typeof x;return C=="object"&&x!=null||C=="function"}function d(x,C,I){return x.call.apply(x.bind,arguments)}function f(x,C,I){if(!x)throw Error();if(2<arguments.length){var F=Array.prototype.slice.call(arguments,2);return function(){var re=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(re,F),x.apply(C,re)}}return function(){return x.apply(C,arguments)}}function h(x,C,I){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,h.apply(null,arguments)}function p(x,C){var I=Array.prototype.slice.call(arguments,1);return function(){var F=I.slice();return F.push.apply(F,arguments),x.apply(this,F)}}function v(x,C){function I(){}I.prototype=C.prototype,x.aa=C.prototype,x.prototype=new I,x.prototype.constructor=x,x.Qb=function(F,re,ae){for(var Ne=Array(arguments.length-2),cr=2;cr<arguments.length;cr++)Ne[cr-2]=arguments[cr];return C.prototype[re].apply(F,Ne)}}function m(x){const C=x.length;if(0<C){const I=Array(C);for(let F=0;F<C;F++)I[F]=x[F];return I}return[]}function b(x,C){for(let I=1;I<arguments.length;I++){const F=arguments[I];if(c(F)){const re=x.length||0,ae=F.length||0;x.length=re+ae;for(let Ne=0;Ne<ae;Ne++)x[re+Ne]=F[Ne]}else x.push(F)}}class w{constructor(C,I){this.i=C,this.j=I,this.h=0,this.g=null}get(){let C;return 0<this.h?(this.h--,C=this.g,this.g=C.next,C.next=null):C=this.i(),C}}function y(x){return/^[\s\xa0]*$/.test(x)}function _(){var x=o.navigator;return x&&(x=x.userAgent)?x:""}function S(x){return S[" "](x),x}S[" "]=function(){};var E=_().indexOf("Gecko")!=-1&&!(_().toLowerCase().indexOf("webkit")!=-1&&_().indexOf("Edge")==-1)&&!(_().indexOf("Trident")!=-1||_().indexOf("MSIE")!=-1)&&_().indexOf("Edge")==-1;function N(x,C,I){for(const F in x)C.call(I,x[F],F,x)}function T(x,C){for(const I in x)C.call(void 0,x[I],I,x)}function j(x){const C={};for(const I in x)C[I]=x[I];return C}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(x,C){let I,F;for(let re=1;re<arguments.length;re++){F=arguments[re];for(I in F)x[I]=F[I];for(let ae=0;ae<A.length;ae++)I=A[ae],Object.prototype.hasOwnProperty.call(F,I)&&(x[I]=F[I])}}function k(x){var C=1;x=x.split(":");const I=[];for(;0<C&&x.length;)I.push(x.shift()),C--;return x.length&&I.push(x.join(":")),I}function O(x){o.setTimeout(()=>{throw x},0)}function P(){var x=$;let C=null;return x.g&&(C=x.g,x.g=x.g.next,x.g||(x.h=null),C.next=null),C}class D{constructor(){this.h=this.g=null}add(C,I){const F=z.get();F.set(C,I),this.h?this.h.next=F:this.g=F,this.h=F}}var z=new w(()=>new M,x=>x.reset());class M{constructor(){this.next=this.g=this.h=null}set(C,I){this.h=C,this.g=I,this.next=null}reset(){this.next=this.g=this.h=null}}let V,L=!1,$=new D,G=()=>{const x=o.Promise.resolve(void 0);V=()=>{x.then(q)}};var q=()=>{for(var x;x=P();){try{x.h.call(x.g)}catch(I){O(I)}var C=z;C.j(x),100>C.h&&(C.h++,x.next=C.g,C.g=x)}L=!1};function U(){this.s=this.s,this.C=this.C}U.prototype.s=!1,U.prototype.ma=function(){this.s||(this.s=!0,this.N())},U.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function X(x,C){this.type=x,this.g=this.target=C,this.defaultPrevented=!1}X.prototype.h=function(){this.defaultPrevented=!0};var ie=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var x=!1,C=Object.defineProperty({},"passive",{get:function(){x=!0}});try{const I=()=>{};o.addEventListener("test",I,C),o.removeEventListener("test",I,C)}catch{}return x}();function le(x,C){if(X.call(this,x?x.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,x){var I=this.type=x.type,F=x.changedTouches&&x.changedTouches.length?x.changedTouches[0]:null;if(this.target=x.target||x.srcElement,this.g=C,C=x.relatedTarget){if(E){e:{try{S(C.nodeName);var re=!0;break e}catch{}re=!1}re||(C=null)}}else I=="mouseover"?C=x.fromElement:I=="mouseout"&&(C=x.toElement);this.relatedTarget=C,F?(this.clientX=F.clientX!==void 0?F.clientX:F.pageX,this.clientY=F.clientY!==void 0?F.clientY:F.pageY,this.screenX=F.screenX||0,this.screenY=F.screenY||0):(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0),this.button=x.button,this.key=x.key||"",this.ctrlKey=x.ctrlKey,this.altKey=x.altKey,this.shiftKey=x.shiftKey,this.metaKey=x.metaKey,this.pointerId=x.pointerId||0,this.pointerType=typeof x.pointerType=="string"?x.pointerType:xe[x.pointerType]||"",this.state=x.state,this.i=x,x.defaultPrevented&&le.aa.h.call(this)}}v(le,X);var xe={2:"touch",3:"pen",4:"mouse"};le.prototype.h=function(){le.aa.h.call(this);var x=this.i;x.preventDefault?x.preventDefault():x.returnValue=!1};var ce="closure_listenable_"+(1e6*Math.random()|0),Q=0;function Y(x,C,I,F,re){this.listener=x,this.proxy=null,this.src=C,this.type=I,this.capture=!!F,this.ha=re,this.key=++Q,this.da=this.fa=!1}function ee(x){x.da=!0,x.listener=null,x.proxy=null,x.src=null,x.ha=null}function se(x){this.src=x,this.g={},this.h=0}se.prototype.add=function(x,C,I,F,re){var ae=x.toString();x=this.g[ae],x||(x=this.g[ae]=[],this.h++);var Ne=je(x,C,F,re);return-1<Ne?(C=x[Ne],I||(C.fa=!1)):(C=new Y(C,this.src,ae,!!F,re),C.fa=I,x.push(C)),C};function J(x,C){var I=C.type;if(I in x.g){var F=x.g[I],re=Array.prototype.indexOf.call(F,C,void 0),ae;(ae=0<=re)&&Array.prototype.splice.call(F,re,1),ae&&(ee(C),x.g[I].length==0&&(delete x.g[I],x.h--))}}function je(x,C,I,F){for(var re=0;re<x.length;++re){var ae=x[re];if(!ae.da&&ae.listener==C&&ae.capture==!!I&&ae.ha==F)return re}return-1}var Ae="closure_lm_"+(1e6*Math.random()|0),ct={};function fe(x,C,I,F,re){if(Array.isArray(C)){for(var ae=0;ae<C.length;ae++)fe(x,C[ae],I,F,re);return null}return I=Te(I),x&&x[ce]?x.K(C,I,u(F)?!!F.capture:!1,re):$e(x,C,I,!1,F,re)}function $e(x,C,I,F,re,ae){if(!C)throw Error("Invalid event type");var Ne=u(re)?!!re.capture:!!re,cr=te(x);if(cr||(x[Ae]=cr=new se(x)),I=cr.add(C,I,F,Ne,ae),I.proxy)return I;if(F=Xe(),I.proxy=F,F.src=x,F.listener=I,x.addEventListener)ie||(re=Ne),re===void 0&&(re=!1),x.addEventListener(C.toString(),F,re);else if(x.attachEvent)x.attachEvent(lr(C.toString()),F);else if(x.addListener&&x.removeListener)x.addListener(F);else throw Error("addEventListener and attachEvent are unavailable.");return I}function Xe(){function x(I){return C.call(x.src,x.listener,I)}const C=W;return x}function vt(x,C,I,F,re){if(Array.isArray(C))for(var ae=0;ae<C.length;ae++)vt(x,C[ae],I,F,re);else F=u(F)?!!F.capture:!!F,I=Te(I),x&&x[ce]?(x=x.i,C=String(C).toString(),C in x.g&&(ae=x.g[C],I=je(ae,I,F,re),-1<I&&(ee(ae[I]),Array.prototype.splice.call(ae,I,1),ae.length==0&&(delete x.g[C],x.h--)))):x&&(x=te(x))&&(C=x.g[C.toString()],x=-1,C&&(x=je(C,I,F,re)),(I=-1<x?C[x]:null)&&Ar(I))}function Ar(x){if(typeof x!="number"&&x&&!x.da){var C=x.src;if(C&&C[ce])J(C.i,x);else{var I=x.type,F=x.proxy;C.removeEventListener?C.removeEventListener(I,F,x.capture):C.detachEvent?C.detachEvent(lr(I),F):C.addListener&&C.removeListener&&C.removeListener(F),(I=te(C))?(J(I,x),I.h==0&&(I.src=null,C[Ae]=null)):ee(x)}}}function lr(x){return x in ct?ct[x]:ct[x]="on"+x}function W(x,C){if(x.da)x=!0;else{C=new le(C,this);var I=x.listener,F=x.ha||x.src;x.fa&&Ar(x),x=I.call(F,C)}return x}function te(x){return x=x[Ae],x instanceof se?x:null}var ue="__closure_events_fn_"+(1e9*Math.random()>>>0);function Te(x){return typeof x=="function"?x:(x[ue]||(x[ue]=function(C){return x.handleEvent(C)}),x[ue])}function pe(){U.call(this),this.i=new se(this),this.M=this,this.F=null}v(pe,U),pe.prototype[ce]=!0,pe.prototype.removeEventListener=function(x,C,I,F){vt(this,x,C,I,F)};function he(x,C){var I,F=x.F;if(F)for(I=[];F;F=F.F)I.push(F);if(x=x.M,F=C.type||C,typeof C=="string")C=new X(C,x);else if(C instanceof X)C.target=C.target||x;else{var re=C;C=new X(F,x),R(C,re)}if(re=!0,I)for(var ae=I.length-1;0<=ae;ae--){var Ne=C.g=I[ae];re=Re(Ne,F,!0,C)&&re}if(Ne=C.g=x,re=Re(Ne,F,!0,C)&&re,re=Re(Ne,F,!1,C)&&re,I)for(ae=0;ae<I.length;ae++)Ne=C.g=I[ae],re=Re(Ne,F,!1,C)&&re}pe.prototype.N=function(){if(pe.aa.N.call(this),this.i){var x=this.i,C;for(C in x.g){for(var I=x.g[C],F=0;F<I.length;F++)ee(I[F]);delete x.g[C],x.h--}}this.F=null},pe.prototype.K=function(x,C,I,F){return this.i.add(String(x),C,!1,I,F)},pe.prototype.L=function(x,C,I,F){return this.i.add(String(x),C,!0,I,F)};function Re(x,C,I,F){if(C=x.i.g[String(C)],!C)return!0;C=C.concat();for(var re=!0,ae=0;ae<C.length;++ae){var Ne=C[ae];if(Ne&&!Ne.da&&Ne.capture==I){var cr=Ne.listener,In=Ne.ha||Ne.src;Ne.fa&&J(x.i,Ne),re=cr.call(In,F)!==!1&&re}}return re&&!F.defaultPrevented}function yt(x,C,I){if(typeof x=="function")I&&(x=h(x,I));else if(x&&typeof x.handleEvent=="function")x=h(x.handleEvent,x);else throw Error("Invalid listener argument");return 2147483647<Number(C)?-1:o.setTimeout(x,C||0)}function Ht(x){x.g=yt(()=>{x.g=null,x.i&&(x.i=!1,Ht(x))},x.l);const C=x.h;x.h=null,x.m.apply(null,C)}class Zt extends U{constructor(C,I){super(),this.m=C,this.l=I,this.h=null,this.i=!1,this.g=null}j(C){this.h=arguments,this.g?this.i=!0:Ht(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function is(x){U.call(this),this.h=x,this.g={}}v(is,U);var ss=[];function Gn(x){N(x.g,function(C,I){this.g.hasOwnProperty(I)&&Ar(C)},x),x.g={}}is.prototype.N=function(){is.aa.N.call(this),Gn(this)},is.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ya=o.JSON.stringify,Mi=o.JSON.parse,Xa=class{stringify(x){return o.JSON.stringify(x,void 0)}parse(x){return o.JSON.parse(x,void 0)}};function na(){}na.prototype.h=null;function Ho(x){return x.h||(x.h=x.i())}function zu(){}var Qa={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ko(){X.call(this,"d")}v(Ko,X);function hi(){X.call(this,"c")}v(hi,X);var Di={},Ze=null;function Pt(){return Ze=Ze||new pe}Di.La="serverreachability";function Jt(x){X.call(this,Di.La,x)}v(Jt,X);function H(x){const C=Pt();he(C,new Jt(C))}Di.STAT_EVENT="statevent";function Z(x,C){X.call(this,Di.STAT_EVENT,x),this.stat=C}v(Z,X);function ne(x){const C=Pt();he(C,new Z(C,x))}Di.Ma="timingevent";function ve(x,C){X.call(this,Di.Ma,x),this.size=C}v(ve,X);function Ee(x,C){if(typeof x!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){x()},C)}function Oe(){this.g=!0}Oe.prototype.xa=function(){this.g=!1};function nt(x,C,I,F,re,ae){x.info(function(){if(x.g)if(ae)for(var Ne="",cr=ae.split("&"),In=0;In<cr.length;In++){var Bt=cr[In].split("=");if(1<Bt.length){var Qn=Bt[0];Bt=Bt[1];var Zn=Qn.split("_");Ne=2<=Zn.length&&Zn[1]=="type"?Ne+(Qn+"="+Bt+"&"):Ne+(Qn+"=redacted&")}}else Ne=null;else Ne=ae;return"XMLHTTP REQ ("+F+") [attempt "+re+"]: "+C+`
`+I+`
`+Ne})}function Be(x,C,I,F,re,ae,Ne){x.info(function(){return"XMLHTTP RESP ("+F+") [ attempt "+re+"]: "+C+`
`+I+`
`+ae+" "+Ne})}function qe(x,C,I,F){x.info(function(){return"XMLHTTP TEXT ("+C+"): "+ut(x,I)+(F?" "+F:"")})}function Ge(x,C){x.info(function(){return"TIMEOUT: "+C})}Oe.prototype.info=function(){};function ut(x,C){if(!x.g)return C;if(!C)return null;try{var I=JSON.parse(C);if(I){for(x=0;x<I.length;x++)if(Array.isArray(I[x])){var F=I[x];if(!(2>F.length)){var re=F[1];if(Array.isArray(re)&&!(1>re.length)){var ae=re[0];if(ae!="noop"&&ae!="stop"&&ae!="close")for(var Ne=1;Ne<re.length;Ne++)re[Ne]=""}}}}return Ya(I)}catch{return C}}var He={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},pt={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Kt;function Pr(){}v(Pr,na),Pr.prototype.g=function(){return new XMLHttpRequest},Pr.prototype.i=function(){return{}},Kt=new Pr;function xr(x,C,I,F){this.j=x,this.i=C,this.l=I,this.R=F||1,this.U=new is(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Yn}function Yn(){this.i=null,this.g="",this.h=!1}var Rt={},Go={};function ia(x,C,I){x.L=1,x.v=ux(Yo(C)),x.m=I,x.P=!0,ic(x,null)}function ic(x,C){x.F=Date.now(),Za(x),x.A=Yo(x.v);var I=x.A,F=x.R;Array.isArray(F)||(F=[String(F)]),rD(I.i,"t",F),x.C=0,I=x.j.J,x.h=new Yn,x.g=bD(x.j,I?C:null,!x.m),0<x.O&&(x.M=new Zt(h(x.Y,x,x.g),x.O)),C=x.U,I=x.g,F=x.ca;var re="readystatechange";Array.isArray(re)||(re&&(ss[0]=re.toString()),re=ss);for(var ae=0;ae<re.length;ae++){var Ne=fe(I,re[ae],F||C.handleEvent,!1,C.h||C);if(!Ne)break;C.g[Ne.key]=Ne}C=x.H?j(x.H):{},x.m?(x.u||(x.u="POST"),C["Content-Type"]="application/x-www-form-urlencoded",x.g.ea(x.A,x.u,x.m,C)):(x.u="GET",x.g.ea(x.A,x.u,null,C)),H(),nt(x.i,x.u,x.A,x.l,x.R,x.m)}xr.prototype.ca=function(x){x=x.target;const C=this.M;C&&Xo(x)==3?C.j():this.Y(x)},xr.prototype.Y=function(x){try{if(x==this.g)e:{const Zn=Xo(this.g);var C=this.g.Ba();const $f=this.g.Z();if(!(3>Zn)&&(Zn!=3||this.g&&(this.h.h||this.g.oa()||cD(this.g)))){this.J||Zn!=4||C==7||(C==8||0>=$f?H(3):H(2)),sa(this);var I=this.g.Z();this.X=I;t:if(pi(this)){var F=cD(this.g);x="";var re=F.length,ae=Xo(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ct(this),Ja(this);var Ne="";break t}this.h.i=new o.TextDecoder}for(C=0;C<re;C++)this.h.h=!0,x+=this.h.i.decode(F[C],{stream:!(ae&&C==re-1)});F.length=0,this.h.g+=x,this.C=0,Ne=this.h.g}else Ne=this.g.oa();if(this.o=I==200,Be(this.i,this.u,this.A,this.l,this.R,Zn,I),this.o){if(this.T&&!this.K){t:{if(this.g){var cr,In=this.g;if((cr=In.g?In.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(cr)){var Bt=cr;break t}}Bt=null}if(I=Bt)qe(this.i,this.l,I,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Xn(this,I);else{this.o=!1,this.s=3,ne(12),Ct(this),Ja(this);break e}}if(this.P){I=!0;let aa;for(;!this.J&&this.C<Ne.length;)if(aa=qu(this,Ne),aa==Go){Zn==4&&(this.s=4,ne(14),I=!1),qe(this.i,this.l,null,"[Incomplete Response]");break}else if(aa==Rt){this.s=4,ne(15),qe(this.i,this.l,Ne,"[Invalid Chunk]"),I=!1;break}else qe(this.i,this.l,aa,null),Xn(this,aa);if(pi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Zn!=4||Ne.length!=0||this.h.h||(this.s=1,ne(16),I=!1),this.o=this.o&&I,!I)qe(this.i,this.l,Ne,"[Invalid Chunked Response]"),Ct(this),Ja(this);else if(0<Ne.length&&!this.W){this.W=!0;var Qn=this.j;Qn.g==this&&Qn.ba&&!Qn.M&&(Qn.j.info("Great, no buffering proxy detected. Bytes received: "+Ne.length),lN(Qn),Qn.M=!0,ne(11))}}else qe(this.i,this.l,Ne,null),Xn(this,Ne);Zn==4&&Ct(this),this.o&&!this.J&&(Zn==4?gD(this.j,this):(this.o=!1,Za(this)))}else une(this.g),I==400&&0<Ne.indexOf("Unknown SID")?(this.s=3,ne(12)):(this.s=0,ne(13)),Ct(this),Ja(this)}}}catch{}finally{}};function pi(x){return x.g?x.u=="GET"&&x.L!=2&&x.j.Ca:!1}function qu(x,C){var I=x.C,F=C.indexOf(`
`,I);return F==-1?Go:(I=Number(C.substring(I,F)),isNaN(I)?Rt:(F+=1,F+I>C.length?Go:(C=C.slice(F,F+I),x.C=F+I,C)))}xr.prototype.cancel=function(){this.J=!0,Ct(this)};function Za(x){x.S=Date.now()+x.I,If(x,x.I)}function If(x,C){if(x.B!=null)throw Error("WatchDog timer not null");x.B=Ee(h(x.ba,x),C)}function sa(x){x.B&&(o.clearTimeout(x.B),x.B=null)}xr.prototype.ba=function(){this.B=null;const x=Date.now();0<=x-this.S?(Ge(this.i,this.A),this.L!=2&&(H(),ne(17)),Ct(this),this.s=2,Ja(this)):If(this,this.S-x)};function Ja(x){x.j.G==0||x.J||gD(x.j,x)}function Ct(x){sa(x);var C=x.M;C&&typeof C.ma=="function"&&C.ma(),x.M=null,Gn(x.U),x.g&&(C=x.g,x.g=null,C.abort(),C.ma())}function Xn(x,C){try{var I=x.j;if(I.G!=0&&(I.g==x||to(I.h,x))){if(!x.K&&to(I.h,x)&&I.G==3){try{var F=I.Da.g.parse(C)}catch{F=null}if(Array.isArray(F)&&F.length==3){var re=F;if(re[0]==0){e:if(!I.u){if(I.g)if(I.g.F+3e3<x.F)gx(I),px(I);else break e;oN(I),ne(18)}}else I.za=re[1],0<I.za-I.T&&37500>re[2]&&I.F&&I.v==0&&!I.C&&(I.C=Ee(h(I.Za,I),6e3));if(1>=Mr(I.h)&&I.ca){try{I.ca()}catch{}I.ca=void 0}}else Ku(I,11)}else if((x.K||I.g==x)&&gx(I),!y(C))for(re=I.Da.g.parse(C),C=0;C<re.length;C++){let Bt=re[C];if(I.T=Bt[0],Bt=Bt[1],I.G==2)if(Bt[0]=="c"){I.K=Bt[1],I.ia=Bt[2];const Qn=Bt[3];Qn!=null&&(I.la=Qn,I.j.info("VER="+I.la));const Zn=Bt[4];Zn!=null&&(I.Aa=Zn,I.j.info("SVER="+I.Aa));const $f=Bt[5];$f!=null&&typeof $f=="number"&&0<$f&&(F=1.5*$f,I.L=F,I.j.info("backChannelRequestTimeoutMs_="+F)),F=I;const aa=x.g;if(aa){const yx=aa.g?aa.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(yx){var ae=F.h;ae.g||yx.indexOf("spdy")==-1&&yx.indexOf("quic")==-1&&yx.indexOf("h2")==-1||(ae.j=ae.l,ae.g=new Set,ae.h&&(Mf(ae,ae.h),ae.h=null))}if(F.D){const cN=aa.g?aa.g.getResponseHeader("X-HTTP-Session-Id"):null;cN&&(F.ya=cN,br(F.I,F.D,cN))}}I.G=3,I.l&&I.l.ua(),I.ba&&(I.R=Date.now()-x.F,I.j.info("Handshake RTT: "+I.R+"ms")),F=I;var Ne=x;if(F.qa=xD(F,F.J?F.ia:null,F.W),Ne.K){ox(F.h,Ne);var cr=Ne,In=F.L;In&&(cr.I=In),cr.B&&(sa(cr),Za(cr)),F.g=Ne}else pD(F);0<I.i.length&&mx(I)}else Bt[0]!="stop"&&Bt[0]!="close"||Ku(I,7);else I.G==3&&(Bt[0]=="stop"||Bt[0]=="close"?Bt[0]=="stop"?Ku(I,7):aN(I):Bt[0]!="noop"&&I.l&&I.l.ta(Bt),I.v=0)}}H(4)}catch{}}var eo=class{constructor(x,C){this.g=x,this.map=C}};function Wu(x){this.l=x||10,o.PerformanceNavigationTiming?(x=o.performance.getEntriesByType("navigation"),x=0<x.length&&(x[0].nextHopProtocol=="hq"||x[0].nextHopProtocol=="h2")):x=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=x?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Of(x){return x.h?!0:x.g?x.g.size>=x.j:!1}function Mr(x){return x.h?1:x.g?x.g.size:0}function to(x,C){return x.h?x.h==C:x.g?x.g.has(C):!1}function Mf(x,C){x.g?x.g.add(C):x.h=C}function ox(x,C){x.h&&x.h==C?x.h=null:x.g&&x.g.has(C)&&x.g.delete(C)}Wu.prototype.cancel=function(){if(this.i=YM(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const x of this.g.values())x.cancel();this.g.clear()}};function YM(x){if(x.h!=null)return x.i.concat(x.h.D);if(x.g!=null&&x.g.size!==0){let C=x.i;for(const I of x.g.values())C=C.concat(I.D);return C}return m(x.i)}function Yre(x){if(x.V&&typeof x.V=="function")return x.V();if(typeof Map<"u"&&x instanceof Map||typeof Set<"u"&&x instanceof Set)return Array.from(x.values());if(typeof x=="string")return x.split("");if(c(x)){for(var C=[],I=x.length,F=0;F<I;F++)C.push(x[F]);return C}C=[],I=0;for(F in x)C[I++]=x[F];return C}function Xre(x){if(x.na&&typeof x.na=="function")return x.na();if(!x.V||typeof x.V!="function"){if(typeof Map<"u"&&x instanceof Map)return Array.from(x.keys());if(!(typeof Set<"u"&&x instanceof Set)){if(c(x)||typeof x=="string"){var C=[];x=x.length;for(var I=0;I<x;I++)C.push(I);return C}C=[],I=0;for(const F in x)C[I++]=F;return C}}}function XM(x,C){if(x.forEach&&typeof x.forEach=="function")x.forEach(C,void 0);else if(c(x)||typeof x=="string")Array.prototype.forEach.call(x,C,void 0);else for(var I=Xre(x),F=Yre(x),re=F.length,ae=0;ae<re;ae++)C.call(void 0,F[ae],I&&I[ae],x)}var QM=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Qre(x,C){if(x){x=x.split("&");for(var I=0;I<x.length;I++){var F=x[I].indexOf("="),re=null;if(0<=F){var ae=x[I].substring(0,F);re=x[I].substring(F+1)}else ae=x[I];C(ae,re?decodeURIComponent(re.replace(/\+/g," ")):"")}}}function Hu(x){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,x instanceof Hu){this.h=x.h,lx(this,x.j),this.o=x.o,this.g=x.g,cx(this,x.s),this.l=x.l;var C=x.i,I=new Vm;I.i=C.i,C.g&&(I.g=new Map(C.g),I.h=C.h),ZM(this,I),this.m=x.m}else x&&(C=String(x).match(QM))?(this.h=!1,lx(this,C[1]||"",!0),this.o=$m(C[2]||""),this.g=$m(C[3]||"",!0),cx(this,C[4]),this.l=$m(C[5]||"",!0),ZM(this,C[6]||"",!0),this.m=$m(C[7]||"")):(this.h=!1,this.i=new Vm(null,this.h))}Hu.prototype.toString=function(){var x=[],C=this.j;C&&x.push(Fm(C,JM,!0),":");var I=this.g;return(I||C=="file")&&(x.push("//"),(C=this.o)&&x.push(Fm(C,JM,!0),"@"),x.push(encodeURIComponent(String(I)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),I=this.s,I!=null&&x.push(":",String(I))),(I=this.l)&&(this.g&&I.charAt(0)!="/"&&x.push("/"),x.push(Fm(I,I.charAt(0)=="/"?ene:Jre,!0))),(I=this.i.toString())&&x.push("?",I),(I=this.m)&&x.push("#",Fm(I,rne)),x.join("")};function Yo(x){return new Hu(x)}function lx(x,C,I){x.j=I?$m(C,!0):C,x.j&&(x.j=x.j.replace(/:$/,""))}function cx(x,C){if(C){if(C=Number(C),isNaN(C)||0>C)throw Error("Bad port number "+C);x.s=C}else x.s=null}function ZM(x,C,I){C instanceof Vm?(x.i=C,nne(x.i,x.h)):(I||(C=Fm(C,tne)),x.i=new Vm(C,x.h))}function br(x,C,I){x.i.set(C,I)}function ux(x){return br(x,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),x}function $m(x,C){return x?C?decodeURI(x.replace(/%25/g,"%2525")):decodeURIComponent(x):""}function Fm(x,C,I){return typeof x=="string"?(x=encodeURI(x).replace(C,Zre),I&&(x=x.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x):null}function Zre(x){return x=x.charCodeAt(0),"%"+(x>>4&15).toString(16)+(x&15).toString(16)}var JM=/[#\/\?@]/g,Jre=/[#\?:]/g,ene=/[#\?]/g,tne=/[#\?@]/g,rne=/#/g;function Vm(x,C){this.h=this.g=null,this.i=x||null,this.j=!!C}function sc(x){x.g||(x.g=new Map,x.h=0,x.i&&Qre(x.i,function(C,I){x.add(decodeURIComponent(C.replace(/\+/g," ")),I)}))}t=Vm.prototype,t.add=function(x,C){sc(this),this.i=null,x=Df(this,x);var I=this.g.get(x);return I||this.g.set(x,I=[]),I.push(C),this.h+=1,this};function eD(x,C){sc(x),C=Df(x,C),x.g.has(C)&&(x.i=null,x.h-=x.g.get(C).length,x.g.delete(C))}function tD(x,C){return sc(x),C=Df(x,C),x.g.has(C)}t.forEach=function(x,C){sc(this),this.g.forEach(function(I,F){I.forEach(function(re){x.call(C,re,F,this)},this)},this)},t.na=function(){sc(this);const x=Array.from(this.g.values()),C=Array.from(this.g.keys()),I=[];for(let F=0;F<C.length;F++){const re=x[F];for(let ae=0;ae<re.length;ae++)I.push(C[F])}return I},t.V=function(x){sc(this);let C=[];if(typeof x=="string")tD(this,x)&&(C=C.concat(this.g.get(Df(this,x))));else{x=Array.from(this.g.values());for(let I=0;I<x.length;I++)C=C.concat(x[I])}return C},t.set=function(x,C){return sc(this),this.i=null,x=Df(this,x),tD(this,x)&&(this.h-=this.g.get(x).length),this.g.set(x,[C]),this.h+=1,this},t.get=function(x,C){return x?(x=this.V(x),0<x.length?String(x[0]):C):C};function rD(x,C,I){eD(x,C),0<I.length&&(x.i=null,x.g.set(Df(x,C),m(I)),x.h+=I.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const x=[],C=Array.from(this.g.keys());for(var I=0;I<C.length;I++){var F=C[I];const ae=encodeURIComponent(String(F)),Ne=this.V(F);for(F=0;F<Ne.length;F++){var re=ae;Ne[F]!==""&&(re+="="+encodeURIComponent(String(Ne[F]))),x.push(re)}}return this.i=x.join("&")};function Df(x,C){return C=String(C),x.j&&(C=C.toLowerCase()),C}function nne(x,C){C&&!x.j&&(sc(x),x.i=null,x.g.forEach(function(I,F){var re=F.toLowerCase();F!=re&&(eD(this,F),rD(this,re,I))},x)),x.j=C}function ine(x,C){const I=new Oe;if(o.Image){const F=new Image;F.onload=p(ac,I,"TestLoadImage: loaded",!0,C,F),F.onerror=p(ac,I,"TestLoadImage: error",!1,C,F),F.onabort=p(ac,I,"TestLoadImage: abort",!1,C,F),F.ontimeout=p(ac,I,"TestLoadImage: timeout",!1,C,F),o.setTimeout(function(){F.ontimeout&&F.ontimeout()},1e4),F.src=x}else C(!1)}function sne(x,C){const I=new Oe,F=new AbortController,re=setTimeout(()=>{F.abort(),ac(I,"TestPingServer: timeout",!1,C)},1e4);fetch(x,{signal:F.signal}).then(ae=>{clearTimeout(re),ae.ok?ac(I,"TestPingServer: ok",!0,C):ac(I,"TestPingServer: server error",!1,C)}).catch(()=>{clearTimeout(re),ac(I,"TestPingServer: error",!1,C)})}function ac(x,C,I,F,re){try{re&&(re.onload=null,re.onerror=null,re.onabort=null,re.ontimeout=null),F(I)}catch{}}function ane(){this.g=new Xa}function one(x,C,I){const F=I||"";try{XM(x,function(re,ae){let Ne=re;u(re)&&(Ne=Ya(re)),C.push(F+ae+"="+encodeURIComponent(Ne))})}catch(re){throw C.push(F+"type="+encodeURIComponent("_badmap")),re}}function dx(x){this.l=x.Ub||null,this.j=x.eb||!1}v(dx,na),dx.prototype.g=function(){return new fx(this.l,this.j)},dx.prototype.i=function(x){return function(){return x}}({});function fx(x,C){pe.call(this),this.D=x,this.o=C,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(fx,pe),t=fx.prototype,t.open=function(x,C){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=x,this.A=C,this.readyState=1,Um(this)},t.send=function(x){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const C={headers:this.u,method:this.B,credentials:this.m,cache:void 0};x&&(C.body=x),(this.D||o).fetch(new Request(this.A,C)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Bm(this)),this.readyState=0},t.Sa=function(x){if(this.g&&(this.l=x,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=x.headers,this.readyState=2,Um(this)),this.g&&(this.readyState=3,Um(this),this.g)))if(this.responseType==="arraybuffer")x.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in x){if(this.j=x.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;nD(this)}else x.text().then(this.Ra.bind(this),this.ga.bind(this))};function nD(x){x.j.read().then(x.Pa.bind(x)).catch(x.ga.bind(x))}t.Pa=function(x){if(this.g){if(this.o&&x.value)this.response.push(x.value);else if(!this.o){var C=x.value?x.value:new Uint8Array(0);(C=this.v.decode(C,{stream:!x.done}))&&(this.response=this.responseText+=C)}x.done?Bm(this):Um(this),this.readyState==3&&nD(this)}},t.Ra=function(x){this.g&&(this.response=this.responseText=x,Bm(this))},t.Qa=function(x){this.g&&(this.response=x,Bm(this))},t.ga=function(){this.g&&Bm(this)};function Bm(x){x.readyState=4,x.l=null,x.j=null,x.v=null,Um(x)}t.setRequestHeader=function(x,C){this.u.append(x,C)},t.getResponseHeader=function(x){return this.h&&this.h.get(x.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const x=[],C=this.h.entries();for(var I=C.next();!I.done;)I=I.value,x.push(I[0]+": "+I[1]),I=C.next();return x.join(`\r
`)};function Um(x){x.onreadystatechange&&x.onreadystatechange.call(x)}Object.defineProperty(fx.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(x){this.m=x?"include":"same-origin"}});function iD(x){let C="";return N(x,function(I,F){C+=F,C+=":",C+=I,C+=`\r
`}),C}function sN(x,C,I){e:{for(F in I){var F=!1;break e}F=!0}F||(I=iD(I),typeof x=="string"?I!=null&&encodeURIComponent(String(I)):br(x,C,I))}function Wr(x){pe.call(this),this.headers=new Map,this.o=x||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(Wr,pe);var lne=/^https?$/i,cne=["POST","PUT"];t=Wr.prototype,t.Ha=function(x){this.J=x},t.ea=function(x,C,I,F){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+x);C=C?C.toUpperCase():"GET",this.D=x,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Kt.g(),this.v=this.o?Ho(this.o):Ho(Kt),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(C,String(x),!0),this.B=!1}catch(ae){sD(this,ae);return}if(x=I||"",I=new Map(this.headers),F)if(Object.getPrototypeOf(F)===Object.prototype)for(var re in F)I.set(re,F[re]);else if(typeof F.keys=="function"&&typeof F.get=="function")for(const ae of F.keys())I.set(ae,F.get(ae));else throw Error("Unknown input type for opt_headers: "+String(F));F=Array.from(I.keys()).find(ae=>ae.toLowerCase()=="content-type"),re=o.FormData&&x instanceof o.FormData,!(0<=Array.prototype.indexOf.call(cne,C,void 0))||F||re||I.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ae,Ne]of I)this.g.setRequestHeader(ae,Ne);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{lD(this),this.u=!0,this.g.send(x),this.u=!1}catch(ae){sD(this,ae)}};function sD(x,C){x.h=!1,x.g&&(x.j=!0,x.g.abort(),x.j=!1),x.l=C,x.m=5,aD(x),hx(x)}function aD(x){x.A||(x.A=!0,he(x,"complete"),he(x,"error"))}t.abort=function(x){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=x||7,he(this,"complete"),he(this,"abort"),hx(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),hx(this,!0)),Wr.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?oD(this):this.bb())},t.bb=function(){oD(this)};function oD(x){if(x.h&&typeof a<"u"&&(!x.v[1]||Xo(x)!=4||x.Z()!=2)){if(x.u&&Xo(x)==4)yt(x.Ea,0,x);else if(he(x,"readystatechange"),Xo(x)==4){x.h=!1;try{const Ne=x.Z();e:switch(Ne){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var C=!0;break e;default:C=!1}var I;if(!(I=C)){var F;if(F=Ne===0){var re=String(x.D).match(QM)[1]||null;!re&&o.self&&o.self.location&&(re=o.self.location.protocol.slice(0,-1)),F=!lne.test(re?re.toLowerCase():"")}I=F}if(I)he(x,"complete"),he(x,"success");else{x.m=6;try{var ae=2<Xo(x)?x.g.statusText:""}catch{ae=""}x.l=ae+" ["+x.Z()+"]",aD(x)}}finally{hx(x)}}}}function hx(x,C){if(x.g){lD(x);const I=x.g,F=x.v[0]?()=>{}:null;x.g=null,x.v=null,C||he(x,"ready");try{I.onreadystatechange=F}catch{}}}function lD(x){x.I&&(o.clearTimeout(x.I),x.I=null)}t.isActive=function(){return!!this.g};function Xo(x){return x.g?x.g.readyState:0}t.Z=function(){try{return 2<Xo(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(x){if(this.g){var C=this.g.responseText;return x&&C.indexOf(x)==0&&(C=C.substring(x.length)),Mi(C)}};function cD(x){try{if(!x.g)return null;if("response"in x.g)return x.g.response;switch(x.H){case"":case"text":return x.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in x.g)return x.g.mozResponseArrayBuffer}return null}catch{return null}}function une(x){const C={};x=(x.g&&2<=Xo(x)&&x.g.getAllResponseHeaders()||"").split(`\r
`);for(let F=0;F<x.length;F++){if(y(x[F]))continue;var I=k(x[F]);const re=I[0];if(I=I[1],typeof I!="string")continue;I=I.trim();const ae=C[re]||[];C[re]=ae,ae.push(I)}T(C,function(F){return F.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function zm(x,C,I){return I&&I.internalChannelParams&&I.internalChannelParams[x]||C}function uD(x){this.Aa=0,this.i=[],this.j=new Oe,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=zm("failFast",!1,x),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=zm("baseRetryDelayMs",5e3,x),this.cb=zm("retryDelaySeedMs",1e4,x),this.Wa=zm("forwardChannelMaxRetries",2,x),this.wa=zm("forwardChannelRequestTimeoutMs",2e4,x),this.pa=x&&x.xmlHttpFactory||void 0,this.Xa=x&&x.Tb||void 0,this.Ca=x&&x.useFetchStreams||!1,this.L=void 0,this.J=x&&x.supportsCrossDomainXhr||!1,this.K="",this.h=new Wu(x&&x.concurrentRequestLimit),this.Da=new ane,this.P=x&&x.fastHandshake||!1,this.O=x&&x.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=x&&x.Rb||!1,x&&x.xa&&this.j.xa(),x&&x.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&x&&x.detectBufferingProxy||!1,this.ja=void 0,x&&x.longPollingTimeout&&0<x.longPollingTimeout&&(this.ja=x.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=uD.prototype,t.la=8,t.G=1,t.connect=function(x,C,I,F){ne(0),this.W=x,this.H=C||{},I&&F!==void 0&&(this.H.OSID=I,this.H.OAID=F),this.F=this.X,this.I=xD(this,null,this.W),mx(this)};function aN(x){if(dD(x),x.G==3){var C=x.U++,I=Yo(x.I);if(br(I,"SID",x.K),br(I,"RID",C),br(I,"TYPE","terminate"),qm(x,I),C=new xr(x,x.j,C),C.L=2,C.v=ux(Yo(I)),I=!1,o.navigator&&o.navigator.sendBeacon)try{I=o.navigator.sendBeacon(C.v.toString(),"")}catch{}!I&&o.Image&&(new Image().src=C.v,I=!0),I||(C.g=bD(C.j,null),C.g.ea(C.v)),C.F=Date.now(),Za(C)}yD(x)}function px(x){x.g&&(lN(x),x.g.cancel(),x.g=null)}function dD(x){px(x),x.u&&(o.clearTimeout(x.u),x.u=null),gx(x),x.h.cancel(),x.s&&(typeof x.s=="number"&&o.clearTimeout(x.s),x.s=null)}function mx(x){if(!Of(x.h)&&!x.s){x.s=!0;var C=x.Ga;V||G(),L||(V(),L=!0),$.add(C,x),x.B=0}}function dne(x,C){return Mr(x.h)>=x.h.j-(x.s?1:0)?!1:x.s?(x.i=C.D.concat(x.i),!0):x.G==1||x.G==2||x.B>=(x.Va?0:x.Wa)?!1:(x.s=Ee(h(x.Ga,x,C),vD(x,x.B)),x.B++,!0)}t.Ga=function(x){if(this.s)if(this.s=null,this.G==1){if(!x){this.U=Math.floor(1e5*Math.random()),x=this.U++;const re=new xr(this,this.j,x);let ae=this.o;if(this.S&&(ae?(ae=j(ae),R(ae,this.S)):ae=this.S),this.m!==null||this.O||(re.H=ae,ae=null),this.P)e:{for(var C=0,I=0;I<this.i.length;I++){t:{var F=this.i[I];if("__data__"in F.map&&(F=F.map.__data__,typeof F=="string")){F=F.length;break t}F=void 0}if(F===void 0)break;if(C+=F,4096<C){C=I;break e}if(C===4096||I===this.i.length-1){C=I+1;break e}}C=1e3}else C=1e3;C=hD(this,re,C),I=Yo(this.I),br(I,"RID",x),br(I,"CVER",22),this.D&&br(I,"X-HTTP-Session-Id",this.D),qm(this,I),ae&&(this.O?C="headers="+encodeURIComponent(String(iD(ae)))+"&"+C:this.m&&sN(I,this.m,ae)),Mf(this.h,re),this.Ua&&br(I,"TYPE","init"),this.P?(br(I,"$req",C),br(I,"SID","null"),re.T=!0,ia(re,I,null)):ia(re,I,C),this.G=2}}else this.G==3&&(x?fD(this,x):this.i.length==0||Of(this.h)||fD(this))};function fD(x,C){var I;C?I=C.l:I=x.U++;const F=Yo(x.I);br(F,"SID",x.K),br(F,"RID",I),br(F,"AID",x.T),qm(x,F),x.m&&x.o&&sN(F,x.m,x.o),I=new xr(x,x.j,I,x.B+1),x.m===null&&(I.H=x.o),C&&(x.i=C.D.concat(x.i)),C=hD(x,I,1e3),I.I=Math.round(.5*x.wa)+Math.round(.5*x.wa*Math.random()),Mf(x.h,I),ia(I,F,C)}function qm(x,C){x.H&&N(x.H,function(I,F){br(C,F,I)}),x.l&&XM({},function(I,F){br(C,F,I)})}function hD(x,C,I){I=Math.min(x.i.length,I);var F=x.l?h(x.l.Na,x.l,x):null;e:{var re=x.i;let ae=-1;for(;;){const Ne=["count="+I];ae==-1?0<I?(ae=re[0].g,Ne.push("ofs="+ae)):ae=0:Ne.push("ofs="+ae);let cr=!0;for(let In=0;In<I;In++){let Bt=re[In].g;const Qn=re[In].map;if(Bt-=ae,0>Bt)ae=Math.max(0,re[In].g-100),cr=!1;else try{one(Qn,Ne,"req"+Bt+"_")}catch{F&&F(Qn)}}if(cr){F=Ne.join("&");break e}}}return x=x.i.splice(0,I),C.D=x,F}function pD(x){if(!x.g&&!x.u){x.Y=1;var C=x.Fa;V||G(),L||(V(),L=!0),$.add(C,x),x.v=0}}function oN(x){return x.g||x.u||3<=x.v?!1:(x.Y++,x.u=Ee(h(x.Fa,x),vD(x,x.v)),x.v++,!0)}t.Fa=function(){if(this.u=null,mD(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var x=2*this.R;this.j.info("BP detection timer enabled: "+x),this.A=Ee(h(this.ab,this),x)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ne(10),px(this),mD(this))};function lN(x){x.A!=null&&(o.clearTimeout(x.A),x.A=null)}function mD(x){x.g=new xr(x,x.j,"rpc",x.Y),x.m===null&&(x.g.H=x.o),x.g.O=0;var C=Yo(x.qa);br(C,"RID","rpc"),br(C,"SID",x.K),br(C,"AID",x.T),br(C,"CI",x.F?"0":"1"),!x.F&&x.ja&&br(C,"TO",x.ja),br(C,"TYPE","xmlhttp"),qm(x,C),x.m&&x.o&&sN(C,x.m,x.o),x.L&&(x.g.I=x.L);var I=x.g;x=x.ia,I.L=1,I.v=ux(Yo(C)),I.m=null,I.P=!0,ic(I,x)}t.Za=function(){this.C!=null&&(this.C=null,px(this),oN(this),ne(19))};function gx(x){x.C!=null&&(o.clearTimeout(x.C),x.C=null)}function gD(x,C){var I=null;if(x.g==C){gx(x),lN(x),x.g=null;var F=2}else if(to(x.h,C))I=C.D,ox(x.h,C),F=1;else return;if(x.G!=0){if(C.o)if(F==1){I=C.m?C.m.length:0,C=Date.now()-C.F;var re=x.B;F=Pt(),he(F,new ve(F,I)),mx(x)}else pD(x);else if(re=C.s,re==3||re==0&&0<C.X||!(F==1&&dne(x,C)||F==2&&oN(x)))switch(I&&0<I.length&&(C=x.h,C.i=C.i.concat(I)),re){case 1:Ku(x,5);break;case 4:Ku(x,10);break;case 3:Ku(x,6);break;default:Ku(x,2)}}}function vD(x,C){let I=x.Ta+Math.floor(Math.random()*x.cb);return x.isActive()||(I*=2),I*C}function Ku(x,C){if(x.j.info("Error code "+C),C==2){var I=h(x.fb,x),F=x.Xa;const re=!F;F=new Hu(F||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||lx(F,"https"),ux(F),re?ine(F.toString(),I):sne(F.toString(),I)}else ne(2);x.G=0,x.l&&x.l.sa(C),yD(x),dD(x)}t.fb=function(x){x?(this.j.info("Successfully pinged google.com"),ne(2)):(this.j.info("Failed to ping google.com"),ne(1))};function yD(x){if(x.G=0,x.ka=[],x.l){const C=YM(x.h);(C.length!=0||x.i.length!=0)&&(b(x.ka,C),b(x.ka,x.i),x.h.i.length=0,m(x.i),x.i.length=0),x.l.ra()}}function xD(x,C,I){var F=I instanceof Hu?Yo(I):new Hu(I);if(F.g!="")C&&(F.g=C+"."+F.g),cx(F,F.s);else{var re=o.location;F=re.protocol,C=C?C+"."+re.hostname:re.hostname,re=+re.port;var ae=new Hu(null);F&&lx(ae,F),C&&(ae.g=C),re&&cx(ae,re),I&&(ae.l=I),F=ae}return I=x.D,C=x.ya,I&&C&&br(F,I,C),br(F,"VER",x.la),qm(x,F),F}function bD(x,C,I){if(C&&!x.J)throw Error("Can't create secondary domain capable XhrIo object.");return C=x.Ca&&!x.pa?new Wr(new dx({eb:I})):new Wr(x.pa),C.Ha(x.J),C}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function wD(){}t=wD.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function vx(){}vx.prototype.g=function(x,C){return new as(x,C)};function as(x,C){pe.call(this),this.g=new uD(C),this.l=x,this.h=C&&C.messageUrlParams||null,x=C&&C.messageHeaders||null,C&&C.clientProtocolHeaderRequired&&(x?x["X-Client-Protocol"]="webchannel":x={"X-Client-Protocol":"webchannel"}),this.g.o=x,x=C&&C.initMessageHeaders||null,C&&C.messageContentType&&(x?x["X-WebChannel-Content-Type"]=C.messageContentType:x={"X-WebChannel-Content-Type":C.messageContentType}),C&&C.va&&(x?x["X-WebChannel-Client-Profile"]=C.va:x={"X-WebChannel-Client-Profile":C.va}),this.g.S=x,(x=C&&C.Sb)&&!y(x)&&(this.g.m=x),this.v=C&&C.supportsCrossDomainXhr||!1,this.u=C&&C.sendRawJson||!1,(C=C&&C.httpSessionIdParam)&&!y(C)&&(this.g.D=C,x=this.h,x!==null&&C in x&&(x=this.h,C in x&&delete x[C])),this.j=new Lf(this)}v(as,pe),as.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},as.prototype.close=function(){aN(this.g)},as.prototype.o=function(x){var C=this.g;if(typeof x=="string"){var I={};I.__data__=x,x=I}else this.u&&(I={},I.__data__=Ya(x),x=I);C.i.push(new eo(C.Ya++,x)),C.G==3&&mx(C)},as.prototype.N=function(){this.g.l=null,delete this.j,aN(this.g),delete this.g,as.aa.N.call(this)};function _D(x){Ko.call(this),x.__headers__&&(this.headers=x.__headers__,this.statusCode=x.__status__,delete x.__headers__,delete x.__status__);var C=x.__sm__;if(C){e:{for(const I in C){x=I;break e}x=void 0}(this.i=x)&&(x=this.i,C=C!==null&&x in C?C[x]:void 0),this.data=C}else this.data=x}v(_D,Ko);function ED(){hi.call(this),this.status=1}v(ED,hi);function Lf(x){this.g=x}v(Lf,wD),Lf.prototype.ua=function(){he(this.g,"a")},Lf.prototype.ta=function(x){he(this.g,new _D(x))},Lf.prototype.sa=function(x){he(this.g,new ED)},Lf.prototype.ra=function(){he(this.g,"b")},vx.prototype.createWebChannel=vx.prototype.g,as.prototype.send=as.prototype.o,as.prototype.open=as.prototype.m,as.prototype.close=as.prototype.close,BW=function(){return new vx},VW=function(){return Pt()},FW=Di,tA={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},He.NO_ERROR=0,He.TIMEOUT=8,He.HTTP_ERROR=6,Kb=He,pt.COMPLETE="complete",$W=pt,zu.EventType=Qa,Qa.OPEN="a",Qa.CLOSE="b",Qa.ERROR="c",Qa.MESSAGE="d",pe.prototype.listen=pe.prototype.K,jg=zu,Wr.prototype.listenOnce=Wr.prototype.L,Wr.prototype.getLastError=Wr.prototype.Ka,Wr.prototype.getLastErrorCode=Wr.prototype.Ba,Wr.prototype.getStatus=Wr.prototype.Z,Wr.prototype.getResponseJson=Wr.prototype.Oa,Wr.prototype.getResponseText=Wr.prototype.oa,Wr.prototype.send=Wr.prototype.ea,Wr.prototype.setWithCredentials=Wr.prototype.Ha,LW=Wr}).apply(typeof Gx<"u"?Gx:typeof self<"u"?self:typeof window<"u"?window:{});const m4="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ii.UNAUTHENTICATED=new ii(null),ii.GOOGLE_CREDENTIALS=new ii("google-credentials-uid"),ii.FIRST_PARTY=new ii("first-party-uid"),ii.MOCK_USER=new ii("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pm="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jd=new uk("@firebase/firestore");function ig(){return Jd.logLevel}function ze(t,...e){if(Jd.logLevel<=It.DEBUG){const r=e.map(Ek);Jd.debug(`Firestore (${pm}): ${t}`,...r)}}function Ul(t,...e){if(Jd.logLevel<=It.ERROR){const r=e.map(Ek);Jd.error(`Firestore (${pm}): ${t}`,...r)}}function yp(t,...e){if(Jd.logLevel<=It.WARN){const r=e.map(Ek);Jd.warn(`Firestore (${pm}): ${t}`,...r)}}function Ek(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lt(t="Unexpected state"){const e=`FIRESTORE (${pm}) INTERNAL ASSERTION FAILED: `+t;throw Ul(e),new Error(e)}function nr(t,e){t||lt()}function ft(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ie extends zo{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UW{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ige{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(ii.UNAUTHENTICATED))}shutdown(){}}class sge{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class age{constructor(e){this.t=e,this.currentUser=ii.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){nr(this.o===void 0);let n=this.i;const i=c=>this.i!==n?(n=this.i,r(c)):Promise.resolve();let s=new El;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new El,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const c=s;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},o=c=>{ze("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(c=>o(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?o(c):(ze("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new El)}},0),a()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(ze("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(nr(typeof n.accessToken=="string"),new UW(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return nr(e===null||typeof e=="string"),new ii(e)}}class oge{constructor(e,r,n){this.l=e,this.h=r,this.P=n,this.type="FirstParty",this.user=ii.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class lge{constructor(e,r,n){this.l=e,this.h=r,this.P=n}getToken(){return Promise.resolve(new oge(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(ii.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class cge{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class uge{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){nr(this.o===void 0);const n=s=>{s.error!=null&&ze("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.R;return this.R=s.token,ze("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?r(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>n(s))};const i=s=>{ze("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):ze("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(nr(typeof r.token=="string"),this.R=r.token,new cge(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dge(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zW{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const i=dge(40);for(let s=0;s<i.length;++s)n.length<20&&i[s]<r&&(n+=e.charAt(i[s]%e.length))}return n}}function Ut(t,e){return t<e?-1:t>e?1:0}function xp(t,e,r){return t.length===e.length&&t.every((n,i)=>r(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Ie(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Ie(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new Ie(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ie(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Tt.fromMillis(Date.now())}static fromDate(e){return Tt.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*r));return new Tt(r,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ut(this.nanoseconds,e.nanoseconds):Ut(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new dt(e)}static min(){return new dt(new Tt(0,0))}static max(){return new dt(new Tt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(e,r,n){r===void 0?r=0:r>e.length&&lt(),n===void 0?n=e.length-r:n>e.length-r&&lt(),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return zv.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof zv?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const s=e.get(i),a=r.get(i);if(s<a)return-1;if(s>a)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class Nr extends zv{construct(e,r,n){return new Nr(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new Ie(me.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new Nr(r)}static emptyPath(){return new Nr([])}}const fge=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Bn extends zv{construct(e,r,n){return new Bn(e,r,n)}static isValidIdentifier(e){return fge.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Bn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Bn(["__name__"])}static fromServerFormat(e){const r=[];let n="",i=0;const s=()=>{if(n.length===0)throw new Ie(me.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let a=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new Ie(me.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Ie(me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=c,i+=2}else o==="`"?(a=!a,i++):o!=="."||a?(n+=o,i++):(s(),i++)}if(s(),a)throw new Ie(me.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Bn(r)}static emptyPath(){return new Bn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e){this.path=e}static fromPath(e){return new Ye(Nr.fromString(e))}static fromName(e){return new Ye(Nr.fromString(e).popFirst(5))}static empty(){return new Ye(Nr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Nr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return Nr.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ye(new Nr(e.slice()))}}function hge(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=dt.fromTimestamp(n===1e9?new Tt(r+1,0):new Tt(r,n));return new au(i,Ye.empty(),e)}function pge(t){return new au(t.readTime,t.key,-1)}class au{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new au(dt.min(),Ye.empty(),-1)}static max(){return new au(dt.max(),Ye.empty(),-1)}}function mge(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=Ye.comparator(t.documentKey,e.documentKey),r!==0?r:Ut(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gge="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class vge{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _0(t){if(t.code!==me.FAILED_PRECONDITION||t.message!==gge)throw t;ze("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&lt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new ye((n,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(n,i)},this.catchCallback=s=>{this.wrapFailure(r,s).next(n,i)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof ye?r:ye.resolve(r)}catch(r){return ye.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):ye.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):ye.reject(r)}static resolve(e){return new ye((r,n)=>{r(e)})}static reject(e){return new ye((r,n)=>{n(e)})}static waitFor(e){return new ye((r,n)=>{let i=0,s=0,a=!1;e.forEach(o=>{++i,o.next(()=>{++s,a&&s===i&&r()},c=>n(c))}),a=!0,s===i&&r()})}static or(e){let r=ye.resolve(!1);for(const n of e)r=r.next(i=>i?ye.resolve(i):n());return r}static forEach(e,r){const n=[];return e.forEach((i,s)=>{n.push(r.call(this,i,s))}),this.waitFor(n)}static mapArray(e,r){return new ye((n,i)=>{const s=e.length,a=new Array(s);let o=0;for(let c=0;c<s;c++){const u=c;r(e[u]).next(d=>{a[u]=d,++o,o===s&&n(a)},d=>i(d))}})}static doWhile(e,r){return new ye((n,i)=>{const s=()=>{e()===!0?r().next(()=>{s()},i):n()};s()})}}function yge(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function E0(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ie(n),this.se=n=>r.writeSequenceNumber(n))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Sk.oe=-1;function gE(t){return t==null}function Jw(t){return t===0&&1/t==-1/0}function xge(t){return typeof t=="number"&&Number.isInteger(t)&&!Jw(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g4(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function _f(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function qW(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(e,r){this.comparator=e,this.root=r||$n.EMPTY}insert(e,r){return new Ur(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,$n.BLACK,null,null))}remove(e){return new Ur(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$n.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yx(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yx(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yx(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yx(this.root,e,this.comparator,!0)}}class Yx{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=r?n(e.key,r):1,r&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $n{constructor(e,r,n,i,s){this.key=e,this.value=r,this.color=n??$n.RED,this.left=i??$n.EMPTY,this.right=s??$n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,s){return new $n(e??this.key,r??this.value,n??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const s=n(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,r,n),null):s===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return $n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return $n.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw lt();const e=this.left.check();if(e!==this.right.check())throw lt();return e+(this.isRed()?0:1)}}$n.EMPTY=null,$n.RED=!0,$n.BLACK=!1;$n.EMPTY=new class{constructor(){this.size=0}get key(){throw lt()}get value(){throw lt()}get color(){throw lt()}get left(){throw lt()}get right(){throw lt()}copy(e,r,n,i,s){return this}insert(e,r,n){return new $n(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.comparator=e,this.data=new Ur(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new v4(this.data.getIterator())}getIteratorFrom(e){return new v4(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof Wn)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,s=n.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Wn(this.comparator);return r.data=e,r}}class v4{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e){this.fields=e,e.sort(Bn.comparator)}static empty(){return new gs([])}unionWith(e){let r=new Wn(Bn.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new gs(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return xp(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WW extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new WW("Invalid base64 string: "+s):s}}(e);return new Kn(r)}static fromUint8Array(e){const r=function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s}(e);return new Kn(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ut(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kn.EMPTY_BYTE_STRING=new Kn("");const bge=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ou(t){if(nr(!!t),typeof t=="string"){let e=0;const r=bge.exec(t);if(nr(!!r),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:en(t.seconds),nanos:en(t.nanos)}}function en(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ef(t){return typeof t=="string"?Kn.fromBase64String(t):Kn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nk(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function Tk(t){const e=t.mapValue.fields.__previous_value__;return Nk(e)?Tk(e):e}function qv(t){const e=ou(t.mapValue.fields.__local_write_time__.timestampValue);return new Tt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wge{constructor(e,r,n,i,s,a,o,c,u){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=c,this.useFetchStreams=u}}class Wv{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new Wv("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Wv&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xx={mapValue:{}};function tf(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Nk(t)?4:Ege(t)?9007199254740991:_ge(t)?10:11:lt()}function Do(t,e){if(t===e)return!0;const r=tf(t);if(r!==tf(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return qv(t).isEqual(qv(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=ou(i.timestampValue),o=ou(s.timestampValue);return a.seconds===o.seconds&&a.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return ef(i.bytesValue).isEqual(ef(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return en(i.geoPointValue.latitude)===en(s.geoPointValue.latitude)&&en(i.geoPointValue.longitude)===en(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return en(i.integerValue)===en(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=en(i.doubleValue),o=en(s.doubleValue);return a===o?Jw(a)===Jw(o):isNaN(a)&&isNaN(o)}return!1}(t,e);case 9:return xp(t.arrayValue.values||[],e.arrayValue.values||[],Do);case 10:case 11:return function(i,s){const a=i.mapValue.fields||{},o=s.mapValue.fields||{};if(g4(a)!==g4(o))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(o[c]===void 0||!Do(a[c],o[c])))return!1;return!0}(t,e);default:return lt()}}function Hv(t,e){return(t.values||[]).find(r=>Do(r,e))!==void 0}function bp(t,e){if(t===e)return 0;const r=tf(t),n=tf(e);if(r!==n)return Ut(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Ut(t.booleanValue,e.booleanValue);case 2:return function(s,a){const o=en(s.integerValue||s.doubleValue),c=en(a.integerValue||a.doubleValue);return o<c?-1:o>c?1:o===c?0:isNaN(o)?isNaN(c)?0:-1:1}(t,e);case 3:return y4(t.timestampValue,e.timestampValue);case 4:return y4(qv(t),qv(e));case 5:return Ut(t.stringValue,e.stringValue);case 6:return function(s,a){const o=ef(s),c=ef(a);return o.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,a){const o=s.split("/"),c=a.split("/");for(let u=0;u<o.length&&u<c.length;u++){const d=Ut(o[u],c[u]);if(d!==0)return d}return Ut(o.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,a){const o=Ut(en(s.latitude),en(a.latitude));return o!==0?o:Ut(en(s.longitude),en(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return x4(t.arrayValue,e.arrayValue);case 10:return function(s,a){var o,c,u,d;const f=s.fields||{},h=a.fields||{},p=(o=f.value)===null||o===void 0?void 0:o.arrayValue,v=(c=h.value)===null||c===void 0?void 0:c.arrayValue,m=Ut(((u=p==null?void 0:p.values)===null||u===void 0?void 0:u.length)||0,((d=v==null?void 0:v.values)===null||d===void 0?void 0:d.length)||0);return m!==0?m:x4(p,v)}(t.mapValue,e.mapValue);case 11:return function(s,a){if(s===Xx.mapValue&&a===Xx.mapValue)return 0;if(s===Xx.mapValue)return 1;if(a===Xx.mapValue)return-1;const o=s.fields||{},c=Object.keys(o),u=a.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let f=0;f<c.length&&f<d.length;++f){const h=Ut(c[f],d[f]);if(h!==0)return h;const p=bp(o[c[f]],u[d[f]]);if(p!==0)return p}return Ut(c.length,d.length)}(t.mapValue,e.mapValue);default:throw lt()}}function y4(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ut(t,e);const r=ou(t),n=ou(e),i=Ut(r.seconds,n.seconds);return i!==0?i:Ut(r.nanos,n.nanos)}function x4(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const s=bp(r[i],n[i]);if(s)return s}return Ut(r.length,n.length)}function wp(t){return rA(t)}function rA(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=ou(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return ef(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return Ye.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",i=!0;for(const s of r.values||[])i?i=!1:n+=",",n+=rA(s);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let i="{",s=!0;for(const a of n)s?s=!1:i+=",",i+=`${a}:${rA(r.fields[a])}`;return i+"}"}(t.mapValue):lt()}function b4(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function nA(t){return!!t&&"integerValue"in t}function jk(t){return!!t&&"arrayValue"in t}function w4(t){return!!t&&"nullValue"in t}function _4(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Gb(t){return!!t&&"mapValue"in t}function _ge(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="__vector__"}function Zg(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return _f(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=Zg(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Zg(t.arrayValue.values[r]);return e}return Object.assign({},t)}function Ege(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(e){this.value=e}static empty(){return new Ui({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!Gb(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zg(r)}setAll(e){let r=Bn.emptyPath(),n={},i=[];e.forEach((a,o)=>{if(!r.isImmediateParentOf(o)){const c=this.getFieldsMap(r);this.applyChanges(c,n,i),n={},i=[],r=o.popLast()}a?n[o.lastSegment()]=Zg(a):i.push(o.lastSegment())});const s=this.getFieldsMap(r);this.applyChanges(s,n,i)}delete(e){const r=this.field(e.popLast());Gb(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Do(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];Gb(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){_f(r,(i,s)=>e[i]=s);for(const i of n)delete e[i]}clone(){return new Ui(Zg(this.value))}}function HW(t){const e=[];return _f(t.fields,(r,n)=>{const i=new Bn([r]);if(Gb(n)){const s=HW(n.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)}),new gs(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e,r,n,i,s,a,o){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=s,this.data=a,this.documentState=o}static newInvalidDocument(e){return new ai(e,0,dt.min(),dt.min(),dt.min(),Ui.empty(),0)}static newFoundDocument(e,r,n,i){return new ai(e,1,r,dt.min(),n,i,0)}static newNoDocument(e,r){return new ai(e,2,r,dt.min(),dt.min(),Ui.empty(),0)}static newUnknownDocument(e,r){return new ai(e,3,r,dt.min(),dt.min(),Ui.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(dt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ui.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ui.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=dt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ai&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ai(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_{constructor(e,r){this.position=e,this.inclusive=r}}function E4(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(s.field.isKeyField()?n=Ye.comparator(Ye.fromName(a.referenceValue),r.key):n=bp(a,r.data.field(s.field)),s.dir==="desc"&&(n*=-1),n!==0)break}return n}function S4(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!Do(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv{constructor(e,r="asc"){this.field=e,this.dir=r}}function Sge(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KW{}class pn extends KW{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new Tge(e,r,n):r==="array-contains"?new Age(e,n):r==="in"?new Pge(e,n):r==="not-in"?new Rge(e,n):r==="array-contains-any"?new kge(e,n):new pn(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new jge(e,n):new Cge(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(bp(r,this.value)):r!==null&&tf(this.value)===tf(r)&&this.matchesComparison(bp(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return lt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class La extends KW{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new La(e,r)}matches(e){return GW(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function GW(t){return t.op==="and"}function YW(t){return Nge(t)&&GW(t)}function Nge(t){for(const e of t.filters)if(e instanceof La)return!1;return!0}function iA(t){if(t instanceof pn)return t.field.canonicalString()+t.op.toString()+wp(t.value);if(YW(t))return t.filters.map(e=>iA(e)).join(",");{const e=t.filters.map(r=>iA(r)).join(",");return`${t.op}(${e})`}}function XW(t,e){return t instanceof pn?function(n,i){return i instanceof pn&&n.op===i.op&&n.field.isEqual(i.field)&&Do(n.value,i.value)}(t,e):t instanceof La?function(n,i){return i instanceof La&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((s,a,o)=>s&&XW(a,i.filters[o]),!0):!1}(t,e):void lt()}function QW(t){return t instanceof pn?function(r){return`${r.field.canonicalString()} ${r.op} ${wp(r.value)}`}(t):t instanceof La?function(r){return r.op.toString()+" {"+r.getFilters().map(QW).join(" ,")+"}"}(t):"Filter"}class Tge extends pn{constructor(e,r,n){super(e,r,n),this.key=Ye.fromName(n.referenceValue)}matches(e){const r=Ye.comparator(e.key,this.key);return this.matchesComparison(r)}}class jge extends pn{constructor(e,r){super(e,"in",r),this.keys=ZW("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class Cge extends pn{constructor(e,r){super(e,"not-in",r),this.keys=ZW("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function ZW(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>Ye.fromName(n.referenceValue))}class Age extends pn{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return jk(r)&&Hv(r.arrayValue,this.value)}}class Pge extends pn{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&Hv(this.value.arrayValue,r)}}class Rge extends pn{constructor(e,r){super(e,"not-in",r)}matches(e){if(Hv(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!Hv(this.value.arrayValue,r)}}class kge extends pn{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!jk(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>Hv(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ige{constructor(e,r=null,n=[],i=[],s=null,a=null,o=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=s,this.startAt=a,this.endAt=o,this.ue=null}}function N4(t,e=null,r=[],n=[],i=null,s=null,a=null){return new Ige(t,e,r,n,i,s,a)}function Ck(t){const e=ft(t);if(e.ue===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>iA(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(s){return s.field.canonicalString()+s.dir}(n)).join(","),gE(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>wp(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>wp(n)).join(",")),e.ue=r}return e.ue}function Ak(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!Sge(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!XW(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!S4(t.startAt,e.startAt)&&S4(t.endAt,e.endAt)}function sA(t){return Ye.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{constructor(e,r=null,n=[],i=[],s=null,a="F",o=null,c=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=s,this.limitType=a,this.startAt=o,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Oge(t,e,r,n,i,s,a,o){return new mm(t,e,r,n,i,s,a,o)}function vE(t){return new mm(t)}function T4(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function JW(t){return t.collectionGroup!==null}function Jg(t){const e=ft(t);if(e.ce===null){e.ce=[];const r=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),r.add(s.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let o=new Wn(Bn.comparator);return a.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(o=o.add(u.field))})}),o})(e).forEach(s=>{r.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Kv(s,n))}),r.has(Bn.keyField().canonicalString())||e.ce.push(new Kv(Bn.keyField(),n))}return e.ce}function So(t){const e=ft(t);return e.le||(e.le=Mge(e,Jg(t))),e.le}function Mge(t,e){if(t.limitType==="F")return N4(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Kv(i.field,s)});const r=t.endAt?new e_(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new e_(t.startAt.position,t.startAt.inclusive):null;return N4(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function aA(t,e){const r=t.filters.concat([e]);return new mm(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function oA(t,e,r){return new mm(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function yE(t,e){return Ak(So(t),So(e))&&t.limitType===e.limitType}function e7(t){return`${Ck(So(t))}|lt:${t.limitType}`}function Xf(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(i=>QW(i)).join(", ")}]`),gE(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(i=>wp(i)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(i=>wp(i)).join(",")),`Target(${n})`}(So(t))}; limitType=${t.limitType})`}function xE(t,e){return e.isFoundDocument()&&function(n,i){const s=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):Ye.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)}(t,e)&&function(n,i){for(const s of Jg(n))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(n,i){for(const s of n.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!function(a,o,c){const u=E4(a,o,c);return a.inclusive?u<=0:u<0}(n.startAt,Jg(n),i)||n.endAt&&!function(a,o,c){const u=E4(a,o,c);return a.inclusive?u>=0:u>0}(n.endAt,Jg(n),i))}(t,e)}function Dge(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function t7(t){return(e,r)=>{let n=!1;for(const i of Jg(t)){const s=Lge(i,e,r);if(s!==0)return s;n=n||i.field.isKeyField()}return 0}}function Lge(t,e,r){const n=t.field.isKeyField()?Ye.comparator(e.key,r.key):function(s,a,o){const c=a.data.field(s),u=o.data.field(s);return c!==null&&u!==null?bp(c,u):lt()}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return lt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,s]of n)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){_f(this.inner,(r,n)=>{for(const[i,s]of n)e(i,s)})}isEmpty(){return qW(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $ge=new Ur(Ye.comparator);function zl(){return $ge}const r7=new Ur(Ye.comparator);function Cg(...t){let e=r7;for(const r of t)e=e.insert(r.key,r);return e}function n7(t){let e=r7;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function md(){return ev()}function i7(){return ev()}function ev(){return new gm(t=>t.toString(),(t,e)=>t.isEqual(e))}const Fge=new Ur(Ye.comparator),Vge=new Wn(Ye.comparator);function At(...t){let e=Vge;for(const r of t)e=e.add(r);return e}const Bge=new Wn(Ut);function Uge(){return Bge}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pk(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jw(e)?"-0":e}}function s7(t){return{integerValue:""+t}}function zge(t,e){return xge(e)?s7(e):Pk(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(){this._=void 0}}function qge(t,e,r){return t instanceof Gv?function(i,s){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Nk(s)&&(s=Tk(s)),s&&(a.fields.__previous_value__=s),{mapValue:a}}(r,e):t instanceof _p?o7(t,e):t instanceof Yv?l7(t,e):function(i,s){const a=a7(i,s),o=j4(a)+j4(i.Pe);return nA(a)&&nA(i.Pe)?s7(o):Pk(i.serializer,o)}(t,e)}function Wge(t,e,r){return t instanceof _p?o7(t,e):t instanceof Yv?l7(t,e):r}function a7(t,e){return t instanceof t_?function(n){return nA(n)||function(s){return!!s&&"doubleValue"in s}(n)}(e)?e:{integerValue:0}:null}class Gv extends bE{}class _p extends bE{constructor(e){super(),this.elements=e}}function o7(t,e){const r=c7(e);for(const n of t.elements)r.some(i=>Do(i,n))||r.push(n);return{arrayValue:{values:r}}}class Yv extends bE{constructor(e){super(),this.elements=e}}function l7(t,e){let r=c7(e);for(const n of t.elements)r=r.filter(i=>!Do(i,n));return{arrayValue:{values:r}}}class t_ extends bE{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function j4(t){return en(t.integerValue||t.doubleValue)}function c7(t){return jk(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u7{constructor(e,r){this.field=e,this.transform=r}}function Hge(t,e){return t.field.isEqual(e.field)&&function(n,i){return n instanceof _p&&i instanceof _p||n instanceof Yv&&i instanceof Yv?xp(n.elements,i.elements,Do):n instanceof t_&&i instanceof t_?Do(n.Pe,i.Pe):n instanceof Gv&&i instanceof Gv}(t.transform,e.transform)}class Kge{constructor(e,r){this.version=e,this.transformResults=r}}class ji{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new ji}static exists(e){return new ji(void 0,e)}static updateTime(e){return new ji(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Yb(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class wE{}function d7(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new _E(t.key,ji.none()):new S0(t.key,t.data,ji.none());{const r=t.data,n=Ui.empty();let i=new Wn(Bn.comparator);for(let s of e.fields)if(!i.has(s)){let a=r.field(s);a===null&&s.length>1&&(s=s.popLast(),a=r.field(s)),a===null?n.delete(s):n.set(s,a),i=i.add(s)}return new Eu(t.key,n,new gs(i.toArray()),ji.none())}}function Gge(t,e,r){t instanceof S0?function(i,s,a){const o=i.value.clone(),c=A4(i.fieldTransforms,s,a.transformResults);o.setAll(c),s.convertToFoundDocument(a.version,o).setHasCommittedMutations()}(t,e,r):t instanceof Eu?function(i,s,a){if(!Yb(i.precondition,s))return void s.convertToUnknownDocument(a.version);const o=A4(i.fieldTransforms,s,a.transformResults),c=s.data;c.setAll(f7(i)),c.setAll(o),s.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(t,e,r):function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,r)}function tv(t,e,r,n){return t instanceof S0?function(s,a,o,c){if(!Yb(s.precondition,a))return o;const u=s.value.clone(),d=P4(s.fieldTransforms,c,a);return u.setAll(d),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),null}(t,e,r,n):t instanceof Eu?function(s,a,o,c){if(!Yb(s.precondition,a))return o;const u=P4(s.fieldTransforms,c,a),d=a.data;return d.setAll(f7(s)),d.setAll(u),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,r,n):function(s,a,o){return Yb(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):o}(t,e,r)}function Yge(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),s=a7(n.transform,i||null);s!=null&&(r===null&&(r=Ui.empty()),r.set(n.field,s))}return r||null}function C4(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&xp(n,i,(s,a)=>Hge(s,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class S0 extends wE{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Eu extends wE{constructor(e,r,n,i,s=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function f7(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function A4(t,e,r){const n=new Map;nr(t.length===r.length);for(let i=0;i<r.length;i++){const s=t[i],a=s.transform,o=e.data.field(s.field);n.set(s.field,Wge(a,o,r[i]))}return n}function P4(t,e,r){const n=new Map;for(const i of t){const s=i.transform,a=r.data.field(i.field);n.set(i.field,qge(s,a,e))}return n}class _E extends wE{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Xge extends wE{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qge{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Gge(s,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=tv(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=tv(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=i7();return this.mutations.forEach(i=>{const s=e.get(i.key),a=s.overlayedDocument;let o=this.applyToLocalView(a,s.mutatedFields);o=r.has(i.key)?null:o;const c=d7(a,o);c!==null&&n.set(i.key,c),a.isValidDocument()||a.convertToNoDocument(dt.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),At())}isEqual(e){return this.batchId===e.batchId&&xp(this.mutations,e.mutations,(r,n)=>C4(r,n))&&xp(this.baseMutations,e.baseMutations,(r,n)=>C4(r,n))}}class Rk{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){nr(e.mutations.length===n.length);let i=function(){return Fge}();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,n[a].version);return new Rk(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zge=class{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jge{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dn,Mt;function eve(t){switch(t){default:return lt();case me.CANCELLED:case me.UNKNOWN:case me.DEADLINE_EXCEEDED:case me.RESOURCE_EXHAUSTED:case me.INTERNAL:case me.UNAVAILABLE:case me.UNAUTHENTICATED:return!1;case me.INVALID_ARGUMENT:case me.NOT_FOUND:case me.ALREADY_EXISTS:case me.PERMISSION_DENIED:case me.FAILED_PRECONDITION:case me.ABORTED:case me.OUT_OF_RANGE:case me.UNIMPLEMENTED:case me.DATA_LOSS:return!0}}function h7(t){if(t===void 0)return Ul("GRPC error has no .code"),me.UNKNOWN;switch(t){case dn.OK:return me.OK;case dn.CANCELLED:return me.CANCELLED;case dn.UNKNOWN:return me.UNKNOWN;case dn.DEADLINE_EXCEEDED:return me.DEADLINE_EXCEEDED;case dn.RESOURCE_EXHAUSTED:return me.RESOURCE_EXHAUSTED;case dn.INTERNAL:return me.INTERNAL;case dn.UNAVAILABLE:return me.UNAVAILABLE;case dn.UNAUTHENTICATED:return me.UNAUTHENTICATED;case dn.INVALID_ARGUMENT:return me.INVALID_ARGUMENT;case dn.NOT_FOUND:return me.NOT_FOUND;case dn.ALREADY_EXISTS:return me.ALREADY_EXISTS;case dn.PERMISSION_DENIED:return me.PERMISSION_DENIED;case dn.FAILED_PRECONDITION:return me.FAILED_PRECONDITION;case dn.ABORTED:return me.ABORTED;case dn.OUT_OF_RANGE:return me.OUT_OF_RANGE;case dn.UNIMPLEMENTED:return me.UNIMPLEMENTED;case dn.DATA_LOSS:return me.DATA_LOSS;default:return lt()}}(Mt=dn||(dn={}))[Mt.OK=0]="OK",Mt[Mt.CANCELLED=1]="CANCELLED",Mt[Mt.UNKNOWN=2]="UNKNOWN",Mt[Mt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Mt[Mt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Mt[Mt.NOT_FOUND=5]="NOT_FOUND",Mt[Mt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Mt[Mt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Mt[Mt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Mt[Mt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Mt[Mt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Mt[Mt.ABORTED=10]="ABORTED",Mt[Mt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Mt[Mt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Mt[Mt.INTERNAL=13]="INTERNAL",Mt[Mt.UNAVAILABLE=14]="UNAVAILABLE",Mt[Mt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tve(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rve=new Md([4294967295,4294967295],0);function R4(t){const e=tve().encode(t),r=new DW;return r.update(e),new Uint8Array(r.digest())}function k4(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Md([r,n],0),new Md([i,s],0)]}class kk{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new Ag(`Invalid padding: ${r}`);if(n<0)throw new Ag(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Ag(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new Ag(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=Md.fromNumber(this.Ie)}Ee(e,r,n){let i=e.add(r.multiply(Md.fromNumber(n)));return i.compare(rve)===1&&(i=new Md([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const r=R4(e),[n,i]=k4(r);for(let s=0;s<this.hashCount;s++){const a=this.Ee(n,i,s);if(!this.de(a))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new kk(s,i,r);return n.forEach(o=>a.insert(o)),a}insert(e){if(this.Ie===0)return;const r=R4(e),[n,i]=k4(r);for(let s=0;s<this.hashCount;s++){const a=this.Ee(n,i,s);this.Ae(a)}}Ae(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class Ag extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(e,r,n,i,s){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,N0.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new EE(dt.min(),i,new Ur(Ut),zl(),At())}}class N0{constructor(e,r,n,i,s){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new N0(n,r,At(),At(),At())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(e,r,n,i){this.Re=e,this.removedTargetIds=r,this.key=n,this.Ve=i}}class p7{constructor(e,r){this.targetId=e,this.me=r}}class m7{constructor(e,r,n=Kn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class I4{constructor(){this.fe=0,this.ge=M4(),this.pe=Kn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=At(),r=At(),n=At();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:lt()}}),new N0(this.pe,this.ye,e,r,n)}Ce(){this.we=!1,this.ge=M4()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,nr(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class nve{constructor(e){this.Le=e,this.Be=new Map,this.ke=zl(),this.qe=O4(),this.Qe=new Ur(Ut)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const n=this.Ge(r);switch(e.state){case 0:this.ze(r)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),n.De(e.resumeToken));break;default:lt()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((n,i)=>{this.ze(i)&&r(i)})}He(e){const r=e.targetId,n=e.me.count,i=this.Je(r);if(i){const s=i.target;if(sA(s))if(n===0){const a=new Ye(s.path);this.Ue(r,a,ai.newNoDocument(a,dt.min()))}else nr(n===1);else{const a=this.Ye(r);if(a!==n){const o=this.Ze(e),c=o?this.Xe(o,e,a):1;if(c!==0){this.je(r);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(r,u)}}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:s=0}=r;let a,o;try{a=ef(n).toUint8Array()}catch(c){if(c instanceof WW)return yp("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{o=new kk(a,i,s)}catch(c){return yp(c instanceof Ag?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return o.Ie===0?null:o}Xe(e,r,n){return r.me.count===n-this.nt(e,r.targetId)?0:2}nt(e,r){const n=this.Le.getRemoteKeysForTarget(r);let i=0;return n.forEach(s=>{const a=this.Le.tt(),o=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(o)||(this.Ue(r,s,null),i++)}),i}rt(e){const r=new Map;this.Be.forEach((s,a)=>{const o=this.Je(a);if(o){if(s.current&&sA(o.target)){const c=new Ye(o.target.path);this.ke.get(c)!==null||this.it(a,c)||this.Ue(a,c,ai.newNoDocument(c,e))}s.be&&(r.set(a,s.ve()),s.Ce())}});let n=At();this.qe.forEach((s,a)=>{let o=!0;a.forEachWhile(c=>{const u=this.Je(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(n=n.add(s))}),this.ke.forEach((s,a)=>a.setReadTime(e));const i=new EE(e,r,this.Qe,this.ke,n);return this.ke=zl(),this.qe=O4(),this.Qe=new Ur(Ut),i}$e(e,r){if(!this.ze(e))return;const n=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,n),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,n){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,r)?i.Fe(r,1):i.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),n&&(this.ke=this.ke.insert(r,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new I4,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new Wn(Ut),this.qe=this.qe.insert(e,r)),r}ze(e){const r=this.Je(e)!==null;return r||ze("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new I4),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function O4(){return new Ur(Ye.comparator)}function M4(){return new Ur(Ye.comparator)}const ive={asc:"ASCENDING",desc:"DESCENDING"},sve={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ave={and:"AND",or:"OR"};class ove{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function lA(t,e){return t.useProto3Json||gE(e)?e:{value:e}}function r_(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function g7(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function lve(t,e){return r_(t,e.toTimestamp())}function No(t){return nr(!!t),dt.fromTimestamp(function(r){const n=ou(r);return new Tt(n.seconds,n.nanos)}(t))}function Ik(t,e){return cA(t,e).canonicalString()}function cA(t,e){const r=function(i){return new Nr(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?r:r.child(e)}function v7(t){const e=Nr.fromString(t);return nr(_7(e)),e}function uA(t,e){return Ik(t.databaseId,e.path)}function nT(t,e){const r=v7(e);if(r.get(1)!==t.databaseId.projectId)throw new Ie(me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new Ie(me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new Ye(x7(r))}function y7(t,e){return Ik(t.databaseId,e)}function cve(t){const e=v7(t);return e.length===4?Nr.emptyPath():x7(e)}function dA(t){return new Nr(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function x7(t){return nr(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function D4(t,e,r){return{name:uA(t,e),fields:r.value.mapValue.fields}}function uve(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:lt()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,d){return u.useProto3Json?(nr(d===void 0||typeof d=="string"),Kn.fromBase64String(d||"")):(nr(d===void 0||d instanceof Buffer||d instanceof Uint8Array),Kn.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,o=a&&function(u){const d=u.code===void 0?me.UNKNOWN:h7(u.code);return new Ie(d,u.message||"")}(a);r=new m7(n,i,s,o||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=nT(t,n.document.name),s=No(n.document.updateTime),a=n.document.createTime?No(n.document.createTime):dt.min(),o=new Ui({mapValue:{fields:n.document.fields}}),c=ai.newFoundDocument(i,s,a,o),u=n.targetIds||[],d=n.removedTargetIds||[];r=new Xb(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=nT(t,n.document),s=n.readTime?No(n.readTime):dt.min(),a=ai.newNoDocument(i,s),o=n.removedTargetIds||[];r=new Xb([],o,a.key,a)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=nT(t,n.document),s=n.removedTargetIds||[];r=new Xb([],s,i,null)}else{if(!("filter"in e))return lt();{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:s}=n,a=new Jge(i,s),o=n.targetId;r=new p7(o,a)}}return r}function dve(t,e){let r;if(e instanceof S0)r={update:D4(t,e.key,e.value)};else if(e instanceof _E)r={delete:uA(t,e.key)};else if(e instanceof Eu)r={update:D4(t,e.key,e.data),updateMask:bve(e.fieldMask)};else{if(!(e instanceof Xge))return lt();r={verify:uA(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(s,a){const o=a.transform;if(o instanceof Gv)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof _p)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Yv)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof t_)return{fieldPath:a.field.canonicalString(),increment:o.Pe};throw lt()}(0,n))),e.precondition.isNone||(r.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:lve(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:lt()}(t,e.precondition)),r}function fve(t,e){return t&&t.length>0?(nr(e!==void 0),t.map(r=>function(i,s){let a=i.updateTime?No(i.updateTime):No(s);return a.isEqual(dt.min())&&(a=No(s)),new Kge(a,i.transformResults||[])}(r,e))):[]}function hve(t,e){return{documents:[y7(t,e.path)]}}function pve(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=y7(t,i);const s=function(u){if(u.length!==0)return w7(La.create(u,"and"))}(e.filters);s&&(r.structuredQuery.where=s);const a=function(u){if(u.length!==0)return u.map(d=>function(h){return{field:Qf(h.field),direction:vve(h.dir)}}(d))}(e.orderBy);a&&(r.structuredQuery.orderBy=a);const o=lA(t,e.limit);return o!==null&&(r.structuredQuery.limit=o),e.startAt&&(r.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:r,parent:i}}function mve(t){let e=cve(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){nr(n===1);const d=r.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];r.where&&(s=function(f){const h=b7(f);return h instanceof La&&YW(h)?h.getFilters():[h]}(r.where));let a=[];r.orderBy&&(a=function(f){return f.map(h=>function(v){return new Kv(Zf(v.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(h))}(r.orderBy));let o=null;r.limit&&(o=function(f){let h;return h=typeof f=="object"?f.value:f,gE(h)?null:h}(r.limit));let c=null;r.startAt&&(c=function(f){const h=!!f.before,p=f.values||[];return new e_(p,h)}(r.startAt));let u=null;return r.endAt&&(u=function(f){const h=!f.before,p=f.values||[];return new e_(p,h)}(r.endAt)),Oge(e,i,a,s,o,"F",c,u)}function gve(t,e){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return lt()}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function b7(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=Zf(r.unaryFilter.field);return pn.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=Zf(r.unaryFilter.field);return pn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Zf(r.unaryFilter.field);return pn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Zf(r.unaryFilter.field);return pn.create(a,"!=",{nullValue:"NULL_VALUE"});default:return lt()}}(t):t.fieldFilter!==void 0?function(r){return pn.create(Zf(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return lt()}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return La.create(r.compositeFilter.filters.map(n=>b7(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return lt()}}(r.compositeFilter.op))}(t):lt()}function vve(t){return ive[t]}function yve(t){return sve[t]}function xve(t){return ave[t]}function Qf(t){return{fieldPath:t.canonicalString()}}function Zf(t){return Bn.fromServerFormat(t.fieldPath)}function w7(t){return t instanceof pn?function(r){if(r.op==="=="){if(_4(r.value))return{unaryFilter:{field:Qf(r.field),op:"IS_NAN"}};if(w4(r.value))return{unaryFilter:{field:Qf(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(_4(r.value))return{unaryFilter:{field:Qf(r.field),op:"IS_NOT_NAN"}};if(w4(r.value))return{unaryFilter:{field:Qf(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qf(r.field),op:yve(r.op),value:r.value}}}(t):t instanceof La?function(r){const n=r.getFilters().map(i=>w7(i));return n.length===1?n[0]:{compositeFilter:{op:xve(r.op),filters:n}}}(t):lt()}function bve(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function _7(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e,r,n,i,s=dt.min(),a=dt.min(),o=Kn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=c}withSequenceNumber(e){return new Vc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new Vc(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Vc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Vc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wve{constructor(e){this.ct=e}}function _ve(t){const e=mve({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?oA(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eve{constructor(){this.un=new Sve}addToCollectionParentIndex(e,r){return this.un.add(r),ye.resolve()}getCollectionParents(e,r){return ye.resolve(this.un.getEntries(r))}addFieldIndex(e,r){return ye.resolve()}deleteFieldIndex(e,r){return ye.resolve()}deleteAllFieldIndexes(e){return ye.resolve()}createTargetIndexes(e,r){return ye.resolve()}getDocumentsMatchingTarget(e,r){return ye.resolve(null)}getIndexType(e,r){return ye.resolve(0)}getFieldIndexes(e,r){return ye.resolve([])}getNextCollectionGroupToUpdate(e){return ye.resolve(null)}getMinOffset(e,r){return ye.resolve(au.min())}getMinOffsetFromCollectionGroup(e,r){return ye.resolve(au.min())}updateCollectionGroup(e,r,n){return ye.resolve()}updateIndexEntries(e,r){return ye.resolve()}}class Sve{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new Wn(Nr.comparator),s=!i.has(n);return this.index[r]=i.add(n),s}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new Wn(Nr.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Ep(0)}static kn(){return new Ep(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nve{constructor(){this.changes=new gm(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,ai.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?ye.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tve{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jve{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,r))).next(i=>(n!==null&&tv(n.mutation,i,gs.empty(),Tt.now()),i))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,At()).next(()=>n))}getLocalViewOfDocuments(e,r,n=At()){const i=md();return this.populateOverlays(e,i,r).next(()=>this.computeViews(e,r,i,n).next(s=>{let a=Cg();return s.forEach((o,c)=>{a=a.insert(o,c.overlayedDocument)}),a}))}getOverlayedDocuments(e,r){const n=md();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,At()))}populateOverlays(e,r,n){const i=[];return n.forEach(s=>{r.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((a,o)=>{r.set(a,o)})})}computeViews(e,r,n,i){let s=zl();const a=ev(),o=function(){return ev()}();return r.forEach((c,u)=>{const d=n.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof Eu)?s=s.insert(u.key,u):d!==void 0?(a.set(u.key,d.mutation.getFieldMask()),tv(d.mutation,u,d.mutation.getFieldMask(),Tt.now())):a.set(u.key,gs.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,d)=>a.set(u,d)),r.forEach((u,d)=>{var f;return o.set(u,new Tve(d,(f=a.get(u))!==null&&f!==void 0?f:null))}),o))}recalculateAndSaveOverlays(e,r){const n=ev();let i=new Ur((a,o)=>a-o),s=At();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(a=>{for(const o of a)o.keys().forEach(c=>{const u=r.get(c);if(u===null)return;let d=n.get(c)||gs.empty();d=o.applyToLocalView(u,d),n.set(c,d);const f=(i.get(o.batchId)||At()).add(c);i=i.insert(o.batchId,f)})}).next(()=>{const a=[],o=i.getReverseIterator();for(;o.hasNext();){const c=o.getNext(),u=c.key,d=c.value,f=i7();d.forEach(h=>{if(!s.has(h)){const p=d7(r.get(h),n.get(h));p!==null&&f.set(h,p),s=s.add(h)}}),a.push(this.documentOverlayCache.saveOverlays(e,u,f))}return ye.waitFor(a)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,i){return function(a){return Ye.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):JW(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next(s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-s.size):ye.resolve(md());let o=-1,c=s;return a.next(u=>ye.forEach(u,(d,f)=>(o<f.largestBatchId&&(o=f.largestBatchId),s.get(d)?ye.resolve():this.remoteDocumentCache.getEntry(e,d).next(h=>{c=c.insert(d,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,At())).next(d=>({batchId:o,changes:n7(d)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Ye(r)).next(n=>{let i=Cg();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const s=r.collectionGroup;let a=Cg();return this.indexManager.getCollectionParents(e,s).next(o=>ye.forEach(o,c=>{const u=function(f,h){return new mm(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(r,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,n,i).next(d=>{d.forEach((f,h)=>{a=a.insert(f,h)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,r,n,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,s,i))).next(a=>{s.forEach((c,u)=>{const d=u.getKey();a.get(d)===null&&(a=a.insert(d,ai.newInvalidDocument(d)))});let o=Cg();return a.forEach((c,u)=>{const d=s.get(c);d!==void 0&&tv(d.mutation,u,gs.empty(),Tt.now()),xE(r,u)&&(o=o.insert(c,u))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cve{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,r){return ye.resolve(this.hr.get(r))}saveBundleMetadata(e,r){return this.hr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:No(i.createTime)}}(r)),ye.resolve()}getNamedQuery(e,r){return ye.resolve(this.Pr.get(r))}saveNamedQuery(e,r){return this.Pr.set(r.name,function(i){return{name:i.name,query:_ve(i.bundledQuery),readTime:No(i.readTime)}}(r)),ye.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ave{constructor(){this.overlays=new Ur(Ye.comparator),this.Ir=new Map}getOverlay(e,r){return ye.resolve(this.overlays.get(r))}getOverlays(e,r){const n=md();return ye.forEach(r,i=>this.getOverlay(e,i).next(s=>{s!==null&&n.set(i,s)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((i,s)=>{this.ht(e,r,s)}),ye.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.Ir.get(n);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(n)),ye.resolve()}getOverlaysForCollection(e,r,n){const i=md(),s=r.length+1,a=new Ye(r.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const c=o.getNext().value,u=c.getKey();if(!r.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>n&&i.set(c.getKey(),c)}return ye.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let s=new Ur((u,d)=>u-d);const a=this.overlays.getIterator();for(;a.hasNext();){const u=a.getNext().value;if(u.getKey().getCollectionGroup()===r&&u.largestBatchId>n){let d=s.get(u.largestBatchId);d===null&&(d=md(),s=s.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const o=md(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>o.set(u,d)),!(o.size()>=i)););return ye.resolve(o)}ht(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const a=this.Ir.get(i.largestBatchId).delete(n.key);this.Ir.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(n.key,new Zge(r,n));let s=this.Ir.get(r);s===void 0&&(s=At(),this.Ir.set(r,s)),this.Ir.set(r,s.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pve{constructor(){this.sessionToken=Kn.EMPTY_BYTE_STRING}getSessionToken(e){return ye.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,ye.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(){this.Tr=new Wn(Nn.Er),this.dr=new Wn(Nn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,r){const n=new Nn(e,r);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.Vr(new Nn(e,r))}mr(e,r){e.forEach(n=>this.removeReference(n,r))}gr(e){const r=new Ye(new Nr([])),n=new Nn(r,e),i=new Nn(r,e+1),s=[];return this.dr.forEachInRange([n,i],a=>{this.Vr(a),s.push(a.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const r=new Ye(new Nr([])),n=new Nn(r,e),i=new Nn(r,e+1);let s=At();return this.dr.forEachInRange([n,i],a=>{s=s.add(a.key)}),s}containsKey(e){const r=new Nn(e,0),n=this.Tr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class Nn{constructor(e,r){this.key=e,this.wr=r}static Er(e,r){return Ye.comparator(e.key,r.key)||Ut(e.wr,r.wr)}static Ar(e,r){return Ut(e.wr,r.wr)||Ye.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rve{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new Wn(Nn.Er)}checkEmpty(e){return ye.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new Qge(s,r,n,i);this.mutationQueue.push(a);for(const o of i)this.br=this.br.add(new Nn(o.key,s)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return ye.resolve(a)}lookupMutationBatch(e,r){return ye.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.vr(n),s=i<0?0:i;return ye.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ye.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return ye.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new Nn(r,0),i=new Nn(r,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([n,i],a=>{const o=this.Dr(a.wr);s.push(o)}),ye.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new Wn(Ut);return r.forEach(i=>{const s=new Nn(i,0),a=new Nn(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,a],o=>{n=n.add(o.wr)})}),ye.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let s=n;Ye.isDocumentKey(s)||(s=s.child(""));const a=new Nn(new Ye(s),0);let o=new Wn(Ut);return this.br.forEachWhile(c=>{const u=c.key.path;return!!n.isPrefixOf(u)&&(u.length===i&&(o=o.add(c.wr)),!0)},a),ye.resolve(this.Cr(o))}Cr(e){const r=[];return e.forEach(n=>{const i=this.Dr(n);i!==null&&r.push(i)}),r}removeMutationBatch(e,r){nr(this.Fr(r.batchId,"removed")===0),this.mutationQueue.shift();let n=this.br;return ye.forEach(r.mutations,i=>{const s=new Nn(i.key,r.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=n})}On(e){}containsKey(e,r){const n=new Nn(r,0),i=this.br.firstAfterOrEqual(n);return ye.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ye.resolve()}Fr(e,r){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const r=this.vr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kve{constructor(e){this.Mr=e,this.docs=function(){return new Ur(Ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),s=i?i.size:0,a=this.Mr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return ye.resolve(n?n.document.mutableCopy():ai.newInvalidDocument(r))}getEntries(e,r){let n=zl();return r.forEach(i=>{const s=this.docs.get(i);n=n.insert(i,s?s.document.mutableCopy():ai.newInvalidDocument(i))}),ye.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let s=zl();const a=r.path,o=new Ye(a.child("")),c=this.docs.getIteratorFrom(o);for(;c.hasNext();){const{key:u,value:{document:d}}=c.getNext();if(!a.isPrefixOf(u.path))break;u.path.length>a.length+1||mge(pge(d),n)<=0||(i.has(d.key)||xE(r,d))&&(s=s.insert(d.key,d.mutableCopy()))}return ye.resolve(s)}getAllFromCollectionGroup(e,r,n,i){lt()}Or(e,r){return ye.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new Ive(this)}getSize(e){return ye.resolve(this.size)}}class Ive extends Nve{constructor(e){super(),this.cr=e}applyChanges(e){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.cr.addEntry(e,i)):this.cr.removeEntry(n)}),ye.waitFor(r)}getFromCache(e,r){return this.cr.getEntry(e,r)}getAllFromCache(e,r){return this.cr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ove{constructor(e){this.persistence=e,this.Nr=new gm(r=>Ck(r),Ak),this.lastRemoteSnapshotVersion=dt.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Ok,this.targetCount=0,this.kr=Ep.Bn()}forEachTarget(e,r){return this.Nr.forEach((n,i)=>r(i)),ye.resolve()}getLastRemoteSnapshotVersion(e){return ye.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ye.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),ye.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.Lr&&(this.Lr=r),ye.resolve()}Kn(e){this.Nr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.kr=new Ep(r),this.highestTargetId=r),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,r){return this.Kn(r),this.targetCount+=1,ye.resolve()}updateTargetData(e,r){return this.Kn(r),ye.resolve()}removeTargetData(e,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,ye.resolve()}removeTargets(e,r,n){let i=0;const s=[];return this.Nr.forEach((a,o)=>{o.sequenceNumber<=r&&n.get(o.targetId)===null&&(this.Nr.delete(a),s.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)}),ye.waitFor(s).next(()=>i)}getTargetCount(e){return ye.resolve(this.targetCount)}getTargetData(e,r){const n=this.Nr.get(r)||null;return ye.resolve(n)}addMatchingKeys(e,r,n){return this.Br.Rr(r,n),ye.resolve()}removeMatchingKeys(e,r,n){this.Br.mr(r,n);const i=this.persistence.referenceDelegate,s=[];return i&&r.forEach(a=>{s.push(i.markPotentiallyOrphaned(e,a))}),ye.waitFor(s)}removeMatchingKeysForTargetId(e,r){return this.Br.gr(r),ye.resolve()}getMatchingKeysForTargetId(e,r){const n=this.Br.yr(r);return ye.resolve(n)}containsKey(e,r){return ye.resolve(this.Br.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mve{constructor(e,r){this.qr={},this.overlays={},this.Qr=new Sk(0),this.Kr=!1,this.Kr=!0,this.$r=new Pve,this.referenceDelegate=e(this),this.Ur=new Ove(this),this.indexManager=new Eve,this.remoteDocumentCache=function(i){return new kve(i)}(n=>this.referenceDelegate.Wr(n)),this.serializer=new wve(r),this.Gr=new Cve(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new Ave,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.qr[e.toKey()];return n||(n=new Rve(r,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,r,n){ze("MemoryPersistence","Starting transaction:",e);const i=new Dve(this.Qr.next());return this.referenceDelegate.zr(),n(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,r){return ye.or(Object.values(this.qr).map(n=>()=>n.containsKey(e,r)))}}class Dve extends vge{constructor(e){super(),this.currentSequenceNumber=e}}class Mk{constructor(e){this.persistence=e,this.Jr=new Ok,this.Yr=null}static Zr(e){return new Mk(e)}get Xr(){if(this.Yr)return this.Yr;throw lt()}addReference(e,r,n){return this.Jr.addReference(n,r),this.Xr.delete(n.toString()),ye.resolve()}removeReference(e,r,n){return this.Jr.removeReference(n,r),this.Xr.add(n.toString()),ye.resolve()}markPotentiallyOrphaned(e,r){return this.Xr.add(r.toString()),ye.resolve()}removeTarget(e,r){this.Jr.gr(r.targetId).forEach(i=>this.Xr.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>n.removeTargetData(e,r))}zr(){this.Yr=new Set}jr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ye.forEach(this.Xr,n=>{const i=Ye.fromPath(n);return this.ei(e,i).next(s=>{s||r.removeEntry(i,dt.min())})}).next(()=>(this.Yr=null,r.apply(e)))}updateLimboDocument(e,r){return this.ei(e,r).next(n=>{n?this.Xr.delete(r.toString()):this.Xr.add(r.toString())})}Wr(e){return 0}ei(e,r){return ye.or([()=>ye.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Hr(e,r)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.$i=n,this.Ui=i}static Wi(e,r){let n=At(),i=At();for(const s of r.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Dk(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lve{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $ve{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return Ffe()?8:yge(ui())>0?6:4}()}initialize(e,r){this.Ji=e,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(e,r,n,i){const s={result:null};return this.Yi(e,r).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.Zi(e,r,i,n).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new Lve;return this.Xi(e,r,a).next(o=>{if(s.result=o,this.zi)return this.es(e,r,a,o.size)})}).next(()=>s.result)}es(e,r,n,i){return n.documentReadCount<this.ji?(ig()<=It.DEBUG&&ze("QueryEngine","SDK will not create cache indexes for query:",Xf(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ye.resolve()):(ig()<=It.DEBUG&&ze("QueryEngine","Query:",Xf(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.Hi*i?(ig()<=It.DEBUG&&ze("QueryEngine","The SDK decides to create cache indexes for query:",Xf(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,So(r))):ye.resolve())}Yi(e,r){if(T4(r))return ye.resolve(null);let n=So(r);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=oA(r,null,"F"),n=So(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(s=>{const a=At(...s);return this.Ji.getDocuments(e,a).next(o=>this.indexManager.getMinOffset(e,n).next(c=>{const u=this.ts(r,o);return this.ns(r,u,a,c.readTime)?this.Yi(e,oA(r,null,"F")):this.rs(e,u,r,c)}))})))}Zi(e,r,n,i){return T4(r)||i.isEqual(dt.min())?ye.resolve(null):this.Ji.getDocuments(e,n).next(s=>{const a=this.ts(r,s);return this.ns(r,a,n,i)?ye.resolve(null):(ig()<=It.DEBUG&&ze("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Xf(r)),this.rs(e,a,r,hge(i,-1)).next(o=>o))})}ts(e,r){let n=new Wn(t7(e));return r.forEach((i,s)=>{xE(e,s)&&(n=n.add(s))}),n}ns(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const s=e.limitType==="F"?r.last():r.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,r,n){return ig()<=It.DEBUG&&ze("QueryEngine","Using full collection scan to execute query:",Xf(r)),this.Ji.getDocumentsMatchingQuery(e,r,au.min(),n)}rs(e,r,n,i){return this.Ji.getDocumentsMatchingQuery(e,n,i).next(s=>(r.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fve{constructor(e,r,n,i){this.persistence=e,this.ss=r,this.serializer=i,this.os=new Ur(Ut),this._s=new gm(s=>Ck(s),Ak),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new jve(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.os))}}function Vve(t,e,r,n){return new Fve(t,e,r,n)}async function E7(t,e){const r=ft(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next(s=>(i=s,r.ls(e),r.mutationQueue.getAllMutationBatches(n))).next(s=>{const a=[],o=[];let c=At();for(const u of i){a.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}for(const u of s){o.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}return r.localDocuments.getDocuments(n,c).next(u=>({hs:u,removedBatchIds:a,addedBatchIds:o}))})})}function Bve(t,e){const r=ft(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),s=r.cs.newChangeBuffer({trackRemovals:!0});return function(o,c,u,d){const f=u.batch,h=f.keys();let p=ye.resolve();return h.forEach(v=>{p=p.next(()=>d.getEntry(c,v)).next(m=>{const b=u.docVersions.get(v);nr(b!==null),m.version.compareTo(b)<0&&(f.applyToRemoteDocument(m,u),m.isValidDocument()&&(m.setReadTime(u.commitVersion),d.addEntry(m)))})}),p.next(()=>o.mutationQueue.removeMutationBatch(c,f))}(r,n,e,s).next(()=>s.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(o){let c=At();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(c=c.add(o.batch.mutations[u].key));return c}(e))).next(()=>r.localDocuments.getDocuments(n,i))})}function S7(t){const e=ft(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Ur.getLastRemoteSnapshotVersion(r))}function Uve(t,e){const r=ft(t),n=e.snapshotVersion;let i=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=r.cs.newChangeBuffer({trackRemovals:!0});i=r.os;const o=[];e.targetChanges.forEach((d,f)=>{const h=i.get(f);if(!h)return;o.push(r.Ur.removeMatchingKeys(s,d.removedDocuments,f).next(()=>r.Ur.addMatchingKeys(s,d.addedDocuments,f)));let p=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?p=p.withResumeToken(Kn.EMPTY_BYTE_STRING,dt.min()).withLastLimboFreeSnapshotVersion(dt.min()):d.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(d.resumeToken,n)),i=i.insert(f,p),function(m,b,w){return m.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=3e8?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(h,p,d)&&o.push(r.Ur.updateTargetData(s,p))});let c=zl(),u=At();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&o.push(r.persistence.referenceDelegate.updateLimboDocument(s,d))}),o.push(zve(s,a,e.documentUpdates).next(d=>{c=d.Ps,u=d.Is})),!n.isEqual(dt.min())){const d=r.Ur.getLastRemoteSnapshotVersion(s).next(f=>r.Ur.setTargetsMetadata(s,s.currentSequenceNumber,n));o.push(d)}return ye.waitFor(o).next(()=>a.apply(s)).next(()=>r.localDocuments.getLocalViewOfDocuments(s,c,u)).next(()=>c)}).then(s=>(r.os=i,s))}function zve(t,e,r){let n=At(),i=At();return r.forEach(s=>n=n.add(s)),e.getEntries(t,n).next(s=>{let a=zl();return r.forEach((o,c)=>{const u=s.get(o);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(o)),c.isNoDocument()&&c.version.isEqual(dt.min())?(e.removeEntry(o,c.readTime),a=a.insert(o,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),a=a.insert(o,c)):ze("LocalStore","Ignoring outdated watch update for ",o,". Current version:",u.version," Watch version:",c.version)}),{Ps:a,Is:i}})}function qve(t,e){const r=ft(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function Wve(t,e){const r=ft(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.Ur.getTargetData(n,e).next(s=>s?(i=s,ye.resolve(i)):r.Ur.allocateTargetId(n).next(a=>(i=new Vc(e,a,"TargetPurposeListen",n.currentSequenceNumber),r.Ur.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.os.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.os=r.os.insert(n.targetId,n),r._s.set(e,n.targetId)),n})}async function fA(t,e,r){const n=ft(t),i=n.os.get(e),s=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",s,a=>n.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!E0(a))throw a;ze("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}n.os=n.os.remove(e),n._s.delete(i.target)}function L4(t,e,r){const n=ft(t);let i=dt.min(),s=At();return n.persistence.runTransaction("Execute query","readwrite",a=>function(c,u,d){const f=ft(c),h=f._s.get(d);return h!==void 0?ye.resolve(f.os.get(h)):f.Ur.getTargetData(u,d)}(n,a,So(e)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,n.Ur.getMatchingKeysForTargetId(a,o.targetId).next(c=>{s=c})}).next(()=>n.ss.getDocumentsMatchingQuery(a,e,r?i:dt.min(),r?s:At())).next(o=>(Hve(n,Dge(e),o),{documents:o,Ts:s})))}function Hve(t,e,r){let n=t.us.get(e)||dt.min();r.forEach((i,s)=>{s.readTime.compareTo(n)>0&&(n=s.readTime)}),t.us.set(e,n)}class $4{constructor(){this.activeTargetIds=Uge()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Kve{constructor(){this.so=new $4,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,r,n){this.oo[e]=r}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new $4,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gve{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F4{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ze("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ze("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qx=null;function iT(){return Qx===null?Qx=function(){return 268435456+Math.round(2147483648*Math.random())}():Qx++,"0x"+Qx.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yve={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xve{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ti="WebChannelConnection";class Qve extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const n=r.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=n+"://"+r.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(r,n,i,s,a){const o=iT(),c=this.xo(r,n.toUriEncodedString());ze("RestConnection",`Sending RPC '${r}' ${o}:`,c,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,s,a),this.No(r,c,u,i).then(d=>(ze("RestConnection",`Received RPC '${r}' ${o}: `,d),d),d=>{throw yp("RestConnection",`RPC '${r}' ${o} failed with error: `,d,"url: ",c,"request:",i),d})}Lo(r,n,i,s,a,o){return this.Mo(r,n,i,s,a)}Oo(r,n,i){r["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+pm}(),r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,a)=>r[a]=s),i&&i.headers.forEach((s,a)=>r[a]=s)}xo(r,n){const i=Yve[r];return`${this.Do}/v1/${n}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,r,n,i){const s=iT();return new Promise((a,o)=>{const c=new LW;c.setWithCredentials(!0),c.listenOnce($W.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Kb.NO_ERROR:const d=c.getResponseJson();ze(ti,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),a(d);break;case Kb.TIMEOUT:ze(ti,`RPC '${e}' ${s} timed out`),o(new Ie(me.DEADLINE_EXCEEDED,"Request time out"));break;case Kb.HTTP_ERROR:const f=c.getStatus();if(ze(ti,`RPC '${e}' ${s} failed with status:`,f,"response text:",c.getResponseText()),f>0){let h=c.getResponseJson();Array.isArray(h)&&(h=h[0]);const p=h==null?void 0:h.error;if(p&&p.status&&p.message){const v=function(b){const w=b.toLowerCase().replace(/_/g,"-");return Object.values(me).indexOf(w)>=0?w:me.UNKNOWN}(p.status);o(new Ie(v,p.message))}else o(new Ie(me.UNKNOWN,"Server responded with status "+c.getStatus()))}else o(new Ie(me.UNAVAILABLE,"Connection failed."));break;default:lt()}}finally{ze(ti,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);ze(ti,`RPC '${e}' ${s} sending request:`,i),c.send(r,"POST",u,n,15)})}Bo(e,r,n){const i=iT(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=BW(),o=VW(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Oo(c.initMessageHeaders,r,n),c.encodeInitMessageHeaders=!0;const d=s.join("");ze(ti,`Creating RPC '${e}' stream ${i}: ${d}`,c);const f=a.createWebChannel(d,c);let h=!1,p=!1;const v=new Xve({Io:b=>{p?ze(ti,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(h||(ze(ti,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),ze(ti,`RPC '${e}' stream ${i} sending:`,b),f.send(b))},To:()=>f.close()}),m=(b,w,y)=>{b.listen(w,_=>{try{y(_)}catch(S){setTimeout(()=>{throw S},0)}})};return m(f,jg.EventType.OPEN,()=>{p||(ze(ti,`RPC '${e}' stream ${i} transport opened.`),v.yo())}),m(f,jg.EventType.CLOSE,()=>{p||(p=!0,ze(ti,`RPC '${e}' stream ${i} transport closed`),v.So())}),m(f,jg.EventType.ERROR,b=>{p||(p=!0,yp(ti,`RPC '${e}' stream ${i} transport errored:`,b),v.So(new Ie(me.UNAVAILABLE,"The operation could not be completed")))}),m(f,jg.EventType.MESSAGE,b=>{var w;if(!p){const y=b.data[0];nr(!!y);const _=y,S=_.error||((w=_[0])===null||w===void 0?void 0:w.error);if(S){ze(ti,`RPC '${e}' stream ${i} received error:`,S);const E=S.status;let N=function(A){const R=dn[A];if(R!==void 0)return h7(R)}(E),T=S.message;N===void 0&&(N=me.INTERNAL,T="Unknown error status: "+E+" with message "+S.message),p=!0,v.So(new Ie(N,T)),f.close()}else ze(ti,`RPC '${e}' stream ${i} received:`,y),v.bo(y)}}),m(o,FW.STAT_EVENT,b=>{b.stat===tA.PROXY?ze(ti,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===tA.NOPROXY&&ze(ti,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.wo()},0),v}}function sT(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SE(t){return new ove(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N7{constructor(e,r,n=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=r,this.ko=n,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const r=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),i=Math.max(0,r-n);i>0&&ze("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T7{constructor(e,r,n,i,s,a,o,c){this.ui=e,this.Ho=n,this.Jo=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new N7(e,r)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,r){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():r&&r.code===me.RESOURCE_EXHAUSTED?(Ul(r.toString()),Ul("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):r&&r.code===me.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(r)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.Yo===r&&this.P_(n,i)},n=>{e(()=>{const i=new Ie(me.UNKNOWN,"Fetching auth token failed: "+n.message);return this.I_(i)})})}P_(e,r){const n=this.h_(this.Yo);this.stream=this.T_(e,r),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{n(()=>this.I_(i))}),this.stream.onMessage(i=>{n(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return ze("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return r=>{this.ui.enqueueAndForget(()=>this.Yo===e?r():(ze("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Zve extends T7{constructor(e,r,n,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,a),this.serializer=s}T_(e,r){return this.connection.Bo("Listen",e,r)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const r=uve(this.serializer,e),n=function(s){if(!("targetChange"in s))return dt.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?dt.min():a.readTime?No(a.readTime):dt.min()}(e);return this.listener.d_(r,n)}A_(e){const r={};r.database=dA(this.serializer),r.addTarget=function(s,a){let o;const c=a.target;if(o=sA(c)?{documents:hve(s,c)}:{query:pve(s,c)._t},o.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){o.resumeToken=g7(s,a.resumeToken);const u=lA(s,a.expectedCount);u!==null&&(o.expectedCount=u)}else if(a.snapshotVersion.compareTo(dt.min())>0){o.readTime=r_(s,a.snapshotVersion.toTimestamp());const u=lA(s,a.expectedCount);u!==null&&(o.expectedCount=u)}return o}(this.serializer,e);const n=gve(this.serializer,e);n&&(r.labels=n),this.a_(r)}R_(e){const r={};r.database=dA(this.serializer),r.removeTarget=e,this.a_(r)}}class Jve extends T7{constructor(e,r,n,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,a),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,r){return this.connection.Bo("Write",e,r)}E_(e){return nr(!!e.streamToken),this.lastStreamToken=e.streamToken,nr(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){nr(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const r=fve(e.writeResults,e.commitTime),n=No(e.commitTime);return this.listener.g_(n,r)}p_(){const e={};e.database=dA(this.serializer),this.a_(e)}m_(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>dve(this.serializer,n))};this.a_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eye extends class{}{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Ie(me.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,r,n,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Mo(e,cA(r,n),i,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ie(me.UNKNOWN,s.toString())})}Lo(e,r,n,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Lo(e,cA(r,n),i,a,o,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ie(me.UNKNOWN,a.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class tye{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Ul(r),this.D_=!1):ze("OnlineStateTracker",r)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rye{constructor(e,r,n,i,s){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(a=>{n.enqueueAndForget(async()=>{Ef(this)&&(ze("RemoteStore","Restarting streams for network reachability change."),await async function(c){const u=ft(c);u.L_.add(4),await T0(u),u.q_.set("Unknown"),u.L_.delete(4),await NE(u)}(this))})}),this.q_=new tye(n,i)}}async function NE(t){if(Ef(t))for(const e of t.B_)await e(!0)}async function T0(t){for(const e of t.B_)await e(!1)}function j7(t,e){const r=ft(t);r.N_.has(e.targetId)||(r.N_.set(e.targetId,e),Vk(r)?Fk(r):vm(r).r_()&&$k(r,e))}function Lk(t,e){const r=ft(t),n=vm(r);r.N_.delete(e),n.r_()&&C7(r,e),r.N_.size===0&&(n.r_()?n.o_():Ef(r)&&r.q_.set("Unknown"))}function $k(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(dt.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}vm(t).A_(e)}function C7(t,e){t.Q_.xe(e),vm(t).R_(e)}function Fk(t){t.Q_=new nve({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),vm(t).start(),t.q_.v_()}function Vk(t){return Ef(t)&&!vm(t).n_()&&t.N_.size>0}function Ef(t){return ft(t).L_.size===0}function A7(t){t.Q_=void 0}async function nye(t){t.q_.set("Online")}async function iye(t){t.N_.forEach((e,r)=>{$k(t,e)})}async function sye(t,e){A7(t),Vk(t)?(t.q_.M_(e),Fk(t)):t.q_.set("Unknown")}async function aye(t,e,r){if(t.q_.set("Online"),e instanceof m7&&e.state===2&&e.cause)try{await async function(i,s){const a=s.cause;for(const o of s.targetIds)i.N_.has(o)&&(await i.remoteSyncer.rejectListen(o,a),i.N_.delete(o),i.Q_.removeTarget(o))}(t,e)}catch(n){ze("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await n_(t,n)}else if(e instanceof Xb?t.Q_.Ke(e):e instanceof p7?t.Q_.He(e):t.Q_.We(e),!r.isEqual(dt.min()))try{const n=await S7(t.localStore);r.compareTo(n)>=0&&await function(s,a){const o=s.Q_.rt(a);return o.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const d=s.N_.get(u);d&&s.N_.set(u,d.withResumeToken(c.resumeToken,a))}}),o.targetMismatches.forEach((c,u)=>{const d=s.N_.get(c);if(!d)return;s.N_.set(c,d.withResumeToken(Kn.EMPTY_BYTE_STRING,d.snapshotVersion)),C7(s,c);const f=new Vc(d.target,c,u,d.sequenceNumber);$k(s,f)}),s.remoteSyncer.applyRemoteEvent(o)}(t,r)}catch(n){ze("RemoteStore","Failed to raise snapshot:",n),await n_(t,n)}}async function n_(t,e,r){if(!E0(e))throw e;t.L_.add(1),await T0(t),t.q_.set("Offline"),r||(r=()=>S7(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ze("RemoteStore","Retrying IndexedDB access"),await r(),t.L_.delete(1),await NE(t)})}function P7(t,e){return e().catch(r=>n_(t,r,e))}async function TE(t){const e=ft(t),r=lu(e);let n=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;oye(e);)try{const i=await qve(e.localStore,n);if(i===null){e.O_.length===0&&r.o_();break}n=i.batchId,lye(e,i)}catch(i){await n_(e,i)}R7(e)&&k7(e)}function oye(t){return Ef(t)&&t.O_.length<10}function lye(t,e){t.O_.push(e);const r=lu(t);r.r_()&&r.V_&&r.m_(e.mutations)}function R7(t){return Ef(t)&&!lu(t).n_()&&t.O_.length>0}function k7(t){lu(t).start()}async function cye(t){lu(t).p_()}async function uye(t){const e=lu(t);for(const r of t.O_)e.m_(r.mutations)}async function dye(t,e,r){const n=t.O_.shift(),i=Rk.from(n,e,r);await P7(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await TE(t)}async function fye(t,e){e&&lu(t).V_&&await async function(n,i){if(function(a){return eve(a)&&a!==me.ABORTED}(i.code)){const s=n.O_.shift();lu(n).s_(),await P7(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,i)),await TE(n)}}(t,e),R7(t)&&k7(t)}async function V4(t,e){const r=ft(t);r.asyncQueue.verifyOperationInProgress(),ze("RemoteStore","RemoteStore received new credentials");const n=Ef(r);r.L_.add(3),await T0(r),n&&r.q_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.L_.delete(3),await NE(r)}async function hye(t,e){const r=ft(t);e?(r.L_.delete(2),await NE(r)):e||(r.L_.add(2),await T0(r),r.q_.set("Unknown"))}function vm(t){return t.K_||(t.K_=function(r,n,i){const s=ft(r);return s.w_(),new Zve(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:nye.bind(null,t),Ro:iye.bind(null,t),mo:sye.bind(null,t),d_:aye.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Vk(t)?Fk(t):t.q_.set("Unknown")):(await t.K_.stop(),A7(t))})),t.K_}function lu(t){return t.U_||(t.U_=function(r,n,i){const s=ft(r);return s.w_(),new Jve(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:cye.bind(null,t),mo:fye.bind(null,t),f_:uye.bind(null,t),g_:dye.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await TE(t)):(await t.U_.stop(),t.O_.length>0&&(ze("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(e,r,n,i,s){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=s,this.deferred=new El,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,s){const a=Date.now()+n,o=new Bk(e,r,a,i,s);return o.start(n),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ie(me.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Uk(t,e){if(Ul("AsyncQueue",`${e}: ${t}`),E0(t))return new Ie(me.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e){this.comparator=e?(r,n)=>e(r,n)||Ye.comparator(r.key,n.key):(r,n)=>Ye.comparator(r.key,n.key),this.keyedMap=Cg(),this.sortedSet=new Ur(this.comparator)}static emptySet(e){return new $h(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof $h)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,s=n.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new $h;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{constructor(){this.W_=new Ur(Ye.comparator)}track(e){const r=e.doc.key,n=this.W_.get(r);n?e.type!==0&&n.type===3?this.W_=this.W_.insert(r,e):e.type===3&&n.type!==1?this.W_=this.W_.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.W_=this.W_.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.W_=this.W_.remove(r):e.type===1&&n.type===2?this.W_=this.W_.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):lt():this.W_=this.W_.insert(r,e)}G_(){const e=[];return this.W_.inorderTraversal((r,n)=>{e.push(n)}),e}}class Sp{constructor(e,r,n,i,s,a,o,c,u){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,r,n,i,s){const a=[];return r.forEach(o=>{a.push({type:0,doc:o})}),new Sp(e,r,$h.emptySet(r),a,n,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yE(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pye{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class mye{constructor(){this.queries=U4(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(r,n){const i=ft(r),s=i.queries;i.queries=U4(),s.forEach((a,o)=>{for(const c of o.j_)c.onError(n)})})(this,new Ie(me.ABORTED,"Firestore shutting down"))}}function U4(){return new gm(t=>e7(t),yE)}async function zk(t,e){const r=ft(t);let n=3;const i=e.query;let s=r.queries.get(i);s?!s.H_()&&e.J_()&&(n=2):(s=new pye,n=e.J_()?0:1);try{switch(n){case 0:s.z_=await r.onListen(i,!0);break;case 1:s.z_=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(a){const o=Uk(a,`Initialization of query '${Xf(e.query)}' failed`);return void e.onError(o)}r.queries.set(i,s),s.j_.push(e),e.Z_(r.onlineState),s.z_&&e.X_(s.z_)&&Wk(r)}async function qk(t,e){const r=ft(t),n=e.query;let i=3;const s=r.queries.get(n);if(s){const a=s.j_.indexOf(e);a>=0&&(s.j_.splice(a,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function gye(t,e){const r=ft(t);let n=!1;for(const i of e){const s=i.query,a=r.queries.get(s);if(a){for(const o of a.j_)o.X_(i)&&(n=!0);a.z_=i}}n&&Wk(r)}function vye(t,e,r){const n=ft(t),i=n.queries.get(e);if(i)for(const s of i.j_)s.onError(r);n.queries.delete(e)}function Wk(t){t.Y_.forEach(e=>{e.next()})}var hA,z4;(z4=hA||(hA={})).ea="default",z4.Cache="cache";class Hk{constructor(e,r,n){this.query=e,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new Sp(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.na?this.ia(e)&&(this.ta.next(e),r=!0):this.sa(e,this.onlineState)&&(this.oa(e),r=!0),this.ra=e,r}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),r=!0),r}sa(e,r){if(!e.fromCache||!this.J_())return!0;const n=r!=="Offline";return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const r=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}oa(e){e=Sp.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==hA.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I7{constructor(e){this.key=e}}class O7{constructor(e){this.key=e}}class yye{constructor(e,r){this.query=e,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=At(),this.mutatedKeys=At(),this.Aa=t7(e),this.Ra=new $h(this.Aa)}get Va(){return this.Ta}ma(e,r){const n=r?r.fa:new B4,i=r?r.Ra:this.Ra;let s=r?r.mutatedKeys:this.mutatedKeys,a=i,o=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{const h=i.get(d),p=xE(this.query,f)?f:null,v=!!h&&this.mutatedKeys.has(h.key),m=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let b=!1;h&&p?h.data.isEqual(p.data)?v!==m&&(n.track({type:3,doc:p}),b=!0):this.ga(h,p)||(n.track({type:2,doc:p}),b=!0,(c&&this.Aa(p,c)>0||u&&this.Aa(p,u)<0)&&(o=!0)):!h&&p?(n.track({type:0,doc:p}),b=!0):h&&!p&&(n.track({type:1,doc:h}),b=!0,(c||u)&&(o=!0)),b&&(p?(a=a.add(p),s=m?s.add(d):s.delete(d)):(a=a.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const d=this.query.limitType==="F"?a.last():a.first();a=a.delete(d.key),s=s.delete(d.key),n.track({type:1,doc:d})}return{Ra:a,fa:n,ns:o,mutatedKeys:s}}ga(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const a=e.fa.G_();a.sort((d,f)=>function(p,v){const m=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return lt()}};return m(p)-m(v)}(d.type,f.type)||this.Aa(d.doc,f.doc)),this.pa(n),i=i!=null&&i;const o=r&&!i?this.ya():[],c=this.da.size===0&&this.current&&!i?1:0,u=c!==this.Ea;return this.Ea=c,a.length!==0||u?{snapshot:new Sp(this.query,e.Ra,s,a,e.mutatedKeys,c===0,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:o}:{wa:o}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new B4,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(r=>this.Ta=this.Ta.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ta=this.Ta.delete(r)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=At(),this.Ra.forEach(n=>{this.Sa(n.key)&&(this.da=this.da.add(n.key))});const r=[];return e.forEach(n=>{this.da.has(n)||r.push(new O7(n))}),this.da.forEach(n=>{e.has(n)||r.push(new I7(n))}),r}ba(e){this.Ta=e.Ts,this.da=At();const r=this.ma(e.documents);return this.applyChanges(r,!0)}Da(){return Sp.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class xye{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class bye{constructor(e){this.key=e,this.va=!1}}class wye{constructor(e,r,n,i,s,a){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new gm(o=>e7(o),yE),this.Ma=new Map,this.xa=new Set,this.Oa=new Ur(Ye.comparator),this.Na=new Map,this.La=new Ok,this.Ba={},this.ka=new Map,this.qa=Ep.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function _ye(t,e,r=!0){const n=V7(t);let i;const s=n.Fa.get(e);return s?(n.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await M7(n,e,r,!0),i}async function Eye(t,e){const r=V7(t);await M7(r,e,!0,!1)}async function M7(t,e,r,n){const i=await Wve(t.localStore,So(e)),s=i.targetId,a=t.sharedClientState.addLocalQueryTarget(s,r);let o;return n&&(o=await Sye(t,e,s,a==="current",i.resumeToken)),t.isPrimaryClient&&r&&j7(t.remoteStore,i),o}async function Sye(t,e,r,n,i){t.Ka=(f,h,p)=>async function(m,b,w,y){let _=b.view.ma(w);_.ns&&(_=await L4(m.localStore,b.query,!1).then(({documents:T})=>b.view.ma(T,_)));const S=y&&y.targetChanges.get(b.targetId),E=y&&y.targetMismatches.get(b.targetId)!=null,N=b.view.applyChanges(_,m.isPrimaryClient,S,E);return W4(m,b.targetId,N.wa),N.snapshot}(t,f,h,p);const s=await L4(t.localStore,e,!0),a=new yye(e,s.Ts),o=a.ma(s.documents),c=N0.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),u=a.applyChanges(o,t.isPrimaryClient,c);W4(t,r,u.wa);const d=new xye(e,r,a);return t.Fa.set(e,d),t.Ma.has(r)?t.Ma.get(r).push(e):t.Ma.set(r,[e]),u.snapshot}async function Nye(t,e,r){const n=ft(t),i=n.Fa.get(e),s=n.Ma.get(i.targetId);if(s.length>1)return n.Ma.set(i.targetId,s.filter(a=>!yE(a,e))),void n.Fa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await fA(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),r&&Lk(n.remoteStore,i.targetId),pA(n,i.targetId)}).catch(_0)):(pA(n,i.targetId),await fA(n.localStore,i.targetId,!0))}async function Tye(t,e){const r=ft(t),n=r.Fa.get(e),i=r.Ma.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),Lk(r.remoteStore,n.targetId))}async function jye(t,e,r){const n=Oye(t);try{const i=await function(a,o){const c=ft(a),u=Tt.now(),d=o.reduce((p,v)=>p.add(v.key),At());let f,h;return c.persistence.runTransaction("Locally write mutations","readwrite",p=>{let v=zl(),m=At();return c.cs.getEntries(p,d).next(b=>{v=b,v.forEach((w,y)=>{y.isValidDocument()||(m=m.add(w))})}).next(()=>c.localDocuments.getOverlayedDocuments(p,v)).next(b=>{f=b;const w=[];for(const y of o){const _=Yge(y,f.get(y.key).overlayedDocument);_!=null&&w.push(new Eu(y.key,_,HW(_.value.mapValue),ji.exists(!0)))}return c.mutationQueue.addMutationBatch(p,u,w,o)}).next(b=>{h=b;const w=b.applyToLocalDocumentSet(f,m);return c.documentOverlayCache.saveOverlays(p,b.batchId,w)})}).then(()=>({batchId:h.batchId,changes:n7(f)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(a,o,c){let u=a.Ba[a.currentUser.toKey()];u||(u=new Ur(Ut)),u=u.insert(o,c),a.Ba[a.currentUser.toKey()]=u}(n,i.batchId,r),await j0(n,i.changes),await TE(n.remoteStore)}catch(i){const s=Uk(i,"Failed to persist write");r.reject(s)}}async function D7(t,e){const r=ft(t);try{const n=await Uve(r.localStore,e);e.targetChanges.forEach((i,s)=>{const a=r.Na.get(s);a&&(nr(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.va=!0:i.modifiedDocuments.size>0?nr(a.va):i.removedDocuments.size>0&&(nr(a.va),a.va=!1))}),await j0(r,n,e)}catch(n){await _0(n)}}function q4(t,e,r){const n=ft(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Fa.forEach((s,a)=>{const o=a.view.Z_(e);o.snapshot&&i.push(o.snapshot)}),function(a,o){const c=ft(a);c.onlineState=o;let u=!1;c.queries.forEach((d,f)=>{for(const h of f.j_)h.Z_(o)&&(u=!0)}),u&&Wk(c)}(n.eventManager,e),i.length&&n.Ca.d_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function Cye(t,e,r){const n=ft(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Na.get(e),s=i&&i.key;if(s){let a=new Ur(Ye.comparator);a=a.insert(s,ai.newNoDocument(s,dt.min()));const o=At().add(s),c=new EE(dt.min(),new Map,new Ur(Ut),a,o);await D7(n,c),n.Oa=n.Oa.remove(s),n.Na.delete(e),Kk(n)}else await fA(n.localStore,e,!1).then(()=>pA(n,e,r)).catch(_0)}async function Aye(t,e){const r=ft(t),n=e.batch.batchId;try{const i=await Bve(r.localStore,e);$7(r,n,null),L7(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await j0(r,i)}catch(i){await _0(i)}}async function Pye(t,e,r){const n=ft(t);try{const i=await function(a,o){const c=ft(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,o).next(f=>(nr(f!==null),d=f.keys(),c.mutationQueue.removeMutationBatch(u,f))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,o)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(n.localStore,e);$7(n,e,r),L7(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await j0(n,i)}catch(i){await _0(i)}}function L7(t,e){(t.ka.get(e)||[]).forEach(r=>{r.resolve()}),t.ka.delete(e)}function $7(t,e,r){const n=ft(t);let i=n.Ba[n.currentUser.toKey()];if(i){const s=i.get(e);s&&(r?s.reject(r):s.resolve(),i=i.remove(e)),n.Ba[n.currentUser.toKey()]=i}}function pA(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Ma.get(e))t.Fa.delete(n),r&&t.Ca.$a(n,r);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(n=>{t.La.containsKey(n)||F7(t,n)})}function F7(t,e){t.xa.delete(e.path.canonicalString());const r=t.Oa.get(e);r!==null&&(Lk(t.remoteStore,r),t.Oa=t.Oa.remove(e),t.Na.delete(r),Kk(t))}function W4(t,e,r){for(const n of r)n instanceof I7?(t.La.addReference(n.key,e),Rye(t,n)):n instanceof O7?(ze("SyncEngine","Document no longer in limbo: "+n.key),t.La.removeReference(n.key,e),t.La.containsKey(n.key)||F7(t,n.key)):lt()}function Rye(t,e){const r=e.key,n=r.path.canonicalString();t.Oa.get(r)||t.xa.has(n)||(ze("SyncEngine","New document in limbo: "+r),t.xa.add(n),Kk(t))}function Kk(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const r=new Ye(Nr.fromString(e)),n=t.qa.next();t.Na.set(n,new bye(r)),t.Oa=t.Oa.insert(r,n),j7(t.remoteStore,new Vc(So(vE(r.path)),n,"TargetPurposeLimboResolution",Sk.oe))}}async function j0(t,e,r){const n=ft(t),i=[],s=[],a=[];n.Fa.isEmpty()||(n.Fa.forEach((o,c)=>{a.push(n.Ka(c,e,r).then(u=>{var d;if((u||r)&&n.isPrimaryClient){const f=u?!u.fromCache:(d=r==null?void 0:r.targetChanges.get(c.targetId))===null||d===void 0?void 0:d.current;n.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(u){i.push(u);const f=Dk.Wi(c.targetId,u);s.push(f)}}))}),await Promise.all(a),n.Ca.d_(i),await async function(c,u){const d=ft(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>ye.forEach(u,h=>ye.forEach(h.$i,p=>d.persistence.referenceDelegate.addReference(f,h.targetId,p)).next(()=>ye.forEach(h.Ui,p=>d.persistence.referenceDelegate.removeReference(f,h.targetId,p)))))}catch(f){if(!E0(f))throw f;ze("LocalStore","Failed to update sequence numbers: "+f)}for(const f of u){const h=f.targetId;if(!f.fromCache){const p=d.os.get(h),v=p.snapshotVersion,m=p.withLastLimboFreeSnapshotVersion(v);d.os=d.os.insert(h,m)}}}(n.localStore,s))}async function kye(t,e){const r=ft(t);if(!r.currentUser.isEqual(e)){ze("SyncEngine","User change. New user:",e.toKey());const n=await E7(r.localStore,e);r.currentUser=e,function(s,a){s.ka.forEach(o=>{o.forEach(c=>{c.reject(new Ie(me.CANCELLED,a))})}),s.ka.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await j0(r,n.hs)}}function Iye(t,e){const r=ft(t),n=r.Na.get(e);if(n&&n.va)return At().add(n.key);{let i=At();const s=r.Ma.get(e);if(!s)return i;for(const a of s){const o=r.Fa.get(a);i=i.unionWith(o.view.Va)}return i}}function V7(t){const e=ft(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=D7.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Iye.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Cye.bind(null,e),e.Ca.d_=gye.bind(null,e.eventManager),e.Ca.$a=vye.bind(null,e.eventManager),e}function Oye(t){const e=ft(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Aye.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Pye.bind(null,e),e}class i_{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=SE(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,r){return null}Ha(e,r){return null}za(e){return Vve(this.persistence,new $ve,e.initialUser,this.serializer)}Ga(e){return new Mve(Mk.Zr,this.serializer)}Wa(e){return new Kve}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}i_.provider={build:()=>new i_};class mA{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>q4(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=kye.bind(null,this.syncEngine),await hye(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new mye}()}createDatastore(e){const r=SE(e.databaseInfo.databaseId),n=function(s){return new Qve(s)}(e.databaseInfo);return function(s,a,o,c){return new eye(s,a,o,c)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,i,s,a,o){return new rye(n,i,s,a,o)}(this.localStore,this.datastore,e.asyncQueue,r=>q4(this.syncEngine,r,0),function(){return F4.D()?new F4:new Gve}())}createSyncEngine(e,r){return function(i,s,a,o,c,u,d){const f=new wye(i,s,a,o,c,u);return d&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(i){const s=ft(i);ze("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await T0(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}mA.provider={build:()=>new mA};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Ul("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mye{constructor(e,r,n,i,s){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=ii.UNAUTHENTICATED,this.clientId=zW.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(n,async a=>{ze("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(n,a=>(ze("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new El;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=Uk(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function aT(t,e){t.asyncQueue.verifyOperationInProgress(),ze("FirestoreClient","Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async i=>{n.isEqual(i)||(await E7(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function H4(t,e){t.asyncQueue.verifyOperationInProgress();const r=await Dye(t);ze("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>V4(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,i)=>V4(e.remoteStore,i)),t._onlineComponents=e}async function Dye(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ze("FirestoreClient","Using user provided OfflineComponentProvider");try{await aT(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(i){return i.name==="FirebaseError"?i.code===me.FAILED_PRECONDITION||i.code===me.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(r))throw r;yp("Error using user provided cache. Falling back to memory cache: "+r),await aT(t,new i_)}}else ze("FirestoreClient","Using default OfflineComponentProvider"),await aT(t,new i_);return t._offlineComponents}async function B7(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ze("FirestoreClient","Using user provided OnlineComponentProvider"),await H4(t,t._uninitializedComponentsProvider._online)):(ze("FirestoreClient","Using default OnlineComponentProvider"),await H4(t,new mA))),t._onlineComponents}function Lye(t){return B7(t).then(e=>e.syncEngine)}async function s_(t){const e=await B7(t),r=e.eventManager;return r.onListen=_ye.bind(null,e.syncEngine),r.onUnlisten=Nye.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=Eye.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=Tye.bind(null,e.syncEngine),r}function $ye(t,e,r={}){const n=new El;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,o,c,u){const d=new Gk({next:h=>{d.Za(),a.enqueueAndForget(()=>qk(s,f));const p=h.docs.has(o);!p&&h.fromCache?u.reject(new Ie(me.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&h.fromCache&&c&&c.source==="server"?u.reject(new Ie(me.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new Hk(vE(o.path),d,{includeMetadataChanges:!0,_a:!0});return zk(s,f)}(await s_(t),t.asyncQueue,e,r,n)),n.promise}function Fye(t,e,r={}){const n=new El;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,o,c,u){const d=new Gk({next:h=>{d.Za(),a.enqueueAndForget(()=>qk(s,f)),h.fromCache&&c.source==="server"?u.reject(new Ie(me.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new Hk(o,d,{includeMetadataChanges:!0,_a:!0});return zk(s,f)}(await s_(t),t.asyncQueue,e,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U7(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K4=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z7(t,e,r){if(!r)throw new Ie(me.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Vye(t,e,r,n){if(e===!0&&n===!0)throw new Ie(me.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function G4(t){if(!Ye.isDocumentKey(t))throw new Ie(me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Y4(t){if(Ye.isDocumentKey(t))throw new Ie(me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function jE(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":lt()}function Ci(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ie(me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=jE(t);throw new Ie(me.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new Ie(me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(r=e.ssl)===null||r===void 0||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Ie(me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Vye("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=U7((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Ie(me.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Ie(me.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Ie(me.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class CE{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new X4({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ie(me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ie(me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new X4(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new ige;switch(n.type){case"firstParty":return new lge(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Ie(me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=K4.get(r);n&&(ze("ComponentProvider","Removing Datastore"),K4.delete(r),n.terminate())}(this),Promise.resolve()}}function Bye(t,e,r,n={}){var i;const s=(t=Ci(t,CE))._getSettings(),a=`${e}:${r}`;if(s.host!=="firestore.googleapis.com"&&s.host!==a&&yp("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),n.mockUserToken){let o,c;if(typeof n.mockUserToken=="string")o=n.mockUserToken,c=ii.MOCK_USER;else{o=Jq(n.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=n.mockUserToken.sub||n.mockUserToken.user_id;if(!u)throw new Ie(me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new ii(u)}t._authCredentials=new sge(new UW(o,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Su(this.firestore,e,this._query)}}class li{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new li(this.firestore,e,this._key)}}class Qc extends Su{constructor(e,r,n){super(e,r,vE(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new li(this.firestore,null,new Ye(e))}withConverter(e){return new Qc(this.firestore,e,this._path)}}function on(t,e,...r){if(t=hr(t),z7("collection","path",e),t instanceof CE){const n=Nr.fromString(e,...r);return Y4(n),new Qc(t,null,n)}{if(!(t instanceof li||t instanceof Qc))throw new Ie(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Nr.fromString(e,...r));return Y4(n),new Qc(t.firestore,null,n)}}function bt(t,e,...r){if(t=hr(t),arguments.length===1&&(e=zW.newId()),z7("doc","path",e),t instanceof CE){const n=Nr.fromString(e,...r);return G4(n),new li(t,null,new Ye(n))}{if(!(t instanceof li||t instanceof Qc))throw new Ie(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Nr.fromString(e,...r));return G4(n),new li(t.firestore,t instanceof Qc?t.converter:null,new Ye(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new N7(this,"async_queue_retry"),this.Vu=()=>{const n=sT();n&&ze("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()},this.mu=e;const r=sT();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const r=sT();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const r=new El;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!E0(e))throw e;ze("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const r=this.mu.then(()=>(this.du=!0,e().catch(n=>{this.Eu=n,this.du=!1;const i=function(a){let o=a.message||"";return a.stack&&(o=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),o}(n);throw Ul("INTERNAL UNHANDLED ERROR: ",i),n}).then(n=>(this.du=!1,n))));return this.mu=r,r}enqueueAfterDelay(e,r,n){this.fu(),this.Ru.indexOf(e)>-1&&(r=0);const i=Bk.createAndSchedule(this,e,r,n,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&lt()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const r of this.Tu)if(r.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.Tu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const r=this.Tu.indexOf(e);this.Tu.splice(r,1)}}function Z4(t){return function(r,n){if(typeof r!="object"||r===null)return!1;const i=r;for(const s of n)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class Lo extends CE{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new Q4,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Q4(e),this._firestoreClient=void 0,await e}}}function Uye(t,e){const r=typeof t=="object"?t:fk(),n=typeof t=="string"?t:"(default)",i=fE(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const s=Xq("firestore");s&&Bye(i,...s)}return i}function C0(t){if(t._terminated)throw new Ie(me.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||zye(t),t._firestoreClient}function zye(t){var e,r,n;const i=t._freezeSettings(),s=function(o,c,u,d){return new wge(o,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,U7(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((r=i.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new Mye(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(o){const c=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Np(Kn.fromBase64String(e))}catch(r){throw new Ie(me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Np(Kn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new Ie(me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Ie(me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Ie(me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ut(this._lat,e._lat)||Ut(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let s=0;s<n.length;++s)if(n[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qye=/^__.*__$/;class Wye{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new Eu(e,this.data,this.fieldMask,r,this.fieldTransforms):new S0(e,this.data,r,this.fieldTransforms)}}class q7{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new Eu(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function W7(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw lt()}}class AE{constructor(e,r,n,i,s,a){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new AE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Fu({path:n,xu:!1});return i.Ou(e),i}Nu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Fu({path:n,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return a_(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(W7(this.Cu)&&qye.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class Hye{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||SE(e)}Qu(e,r,n,i=!1){return new AE({Cu:e,methodName:r,qu:n,path:Bn.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function R0(t){const e=t._freezeSettings(),r=SE(t._databaseId);return new Hye(t._databaseId,!!e.ignoreUndefinedProperties,r)}function Qk(t,e,r,n,i,s={}){const a=t.Qu(s.merge||s.mergeFields?2:0,e,r,i);eI("Data must be an object, but it was:",a,n);const o=G7(n,a);let c,u;if(s.merge)c=new gs(a.fieldMask),u=a.fieldTransforms;else if(s.mergeFields){const d=[];for(const f of s.mergeFields){const h=gA(e,f,r);if(!a.contains(h))throw new Ie(me.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);X7(d,h)||d.push(h)}c=new gs(d),u=a.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,u=a.fieldTransforms;return new Wye(new Ui(o),c,u)}class PE extends P0{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof PE}}function Kye(t,e,r){return new AE({Cu:3,qu:e.settings.qu,methodName:t._methodName,xu:r},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Zk extends P0{_toFieldTransform(e){return new u7(e.path,new Gv)}isEqual(e){return e instanceof Zk}}class Jk extends P0{constructor(e,r){super(e),this.Ku=r}_toFieldTransform(e){const r=Kye(this,e,!0),n=this.Ku.map(s=>ym(s,r)),i=new _p(n);return new u7(e.path,i)}isEqual(e){return e instanceof Jk&&Vv(this.Ku,e.Ku)}}function H7(t,e,r,n){const i=t.Qu(1,e,r);eI("Data must be an object, but it was:",i,n);const s=[],a=Ui.empty();_f(n,(c,u)=>{const d=tI(e,c,r);u=hr(u);const f=i.Nu(d);if(u instanceof PE)s.push(d);else{const h=ym(u,f);h!=null&&(s.push(d),a.set(d,h))}});const o=new gs(s);return new q7(a,o,i.fieldTransforms)}function K7(t,e,r,n,i,s){const a=t.Qu(1,e,r),o=[gA(e,n,r)],c=[i];if(s.length%2!=0)throw new Ie(me.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)o.push(gA(e,s[h])),c.push(s[h+1]);const u=[],d=Ui.empty();for(let h=o.length-1;h>=0;--h)if(!X7(u,o[h])){const p=o[h];let v=c[h];v=hr(v);const m=a.Nu(p);if(v instanceof PE)u.push(p);else{const b=ym(v,m);b!=null&&(u.push(p),d.set(p,b))}}const f=new gs(u);return new q7(d,f,a.fieldTransforms)}function Gye(t,e,r,n=!1){return ym(r,t.Qu(n?4:3,e))}function ym(t,e){if(Y7(t=hr(t)))return eI("Unsupported field value:",e,t),G7(t,e);if(t instanceof P0)return function(n,i){if(!W7(i.Cu))throw i.Bu(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(n,i){const s=[];let a=0;for(const o of n){let c=ym(o,i.Lu(a));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),a++}return{arrayValue:{values:s}}}(t,e)}return function(n,i){if((n=hr(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return zge(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=Tt.fromDate(n);return{timestampValue:r_(i.serializer,s)}}if(n instanceof Tt){const s=new Tt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:r_(i.serializer,s)}}if(n instanceof Yk)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Np)return{bytesValue:g7(i.serializer,n._byteString)};if(n instanceof li){const s=i.databaseId,a=n.firestore._databaseId;if(!a.isEqual(s))throw i.Bu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Ik(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof Xk)return function(a,o){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(c=>{if(typeof c!="number")throw o.Bu("VectorValues must only contain numeric values.");return Pk(o.serializer,c)})}}}}}}(n,i);throw i.Bu(`Unsupported field value: ${jE(n)}`)}(t,e)}function G7(t,e){const r={};return qW(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_f(t,(n,i)=>{const s=ym(i,e.Mu(n));s!=null&&(r[n]=s)}),{mapValue:{fields:r}}}function Y7(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Tt||t instanceof Yk||t instanceof Np||t instanceof li||t instanceof P0||t instanceof Xk)}function eI(t,e,r){if(!Y7(r)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(r)){const n=jE(r);throw n==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+n)}}function gA(t,e,r){if((e=hr(e))instanceof A0)return e._internalPath;if(typeof e=="string")return tI(t,e);throw a_("Field path arguments must be of type string or ",t,!1,void 0,r)}const Yye=new RegExp("[~\\*/\\[\\]]");function tI(t,e,r){if(e.search(Yye)>=0)throw a_(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new A0(...e.split("."))._internalPath}catch{throw a_(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function a_(t,e,r,n,i){const s=n&&!n.isEmpty(),a=i!==void 0;let o=`Function ${e}() called with invalid data`;r&&(o+=" (via `toFirestore()`)"),o+=". ";let c="";return(s||a)&&(c+=" (found",s&&(c+=` in field ${n}`),a&&(c+=` in document ${i}`),c+=")"),new Ie(me.INVALID_ARGUMENT,o+t+c)}function X7(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q7{constructor(e,r,n,i,s){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new li(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Xye(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(RE("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class Xye extends Q7{data(){return super.data()}}function RE(t,e){return typeof e=="string"?tI(t,e):e instanceof A0?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z7(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ie(me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class rI{}class J7 extends rI{}function $a(t,e,...r){let n=[];e instanceof rI&&n.push(e),n=n.concat(r),function(s){const a=s.filter(c=>c instanceof I0).length,o=s.filter(c=>c instanceof k0).length;if(a>1||a>0&&o>0)throw new Ie(me.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)t=i._apply(t);return t}class k0 extends J7{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new k0(e,r,n)}_apply(e){const r=this._parse(e);return eH(e._query,r),new Su(e.firestore,e.converter,aA(e._query,r))}_parse(e){const r=R0(e.firestore);return function(s,a,o,c,u,d,f){let h;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new Ie(me.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){eF(f,d);const p=[];for(const v of f)p.push(J4(c,s,v));h={arrayValue:{values:p}}}else h=J4(c,s,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||eF(f,d),h=Gye(o,a,f,d==="in"||d==="not-in");return pn.create(u,d,h)}(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function vs(t,e,r){const n=e,i=RE("where",t);return k0._create(i,n,r)}class I0 extends rI{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new I0(e,r)}_parse(e){const r=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:La.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:(function(i,s){let a=i;const o=s.getFlattenedFilters();for(const c of o)eH(a,c),a=aA(a,c)}(e._query,r),new Su(e.firestore,e.converter,aA(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Qye(...t){return t.forEach(e=>Zye("or",e)),I0._create("or",t)}class nI extends J7{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new nI(e,r)}_apply(e){const r=function(i,s,a){if(i.startAt!==null)throw new Ie(me.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Ie(me.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Kv(s,a)}(e._query,this._field,this._direction);return new Su(e.firestore,e.converter,function(i,s){const a=i.explicitOrderBy.concat([s]);return new mm(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}function o_(t,e="asc"){const r=e,n=RE("orderBy",t);return nI._create(n,r)}function J4(t,e,r){if(typeof(r=hr(r))=="string"){if(r==="")throw new Ie(me.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!JW(e)&&r.indexOf("/")!==-1)throw new Ie(me.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(Nr.fromString(r));if(!Ye.isDocumentKey(n))throw new Ie(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return b4(t,new Ye(n))}if(r instanceof li)return b4(t,r._key);throw new Ie(me.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${jE(r)}.`)}function eF(t,e){if(!Array.isArray(t)||t.length===0)throw new Ie(me.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function eH(t,e){const r=function(i,s){for(const a of i)for(const o of a.getFlattenedFilters())if(s.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(r!==null)throw r===e.op?new Ie(me.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ie(me.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}function Zye(t,e){if(!(e instanceof k0||e instanceof I0))throw new Ie(me.INVALID_ARGUMENT,`Function ${t}() requires AppliableConstraints created with a call to 'where(...)', 'or(...)', or 'and(...)'.`)}class Jye{convertValue(e,r="none"){switch(tf(e)){case 0:return null;case 1:return e.booleanValue;case 2:return en(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(ef(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw lt()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return _f(e,(i,s)=>{n[i]=this.convertValue(s,r)}),n}convertVectorValue(e){var r,n,i;const s=(i=(n=(r=e.fields)===null||r===void 0?void 0:r.value.arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map(a=>en(a.doubleValue));return new Xk(s)}convertGeoPoint(e){return new Yk(en(e.latitude),en(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=Tk(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(qv(e));default:return null}}convertTimestamp(e){const r=ou(e);return new Tt(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=Nr.fromString(e);nr(_7(n));const i=new Wv(n.get(1),n.get(3)),s=new Ye(n.popFirst(5));return i.isEqual(r)||Ul(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iI(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class tH extends Q7{constructor(e,r,n,i,s,a){super(e,r,n,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new Qb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(RE("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class Qb extends tH{data(e={}){return super.data(e)}}class rH{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new Pg(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new Qb(this._firestore,this._userDataWriter,n.key,n,new Pg(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Ie(me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(o=>{const c=new Qb(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Pg(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>s||o.type!==3).map(o=>{const c=new Qb(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Pg(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return o.type!==0&&(u=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),d=a.indexOf(o.doc.key)),{type:e0e(o.type),doc:c,oldIndex:u,newIndex:d}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function e0e(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return lt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zs(t){t=Ci(t,li);const e=Ci(t.firestore,Lo);return $ye(C0(e),t._key).then(r=>nH(e,t,r))}class sI extends Jye{constructor(e){super(),this.firestore=e}convertBytes(e){return new Np(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new li(this.firestore,null,r)}}function ea(t){t=Ci(t,Su);const e=Ci(t.firestore,Lo),r=C0(e),n=new sI(e);return Z7(t._query),Fye(r,t._query).then(i=>new rH(e,n,t,i))}function vA(t,e,r){t=Ci(t,li);const n=Ci(t.firestore,Lo),i=iI(t.converter,e,r);return O0(n,[Qk(R0(n),"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,ji.none())])}function Rn(t,e,r,...n){t=Ci(t,li);const i=Ci(t.firestore,Lo),s=R0(i);let a;return a=typeof(e=hr(e))=="string"||e instanceof A0?K7(s,"updateDoc",t._key,e,r,n):H7(s,"updateDoc",t._key,e),O0(i,[a.toMutation(t._key,ji.exists(!0))])}function Sf(t){return O0(Ci(t.firestore,Lo),[new _E(t._key,ji.none())])}function cu(t,e){const r=Ci(t.firestore,Lo),n=bt(t),i=iI(t.converter,e);return O0(r,[Qk(R0(t.firestore),"addDoc",n._key,i,t.converter!==null,{}).toMutation(n._key,ji.exists(!1))]).then(()=>n)}function aI(t,...e){var r,n,i;t=hr(t);let s={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||Z4(e[a])||(s=e[a],a++);const o={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(Z4(e[a])){const f=e[a];e[a]=(r=f.next)===null||r===void 0?void 0:r.bind(f),e[a+1]=(n=f.error)===null||n===void 0?void 0:n.bind(f),e[a+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let c,u,d;if(t instanceof li)u=Ci(t.firestore,Lo),d=vE(t._key.path),c={next:f=>{e[a]&&e[a](nH(u,t,f))},error:e[a+1],complete:e[a+2]};else{const f=Ci(t,Su);u=Ci(f.firestore,Lo),d=f._query;const h=new sI(u);c={next:p=>{e[a]&&e[a](new rH(u,h,f,p))},error:e[a+1],complete:e[a+2]},Z7(t._query)}return function(h,p,v,m){const b=new Gk(m),w=new Hk(p,b,v);return h.asyncQueue.enqueueAndForget(async()=>zk(await s_(h),w)),()=>{b.Za(),h.asyncQueue.enqueueAndForget(async()=>qk(await s_(h),w))}}(C0(u),d,o,c)}function O0(t,e){return function(n,i){const s=new El;return n.asyncQueue.enqueueAndForget(async()=>jye(await Lye(n),i,s)),s.promise}(C0(t),e)}function nH(t,e,r){const n=r.docs.get(e._key),i=new sI(t);return new tH(t,i,e._key,n,new Pg(r.hasPendingWrites,r.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0e{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=R0(e)}set(e,r,n){this._verifyNotCommitted();const i=oT(e,this._firestore),s=iI(i.converter,r,n),a=Qk(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,n);return this._mutations.push(a.toMutation(i._key,ji.none())),this}update(e,r,n,...i){this._verifyNotCommitted();const s=oT(e,this._firestore);let a;return a=typeof(r=hr(r))=="string"||r instanceof A0?K7(this._dataReader,"WriteBatch.update",s._key,r,n,i):H7(this._dataReader,"WriteBatch.update",s._key,r),this._mutations.push(a.toMutation(s._key,ji.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=oT(e,this._firestore);return this._mutations=this._mutations.concat(new _E(r._key,ji.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ie(me.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function oT(t,e){if((t=hr(t)).firestore!==e)throw new Ie(me.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function r0e(){return new Zk("serverTimestamp")}function Xv(...t){return new Jk("arrayUnion",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kE(t){return C0(t=Ci(t,Lo)),new t0e(t,e=>O0(t,e))}(function(e,r=!0){(function(i){pm=i})(wf),Qd(new su("firestore",(n,{instanceIdentifier:i,options:s})=>{const a=n.getProvider("app").getImmediate(),o=new Lo(new age(n.getProvider("auth-internal")),new uge(n.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Ie(me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wv(u.options.projectId,d)}(a,i),a);return s=Object.assign({useFetchStreams:r},s),o._setSettings(s),o},"PUBLIC").setMultipleInstances(!0)),_o(m4,"4.7.3",e),_o(m4,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iH="firebasestorage.googleapis.com",sH="storageBucket",n0e=2*60*1e3,i0e=10*60*1e3,s0e=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr extends zo{constructor(e,r,n=0){super(lT(e),`Firebase Storage: ${r} (${lT(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,qr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return lT(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Cr;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Cr||(Cr={}));function lT(t){return"storage/"+t}function oI(){const t="An unknown error occurred, please check the error payload for server response.";return new qr(Cr.UNKNOWN,t)}function a0e(t){return new qr(Cr.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function o0e(t){return new qr(Cr.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function l0e(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new qr(Cr.UNAUTHENTICATED,t)}function c0e(){return new qr(Cr.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function u0e(t){return new qr(Cr.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function aH(){return new qr(Cr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function oH(){return new qr(Cr.CANCELED,"User canceled the upload/download.")}function d0e(t){return new qr(Cr.INVALID_URL,"Invalid URL '"+t+"'.")}function f0e(t){return new qr(Cr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function h0e(){return new qr(Cr.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+sH+"' property when initializing the app?")}function lH(){return new qr(Cr.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function p0e(){return new qr(Cr.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function m0e(){return new qr(Cr.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function g0e(t){return new qr(Cr.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function yA(t){return new qr(Cr.INVALID_ARGUMENT,t)}function cH(){return new qr(Cr.APP_DELETED,"The Firebase app was deleted.")}function v0e(t){return new qr(Cr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function rv(t,e){return new qr(Cr.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function sg(t){throw new qr(Cr.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(e,r){this.bucket=e,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,r){let n;try{n=Ei.makeFromUrl(e,r)}catch{return new Ei(e,"")}if(n.path==="")return n;throw f0e(e)}static makeFromUrl(e,r){let n=null;const i="([A-Za-z0-9.\\-_]+)";function s(S){S.path.charAt(S.path.length-1)==="/"&&(S.path_=S.path_.slice(0,-1))}const a="(/(.*))?$",o=new RegExp("^gs://"+i+a,"i"),c={bucket:1,path:3};function u(S){S.path_=decodeURIComponent(S.path)}const d="v[A-Za-z0-9_]+",f=r.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",p=new RegExp(`^https?://${f}/${d}/b/${i}/o${h}`,"i"),v={bucket:1,path:3},m=r===iH?"(?:storage.googleapis.com|storage.cloud.google.com)":r,b="([^?#]*)",w=new RegExp(`^https?://${m}/${i}/${b}`,"i"),_=[{regex:o,indices:c,postModify:s},{regex:p,indices:v,postModify:u},{regex:w,indices:{bucket:1,path:2},postModify:u}];for(let S=0;S<_.length;S++){const E=_[S],N=E.regex.exec(e);if(N){const T=N[E.indices.bucket];let j=N[E.indices.path];j||(j=""),n=new Ei(T,j),E.postModify(n);break}}if(n==null)throw d0e(e);return n}}class y0e{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x0e(t,e,r){let n=1,i=null,s=null,a=!1,o=0;function c(){return o===2}let u=!1;function d(...b){u||(u=!0,e.apply(null,b))}function f(b){i=setTimeout(()=>{i=null,t(p,c())},b)}function h(){s&&clearTimeout(s)}function p(b,...w){if(u){h();return}if(b){h(),d.call(null,b,...w);return}if(c()||a){h(),d.call(null,b,...w);return}n<64&&(n*=2);let _;o===1?(o=2,_=0):_=(n+Math.random())*1e3,f(_)}let v=!1;function m(b){v||(v=!0,h(),!u&&(i!==null?(b||(o=2),clearTimeout(i),f(0)):b||(o=1)))}return f(0),s=setTimeout(()=>{a=!0,m(!0)},r),m}function b0e(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w0e(t){return t!==void 0}function _0e(t){return typeof t=="function"}function E0e(t){return typeof t=="object"&&!Array.isArray(t)}function IE(t){return typeof t=="string"||t instanceof String}function tF(t){return lI()&&t instanceof Blob}function lI(){return typeof Blob<"u"}function xA(t,e,r,n){if(n<e)throw yA(`Invalid value for '${t}'. Expected ${e} or greater.`);if(n>r)throw yA(`Invalid value for '${t}'. Expected ${r} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nf(t,e,r){let n=e;return r==null&&(n=`https://${e}`),`${r}://${n}/v0${t}`}function uH(t){const e=encodeURIComponent;let r="?";for(const n in t)if(t.hasOwnProperty(n)){const i=e(n)+"="+e(t[n]);r=r+i+"&"}return r=r.slice(0,-1),r}var Dd;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Dd||(Dd={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dH(t,e){const r=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return r||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0e{constructor(e,r,n,i,s,a,o,c,u,d,f,h=!0){this.url_=e,this.method_=r,this.headers_=n,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=a,this.callback_=o,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=f,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,v)=>{this.resolve_=p,this.reject_=v,this.start_()})}start_(){const e=(n,i)=>{if(i){n(!1,new Zx(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const a=o=>{const c=o.loaded,u=o.lengthComputable?o.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&s.addUploadProgressListener(a),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(a),this.pendingConnection_=null;const o=s.getErrorCode()===Dd.NO_ERROR,c=s.getStatus();if(!o||dH(c,this.additionalRetryCodes_)&&this.retry){const d=s.getErrorCode()===Dd.ABORT;n(!1,new Zx(!1,null,d));return}const u=this.successCodes_.indexOf(c)!==-1;n(!0,new Zx(u,s))})},r=(n,i)=>{const s=this.resolve_,a=this.reject_,o=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(o,o.getResponse());w0e(c)?s(c):s()}catch(c){a(c)}else if(o!==null){const c=oI();c.serverResponse=o.getErrorText(),this.errorCallback_?a(this.errorCallback_(o,c)):a(c)}else if(i.canceled){const c=this.appDelete_?cH():oH();a(c)}else{const c=aH();a(c)}};this.canceled_?r(!1,new Zx(!1,null,!0)):this.backoffId_=x0e(e,r,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&b0e(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Zx{constructor(e,r,n){this.wasSuccessCode=e,this.connection=r,this.canceled=!!n}}function N0e(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function T0e(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function j0e(t,e){e&&(t["X-Firebase-GMPID"]=e)}function C0e(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function A0e(t,e,r,n,i,s,a=!0){const o=uH(t.urlParams),c=t.url+o,u=Object.assign({},t.headers);return j0e(u,e),N0e(u,r),T0e(u,s),C0e(u,n),new S0e(c,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P0e(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function R0e(...t){const e=P0e();if(e!==void 0){const r=new e;for(let n=0;n<t.length;n++)r.append(t[n]);return r.getBlob()}else{if(lI())return new Blob(t);throw new qr(Cr.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function k0e(t,e,r){return t.webkitSlice?t.webkitSlice(e,r):t.mozSlice?t.mozSlice(e,r):t.slice?t.slice(e,r):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I0e(t){if(typeof atob>"u")throw g0e("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fo={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class cT{constructor(e,r){this.data=e,this.contentType=r||null}}function O0e(t,e){switch(t){case fo.RAW:return new cT(fH(e));case fo.BASE64:case fo.BASE64URL:return new cT(hH(t,e));case fo.DATA_URL:return new cT(D0e(e),L0e(e))}throw oI()}function fH(t){const e=[];for(let r=0;r<t.length;r++){let n=t.charCodeAt(r);if(n<=127)e.push(n);else if(n<=2047)e.push(192|n>>6,128|n&63);else if((n&64512)===55296)if(!(r<t.length-1&&(t.charCodeAt(r+1)&64512)===56320))e.push(239,191,189);else{const s=n,a=t.charCodeAt(++r);n=65536|(s&1023)<<10|a&1023,e.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|n&63)}else(n&64512)===56320?e.push(239,191,189):e.push(224|n>>12,128|n>>6&63,128|n&63)}return new Uint8Array(e)}function M0e(t){let e;try{e=decodeURIComponent(t)}catch{throw rv(fo.DATA_URL,"Malformed data URL.")}return fH(e)}function hH(t,e){switch(t){case fo.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw rv(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case fo.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw rv(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let r;try{r=I0e(e)}catch(i){throw i.message.includes("polyfill")?i:rv(t,"Invalid character found")}const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}class pH{constructor(e){this.base64=!1,this.contentType=null;const r=e.match(/^data:([^,]+)?,/);if(r===null)throw rv(fo.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=r[1]||null;n!=null&&(this.base64=$0e(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}function D0e(t){const e=new pH(t);return e.base64?hH(fo.BASE64,e.rest):M0e(e.rest)}function L0e(t){return new pH(t).contentType}function $0e(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(e,r){let n=0,i="";tF(e)?(this.data_=e,n=e.size,i=e.type):e instanceof ArrayBuffer?(r?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(r?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,r){if(tF(this.data_)){const n=this.data_,i=k0e(n,e,r);return i===null?null:new ul(i)}else{const n=new Uint8Array(this.data_.buffer,e,r-e);return new ul(n,!0)}}static getBlob(...e){if(lI()){const r=e.map(n=>n instanceof ul?n.data_:n);return new ul(R0e.apply(null,r))}else{const r=e.map(a=>IE(a)?O0e(fo.RAW,a).data:a.data_);let n=0;r.forEach(a=>{n+=a.byteLength});const i=new Uint8Array(n);let s=0;return r.forEach(a=>{for(let o=0;o<a.length;o++)i[s++]=a[o]}),new ul(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cI(t){let e;try{e=JSON.parse(t)}catch{return null}return E0e(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F0e(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function V0e(t,e){const r=e.split("/").filter(n=>n.length>0).join("/");return t.length===0?r:t+"/"+r}function mH(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B0e(t,e){return e}class mi{constructor(e,r,n,i){this.server=e,this.local=r||e,this.writable=!!n,this.xform=i||B0e}}let Jx=null;function U0e(t){return!IE(t)||t.length<2?t:mH(t)}function uI(){if(Jx)return Jx;const t=[];t.push(new mi("bucket")),t.push(new mi("generation")),t.push(new mi("metageneration")),t.push(new mi("name","fullPath",!0));function e(s,a){return U0e(a)}const r=new mi("name");r.xform=e,t.push(r);function n(s,a){return a!==void 0?Number(a):a}const i=new mi("size");return i.xform=n,t.push(i),t.push(new mi("timeCreated")),t.push(new mi("updated")),t.push(new mi("md5Hash",null,!0)),t.push(new mi("cacheControl",null,!0)),t.push(new mi("contentDisposition",null,!0)),t.push(new mi("contentEncoding",null,!0)),t.push(new mi("contentLanguage",null,!0)),t.push(new mi("contentType",null,!0)),t.push(new mi("metadata","customMetadata",!0)),Jx=t,Jx}function z0e(t,e){function r(){const n=t.bucket,i=t.fullPath,s=new Ei(n,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:r})}function q0e(t,e,r){const n={};n.type="file";const i=r.length;for(let s=0;s<i;s++){const a=r[s];n[a.local]=a.xform(n,e[a.server])}return z0e(n,t),n}function gH(t,e,r){const n=cI(e);return n===null?null:q0e(t,n,r)}function W0e(t,e,r,n){const i=cI(e);if(i===null||!IE(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const a=encodeURIComponent;return s.split(",").map(u=>{const d=t.bucket,f=t.fullPath,h="/b/"+a(d)+"/o/"+a(f),p=Nf(h,r,n),v=uH({alt:"media",token:u});return p+v})[0]}function vH(t,e){const r={},n=e.length;for(let i=0;i<n;i++){const s=e[i];s.writable&&(r[s.server]=t[s.local])}return JSON.stringify(r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rF="prefixes",nF="items";function H0e(t,e,r){const n={prefixes:[],items:[],nextPageToken:r.nextPageToken};if(r[rF])for(const i of r[rF]){const s=i.replace(/\/$/,""),a=t._makeStorageReference(new Ei(e,s));n.prefixes.push(a)}if(r[nF])for(const i of r[nF]){const s=t._makeStorageReference(new Ei(e,i.name));n.items.push(s)}return n}function K0e(t,e,r){const n=cI(r);return n===null?null:H0e(t,e,n)}class Nu{constructor(e,r,n,i){this.url=e,this.method=r,this.handler=n,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function To(t){if(!t)throw oI()}function dI(t,e){function r(n,i){const s=gH(t,i,e);return To(s!==null),s}return r}function G0e(t,e){function r(n,i){const s=K0e(t,e,i);return To(s!==null),s}return r}function Y0e(t,e){function r(n,i){const s=gH(t,i,e);return To(s!==null),W0e(s,i,t.host,t._protocol)}return r}function xm(t){function e(r,n){let i;return r.getStatus()===401?r.getErrorText().includes("Firebase App Check token is invalid")?i=c0e():i=l0e():r.getStatus()===402?i=o0e(t.bucket):r.getStatus()===403?i=u0e(t.path):i=n,i.status=r.getStatus(),i.serverResponse=n.serverResponse,i}return e}function fI(t){const e=xm(t);function r(n,i){let s=e(n,i);return n.getStatus()===404&&(s=a0e(t.path)),s.serverResponse=i.serverResponse,s}return r}function X0e(t,e,r){const n=e.fullServerUrl(),i=Nf(n,t.host,t._protocol),s="GET",a=t.maxOperationRetryTime,o=new Nu(i,s,dI(t,r),a);return o.errorHandler=fI(e),o}function Q0e(t,e,r,n,i){const s={};e.isRoot?s.prefix="":s.prefix=e.path+"/",r.length>0&&(s.delimiter=r),n&&(s.pageToken=n),i&&(s.maxResults=i);const a=e.bucketOnlyServerUrl(),o=Nf(a,t.host,t._protocol),c="GET",u=t.maxOperationRetryTime,d=new Nu(o,c,G0e(t,e.bucket),u);return d.urlParams=s,d.errorHandler=xm(e),d}function Z0e(t,e,r){const n=e.fullServerUrl(),i=Nf(n,t.host,t._protocol),s="GET",a=t.maxOperationRetryTime,o=new Nu(i,s,Y0e(t,r),a);return o.errorHandler=fI(e),o}function J0e(t,e){const r=e.fullServerUrl(),n=Nf(r,t.host,t._protocol),i="DELETE",s=t.maxOperationRetryTime;function a(c,u){}const o=new Nu(n,i,a,s);return o.successCodes=[200,204],o.errorHandler=fI(e),o}function exe(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function yH(t,e,r){const n=Object.assign({},r);return n.fullPath=t.path,n.size=e.size(),n.contentType||(n.contentType=exe(null,e)),n}function xH(t,e,r,n,i){const s=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function o(){let _="";for(let S=0;S<2;S++)_=_+Math.random().toString().slice(2);return _}const c=o();a["Content-Type"]="multipart/related; boundary="+c;const u=yH(e,n,i),d=vH(u,r),f="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+c+`\r
Content-Type: `+u.contentType+`\r
\r
`,h=`\r
--`+c+"--",p=ul.getBlob(f,n,h);if(p===null)throw lH();const v={name:u.fullPath},m=Nf(s,t.host,t._protocol),b="POST",w=t.maxUploadRetryTime,y=new Nu(m,b,dI(t,r),w);return y.urlParams=v,y.headers=a,y.body=p.uploadData(),y.errorHandler=xm(e),y}class l_{constructor(e,r,n,i){this.current=e,this.total=r,this.finalized=!!n,this.metadata=i||null}}function hI(t,e){let r=null;try{r=t.getResponseHeader("X-Goog-Upload-Status")}catch{To(!1)}return To(!!r&&(e||["active"]).indexOf(r)!==-1),r}function txe(t,e,r,n,i){const s=e.bucketOnlyServerUrl(),a=yH(e,n,i),o={name:a.fullPath},c=Nf(s,t.host,t._protocol),u="POST",d={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n.size()}`,"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},f=vH(a,r),h=t.maxUploadRetryTime;function p(m){hI(m);let b;try{b=m.getResponseHeader("X-Goog-Upload-URL")}catch{To(!1)}return To(IE(b)),b}const v=new Nu(c,u,p,h);return v.urlParams=o,v.headers=d,v.body=f,v.errorHandler=xm(e),v}function rxe(t,e,r,n){const i={"X-Goog-Upload-Command":"query"};function s(u){const d=hI(u,["active","final"]);let f=null;try{f=u.getResponseHeader("X-Goog-Upload-Size-Received")}catch{To(!1)}f||To(!1);const h=Number(f);return To(!isNaN(h)),new l_(h,n.size(),d==="final")}const a="POST",o=t.maxUploadRetryTime,c=new Nu(r,a,s,o);return c.headers=i,c.errorHandler=xm(e),c}const iF=256*1024;function nxe(t,e,r,n,i,s,a,o){const c=new l_(0,0);if(a?(c.current=a.current,c.total=a.total):(c.current=0,c.total=n.size()),n.size()!==c.total)throw p0e();const u=c.total-c.current;let d=u;i>0&&(d=Math.min(d,i));const f=c.current,h=f+d;let p="";d===0?p="finalize":u===d?p="upload, finalize":p="upload";const v={"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":`${c.current}`},m=n.slice(f,h);if(m===null)throw lH();function b(S,E){const N=hI(S,["active","final"]),T=c.current+d,j=n.size();let A;return N==="final"?A=dI(e,s)(S,E):A=null,new l_(T,j,N==="final",A)}const w="POST",y=e.maxUploadRetryTime,_=new Nu(r,w,b,y);return _.headers=v,_.body=m.uploadData(),_.progressCallback=o||null,_.errorHandler=xm(t),_}const Vi={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function uT(t){switch(t){case"running":case"pausing":case"canceling":return Vi.RUNNING;case"paused":return Vi.PAUSED;case"success":return Vi.SUCCESS;case"canceled":return Vi.CANCELED;case"error":return Vi.ERROR;default:return Vi.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ixe{constructor(e,r,n){if(_0e(e)||r!=null||n!=null)this.next=e,this.error=r??void 0,this.complete=n??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vf(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class sxe{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Dd.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Dd.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Dd.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,r,n,i){if(this.sent_)throw sg("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(r,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return n!==void 0?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw sg("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw sg("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw sg("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw sg("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class axe extends sxe{initXhr(){this.xhr_.responseType="text"}}function dl(){return new axe}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oxe{constructor(e,r,n=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=r,this._metadata=n,this._mappings=uI(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(Cr.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(dH(i.status,[]))if(s)i=aH();else{this.sleepTime=Math.max(this.sleepTime*2,s0e),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(Cr.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return r=>this._updateProgress(e+r)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([r,n])=>{switch(this._state){case"running":e(r,n);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,r)=>{const n=txe(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(n,dl,e,r);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((r,n)=>{const i=rxe(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,dl,r,n);this._request=s,s.getPromise().then(a=>{a=a,this._request=void 0,this._updateProgress(a.current),this._needToFetchStatus=!1,a.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=iF*this._chunkMultiplier,r=new l_(this._transferred,this._blob.size()),n=this._uploadUrl;this._resolveToken((i,s)=>{let a;try{a=nxe(this._ref._location,this._ref.storage,n,this._blob,e,this._mappings,r,this._makeProgressCallback())}catch(c){this._error=c,this._transition("error");return}const o=this._ref.storage._makeRequest(a,dl,i,s,!1);this._request=o,o.getPromise().then(c=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(c.current),c.finalized?(this._metadata=c.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){iF*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,r)=>{const n=X0e(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(n,dl,e,r);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,r)=>{const n=xH(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(n,dl,e,r);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const r=this._transferred;this._transferred=e,this._transferred!==r&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const r=this._state==="paused";this._state=e,r&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=oH(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=uT(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,r,n,i){const s=new ixe(r||void 0,n||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,r){return this._promise.then(e,r)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const r=this._observers.indexOf(e);r!==-1&&this._observers.splice(r,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(r=>{this._notifyObserver(r)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(uT(this._state)){case Vi.SUCCESS:Vf(this._resolve.bind(null,this.snapshot))();break;case Vi.CANCELED:case Vi.ERROR:const r=this._reject;Vf(r.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(uT(this._state)){case Vi.RUNNING:case Vi.PAUSED:e.next&&Vf(e.next.bind(e,this.snapshot))();break;case Vi.SUCCESS:e.complete&&Vf(e.complete.bind(e))();break;case Vi.CANCELED:case Vi.ERROR:e.error&&Vf(e.error.bind(e,this._error))();break;default:e.error&&Vf(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e,r){this._service=e,r instanceof Ei?this._location=r:this._location=Ei.makeFromUrl(r,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,r){return new rf(e,r)}get root(){const e=new Ei(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return mH(this._location.path)}get storage(){return this._service}get parent(){const e=F0e(this._location.path);if(e===null)return null;const r=new Ei(this._location.bucket,e);return new rf(this._service,r)}_throwIfRoot(e){if(this._location.path==="")throw v0e(e)}}function lxe(t,e,r){t._throwIfRoot("uploadBytes");const n=xH(t.storage,t._location,uI(),new ul(e,!0),r);return t.storage.makeRequestWithTokens(n,dl).then(i=>({metadata:i,ref:t}))}function cxe(t,e,r){return t._throwIfRoot("uploadBytesResumable"),new oxe(t,new ul(e),r)}function uxe(t){const e={prefixes:[],items:[]};return bH(t,e).then(()=>e)}async function bH(t,e,r){const i=await dxe(t,{pageToken:r});e.prefixes.push(...i.prefixes),e.items.push(...i.items),i.nextPageToken!=null&&await bH(t,e,i.nextPageToken)}function dxe(t,e){e!=null&&typeof e.maxResults=="number"&&xA("options.maxResults",1,1e3,e.maxResults);const r=e||{},n=Q0e(t.storage,t._location,"/",r.pageToken,r.maxResults);return t.storage.makeRequestWithTokens(n,dl)}function fxe(t){t._throwIfRoot("getDownloadURL");const e=Z0e(t.storage,t._location,uI());return t.storage.makeRequestWithTokens(e,dl).then(r=>{if(r===null)throw m0e();return r})}function hxe(t){t._throwIfRoot("deleteObject");const e=J0e(t.storage,t._location);return t.storage.makeRequestWithTokens(e,dl)}function pxe(t,e){const r=V0e(t._location.path,e),n=new Ei(t._location.bucket,r);return new rf(t.storage,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mxe(t){return/^[A-Za-z]+:\/\//.test(t)}function gxe(t,e){return new rf(t,e)}function wH(t,e){if(t instanceof pI){const r=t;if(r._bucket==null)throw h0e();const n=new rf(r,r._bucket);return e!=null?wH(n,e):n}else return e!==void 0?pxe(t,e):t}function vxe(t,e){if(e&&mxe(e)){if(t instanceof pI)return gxe(t,e);throw yA("To use ref(service, url), the first argument must be a Storage instance.")}else return wH(t,e)}function sF(t,e){const r=e==null?void 0:e[sH];return r==null?null:Ei.makeFromBucketSpec(r,t)}function yxe(t,e,r,n={}){t.host=`${e}:${r}`,t._protocol="http";const{mockUserToken:i}=n;i&&(t._overrideAuthToken=typeof i=="string"?i:Jq(i,t.app.options.projectId))}class pI{constructor(e,r,n,i,s){this.app=e,this._authProvider=r,this._appCheckProvider=n,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=iH,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=n0e,this._maxUploadRetryTime=i0e,this._requests=new Set,i!=null?this._bucket=Ei.makeFromBucketSpec(i,this._host):this._bucket=sF(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ei.makeFromBucketSpec(this._url,e):this._bucket=sF(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){xA("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){xA("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const r=await e.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new rf(this,e)}_makeRequest(e,r,n,i,s=!0){if(this._deleted)return new y0e(cH());{const a=A0e(e,this._appId,n,i,r,this._firebaseVersion,s);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,r){const[n,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,r,n,i).getPromise()}}const aF="@firebase/storage",oF="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _H="storage";function mI(t,e,r){return t=hr(t),lxe(t,e,r)}function xxe(t,e,r){return t=hr(t),cxe(t,e,r)}function EH(t){return t=hr(t),uxe(t)}function Tp(t){return t=hr(t),fxe(t)}function gI(t){return t=hr(t),hxe(t)}function Sl(t,e){return t=hr(t),vxe(t,e)}function bxe(t=fk(),e){t=hr(t);const n=fE(t,_H).getImmediate({identifier:e}),i=Xq("storage");return i&&wxe(n,...i),n}function wxe(t,e,r,n={}){yxe(t,e,r,n)}function _xe(t,{instanceIdentifier:e}){const r=t.getProvider("app").getImmediate(),n=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new pI(r,n,i,e,wf)}function Exe(){Qd(new su(_H,_xe,"PUBLIC").setMultipleInstances(!0)),_o(aF,oF,""),_o(aF,oF,"esm2017")}Exe();const Sxe={apiKey:"AIzaSyByPn9InuXX2Dp-_nef-Om0ii4zfBwfMFk",authDomain:"plataforma-de-tecnologia.firebaseapp.com",projectId:"plataforma-de-tecnologia",storageBucket:"plataforma-de-tecnologia.firebasestorage.app",messagingSenderId:"1083542320286",appId:"1:1083542320286:web:5c1a5b7203f050186e778f"},vI=rW(Sxe),Bf=ege(vI),SH=new cl,Ue=Uye(vI),Nl=bxe(vI);SH.setCustomParameters({hd:"colegioeccos.com.br"});const NH=g.createContext(null);function Nxe({children:t}){const[e,r]=g.useState(null),[n,i]=g.useState({}),[s,a]=g.useState(!0),{toast:o}=qa(),c=(e==null?void 0:e.email)==="suporte@colegioeccos.com.br",u=c||n.dashboard,d=g.useCallback(b=>{r(w=>w?{...w,...b}:null)},[]),f=g.useCallback(async b=>{try{const w=bt(Ue,"users",b.uid),y=await Zs(w);let _;if(y.exists()){if(_=y.data(),b.email==="suporte@colegioeccos.com.br"&&(_.role="superadmin"),_.blocked)return await Kx(Bf),o({title:"Acesso bloqueado",description:"Sua conta foi bloqueada.",variant:"destructive"}),null;await vA(w,{lastActive:new Date,role:_.role},{merge:!0})}else{const S=b.email==="suporte@colegioeccos.com.br"?"superadmin":"user";_={uid:b.uid,email:b.email||"",displayName:b.displayName||"Usuário sem nome",photoURL:b.photoURL,role:S,blocked:!1,lastActive:new Date,createdAt:new Date},await vA(w,_)}return{..._,uid:b.uid,email:b.email||""}}catch(w){return console.error("Error handling user document:",w),o({title:"Erro de acesso",description:"Falha ao carregar seus dados.",variant:"destructive"}),null}},[o]),h=g.useCallback(async b=>{if(b==="superadmin"){i({all:!0});return}const w=bt(Ue,"roles",b),y=await Zs(w);if(y.exists()){const _=y.data();i(_.permissions||{})}else i({})},[]);g.useEffect(()=>{let b=!0;const w=zpe(Bf,async y=>{var _;if(b){a(!0);try{if(y){if(!((_=y.email)!=null&&_.endsWith("@colegioeccos.com.br"))){await Kx(Bf),o({title:"Acesso negado",description:"Domínio inválido.",variant:"destructive"});return}const S=await f(y);S&&b&&(r(S),await h(S.role))}else r(null),i({})}catch(S){console.error("Auth state error:",S)}finally{a(!1)}}});return()=>{b=!1,w()}},[f,h,o]);const p=g.useCallback(async()=>{var b;try{(b=(await cme(Bf,SH)).user.email)!=null&&b.endsWith("@colegioeccos.com.br")||(await Kx(Bf),o({title:"Domínio inválido",description:"Email não permitido.",variant:"destructive"}))}catch(w){o({title:"Erro no login",description:w.message||"Falha no login",variant:"destructive"})}},[o]),v=g.useCallback(async()=>{await Kx(Bf),r(null),i({}),o({title:"Logout realizado"})},[o]),m={currentUser:e,userPermissions:n,loading:s,signInWithGoogle:p,signOut:v,isSuperAdmin:c,updateUserData:d,hasDashboardPermission:u};return l.jsx(NH.Provider,{value:m,children:!s&&t})}function zr(){const t=g.useContext(NH);if(!t)throw new Error("useAuth must be used within AuthProvider");return t}const Sn=({children:t,requiredPermission:e})=>{const{currentUser:r,userPermissions:n,isSuperAdmin:i,loading:s}=zr(),a=Ji();if(g.useEffect(()=>{!s&&!r&&sessionStorage.removeItem("redirectPath")},[s,r]),s)return l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsx("div",{className:"animate-spin h-12 w-12 border-t-2 border-b-2 border-eccos-blue rounded-full"})});if(!r){const o=a.pathname.replace(/^\/+/g,"");return sessionStorage.setItem("redirectPath",o),l.jsx(Xg,{to:"/login",replace:!0})}return i&&a.pathname==="/"?l.jsx(Xg,{to:"/dashboard",replace:!0}):i?l.jsx(l.Fragment,{children:t}):e&&!n[e]?l.jsx(Xg,{to:"/unauthorized",replace:!0}):l.jsx(l.Fragment,{children:t})};var Txe=g.createContext(void 0);function OE(t){const e=g.useContext(Txe);return t||e||"ltr"}var dT=0;function ME(){g.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??lF()),document.body.insertAdjacentElement("beforeend",t[1]??lF()),dT++,()=>{dT===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),dT--}},[])}function lF(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var fT="focusScope.autoFocusOnMount",hT="focusScope.autoFocusOnUnmount",cF={bubbles:!1,cancelable:!0},jxe="FocusScope",yI=g.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...a}=t,[o,c]=g.useState(null),u=Or(i),d=Or(s),f=g.useRef(null),h=rt(e,m=>c(m)),p=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(n){let m=function(_){if(p.paused||!o)return;const S=_.target;o.contains(S)?f.current=S:pc(f.current,{select:!0})},b=function(_){if(p.paused||!o)return;const S=_.relatedTarget;S!==null&&(o.contains(S)||pc(f.current,{select:!0}))},w=function(_){if(document.activeElement===document.body)for(const E of _)E.removedNodes.length>0&&pc(o)};document.addEventListener("focusin",m),document.addEventListener("focusout",b);const y=new MutationObserver(w);return o&&y.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",b),y.disconnect()}}},[n,o,p.paused]),g.useEffect(()=>{if(o){dF.add(p);const m=document.activeElement;if(!o.contains(m)){const w=new CustomEvent(fT,cF);o.addEventListener(fT,u),o.dispatchEvent(w),w.defaultPrevented||(Cxe(Ixe(TH(o)),{select:!0}),document.activeElement===m&&pc(o))}return()=>{o.removeEventListener(fT,u),setTimeout(()=>{const w=new CustomEvent(hT,cF);o.addEventListener(hT,d),o.dispatchEvent(w),w.defaultPrevented||pc(m??document.body,{select:!0}),o.removeEventListener(hT,d),dF.remove(p)},0)}}},[o,u,d,p]);const v=g.useCallback(m=>{if(!r&&!n||p.paused)return;const b=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,w=document.activeElement;if(b&&w){const y=m.currentTarget,[_,S]=Axe(y);_&&S?!m.shiftKey&&w===S?(m.preventDefault(),r&&pc(_,{select:!0})):m.shiftKey&&w===_&&(m.preventDefault(),r&&pc(S,{select:!0})):w===y&&m.preventDefault()}},[r,n,p.paused]);return l.jsx(ht.div,{tabIndex:-1,...a,ref:h,onKeyDown:v})});yI.displayName=jxe;function Cxe(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(pc(n,{select:e}),document.activeElement!==r)return}function Axe(t){const e=TH(t),r=uF(e,t),n=uF(e.reverse(),t);return[r,n]}function TH(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function uF(t,e){for(const r of t)if(!Pxe(r,{upTo:e}))return r}function Pxe(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Rxe(t){return t instanceof HTMLInputElement&&"select"in t}function pc(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&Rxe(t)&&e&&t.select()}}var dF=kxe();function kxe(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=fF(t,e),t.unshift(e)},remove(e){var r;t=fF(t,e),(r=t[0])==null||r.resume()}}}function fF(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function Ixe(t){return t.filter(e=>e.tagName!=="A")}var pT="rovingFocusGroup.onEntryFocus",Oxe={bubbles:!1,cancelable:!0},M0="RovingFocusGroup",[bA,jH,Mxe]=xR(M0),[Dxe,DE]=fi(M0,[Mxe]),[Lxe,$xe]=Dxe(M0),CH=g.forwardRef((t,e)=>l.jsx(bA.Provider,{scope:t.__scopeRovingFocusGroup,children:l.jsx(bA.Slot,{scope:t.__scopeRovingFocusGroup,children:l.jsx(Fxe,{...t,ref:e})})}));CH.displayName=M0;var Fxe=g.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:s,currentTabStopId:a,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=t,h=g.useRef(null),p=rt(e,h),v=OE(s),[m,b]=Dl({prop:a,defaultProp:o??null,onChange:c,caller:M0}),[w,y]=g.useState(!1),_=Or(u),S=jH(r),E=g.useRef(!1),[N,T]=g.useState(0);return g.useEffect(()=>{const j=h.current;if(j)return j.addEventListener(pT,_),()=>j.removeEventListener(pT,_)},[_]),l.jsx(Lxe,{scope:r,orientation:n,dir:v,loop:i,currentTabStopId:m,onItemFocus:g.useCallback(j=>b(j),[b]),onItemShiftTab:g.useCallback(()=>y(!0),[]),onFocusableItemAdd:g.useCallback(()=>T(j=>j+1),[]),onFocusableItemRemove:g.useCallback(()=>T(j=>j-1),[]),children:l.jsx(ht.div,{tabIndex:w||N===0?-1:0,"data-orientation":n,...f,ref:p,style:{outline:"none",...t.style},onMouseDown:Se(t.onMouseDown,()=>{E.current=!0}),onFocus:Se(t.onFocus,j=>{const A=!E.current;if(j.target===j.currentTarget&&A&&!w){const R=new CustomEvent(pT,Oxe);if(j.currentTarget.dispatchEvent(R),!R.defaultPrevented){const k=S().filter(M=>M.focusable),O=k.find(M=>M.active),P=k.find(M=>M.id===m),z=[O,P,...k].filter(Boolean).map(M=>M.ref.current);RH(z,d)}}E.current=!1}),onBlur:Se(t.onBlur,()=>y(!1))})})}),AH="RovingFocusGroupItem",PH=g.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:s,children:a,...o}=t,c=qn(),u=s||c,d=$xe(AH,r),f=d.currentTabStopId===u,h=jH(r),{onFocusableItemAdd:p,onFocusableItemRemove:v,currentTabStopId:m}=d;return g.useEffect(()=>{if(n)return p(),()=>v()},[n,p,v]),l.jsx(bA.ItemSlot,{scope:r,id:u,focusable:n,active:i,children:l.jsx(ht.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...o,ref:e,onMouseDown:Se(t.onMouseDown,b=>{n?d.onItemFocus(u):b.preventDefault()}),onFocus:Se(t.onFocus,()=>d.onItemFocus(u)),onKeyDown:Se(t.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){d.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const w=Uxe(b,d.orientation,d.dir);if(w!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let _=h().filter(S=>S.focusable).map(S=>S.ref.current);if(w==="last")_.reverse();else if(w==="prev"||w==="next"){w==="prev"&&_.reverse();const S=_.indexOf(b.currentTarget);_=d.loop?zxe(_,S+1):_.slice(S+1)}setTimeout(()=>RH(_))}}),children:typeof a=="function"?a({isCurrentTabStop:f,hasTabStop:m!=null}):a})})});PH.displayName=AH;var Vxe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Bxe(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Uxe(t,e,r){const n=Bxe(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return Vxe[n]}function RH(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function zxe(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var kH=CH,IH=PH,qxe=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Uf=new WeakMap,eb=new WeakMap,tb={},mT=0,OH=function(t){return t&&(t.host||OH(t.parentNode))},Wxe=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=OH(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},Hxe=function(t,e,r,n){var i=Wxe(e,Array.isArray(t)?t:[t]);tb[r]||(tb[r]=new WeakMap);var s=tb[r],a=[],o=new Set,c=new Set(i),u=function(f){!f||o.has(f)||(o.add(f),u(f.parentNode))};i.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(o.has(h))d(h);else try{var p=h.getAttribute(n),v=p!==null&&p!=="false",m=(Uf.get(h)||0)+1,b=(s.get(h)||0)+1;Uf.set(h,m),s.set(h,b),a.push(h),m===1&&v&&eb.set(h,!0),b===1&&h.setAttribute(r,"true"),v||h.setAttribute(n,"true")}catch(w){console.error("aria-hidden: cannot operate on ",h,w)}})};return d(e),o.clear(),mT++,function(){a.forEach(function(f){var h=Uf.get(f)-1,p=s.get(f)-1;Uf.set(f,h),s.set(f,p),h||(eb.has(f)||f.removeAttribute(n),eb.delete(f)),p||f.removeAttribute(r)}),mT--,mT||(Uf=new WeakMap,Uf=new WeakMap,eb=new WeakMap,tb={})}},LE=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),i=qxe(t);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live]"))),Hxe(n,i,r,"aria-hidden")):function(){return null}},Zb="right-scroll-bar-position",Jb="width-before-scroll-bar",Kxe="with-scroll-bars-hidden",Gxe="--removed-body-scroll-bar-size";function gT(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Yxe(t,e){var r=g.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=e,r.facade}var Xxe=typeof window<"u"?g.useLayoutEffect:g.useEffect,hF=new WeakMap;function Qxe(t,e){var r=Yxe(null,function(n){return t.forEach(function(i){return gT(i,n)})});return Xxe(function(){var n=hF.get(r);if(n){var i=new Set(n),s=new Set(t),a=r.current;i.forEach(function(o){s.has(o)||gT(o,null)}),s.forEach(function(o){i.has(o)||gT(o,a)})}hF.set(r,t)},[t]),r}function Zxe(t){return t}function Jxe(t,e){e===void 0&&(e=Zxe);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(s){var a=e(s,n);return r.push(a),function(){r=r.filter(function(o){return o!==a})}},assignSyncMedium:function(s){for(n=!0;r.length;){var a=r;r=[],a.forEach(s)}r={push:function(o){return s(o)},filter:function(){return r}}},assignMedium:function(s){n=!0;var a=[];if(r.length){var o=r;r=[],o.forEach(s),a=r}var c=function(){var d=a;a=[],d.forEach(s)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){a.push(d),u()},filter:function(d){return a=a.filter(d),r}}}};return i}function ebe(t){t===void 0&&(t={});var e=Jxe(null);return e.options=lo({async:!0,ssr:!1},t),e}var MH=function(t){var e=t.sideCar,r=y0(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return g.createElement(n,lo({},r))};MH.isSideCarExport=!0;function tbe(t,e){return t.useMedium(e),MH}var DH=ebe(),vT=function(){},$E=g.forwardRef(function(t,e){var r=g.useRef(null),n=g.useState({onScrollCapture:vT,onWheelCapture:vT,onTouchMoveCapture:vT}),i=n[0],s=n[1],a=t.forwardProps,o=t.children,c=t.className,u=t.removeScrollBar,d=t.enabled,f=t.shards,h=t.sideCar,p=t.noIsolation,v=t.inert,m=t.allowPinchZoom,b=t.as,w=b===void 0?"div":b,y=t.gapMode,_=y0(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=h,E=Qxe([r,e]),N=lo(lo({},_),i);return g.createElement(g.Fragment,null,d&&g.createElement(S,{sideCar:DH,removeScrollBar:u,shards:f,noIsolation:p,inert:v,setCallbacks:s,allowPinchZoom:!!m,lockRef:r,gapMode:y}),a?g.cloneElement(g.Children.only(o),lo(lo({},N),{ref:E})):g.createElement(w,lo({},N,{className:c,ref:E}),o))});$E.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};$E.classNames={fullWidth:Jb,zeroRight:Zb};var rbe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function nbe(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=rbe();return e&&t.setAttribute("nonce",e),t}function ibe(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function sbe(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var abe=function(){var t=0,e=null;return{add:function(r){t==0&&(e=nbe())&&(ibe(e,r),sbe(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},obe=function(){var t=abe();return function(e,r){g.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},LH=function(){var t=obe(),e=function(r){var n=r.styles,i=r.dynamic;return t(n,i),null};return e},lbe={left:0,top:0,right:0,gap:0},yT=function(t){return parseInt(t||"",10)||0},cbe=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[yT(r),yT(n),yT(i)]},ube=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return lbe;var e=cbe(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},dbe=LH(),Fh="data-scroll-locked",fbe=function(t,e,r,n){var i=t.left,s=t.top,a=t.right,o=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(Kxe,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(o,"px ").concat(n,`;
  }
  body[`).concat(Fh,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(o,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Zb,` {
    right: `).concat(o,"px ").concat(n,`;
  }
  
  .`).concat(Jb,` {
    margin-right: `).concat(o,"px ").concat(n,`;
  }
  
  .`).concat(Zb," .").concat(Zb,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Jb," .").concat(Jb,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Fh,`] {
    `).concat(Gxe,": ").concat(o,`px;
  }
`)},pF=function(){var t=parseInt(document.body.getAttribute(Fh)||"0",10);return isFinite(t)?t:0},hbe=function(){g.useEffect(function(){return document.body.setAttribute(Fh,(pF()+1).toString()),function(){var t=pF()-1;t<=0?document.body.removeAttribute(Fh):document.body.setAttribute(Fh,t.toString())}},[])},pbe=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,i=n===void 0?"margin":n;hbe();var s=g.useMemo(function(){return ube(i)},[i]);return g.createElement(dbe,{styles:fbe(s,!e,i,r?"":"!important")})},wA=!1;if(typeof window<"u")try{var rb=Object.defineProperty({},"passive",{get:function(){return wA=!0,!0}});window.addEventListener("test",rb,rb),window.removeEventListener("test",rb,rb)}catch{wA=!1}var zf=wA?{passive:!1}:!1,mbe=function(t){return t.tagName==="TEXTAREA"},$H=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!mbe(t)&&r[e]==="visible")},gbe=function(t){return $H(t,"overflowY")},vbe=function(t){return $H(t,"overflowX")},mF=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=FH(t,n);if(i){var s=VH(t,n),a=s[1],o=s[2];if(a>o)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},ybe=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},xbe=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},FH=function(t,e){return t==="v"?gbe(e):vbe(e)},VH=function(t,e){return t==="v"?ybe(e):xbe(e)},bbe=function(t,e){return t==="h"&&e==="rtl"?-1:1},wbe=function(t,e,r,n,i){var s=bbe(t,window.getComputedStyle(e).direction),a=s*n,o=r.target,c=e.contains(o),u=!1,d=a>0,f=0,h=0;do{var p=VH(t,o),v=p[0],m=p[1],b=p[2],w=m-b-s*v;(v||w)&&FH(t,o)&&(f+=w,h+=v),o instanceof ShadowRoot?o=o.host:o=o.parentNode}while(!c&&o!==document.body||c&&(e.contains(o)||e===o));return(d&&Math.abs(f)<1||!d&&Math.abs(h)<1)&&(u=!0),u},nb=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},gF=function(t){return[t.deltaX,t.deltaY]},vF=function(t){return t&&"current"in t?t.current:t},_be=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Ebe=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Sbe=0,qf=[];function Nbe(t){var e=g.useRef([]),r=g.useRef([0,0]),n=g.useRef(),i=g.useState(Sbe++)[0],s=g.useState(LH)[0],a=g.useRef(t);g.useEffect(function(){a.current=t},[t]),g.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var m=rpe([t.lockRef.current],(t.shards||[]).map(vF),!0).filter(Boolean);return m.forEach(function(b){return b.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),m.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var o=g.useCallback(function(m,b){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!a.current.allowPinchZoom;var w=nb(m),y=r.current,_="deltaX"in m?m.deltaX:y[0]-w[0],S="deltaY"in m?m.deltaY:y[1]-w[1],E,N=m.target,T=Math.abs(_)>Math.abs(S)?"h":"v";if("touches"in m&&T==="h"&&N.type==="range")return!1;var j=mF(T,N);if(!j)return!0;if(j?E=T:(E=T==="v"?"h":"v",j=mF(T,N)),!j)return!1;if(!n.current&&"changedTouches"in m&&(_||S)&&(n.current=E),!E)return!0;var A=n.current||E;return wbe(A,b,m,A==="h"?_:S)},[]),c=g.useCallback(function(m){var b=m;if(!(!qf.length||qf[qf.length-1]!==s)){var w="deltaY"in b?gF(b):nb(b),y=e.current.filter(function(E){return E.name===b.type&&(E.target===b.target||b.target===E.shadowParent)&&_be(E.delta,w)})[0];if(y&&y.should){b.cancelable&&b.preventDefault();return}if(!y){var _=(a.current.shards||[]).map(vF).filter(Boolean).filter(function(E){return E.contains(b.target)}),S=_.length>0?o(b,_[0]):!a.current.noIsolation;S&&b.cancelable&&b.preventDefault()}}},[]),u=g.useCallback(function(m,b,w,y){var _={name:m,delta:b,target:w,should:y,shadowParent:Tbe(w)};e.current.push(_),setTimeout(function(){e.current=e.current.filter(function(S){return S!==_})},1)},[]),d=g.useCallback(function(m){r.current=nb(m),n.current=void 0},[]),f=g.useCallback(function(m){u(m.type,gF(m),m.target,o(m,t.lockRef.current))},[]),h=g.useCallback(function(m){u(m.type,nb(m),m.target,o(m,t.lockRef.current))},[]);g.useEffect(function(){return qf.push(s),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,zf),document.addEventListener("touchmove",c,zf),document.addEventListener("touchstart",d,zf),function(){qf=qf.filter(function(m){return m!==s}),document.removeEventListener("wheel",c,zf),document.removeEventListener("touchmove",c,zf),document.removeEventListener("touchstart",d,zf)}},[]);var p=t.removeScrollBar,v=t.inert;return g.createElement(g.Fragment,null,v?g.createElement(s,{styles:Ebe(i)}):null,p?g.createElement(pbe,{gapMode:t.gapMode}):null)}function Tbe(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const jbe=tbe(DH,Nbe);var D0=g.forwardRef(function(t,e){return g.createElement($E,lo({},t,{ref:e,sideCar:jbe}))});D0.classNames=$E.classNames;var _A=["Enter"," "],Cbe=["ArrowDown","PageUp","Home"],BH=["ArrowUp","PageDown","End"],Abe=[...Cbe,...BH],Pbe={ltr:[..._A,"ArrowRight"],rtl:[..._A,"ArrowLeft"]},Rbe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},L0="Menu",[Qv,kbe,Ibe]=xR(L0),[Tf,UH]=fi(L0,[Ibe,iE,DE]),FE=iE(),zH=DE(),[Obe,jf]=Tf(L0),[Mbe,$0]=Tf(L0),qH=t=>{const{__scopeMenu:e,open:r=!1,children:n,dir:i,onOpenChange:s,modal:a=!0}=t,o=FE(e),[c,u]=g.useState(null),d=g.useRef(!1),f=Or(s),h=OE(i);return g.useEffect(()=>{const p=()=>{d.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>d.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),l.jsx(uce,{...o,children:l.jsx(Obe,{scope:e,open:r,onOpenChange:f,content:c,onContentChange:u,children:l.jsx(Mbe,{scope:e,onClose:g.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:a,children:n})})})};qH.displayName=L0;var Dbe="MenuAnchor",xI=g.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,i=FE(r);return l.jsx(J8,{...i,...n,ref:e})});xI.displayName=Dbe;var bI="MenuPortal",[Lbe,WH]=Tf(bI,{forceMount:void 0}),HH=t=>{const{__scopeMenu:e,forceMount:r,children:n,container:i}=t,s=jf(bI,e);return l.jsx(Lbe,{scope:e,forceMount:r,children:l.jsx(Zi,{present:r||s.open,children:l.jsx(H1,{asChild:!0,container:i,children:n})})})};HH.displayName=bI;var Gs="MenuContent",[$be,wI]=Tf(Gs),KH=g.forwardRef((t,e)=>{const r=WH(Gs,t.__scopeMenu),{forceMount:n=r.forceMount,...i}=t,s=jf(Gs,t.__scopeMenu),a=$0(Gs,t.__scopeMenu);return l.jsx(Qv.Provider,{scope:t.__scopeMenu,children:l.jsx(Zi,{present:n||s.open,children:l.jsx(Qv.Slot,{scope:t.__scopeMenu,children:a.modal?l.jsx(Fbe,{...i,ref:e}):l.jsx(Vbe,{...i,ref:e})})})})}),Fbe=g.forwardRef((t,e)=>{const r=jf(Gs,t.__scopeMenu),n=g.useRef(null),i=rt(e,n);return g.useEffect(()=>{const s=n.current;if(s)return LE(s)},[]),l.jsx(_I,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Se(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),Vbe=g.forwardRef((t,e)=>{const r=jf(Gs,t.__scopeMenu);return l.jsx(_I,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),Bbe=hp("MenuContent.ScrollLock"),_I=g.forwardRef((t,e)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:a,disableOutsidePointerEvents:o,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:p,disableOutsideScroll:v,...m}=t,b=jf(Gs,r),w=$0(Gs,r),y=FE(r),_=zH(r),S=kbe(r),[E,N]=g.useState(null),T=g.useRef(null),j=rt(e,T,b.onContentChange),A=g.useRef(0),R=g.useRef(""),k=g.useRef(0),O=g.useRef(null),P=g.useRef("right"),D=g.useRef(0),z=v?D0:g.Fragment,M=v?{as:Bbe,allowPinchZoom:!0}:void 0,V=$=>{var ce,Q;const G=R.current+$,q=S().filter(Y=>!Y.disabled),U=document.activeElement,X=(ce=q.find(Y=>Y.ref.current===U))==null?void 0:ce.textValue,ie=q.map(Y=>Y.textValue),le=Jbe(ie,G,X),xe=(Q=q.find(Y=>Y.textValue===le))==null?void 0:Q.ref.current;(function Y(ee){R.current=ee,window.clearTimeout(A.current),ee!==""&&(A.current=window.setTimeout(()=>Y(""),1e3))})(G),xe&&setTimeout(()=>xe.focus())};g.useEffect(()=>()=>window.clearTimeout(A.current),[]),ME();const L=g.useCallback($=>{var q,U;return P.current===((q=O.current)==null?void 0:q.side)&&twe($,(U=O.current)==null?void 0:U.area)},[]);return l.jsx($be,{scope:r,searchRef:R,onItemEnter:g.useCallback($=>{L($)&&$.preventDefault()},[L]),onItemLeave:g.useCallback($=>{var G;L($)||((G=T.current)==null||G.focus(),N(null))},[L]),onTriggerLeave:g.useCallback($=>{L($)&&$.preventDefault()},[L]),pointerGraceTimerRef:k,onPointerGraceIntentChange:g.useCallback($=>{O.current=$},[]),children:l.jsx(z,{...M,children:l.jsx(yI,{asChild:!0,trapped:i,onMountAutoFocus:Se(s,$=>{var G;$.preventDefault(),(G=T.current)==null||G.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:l.jsx(u0,{asChild:!0,disableOutsidePointerEvents:o,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:p,children:l.jsx(kH,{asChild:!0,..._,dir:w.dir,orientation:"vertical",loop:n,currentTabStopId:E,onCurrentTabStopIdChange:N,onEntryFocus:Se(c,$=>{w.isUsingKeyboardRef.current||$.preventDefault()}),preventScrollOnEntryFocus:!0,children:l.jsx(eq,{role:"menu","aria-orientation":"vertical","data-state":cK(b.open),"data-radix-menu-content":"",dir:w.dir,...y,...m,ref:j,style:{outline:"none",...m.style},onKeyDown:Se(m.onKeyDown,$=>{const q=$.target.closest("[data-radix-menu-content]")===$.currentTarget,U=$.ctrlKey||$.altKey||$.metaKey,X=$.key.length===1;q&&($.key==="Tab"&&$.preventDefault(),!U&&X&&V($.key));const ie=T.current;if($.target!==ie||!Abe.includes($.key))return;$.preventDefault();const xe=S().filter(ce=>!ce.disabled).map(ce=>ce.ref.current);BH.includes($.key)&&xe.reverse(),Qbe(xe)}),onBlur:Se(t.onBlur,$=>{$.currentTarget.contains($.target)||(window.clearTimeout(A.current),R.current="")}),onPointerMove:Se(t.onPointerMove,Zv($=>{const G=$.target,q=D.current!==$.clientX;if($.currentTarget.contains(G)&&q){const U=$.clientX>D.current?"right":"left";P.current=U,D.current=$.clientX}}))})})})})})})});KH.displayName=Gs;var Ube="MenuGroup",EI=g.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return l.jsx(ht.div,{role:"group",...n,ref:e})});EI.displayName=Ube;var zbe="MenuLabel",GH=g.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return l.jsx(ht.div,{...n,ref:e})});GH.displayName=zbe;var c_="MenuItem",yF="menu.itemSelect",VE=g.forwardRef((t,e)=>{const{disabled:r=!1,onSelect:n,...i}=t,s=g.useRef(null),a=$0(c_,t.__scopeMenu),o=wI(c_,t.__scopeMenu),c=rt(e,s),u=g.useRef(!1),d=()=>{const f=s.current;if(!r&&f){const h=new CustomEvent(yF,{bubbles:!0,cancelable:!0});f.addEventListener(yF,p=>n==null?void 0:n(p),{once:!0}),bR(f,h),h.defaultPrevented?u.current=!1:a.onClose()}};return l.jsx(YH,{...i,ref:c,disabled:r,onClick:Se(t.onClick,d),onPointerDown:f=>{var h;(h=t.onPointerDown)==null||h.call(t,f),u.current=!0},onPointerUp:Se(t.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:Se(t.onKeyDown,f=>{const h=o.searchRef.current!=="";r||h&&f.key===" "||_A.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});VE.displayName=c_;var YH=g.forwardRef((t,e)=>{const{__scopeMenu:r,disabled:n=!1,textValue:i,...s}=t,a=wI(c_,r),o=zH(r),c=g.useRef(null),u=rt(e,c),[d,f]=g.useState(!1),[h,p]=g.useState("");return g.useEffect(()=>{const v=c.current;v&&p((v.textContent??"").trim())},[s.children]),l.jsx(Qv.ItemSlot,{scope:r,disabled:n,textValue:i??h,children:l.jsx(IH,{asChild:!0,...o,focusable:!n,children:l.jsx(ht.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...s,ref:u,onPointerMove:Se(t.onPointerMove,Zv(v=>{n?a.onItemLeave(v):(a.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Se(t.onPointerLeave,Zv(v=>a.onItemLeave(v))),onFocus:Se(t.onFocus,()=>f(!0)),onBlur:Se(t.onBlur,()=>f(!1))})})})}),qbe="MenuCheckboxItem",XH=g.forwardRef((t,e)=>{const{checked:r=!1,onCheckedChange:n,...i}=t;return l.jsx(tK,{scope:t.__scopeMenu,checked:r,children:l.jsx(VE,{role:"menuitemcheckbox","aria-checked":u_(r)?"mixed":r,...i,ref:e,"data-state":NI(r),onSelect:Se(i.onSelect,()=>n==null?void 0:n(u_(r)?!0:!r),{checkForDefaultPrevented:!1})})})});XH.displayName=qbe;var QH="MenuRadioGroup",[Wbe,Hbe]=Tf(QH,{value:void 0,onValueChange:()=>{}}),ZH=g.forwardRef((t,e)=>{const{value:r,onValueChange:n,...i}=t,s=Or(n);return l.jsx(Wbe,{scope:t.__scopeMenu,value:r,onValueChange:s,children:l.jsx(EI,{...i,ref:e})})});ZH.displayName=QH;var JH="MenuRadioItem",eK=g.forwardRef((t,e)=>{const{value:r,...n}=t,i=Hbe(JH,t.__scopeMenu),s=r===i.value;return l.jsx(tK,{scope:t.__scopeMenu,checked:s,children:l.jsx(VE,{role:"menuitemradio","aria-checked":s,...n,ref:e,"data-state":NI(s),onSelect:Se(n.onSelect,()=>{var a;return(a=i.onValueChange)==null?void 0:a.call(i,r)},{checkForDefaultPrevented:!1})})})});eK.displayName=JH;var SI="MenuItemIndicator",[tK,Kbe]=Tf(SI,{checked:!1}),rK=g.forwardRef((t,e)=>{const{__scopeMenu:r,forceMount:n,...i}=t,s=Kbe(SI,r);return l.jsx(Zi,{present:n||u_(s.checked)||s.checked===!0,children:l.jsx(ht.span,{...i,ref:e,"data-state":NI(s.checked)})})});rK.displayName=SI;var Gbe="MenuSeparator",nK=g.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return l.jsx(ht.div,{role:"separator","aria-orientation":"horizontal",...n,ref:e})});nK.displayName=Gbe;var Ybe="MenuArrow",iK=g.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,i=FE(r);return l.jsx(tq,{...i,...n,ref:e})});iK.displayName=Ybe;var Xbe="MenuSub",[pet,sK]=Tf(Xbe),Rg="MenuSubTrigger",aK=g.forwardRef((t,e)=>{const r=jf(Rg,t.__scopeMenu),n=$0(Rg,t.__scopeMenu),i=sK(Rg,t.__scopeMenu),s=wI(Rg,t.__scopeMenu),a=g.useRef(null),{pointerGraceTimerRef:o,onPointerGraceIntentChange:c}=s,u={__scopeMenu:t.__scopeMenu},d=g.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return g.useEffect(()=>d,[d]),g.useEffect(()=>{const f=o.current;return()=>{window.clearTimeout(f),c(null)}},[o,c]),l.jsx(xI,{asChild:!0,...u,children:l.jsx(YH,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":i.contentId,"data-state":cK(r.open),...t,ref:Io(e,i.onTriggerChange),onClick:f=>{var h;(h=t.onClick)==null||h.call(t,f),!(t.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Se(t.onPointerMove,Zv(f=>{s.onItemEnter(f),!f.defaultPrevented&&!t.disabled&&!r.open&&!a.current&&(s.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:Se(t.onPointerLeave,Zv(f=>{var p,v;d();const h=(p=r.content)==null?void 0:p.getBoundingClientRect();if(h){const m=(v=r.content)==null?void 0:v.dataset.side,b=m==="right",w=b?-5:5,y=h[b?"left":"right"],_=h[b?"right":"left"];s.onPointerGraceIntentChange({area:[{x:f.clientX+w,y:f.clientY},{x:y,y:h.top},{x:_,y:h.top},{x:_,y:h.bottom},{x:y,y:h.bottom}],side:m}),window.clearTimeout(o.current),o.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(f),f.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:Se(t.onKeyDown,f=>{var p;const h=s.searchRef.current!=="";t.disabled||h&&f.key===" "||Pbe[n.dir].includes(f.key)&&(r.onOpenChange(!0),(p=r.content)==null||p.focus(),f.preventDefault())})})})});aK.displayName=Rg;var oK="MenuSubContent",lK=g.forwardRef((t,e)=>{const r=WH(Gs,t.__scopeMenu),{forceMount:n=r.forceMount,...i}=t,s=jf(Gs,t.__scopeMenu),a=$0(Gs,t.__scopeMenu),o=sK(oK,t.__scopeMenu),c=g.useRef(null),u=rt(e,c);return l.jsx(Qv.Provider,{scope:t.__scopeMenu,children:l.jsx(Zi,{present:n||s.open,children:l.jsx(Qv.Slot,{scope:t.__scopeMenu,children:l.jsx(_I,{id:o.contentId,"aria-labelledby":o.triggerId,...i,ref:u,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;a.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:Se(t.onFocusOutside,d=>{d.target!==o.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:Se(t.onEscapeKeyDown,d=>{a.onClose(),d.preventDefault()}),onKeyDown:Se(t.onKeyDown,d=>{var p;const f=d.currentTarget.contains(d.target),h=Rbe[a.dir].includes(d.key);f&&h&&(s.onOpenChange(!1),(p=o.trigger)==null||p.focus(),d.preventDefault())})})})})})});lK.displayName=oK;function cK(t){return t?"open":"closed"}function u_(t){return t==="indeterminate"}function NI(t){return u_(t)?"indeterminate":t?"checked":"unchecked"}function Qbe(t){const e=document.activeElement;for(const r of t)if(r===e||(r.focus(),document.activeElement!==e))return}function Zbe(t,e){return t.map((r,n)=>t[(e+n)%t.length])}function Jbe(t,e,r){const i=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,s=r?t.indexOf(r):-1;let a=Zbe(t,Math.max(s,0));i.length===1&&(a=a.filter(u=>u!==r));const c=a.find(u=>u.toLowerCase().startsWith(i.toLowerCase()));return c!==r?c:void 0}function ewe(t,e){const{x:r,y:n}=t;let i=!1;for(let s=0,a=e.length-1;s<e.length;a=s++){const o=e[s],c=e[a],u=o.x,d=o.y,f=c.x,h=c.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(i=!i)}return i}function twe(t,e){if(!e)return!1;const r={x:t.clientX,y:t.clientY};return ewe(r,e)}function Zv(t){return e=>e.pointerType==="mouse"?t(e):void 0}var rwe=qH,nwe=xI,iwe=HH,swe=KH,awe=EI,owe=GH,lwe=VE,cwe=XH,uwe=ZH,dwe=eK,fwe=rK,hwe=nK,pwe=iK,mwe=aK,gwe=lK,BE="DropdownMenu",[vwe,met]=fi(BE,[UH]),ki=UH(),[ywe,uK]=vwe(BE),dK=t=>{const{__scopeDropdownMenu:e,children:r,dir:n,open:i,defaultOpen:s,onOpenChange:a,modal:o=!0}=t,c=ki(e),u=g.useRef(null),[d,f]=Dl({prop:i,defaultProp:s??!1,onChange:a,caller:BE});return l.jsx(ywe,{scope:e,triggerId:qn(),triggerRef:u,contentId:qn(),open:d,onOpenChange:f,onOpenToggle:g.useCallback(()=>f(h=>!h),[f]),modal:o,children:l.jsx(rwe,{...c,open:d,onOpenChange:f,dir:n,modal:o,children:r})})};dK.displayName=BE;var fK="DropdownMenuTrigger",hK=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...i}=t,s=uK(fK,r),a=ki(r);return l.jsx(nwe,{asChild:!0,...a,children:l.jsx(ht.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...i,ref:Io(e,s.triggerRef),onPointerDown:Se(t.onPointerDown,o=>{!n&&o.button===0&&o.ctrlKey===!1&&(s.onOpenToggle(),s.open||o.preventDefault())}),onKeyDown:Se(t.onKeyDown,o=>{n||(["Enter"," "].includes(o.key)&&s.onOpenToggle(),o.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(o.key)&&o.preventDefault())})})})});hK.displayName=fK;var xwe="DropdownMenuPortal",pK=t=>{const{__scopeDropdownMenu:e,...r}=t,n=ki(e);return l.jsx(iwe,{...n,...r})};pK.displayName=xwe;var mK="DropdownMenuContent",gK=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=uK(mK,r),s=ki(r),a=g.useRef(!1);return l.jsx(swe,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...n,ref:e,onCloseAutoFocus:Se(t.onCloseAutoFocus,o=>{var c;a.current||(c=i.triggerRef.current)==null||c.focus(),a.current=!1,o.preventDefault()}),onInteractOutside:Se(t.onInteractOutside,o=>{const c=o.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!i.modal||d)&&(a.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});gK.displayName=mK;var bwe="DropdownMenuGroup",wwe=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=ki(r);return l.jsx(awe,{...i,...n,ref:e})});wwe.displayName=bwe;var _we="DropdownMenuLabel",vK=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=ki(r);return l.jsx(owe,{...i,...n,ref:e})});vK.displayName=_we;var Ewe="DropdownMenuItem",yK=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=ki(r);return l.jsx(lwe,{...i,...n,ref:e})});yK.displayName=Ewe;var Swe="DropdownMenuCheckboxItem",xK=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=ki(r);return l.jsx(cwe,{...i,...n,ref:e})});xK.displayName=Swe;var Nwe="DropdownMenuRadioGroup",Twe=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=ki(r);return l.jsx(uwe,{...i,...n,ref:e})});Twe.displayName=Nwe;var jwe="DropdownMenuRadioItem",bK=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=ki(r);return l.jsx(dwe,{...i,...n,ref:e})});bK.displayName=jwe;var Cwe="DropdownMenuItemIndicator",wK=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=ki(r);return l.jsx(fwe,{...i,...n,ref:e})});wK.displayName=Cwe;var Awe="DropdownMenuSeparator",_K=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=ki(r);return l.jsx(hwe,{...i,...n,ref:e})});_K.displayName=Awe;var Pwe="DropdownMenuArrow",Rwe=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=ki(r);return l.jsx(pwe,{...i,...n,ref:e})});Rwe.displayName=Pwe;var kwe="DropdownMenuSubTrigger",EK=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=ki(r);return l.jsx(mwe,{...i,...n,ref:e})});EK.displayName=kwe;var Iwe="DropdownMenuSubContent",SK=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=ki(r);return l.jsx(gwe,{...i,...n,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});SK.displayName=Iwe;var Owe=dK,Mwe=hK,Dwe=pK,NK=gK,TK=vK,jK=yK,CK=xK,AK=bK,PK=wK,RK=_K,kK=EK,IK=SK;const ys=Owe,xs=Mwe,Lwe=g.forwardRef(({className:t,inset:e,children:r,...n},i)=>l.jsxs(kK,{ref:i,className:ge("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...n,children:[r,l.jsx(Rv,{className:"ml-auto h-4 w-4"})]}));Lwe.displayName=kK.displayName;const $we=g.forwardRef(({className:t,...e},r)=>l.jsx(IK,{ref:r,className:ge("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));$we.displayName=IK.displayName;const qi=g.forwardRef(({className:t,sideOffset:e=4,...r},n)=>l.jsx(Dwe,{children:l.jsx(NK,{ref:n,sideOffset:e,className:ge("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));qi.displayName=NK.displayName;const jp=g.forwardRef(({className:t,inset:e,...r},n)=>l.jsx(jK,{ref:n,className:ge("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...r}));jp.displayName=jK.displayName;const Ta=g.forwardRef(({className:t,children:e,checked:r,...n},i)=>l.jsxs(CK,{ref:i,className:ge("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:r,...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(PK,{children:l.jsx(vf,{className:"h-4 w-4"})})}),e]}));Ta.displayName=CK.displayName;const Fwe=g.forwardRef(({className:t,children:e,...r},n)=>l.jsxs(AK,{ref:n,className:ge("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(PK,{children:l.jsx(Fae,{className:"h-2 w-2 fill-current"})})}),e]}));Fwe.displayName=AK.displayName;const OK=g.forwardRef(({className:t,inset:e,...r},n)=>l.jsx(TK,{ref:n,className:ge("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...r}));OK.displayName=TK.displayName;const MK=g.forwardRef(({className:t,...e},r)=>l.jsx(RK,{ref:r,className:ge("-mx-1 my-1 h-px bg-muted",t),...e}));MK.displayName=RK.displayName;const DK="/Tecnologia-ECCOS/assets/Logo-eccos-BAcSftxZ.png",xF=({icon:t,label:e,href:r,active:n,expanded:i})=>l.jsxs(Xd,{to:r,className:ge("flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-300 group relative overflow-hidden","hover:bg-gradient-to-r hover:from-sidebar/10 hover:to-eccos-purple/10 hover:shadow-md hover:scale-[1.02]","border border-transparent hover:border-gray-100/50",n?"bg-gradient-to-r from-sidebar/15 to-eccos-purple/15 text-eccos-purple shadow-lg border-eccos-purple/20 scale-[1.02]":"text-gray-700",i?"w-full":"w-12 justify-center"),tabIndex:0,"aria-current":n?"page":void 0,children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-700"}),l.jsx(t,{className:ge("h-5 w-5 shrink-0 stroke-[1.5] transition-all duration-300 relative z-10",n?"stroke-eccos-purple drop-shadow-sm":"stroke-gray-600 group-hover:stroke-eccos-purple")}),l.jsx("span",{className:ge("transition-all duration-300 font-medium relative z-10",n?"text-eccos-purple font-semibold":"group-hover:text-eccos-purple",i?"opacity-100":"opacity-0 w-0 overflow-hidden"),children:e})]}),Vwe=({href:t,active:e,expanded:r,children:n,icon:i})=>l.jsxs(Xd,{to:t,className:ge("flex items-center gap-3 px-6 py-2.5 rounded-lg transition-all duration-300 group relative ml-2","hover:bg-gradient-to-r hover:from-sidebar/8 hover:to-eccos-purple/8 hover:shadow-sm hover:scale-[1.01]","border border-transparent hover:border-gray-100/30",e?"bg-gradient-to-r from-sidebar/12 to-eccos-purple/12 text-eccos-purple shadow-md border-eccos-purple/15":"text-gray-600",r?"w-full":"w-10 justify-center"),children:[l.jsx(i,{className:ge("h-4 w-4 shrink-0 stroke-[1.5] transition-all duration-300",e?"stroke-eccos-purple":"stroke-gray-500 group-hover:stroke-eccos-purple")}),l.jsx("span",{className:ge("transition-all duration-300 font-medium text-sm",e?"text-eccos-purple font-semibold":"group-hover:text-eccos-purple",r?"opacity-100":"opacity-0 w-0 overflow-hidden"),children:n}),e&&l.jsx("div",{className:"absolute left-1 w-1 h-4 rounded-full bg-gradient-to-b from-sidebar to-eccos-purple"})]}),Bwe=({label:t,icon:e,children:r,expanded:n})=>{const i=Ji(),[s,a]=g.useState(!1),o=B.Children.toArray(r).some(c=>i.pathname===c.props.href);return l.jsxs("div",{className:"space-y-1",children:[l.jsxs("button",{onClick:()=>a(!s),className:ge("flex items-center justify-between w-full px-4 py-3 rounded-xl group relative overflow-hidden","transition-all duration-300 hover:scale-[1.02]","hover:bg-gradient-to-r hover:from-sidebar/10 hover:to-eccos-purple/10 hover:shadow-md","border border-transparent hover:border-gray-100/50",o?"bg-gradient-to-r from-sidebar/15 to-eccos-purple/15 text-eccos-purple shadow-lg border-eccos-purple/20":"text-gray-700 hover:text-eccos-purple",n?"pr-3":"justify-center"),children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-700"}),l.jsxs("div",{className:"flex items-center gap-3 relative z-10",children:[l.jsx(e,{className:ge("h-5 w-5 shrink-0 stroke-[1.5] transition-all duration-300",o?"stroke-eccos-purple drop-shadow-sm":"stroke-gray-600 group-hover:stroke-eccos-purple")}),l.jsx("span",{className:ge("transition-all duration-300 font-medium",o?"text-eccos-purple font-semibold":"group-hover:text-eccos-purple",n?"opacity-100":"opacity-0 w-0 overflow-hidden"),children:t})]}),n&&l.jsx("div",{className:"relative z-10",children:s?l.jsx(h8,{className:ge("h-4 w-4 stroke-[1.5] transition-all duration-300",o?"stroke-eccos-purple":"stroke-gray-600 group-hover:stroke-eccos-purple")}):l.jsx(qs,{className:ge("h-4 w-4 stroke-[1.5] transition-all duration-300",o?"stroke-eccos-purple":"stroke-gray-600 group-hover:stroke-eccos-purple")})})]}),l.jsx("div",{className:ge("space-y-1 transition-all duration-300 overflow-hidden",s&&n?"max-h-96 opacity-100":"max-h-0 opacity-0"),children:B.Children.map(r,c=>B.cloneElement(c,{active:i.pathname===c.props.href,expanded:n}))})]})},bF=()=>{var d,f,h;const[t,e]=g.useState(!0),r=Ji(),{signOut:n,currentUser:i,userPermissions:s,isSuperAdmin:a}=zr(),o=[{icon:Z1,label:"Página Inicial",href:"/"},{icon:Ti,label:"Minhas Solicitações",href:"/minhas-solicitacoes"},{icon:TR,label:"Nova Solicitação",items:[{icon:NR,label:"Reserva",href:"/nova-solicitacao/reserva"},{icon:yo,label:"Compra",href:"/nova-solicitacao/compra"},{icon:Pa,label:"Manutenção",href:"/nova-solicitacao/suporte"}]}],c=[{icon:_i,label:"Calendário",href:"/calendario",permission:"solicitacoes"},{icon:Iw,label:"Equipamentos",href:"/equipamentos",permission:"equipamentos"},{icon:_i,label:"Disponibilidade",href:"/disponibilidade",permission:"equipamentos"},{icon:Ov,label:"Usuários",href:"/usuarios",permission:"usuarios"},{icon:Ti,label:"Solicitações",href:"/solicitacoes",permission:"solicitacoes"},{icon:Rd,label:"Notificações",href:"/notificacoes",permission:"notificacoes"},{icon:PR,label:"Estoque",href:"/estoque",permission:"estoque"},{icon:fd,label:"Suporte Plataforma",href:"/suporte-plataforma",permission:"suporte-plataforma"},{icon:yo,label:"Compras",href:"/compras-financeiro",permission:"financeiro"},{icon:Pa,label:"Chamados de Manutenção",href:"/suporte-operacional",permission:"suporte-operacional"}];a&&c.push({icon:Ov,label:"Gerenciar Roles",href:"/roles",permission:null});const u=c.filter(p=>a||p.permission&&s[p.permission]);return l.jsxs("div",{className:ge("h-screen bg-slate-50 border-r border-gray-100 flex flex-col relative overflow-hidden","transition-all duration-300 z-10 backdrop-blur-lg shadow-2xl",t?"w-72":"w-20"),children:[l.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[l.jsx("div",{className:"absolute -top-10 -right-10 h-32 w-32 rounded-full bg-gradient-to-br from-sidebar/20 to-eccos-purple/20 blur-2xl opacity-50"}),l.jsx("div",{className:"absolute top-1/3 -left-10 h-24 w-24 rounded-full bg-gradient-to-tr from-eccos-purple/15 to-sidebar/15 blur-xl opacity-40"}),l.jsx("div",{className:"absolute bottom-1/4 -right-8 h-20 w-20 rounded-full bg-gradient-to-bl from-sidebar/25 to-eccos-purple/25 blur-xl opacity-30"})]}),l.jsx("div",{className:"h-24 shrink-0 flex items-center justify-between p-1 relative z-10",children:l.jsx(Xd,{to:"/",className:ge("flex items-center justify-center overflow-hidden px-4 py-0 w-full group",t?"opacity-100":"opacity-0 w-0 overflow-hidden"),children:l.jsx("img",{src:DK,alt:"Logo ECCOS",className:"h-32 w-32 object-contain transition-all duration-500 shrink-0 cursor-pointer group-hover:scale-110 group-hover:drop-shadow-lg"})})}),l.jsxs("div",{className:"flex-1 overflow-y-auto px-4 py-4 space-y-2 relative z-10 custom-scrollbar",children:[o.map((p,v)=>"items"in p?l.jsx(Bwe,{label:p.label,icon:p.icon,expanded:t,children:p.items.map((m,b)=>l.jsx(Vwe,{href:m.href,active:r.pathname===m.href,expanded:t,icon:m.icon,children:m.label},b))},v):l.jsx(xF,{icon:p.icon,label:p.label,href:p.href,active:r.pathname===p.href,expanded:t},v)),u.length>0&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"relative my-6",children:[l.jsx("div",{className:"absolute inset-0 flex items-center",children:l.jsx("div",{className:"w-full border-t border-gradient-to-r from-transparent via-gray-200 to-transparent"})}),l.jsx("div",{className:"relative flex justify-center",children:l.jsx("div",{className:"px-3 bg-slate-50",children:l.jsx("span",{className:ge("text-xs font-semibold tracking-wider uppercase","text-transparent bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text",t?"opacity-100":"opacity-0"),children:"Administração"})})})]}),u.map((p,v)=>l.jsx(xF,{icon:p.icon,label:p.label,href:p.href,active:r.pathname===p.href,expanded:t},`admin-${v}`))]})]}),l.jsxs("div",{className:"shrink-0 pt-4 pb-4 px-4 border-t border-gray-100 relative z-10",children:[l.jsxs(Xd,{to:"/perfil",className:ge("flex items-center gap-3 p-3 mb-3 rounded-xl transition-all duration-300 group relative overflow-hidden","hover:bg-gradient-to-r hover:from-sidebar/10 hover:to-eccos-purple/10 hover:shadow-md hover:scale-[1.02]","border border-transparent hover:border-gray-100/50",r.pathname==="/perfil"?"bg-gradient-to-r from-sidebar/15 to-eccos-purple/15 text-eccos-purple shadow-lg border-eccos-purple/20 scale-[1.02]":"",t?"w-full":"w-12 justify-center"),children:[i!=null&&i.photoURL?l.jsx("img",{src:i.photoURL,alt:"User profile",className:"h-8 w-8 rounded-full object-cover"}):l.jsx("div",{className:"h-8 w-8 rounded-full flex items-center justify-center bg-gradient-to-br from-sidebar to-eccos-purple text-white font-bold",children:((d=i==null?void 0:i.displayName)==null?void 0:d.charAt(0))||((f=i==null?void 0:i.email)==null?void 0:f.charAt(0).toUpperCase())||"U"}),t&&l.jsxs("div",{className:"flex flex-col min-w-0",children:[l.jsx("span",{className:"text-sm font-medium text-gray-700 group-hover:text-eccos-purple transition-colors duration-300 truncate",children:(i==null?void 0:i.displayName)||((h=i==null?void 0:i.email)==null?void 0:h.split("@")[0])}),l.jsx("span",{className:"text-xs text-gray-500 group-hover:text-eccos-purple/80 transition-colors duration-300 capitalize",children:i==null?void 0:i.role})]})]}),l.jsxs(ys,{children:[l.jsx(xs,{asChild:!0,children:l.jsxs("button",{className:ge("w-full p-3 rounded-xl transition-all duration-300 group relative overflow-hidden","hover:bg-gradient-to-r hover:from-red-50 hover:to-red-100 hover:shadow-lg hover:scale-[1.02]","focus:outline-none flex items-center gap-3 text-gray-700 hover:text-red-600","border border-transparent hover:border-red-200/50",t?"px-4 justify-start":"justify-center"),"aria-label":"Menu de logout",children:[l.jsx(KL,{className:"h-5 w-5 shrink-0 stroke-[1.5] transition-all duration-300 relative z-10 group-hover:stroke-red-600"}),t&&l.jsx("span",{className:"text-sm transition-all duration-300 font-medium relative z-10 group-hover:text-red-600",children:"Sair"})]})}),l.jsxs(qi,{align:t?"start":"center",className:"rounded-xl shadow-xl border-gray-100 bg-white/95 backdrop-blur-sm",children:[l.jsx(OK,{className:"text-xs font-semibold text-gray-600 bg-gradient-to-r from-sidebar/10 to-eccos-purple/10 rounded-t-lg",children:"Ações da Conta"}),l.jsx(MK,{className:"bg-gray-100"}),l.jsxs(jp,{onClick:n,className:"text-red-600 cursor-pointer focus:bg-red-50 hover:bg-red-50 rounded-lg m-1 transition-all duration-200 font-medium",children:[l.jsx(KL,{className:"mr-2 h-4 w-4 stroke-[1.5]"}),l.jsx("span",{className:"text-sm",children:"Confirmar Saída"})]})]})]})]})]})},xT=768;function Uwe(){const[t,e]=g.useState(void 0);return g.useEffect(()=>{const r=window.matchMedia(`(max-width: ${xT-1}px)`),n=()=>{e(window.innerWidth<xT)};return r.addEventListener("change",n),e(window.innerWidth<xT),()=>r.removeEventListener("change",n)},[]),!!t}var UE="Dialog",[LK,$K]=fi(UE),[zwe,Ka]=LK(UE),FK=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:i,onOpenChange:s,modal:a=!0}=t,o=g.useRef(null),c=g.useRef(null),[u,d]=Dl({prop:n,defaultProp:i??!1,onChange:s,caller:UE});return l.jsx(zwe,{scope:e,triggerRef:o,contentRef:c,contentId:qn(),titleId:qn(),descriptionId:qn(),open:u,onOpenChange:d,onOpenToggle:g.useCallback(()=>d(f=>!f),[d]),modal:a,children:r})};FK.displayName=UE;var VK="DialogTrigger",BK=g.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Ka(VK,r),s=rt(e,i.triggerRef);return l.jsx(ht.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":CI(i.open),...n,ref:s,onClick:Se(t.onClick,i.onOpenToggle)})});BK.displayName=VK;var TI="DialogPortal",[qwe,UK]=LK(TI,{forceMount:void 0}),zK=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:i}=t,s=Ka(TI,e);return l.jsx(qwe,{scope:e,forceMount:r,children:g.Children.map(n,a=>l.jsx(Zi,{present:r||s.open,children:l.jsx(H1,{asChild:!0,container:i,children:a})}))})};zK.displayName=TI;var d_="DialogOverlay",qK=g.forwardRef((t,e)=>{const r=UK(d_,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,s=Ka(d_,t.__scopeDialog);return s.modal?l.jsx(Zi,{present:n||s.open,children:l.jsx(Hwe,{...i,ref:e})}):null});qK.displayName=d_;var Wwe=hp("DialogOverlay.RemoveScroll"),Hwe=g.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Ka(d_,r);return l.jsx(D0,{as:Wwe,allowPinchZoom:!0,shards:[i.contentRef],children:l.jsx(ht.div,{"data-state":CI(i.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),nf="DialogContent",WK=g.forwardRef((t,e)=>{const r=UK(nf,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,s=Ka(nf,t.__scopeDialog);return l.jsx(Zi,{present:n||s.open,children:s.modal?l.jsx(Kwe,{...i,ref:e}):l.jsx(Gwe,{...i,ref:e})})});WK.displayName=nf;var Kwe=g.forwardRef((t,e)=>{const r=Ka(nf,t.__scopeDialog),n=g.useRef(null),i=rt(e,r.contentRef,n);return g.useEffect(()=>{const s=n.current;if(s)return LE(s)},[]),l.jsx(HK,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Se(t.onCloseAutoFocus,s=>{var a;s.preventDefault(),(a=r.triggerRef.current)==null||a.focus()}),onPointerDownOutside:Se(t.onPointerDownOutside,s=>{const a=s.detail.originalEvent,o=a.button===0&&a.ctrlKey===!0;(a.button===2||o)&&s.preventDefault()}),onFocusOutside:Se(t.onFocusOutside,s=>s.preventDefault())})}),Gwe=g.forwardRef((t,e)=>{const r=Ka(nf,t.__scopeDialog),n=g.useRef(!1),i=g.useRef(!1);return l.jsx(HK,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var a,o;(a=t.onCloseAutoFocus)==null||a.call(t,s),s.defaultPrevented||(n.current||(o=r.triggerRef.current)==null||o.focus(),s.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:s=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=s.target;((u=r.triggerRef.current)==null?void 0:u.contains(a))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),HK=g.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:s,...a}=t,o=Ka(nf,r),c=g.useRef(null),u=rt(e,c);return ME(),l.jsxs(l.Fragment,{children:[l.jsx(yI,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:s,children:l.jsx(u0,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":CI(o.open),...a,ref:u,onDismiss:()=>o.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(Xwe,{titleId:o.titleId}),l.jsx(Zwe,{contentRef:c,descriptionId:o.descriptionId})]})]})}),jI="DialogTitle",KK=g.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Ka(jI,r);return l.jsx(ht.h2,{id:i.titleId,...n,ref:e})});KK.displayName=jI;var GK="DialogDescription",YK=g.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Ka(GK,r);return l.jsx(ht.p,{id:i.descriptionId,...n,ref:e})});YK.displayName=GK;var XK="DialogClose",QK=g.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Ka(XK,r);return l.jsx(ht.button,{type:"button",...n,ref:e,onClick:Se(t.onClick,()=>i.onOpenChange(!1))})});QK.displayName=XK;function CI(t){return t?"open":"closed"}var ZK="DialogTitleWarning",[Ywe,JK]=zse(ZK,{contentName:nf,titleName:jI,docsSlug:"dialog"}),Xwe=({titleId:t})=>{const e=JK(ZK),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return g.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},Qwe="DialogDescriptionWarning",Zwe=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${JK(Qwe).contentName}}.`;return g.useEffect(()=>{var s;const i=(s=t.current)==null?void 0:s.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},zE=FK,AI=BK,qE=zK,bm=qK,wm=WK,F0=KK,V0=YK,WE=QK;const Jwe=zE,e_e=AI,t_e=qE,eG=g.forwardRef(({className:t,...e},r)=>l.jsx(bm,{className:ge("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));eG.displayName=bm.displayName;const r_e=f0("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),tG=g.forwardRef(({side:t="right",className:e,children:r,...n},i)=>l.jsxs(t_e,{children:[l.jsx(eG,{}),l.jsxs(wm,{ref:i,className:ge(r_e({side:t}),e),...n,children:[r,l.jsxs(WE,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[l.jsx(xo,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));tG.displayName=wm.displayName;const n_e=g.forwardRef(({className:t,...e},r)=>l.jsx(F0,{ref:r,className:ge("text-lg font-semibold text-foreground",t),...e}));n_e.displayName=F0.displayName;const i_e=g.forwardRef(({className:t,...e},r)=>l.jsx(V0,{ref:r,className:ge("text-sm text-muted-foreground",t),...e}));i_e.displayName=V0.displayName;const Jv=f0("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),oe=g.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...i},s)=>{const a=n?Vz:"button";return l.jsx(a,{className:ge(Jv({variant:e,size:r,className:t})),ref:s,...i})});oe.displayName="Button";function rG(t){const e=s_e(t),r=g.forwardRef((n,i)=>{const{children:s,...a}=n,o=g.Children.toArray(s),c=o.find(o_e);if(c){const u=c.props.children,d=o.map(f=>f===c?g.Children.count(u)>1?g.Children.only(null):g.isValidElement(u)?u.props.children:null:f);return l.jsx(e,{...a,ref:i,children:g.isValidElement(u)?g.cloneElement(u,void 0,d):null})}return l.jsx(e,{...a,ref:i,children:s})});return r.displayName=`${t}.Slot`,r}function s_e(t){const e=g.forwardRef((r,n)=>{const{children:i,...s}=r;if(g.isValidElement(i)){const a=c_e(i),o=l_e(s,i.props);return i.type!==g.Fragment&&(o.ref=n?Io(n,a):a),g.cloneElement(i,o)}return g.Children.count(i)>1?g.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var a_e=Symbol("radix.slottable");function o_e(t){return g.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===a_e}function l_e(t,e){const r={...e};for(const n in e){const i=t[n],s=e[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...o)=>{const c=s(...o);return i(...o),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...t,...r}}function c_e(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var u_e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Xl=u_e.reduce((t,e)=>{const r=rG(`Primitive.${e}`),n=g.forwardRef((i,s)=>{const{asChild:a,...o}=i,c=a?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(c,{...o,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function d_e(t,e){t&&Bo.flushSync(()=>t.dispatchEvent(e))}var f_e="DismissableLayer",EA="dismissableLayer.update",h_e="dismissableLayer.pointerDownOutside",p_e="dismissableLayer.focusOutside",wF,nG=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),iG=g.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:a,onDismiss:o,...c}=t,u=g.useContext(nG),[d,f]=g.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=g.useState({}),v=rt(e,T=>f(T)),m=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),w=m.indexOf(b),y=d?m.indexOf(d):-1,_=u.layersWithOutsidePointerEventsDisabled.size>0,S=y>=w,E=v_e(T=>{const j=T.target,A=[...u.branches].some(R=>R.contains(j));!S||A||(i==null||i(T),a==null||a(T),T.defaultPrevented||o==null||o())},h),N=y_e(T=>{const j=T.target;[...u.branches].some(R=>R.contains(j))||(s==null||s(T),a==null||a(T),T.defaultPrevented||o==null||o())},h);return wR(T=>{y===u.layers.size-1&&(n==null||n(T),!T.defaultPrevented&&o&&(T.preventDefault(),o()))},h),g.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(wF=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),_F(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=wF)}},[d,h,r,u]),g.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),_F())},[d,u]),g.useEffect(()=>{const T=()=>p({});return document.addEventListener(EA,T),()=>document.removeEventListener(EA,T)},[]),l.jsx(Xl.div,{...c,ref:v,style:{pointerEvents:_?S?"auto":"none":void 0,...t.style},onFocusCapture:Se(t.onFocusCapture,N.onFocusCapture),onBlurCapture:Se(t.onBlurCapture,N.onBlurCapture),onPointerDownCapture:Se(t.onPointerDownCapture,E.onPointerDownCapture)})});iG.displayName=f_e;var m_e="DismissableLayerBranch",g_e=g.forwardRef((t,e)=>{const r=g.useContext(nG),n=g.useRef(null),i=rt(e,n);return g.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),l.jsx(Xl.div,{...t,ref:i})});g_e.displayName=m_e;function v_e(t,e=globalThis==null?void 0:globalThis.document){const r=Or(t),n=g.useRef(!1),i=g.useRef(()=>{});return g.useEffect(()=>{const s=o=>{if(o.target&&!n.current){let c=function(){sG(h_e,r,u,{discrete:!0})};const u={originalEvent:o};o.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}else e.removeEventListener("click",i.current);n.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function y_e(t,e=globalThis==null?void 0:globalThis.document){const r=Or(t),n=g.useRef(!1);return g.useEffect(()=>{const i=s=>{s.target&&!n.current&&sG(p_e,r,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function _F(){const t=new CustomEvent(EA);document.dispatchEvent(t)}function sG(t,e,r,{discrete:n}){const i=r.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?d_e(i,s):i.dispatchEvent(s)}var bT="focusScope.autoFocusOnMount",wT="focusScope.autoFocusOnUnmount",EF={bubbles:!1,cancelable:!0},x_e="FocusScope",aG=g.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...a}=t,[o,c]=g.useState(null),u=Or(i),d=Or(s),f=g.useRef(null),h=rt(e,m=>c(m)),p=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(n){let m=function(_){if(p.paused||!o)return;const S=_.target;o.contains(S)?f.current=S:mc(f.current,{select:!0})},b=function(_){if(p.paused||!o)return;const S=_.relatedTarget;S!==null&&(o.contains(S)||mc(f.current,{select:!0}))},w=function(_){if(document.activeElement===document.body)for(const E of _)E.removedNodes.length>0&&mc(o)};document.addEventListener("focusin",m),document.addEventListener("focusout",b);const y=new MutationObserver(w);return o&&y.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",b),y.disconnect()}}},[n,o,p.paused]),g.useEffect(()=>{if(o){NF.add(p);const m=document.activeElement;if(!o.contains(m)){const w=new CustomEvent(bT,EF);o.addEventListener(bT,u),o.dispatchEvent(w),w.defaultPrevented||(b_e(N_e(oG(o)),{select:!0}),document.activeElement===m&&mc(o))}return()=>{o.removeEventListener(bT,u),setTimeout(()=>{const w=new CustomEvent(wT,EF);o.addEventListener(wT,d),o.dispatchEvent(w),w.defaultPrevented||mc(m??document.body,{select:!0}),o.removeEventListener(wT,d),NF.remove(p)},0)}}},[o,u,d,p]);const v=g.useCallback(m=>{if(!r&&!n||p.paused)return;const b=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,w=document.activeElement;if(b&&w){const y=m.currentTarget,[_,S]=w_e(y);_&&S?!m.shiftKey&&w===S?(m.preventDefault(),r&&mc(_,{select:!0})):m.shiftKey&&w===_&&(m.preventDefault(),r&&mc(S,{select:!0})):w===y&&m.preventDefault()}},[r,n,p.paused]);return l.jsx(Xl.div,{tabIndex:-1,...a,ref:h,onKeyDown:v})});aG.displayName=x_e;function b_e(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(mc(n,{select:e}),document.activeElement!==r)return}function w_e(t){const e=oG(t),r=SF(e,t),n=SF(e.reverse(),t);return[r,n]}function oG(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function SF(t,e){for(const r of t)if(!__e(r,{upTo:e}))return r}function __e(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function E_e(t){return t instanceof HTMLInputElement&&"select"in t}function mc(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&E_e(t)&&e&&t.select()}}var NF=S_e();function S_e(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=TF(t,e),t.unshift(e)},remove(e){var r;t=TF(t,e),(r=t[0])==null||r.resume()}}}function TF(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function N_e(t){return t.filter(e=>e.tagName!=="A")}var T_e="Arrow",lG=g.forwardRef((t,e)=>{const{children:r,width:n=10,height:i=5,...s}=t;return l.jsx(Xl.svg,{...s,ref:e,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});lG.displayName=T_e;var j_e=lG,PI="Popper",[cG,uG]=fi(PI),[C_e,dG]=cG(PI),fG=t=>{const{__scopePopper:e,children:r}=t,[n,i]=g.useState(null);return l.jsx(C_e,{scope:e,anchor:n,onAnchorChange:i,children:r})};fG.displayName=PI;var hG="PopperAnchor",pG=g.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...i}=t,s=dG(hG,r),a=g.useRef(null),o=rt(e,a);return g.useEffect(()=>{s.onAnchorChange((n==null?void 0:n.current)||a.current)}),n?null:l.jsx(Xl.div,{...i,ref:o})});pG.displayName=hG;var RI="PopperContent",[A_e,P_e]=cG(RI),mG=g.forwardRef((t,e)=>{var ce,Q,Y,ee,se,J;const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:s="center",alignOffset:a=0,arrowPadding:o=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:v,...m}=t,b=dG(RI,r),[w,y]=g.useState(null),_=rt(e,je=>y(je)),[S,E]=g.useState(null),N=nE(S),T=(N==null?void 0:N.width)??0,j=(N==null?void 0:N.height)??0,A=n+(s!=="center"?"-"+s:""),R=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},k=Array.isArray(u)?u:[u],O=k.length>0,P={padding:R,boundary:k.filter(k_e),altBoundary:O},{refs:D,floatingStyles:z,placement:M,isPositioned:V,middlewareData:L}=VR({strategy:"fixed",placement:A,whileElementsMounted:(...je)=>FR(...je,{animationFrame:p==="always"}),elements:{reference:b.anchor},middleware:[BR({mainAxis:i+j,alignmentAxis:a}),c&&UR({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?zR():void 0,...P}),c&&qR({...P}),WR({...P,apply:({elements:je,rects:Ae,availableWidth:ct,availableHeight:fe})=>{const{width:$e,height:Xe}=Ae.reference,vt=je.floating.style;vt.setProperty("--radix-popper-available-width",`${ct}px`),vt.setProperty("--radix-popper-available-height",`${fe}px`),vt.setProperty("--radix-popper-anchor-width",`${$e}px`),vt.setProperty("--radix-popper-anchor-height",`${Xe}px`)}}),S&&KR({element:S,padding:o}),I_e({arrowWidth:T,arrowHeight:j}),h&&HR({strategy:"referenceHidden",...P})]}),[$,G]=yG(M),q=Or(v);Br(()=>{V&&(q==null||q())},[V,q]);const U=(ce=L.arrow)==null?void 0:ce.x,X=(Q=L.arrow)==null?void 0:Q.y,ie=((Y=L.arrow)==null?void 0:Y.centerOffset)!==0,[le,xe]=g.useState();return Br(()=>{w&&xe(window.getComputedStyle(w).zIndex)},[w]),l.jsx("div",{ref:D.setFloating,"data-radix-popper-content-wrapper":"",style:{...z,transform:V?z.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:le,"--radix-popper-transform-origin":[(ee=L.transformOrigin)==null?void 0:ee.x,(se=L.transformOrigin)==null?void 0:se.y].join(" "),...((J=L.hide)==null?void 0:J.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:l.jsx(A_e,{scope:r,placedSide:$,onArrowChange:E,arrowX:U,arrowY:X,shouldHideArrow:ie,children:l.jsx(Xl.div,{"data-side":$,"data-align":G,...m,ref:_,style:{...m.style,animation:V?void 0:"none"}})})})});mG.displayName=RI;var gG="PopperArrow",R_e={top:"bottom",right:"left",bottom:"top",left:"right"},vG=g.forwardRef(function(e,r){const{__scopePopper:n,...i}=e,s=P_e(gG,n),a=R_e[s.placedSide];return l.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:l.jsx(j_e,{...i,ref:r,style:{...i.style,display:"block"}})})});vG.displayName=gG;function k_e(t){return t!==null}var I_e=t=>({name:"transformOrigin",options:t,fn(e){var b,w,y;const{placement:r,rects:n,middlewareData:i}=e,a=((b=i.arrow)==null?void 0:b.centerOffset)!==0,o=a?0:t.arrowWidth,c=a?0:t.arrowHeight,[u,d]=yG(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((w=i.arrow)==null?void 0:w.x)??0)+o/2,p=(((y=i.arrow)==null?void 0:y.y)??0)+c/2;let v="",m="";return u==="bottom"?(v=a?f:`${h}px`,m=`${-c}px`):u==="top"?(v=a?f:`${h}px`,m=`${n.floating.height+c}px`):u==="right"?(v=`${-c}px`,m=a?f:`${p}px`):u==="left"&&(v=`${n.floating.width+c}px`,m=a?f:`${p}px`),{data:{x:v,y:m}}}});function yG(t){const[e,r="center"]=t.split("-");return[e,r]}var O_e=fG,xG=pG,M_e=mG,D_e=vG,L_e="Portal",bG=g.forwardRef((t,e)=>{var o;const{container:r,...n}=t,[i,s]=g.useState(!1);Br(()=>s(!0),[]);const a=r||i&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return a?W1.createPortal(l.jsx(Xl.div,{...n,ref:e}),a):null});bG.displayName=L_e;var HE="Popover",[wG,get]=fi(HE,[uG]),B0=uG(),[$_e,Tu]=wG(HE),_G=t=>{const{__scopePopover:e,children:r,open:n,defaultOpen:i,onOpenChange:s,modal:a=!1}=t,o=B0(e),c=g.useRef(null),[u,d]=g.useState(!1),[f,h]=Dl({prop:n,defaultProp:i??!1,onChange:s,caller:HE});return l.jsx(O_e,{...o,children:l.jsx($_e,{scope:e,contentId:qn(),triggerRef:c,open:f,onOpenChange:h,onOpenToggle:g.useCallback(()=>h(p=>!p),[h]),hasCustomAnchor:u,onCustomAnchorAdd:g.useCallback(()=>d(!0),[]),onCustomAnchorRemove:g.useCallback(()=>d(!1),[]),modal:a,children:r})})};_G.displayName=HE;var EG="PopoverAnchor",F_e=g.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=Tu(EG,r),s=B0(r),{onCustomAnchorAdd:a,onCustomAnchorRemove:o}=i;return g.useEffect(()=>(a(),()=>o()),[a,o]),l.jsx(xG,{...s,...n,ref:e})});F_e.displayName=EG;var SG="PopoverTrigger",NG=g.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=Tu(SG,r),s=B0(r),a=rt(e,i.triggerRef),o=l.jsx(Xl.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":PG(i.open),...n,ref:a,onClick:Se(t.onClick,i.onOpenToggle)});return i.hasCustomAnchor?o:l.jsx(xG,{asChild:!0,...s,children:o})});NG.displayName=SG;var kI="PopoverPortal",[V_e,B_e]=wG(kI,{forceMount:void 0}),TG=t=>{const{__scopePopover:e,forceMount:r,children:n,container:i}=t,s=Tu(kI,e);return l.jsx(V_e,{scope:e,forceMount:r,children:l.jsx(Zi,{present:r||s.open,children:l.jsx(bG,{asChild:!0,container:i,children:n})})})};TG.displayName=kI;var Cp="PopoverContent",jG=g.forwardRef((t,e)=>{const r=B_e(Cp,t.__scopePopover),{forceMount:n=r.forceMount,...i}=t,s=Tu(Cp,t.__scopePopover);return l.jsx(Zi,{present:n||s.open,children:s.modal?l.jsx(z_e,{...i,ref:e}):l.jsx(q_e,{...i,ref:e})})});jG.displayName=Cp;var U_e=rG("PopoverContent.RemoveScroll"),z_e=g.forwardRef((t,e)=>{const r=Tu(Cp,t.__scopePopover),n=g.useRef(null),i=rt(e,n),s=g.useRef(!1);return g.useEffect(()=>{const a=n.current;if(a)return LE(a)},[]),l.jsx(D0,{as:U_e,allowPinchZoom:!0,children:l.jsx(CG,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Se(t.onCloseAutoFocus,a=>{var o;a.preventDefault(),s.current||(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Se(t.onPointerDownOutside,a=>{const o=a.detail.originalEvent,c=o.button===0&&o.ctrlKey===!0,u=o.button===2||c;s.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:Se(t.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})})}),q_e=g.forwardRef((t,e)=>{const r=Tu(Cp,t.__scopePopover),n=g.useRef(!1),i=g.useRef(!1);return l.jsx(CG,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var a,o;(a=t.onCloseAutoFocus)==null||a.call(t,s),s.defaultPrevented||(n.current||(o=r.triggerRef.current)==null||o.focus(),s.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:s=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=s.target;((u=r.triggerRef.current)==null?void 0:u.contains(a))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),CG=g.forwardRef((t,e)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:s,disableOutsidePointerEvents:a,onEscapeKeyDown:o,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=t,h=Tu(Cp,r),p=B0(r);return ME(),l.jsx(aG,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:s,children:l.jsx(iG,{asChild:!0,disableOutsidePointerEvents:a,onInteractOutside:d,onEscapeKeyDown:o,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:l.jsx(M_e,{"data-state":PG(h.open),role:"dialog",id:h.contentId,...p,...f,ref:e,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),AG="PopoverClose",W_e=g.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=Tu(AG,r);return l.jsx(Xl.button,{type:"button",...n,ref:e,onClick:Se(t.onClick,()=>i.onOpenChange(!1))})});W_e.displayName=AG;var H_e="PopoverArrow",K_e=g.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=B0(r);return l.jsx(D_e,{...i,...n,ref:e})});K_e.displayName=H_e;function PG(t){return t?"open":"closed"}var G_e=_G,Y_e=NG,X_e=TG,RG=jG;const f_=G_e,h_=Y_e,ey=g.forwardRef(({className:t,align:e="center",sideOffset:r=4,...n},i)=>l.jsx(X_e,{children:l.jsx(RG,{ref:i,align:e,sideOffset:r,className:ge("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));ey.displayName=RG.displayName;const Q_e=async t=>{try{const e=t.filter(i=>i.title==="Alteração de Status"?["Aprovada","Reprovada"].some(a=>i.message.includes(`alterado para ${a}`)):!0);if(e.length===0)return 0;const r=kE(Ue),n=on(Ue,"notifications");return e.forEach(i=>{const s=bt(n);r.set(s,{...i,createdAt:Tt.now()})}),await r.commit(),e.length}catch{throw new Error("Failed to create batch notifications")}},ty=async t=>{try{return(await cu(on(Ue,"notifications"),{...t,createdAt:Tt.now(),link:t.link||null,readBy:t.readBy||[]})).id}catch{throw new Error("Failed to create notification")}},kG=async t=>{try{const e=t===""?$a(on(Ue,"notifications"),o_("createdAt","desc")):$a(on(Ue,"notifications"),Qye(vs("recipients","array-contains",t),vs("recipients","==",[])),o_("createdAt","desc"));return(await ea(e)).docs.map(n=>{const i=n.data();return{id:n.id,title:i.title,message:i.message,createdAt:i.createdAt.toDate(),readBy:i.readBy||[],link:i.link||null,recipients:i.recipients||[],isBatch:i.isBatch||!1}})}catch{throw new Error("Failed to fetch notifications")}},Z_e=async(t,e)=>{if(e)try{await Rn(bt(Ue,"notifications",t),{readBy:Xv(e)})}catch{throw new Error("Failed to mark notification as read")}},J_e=async(t,e)=>{if(e)try{const r=kE(Ue),n=t.filter(i=>(i.recipients.includes(e)||i.recipients.length===0)&&!i.readBy.includes(e));return n.forEach(i=>{const s=bt(Ue,"notifications",i.id);r.update(s,{readBy:Xv(e)})}),await r.commit(),n.length}catch{throw new Error("Failed to mark all notifications as read")}},e1e=async t=>{try{await Sf(bt(Ue,"notifications",t))}catch{throw new Error("Failed to delete notification")}};function Vt(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Ns(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function Cn(t,e){const r=Vt(t);return isNaN(e)?Ns(t,NaN):(e&&r.setDate(r.getDate()+e),r)}function Fa(t,e){const r=Vt(t);if(isNaN(e))return Ns(t,NaN);if(!e)return r;const n=r.getDate(),i=Ns(t,r.getTime());i.setMonth(r.getMonth()+e+1,0);const s=i.getDate();return n>=s?i:(r.setFullYear(i.getFullYear(),i.getMonth(),n),r)}const II=6048e5,t1e=864e5;let r1e={};function U0(){return r1e}function Va(t,e){var o,c,u,d;const r=U0(),n=(e==null?void 0:e.weekStartsOn)??((c=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,i=Vt(t),s=i.getDay(),a=(s<n?7:0)+s-n;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function sf(t){return Va(t,{weekStartsOn:1})}function IG(t){const e=Vt(t),r=e.getFullYear(),n=Ns(t,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const i=sf(n),s=Ns(t,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const a=sf(s);return e.getTime()>=i.getTime()?r+1:e.getTime()>=a.getTime()?r:r-1}function Ap(t){const e=Vt(t);return e.setHours(0,0,0,0),e}function p_(t){const e=Vt(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function ho(t,e){const r=Ap(t),n=Ap(e),i=+r-p_(r),s=+n-p_(n);return Math.round((i-s)/t1e)}function n1e(t){const e=IG(t),r=Ns(t,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),sf(r)}function SA(t,e){const r=e*7;return Cn(t,r)}function i1e(t,e){return Fa(t,e*12)}function s1e(t){let e;return t.forEach(function(r){const n=Vt(r);(e===void 0||e<n||isNaN(Number(n)))&&(e=n)}),e||new Date(NaN)}function a1e(t){let e;return t.forEach(r=>{const n=Vt(r);(!e||e>n||isNaN(+n))&&(e=n)}),e||new Date(NaN)}function wn(t,e){const r=Ap(t),n=Ap(e);return+r==+n}function OI(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function o1e(t){if(!OI(t)&&typeof t!="number")return!1;const e=Vt(t);return!isNaN(Number(e))}function ry(t,e){const r=Vt(t),n=Vt(e),i=r.getFullYear()-n.getFullYear(),s=r.getMonth()-n.getMonth();return i*12+s}function l1e(t,e,r){const n=Va(t,r),i=Va(e,r),s=+n-p_(n),a=+i-p_(i);return Math.round((s-a)/II)}function MI(t){const e=Vt(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(23,59,59,999),e}function Qi(t){const e=Vt(t);return e.setDate(1),e.setHours(0,0,0,0),e}function OG(t){const e=Vt(t),r=Ns(t,0);return r.setFullYear(e.getFullYear(),0,1),r.setHours(0,0,0,0),r}function DI(t,e){var o,c,u,d;const r=U0(),n=(e==null?void 0:e.weekStartsOn)??((c=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,i=Vt(t),s=i.getDay(),a=(s<n?-7:0)+6-(s-n);return i.setDate(i.getDate()+a),i.setHours(23,59,59,999),i}function MG(t){return DI(t,{weekStartsOn:1})}const c1e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},u1e=(t,e,r)=>{let n;const i=c1e[t];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Vh(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const d1e={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},f1e={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},h1e={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},p1e={date:Vh({formats:d1e,defaultWidth:"full"}),time:Vh({formats:f1e,defaultWidth:"full"}),dateTime:Vh({formats:h1e,defaultWidth:"full"})},m1e={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},g1e=(t,e,r,n)=>m1e[t];function co(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let i;if(n==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,o=r!=null&&r.width?String(r.width):a;i=t.formattingValues[o]||t.formattingValues[a]}else{const a=t.defaultWidth,o=r!=null&&r.width?String(r.width):t.defaultWidth;i=t.values[o]||t.values[a]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const v1e={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},y1e={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},x1e={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},b1e={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},w1e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},_1e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},E1e=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},S1e={ordinalNumber:E1e,era:co({values:v1e,defaultWidth:"wide"}),quarter:co({values:y1e,defaultWidth:"wide",argumentCallback:t=>t-1}),month:co({values:x1e,defaultWidth:"wide"}),day:co({values:b1e,defaultWidth:"wide"}),dayPeriod:co({values:w1e,defaultWidth:"wide",formattingValues:_1e,defaultFormattingWidth:"wide"})};function uo(t){return(e,r={})=>{const n=r.width,i=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const a=s[0],o=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(o)?T1e(o,f=>f.test(a)):N1e(o,f=>f.test(a));let u;u=t.valueCallback?t.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=e.slice(a.length);return{value:u,rest:d}}}function N1e(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function T1e(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function DG(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const i=n[0],s=e.match(t.parsePattern);if(!s)return null;let a=t.valueCallback?t.valueCallback(s[0]):s[0];a=r.valueCallback?r.valueCallback(a):a;const o=e.slice(i.length);return{value:a,rest:o}}}const j1e=/^(\d+)(th|st|nd|rd)?/i,C1e=/\d+/i,A1e={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},P1e={any:[/^b/i,/^(a|c)/i]},R1e={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},k1e={any:[/1/i,/2/i,/3/i,/4/i]},I1e={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},O1e={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},M1e={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},D1e={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},L1e={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},$1e={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},F1e={ordinalNumber:DG({matchPattern:j1e,parsePattern:C1e,valueCallback:t=>parseInt(t,10)}),era:uo({matchPatterns:A1e,defaultMatchWidth:"wide",parsePatterns:P1e,defaultParseWidth:"any"}),quarter:uo({matchPatterns:R1e,defaultMatchWidth:"wide",parsePatterns:k1e,defaultParseWidth:"any",valueCallback:t=>t+1}),month:uo({matchPatterns:I1e,defaultMatchWidth:"wide",parsePatterns:O1e,defaultParseWidth:"any"}),day:uo({matchPatterns:M1e,defaultMatchWidth:"wide",parsePatterns:D1e,defaultParseWidth:"any"}),dayPeriod:uo({matchPatterns:L1e,defaultMatchWidth:"any",parsePatterns:$1e,defaultParseWidth:"any"})},LG={code:"en-US",formatDistance:u1e,formatLong:p1e,formatRelative:g1e,localize:S1e,match:F1e,options:{weekStartsOn:0,firstWeekContainsDate:1}};function V1e(t){const e=Vt(t);return ho(e,OG(e))+1}function $G(t){const e=Vt(t),r=+sf(e)-+n1e(e);return Math.round(r/II)+1}function FG(t,e){var d,f,h,p;const r=Vt(t),n=r.getFullYear(),i=U0(),s=(e==null?void 0:e.firstWeekContainsDate)??((f=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??i.firstWeekContainsDate??((p=(h=i.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,a=Ns(t,0);a.setFullYear(n+1,0,s),a.setHours(0,0,0,0);const o=Va(a,e),c=Ns(t,0);c.setFullYear(n,0,s),c.setHours(0,0,0,0);const u=Va(c,e);return r.getTime()>=o.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function B1e(t,e){var o,c,u,d;const r=U0(),n=(e==null?void 0:e.firstWeekContainsDate)??((c=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,i=FG(t,e),s=Ns(t,0);return s.setFullYear(i,0,n),s.setHours(0,0,0,0),Va(s,e)}function VG(t,e){const r=Vt(t),n=+Va(r,e)-+B1e(r,e);return Math.round(n/II)+1}function er(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const dc={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return er(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):er(r+1,2)},d(t,e){return er(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return er(t.getHours()%12||12,e.length)},H(t,e){return er(t.getHours(),e.length)},m(t,e){return er(t.getMinutes(),e.length)},s(t,e){return er(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return er(i,e.length)}},Wf={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},jF={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return dc.y(t,e)},Y:function(t,e,r,n){const i=FG(t,n),s=i>0?i:1-i;if(e==="YY"){const a=s%100;return er(a,2)}return e==="Yo"?r.ordinalNumber(s,{unit:"year"}):er(s,e.length)},R:function(t,e){const r=IG(t);return er(r,e.length)},u:function(t,e){const r=t.getFullYear();return er(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return er(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return er(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return dc.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return er(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const i=VG(t,n);return e==="wo"?r.ordinalNumber(i,{unit:"week"}):er(i,e.length)},I:function(t,e,r){const n=$G(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):er(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):dc.d(t,e)},D:function(t,e,r){const n=V1e(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):er(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const i=t.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return er(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const i=t.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return er(s,e.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),i=n===0?7:n;switch(e){case"i":return String(i);case"ii":return er(i,e.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let i;switch(n===12?i=Wf.noon:n===0?i=Wf.midnight:i=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let i;switch(n>=17?i=Wf.evening:n>=12?i=Wf.afternoon:n>=4?i=Wf.morning:i=Wf.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return dc.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):dc.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):er(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):er(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):dc.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):dc.s(t,e)},S:function(t,e){return dc.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return AF(n);case"XXXX":case"XX":return td(n);case"XXXXX":case"XXX":default:return td(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return AF(n);case"xxxx":case"xx":return td(n);case"xxxxx":case"xxx":default:return td(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+CF(n,":");case"OOOO":default:return"GMT"+td(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+CF(n,":");case"zzzz":default:return"GMT"+td(n,":")}},t:function(t,e,r){const n=Math.trunc(t.getTime()/1e3);return er(n,e.length)},T:function(t,e,r){const n=t.getTime();return er(n,e.length)}};function CF(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=Math.trunc(n/60),s=n%60;return s===0?r+String(i):r+String(i)+e+er(s,2)}function AF(t,e){return t%60===0?(t>0?"-":"+")+er(Math.abs(t)/60,2):td(t,e)}function td(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=er(Math.trunc(n/60),2),s=er(n%60,2);return r+i+e+s}const PF=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},BG=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},U1e=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return PF(t,e);let s;switch(n){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",PF(n,e)).replace("{{time}}",BG(i,e))},z1e={p:BG,P:U1e},q1e=/^D+$/,W1e=/^Y+$/,H1e=["D","DD","YY","YYYY"];function K1e(t){return q1e.test(t)}function G1e(t){return W1e.test(t)}function Y1e(t,e,r){const n=X1e(t,e,r);if(console.warn(n),H1e.includes(t))throw new RangeError(n)}function X1e(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Q1e=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Z1e=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,J1e=/^'([^]*?)'?$/,eEe=/''/g,tEe=/[a-zA-Z]/;function Dt(t,e,r){var d,f,h,p,v,m,b,w;const n=U0(),i=(r==null?void 0:r.locale)??n.locale??LG,s=(r==null?void 0:r.firstWeekContainsDate)??((f=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((p=(h=n.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,a=(r==null?void 0:r.weekStartsOn)??((m=(v=r==null?void 0:r.locale)==null?void 0:v.options)==null?void 0:m.weekStartsOn)??n.weekStartsOn??((w=(b=n.locale)==null?void 0:b.options)==null?void 0:w.weekStartsOn)??0,o=Vt(t);if(!o1e(o))throw new RangeError("Invalid time value");let c=e.match(Z1e).map(y=>{const _=y[0];if(_==="p"||_==="P"){const S=z1e[_];return S(y,i.formatLong)}return y}).join("").match(Q1e).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const _=y[0];if(_==="'")return{isToken:!1,value:rEe(y)};if(jF[_])return{isToken:!0,value:y};if(_.match(tEe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+_+"`");return{isToken:!1,value:y}});i.localize.preprocessor&&(c=i.localize.preprocessor(o,c));const u={firstWeekContainsDate:s,weekStartsOn:a,locale:i};return c.map(y=>{if(!y.isToken)return y.value;const _=y.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&G1e(_)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&K1e(_))&&Y1e(_,e,String(t));const S=jF[_[0]];return S(o,_,i.localize,u)}).join("")}function rEe(t){const e=t.match(J1e);return e?e[1].replace(eEe,"'"):t}function nEe(t){const e=Vt(t),r=e.getFullYear(),n=e.getMonth(),i=Ns(t,0);return i.setFullYear(r,n+1,0),i.setHours(0,0,0,0),i.getDate()}function iEe(t){return Math.trunc(+Vt(t)/1e3)}function sEe(t){const e=Vt(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(0,0,0,0),e}function aEe(t,e){return l1e(sEe(t),Qi(t),e)+1}function NA(t,e){const r=Vt(t),n=Vt(e);return r.getTime()>n.getTime()}function UG(t,e){const r=Vt(t),n=Vt(e);return+r<+n}function LI(t,e){const r=Vt(t),n=Vt(e);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function oEe(t,e){const r=Vt(t),n=Vt(e);return r.getFullYear()===n.getFullYear()}function _T(t,e){return Cn(t,-e)}function ET(t,e){const r=Vt(t),n=r.getFullYear(),i=r.getDate(),s=Ns(t,0);s.setFullYear(n,e,15),s.setHours(0,0,0,0);const a=nEe(s);return r.setMonth(e,Math.min(i,a)),r}function RF(t,e){const r=Vt(t);return isNaN(+r)?Ns(t,NaN):(r.setFullYear(e),r)}const lEe={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 mês",other:"cerca de {{count}} meses"},xMonths:{one:"1 mês",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},cEe=(t,e,r)=>{let n;const i=lEe[t];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",String(e)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"em "+n:"há "+n:n},uEe={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},dEe={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},fEe={full:"{{date}} 'às' {{time}}",long:"{{date}} 'às' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},hEe={date:Vh({formats:uEe,defaultWidth:"full"}),time:Vh({formats:dEe,defaultWidth:"full"}),dateTime:Vh({formats:fEe,defaultWidth:"full"})},pEe={lastWeek:t=>{const e=t.getDay();return"'"+(e===0||e===6?"último":"última")+"' eeee 'às' p"},yesterday:"'ontem às' p",today:"'hoje às' p",tomorrow:"'amanhã às' p",nextWeek:"eeee 'às' p",other:"P"},mEe=(t,e,r,n)=>{const i=pEe[t];return typeof i=="function"?i(e):i},gEe={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},vEe={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},yEe={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},xEe={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","terça","quarta","quinta","sexta","sábado"],wide:["domingo","segunda-feira","terça-feira","quarta-feira","quinta-feira","sexta-feira","sábado"]},bEe={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"}},wEe={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},_Ee=(t,e)=>{const r=Number(t);return(e==null?void 0:e.unit)==="week"?r+"ª":r+"º"},EEe={ordinalNumber:_Ee,era:co({values:gEe,defaultWidth:"wide"}),quarter:co({values:vEe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:co({values:yEe,defaultWidth:"wide"}),day:co({values:xEe,defaultWidth:"wide"}),dayPeriod:co({values:bEe,defaultWidth:"wide",formattingValues:wEe,defaultFormattingWidth:"wide"})},SEe=/^(\d+)[ºªo]?/i,NEe=/\d+/i,TEe={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},jEe={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},CEe={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},AEe={any:[/1/i,/2/i,/3/i,/4/i]},PEe={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|março|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},REe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},kEe={narrow:/^(dom|[23456]ª?|s[aá]b)/i,short:/^(dom|[23456]ª?|s[aá]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[aá]b)/i,wide:/^(domingo|(segunda|ter[cç]a|quarta|quinta|sexta)([- ]feira)?|s[aá]bado)/i},IEe={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[aá]b/i]},OEe={narrow:/^(a|p|mn|md|(da) (manhã|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manhã|tarde|noite))/i},MEe={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manhã/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},DEe={ordinalNumber:DG({matchPattern:SEe,parsePattern:NEe,valueCallback:t=>parseInt(t,10)}),era:uo({matchPatterns:TEe,defaultMatchWidth:"wide",parsePatterns:jEe,defaultParseWidth:"any"}),quarter:uo({matchPatterns:CEe,defaultMatchWidth:"wide",parsePatterns:AEe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:uo({matchPatterns:PEe,defaultMatchWidth:"wide",parsePatterns:REe,defaultParseWidth:"any"}),day:uo({matchPatterns:kEe,defaultMatchWidth:"wide",parsePatterns:IEe,defaultParseWidth:"any"}),dayPeriod:uo({matchPatterns:OEe,defaultMatchWidth:"any",parsePatterns:MEe,defaultParseWidth:"any"})},Pn={code:"pt-BR",formatDistance:cEe,formatLong:hEe,formatRelative:mEe,localize:EEe,match:DEe,options:{weekStartsOn:0,firstWeekContainsDate:1}},LEe=f0("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function _e({className:t,variant:e,...r}){return l.jsx("div",{className:ge(LEe({variant:e}),t),...r})}function $Ee({className:t,...e}){return l.jsx("div",{className:ge("animate-pulse rounded-md bg-muted",t),...e})}const kF=()=>{const{currentUser:t}=zr(),[e,r]=B.useState(!1),n=wu(),[i,s]=B.useState(!1),{data:a=[],isLoading:o,refetch:c}=Xi({queryKey:["notifications",t==null?void 0:t.email],queryFn:()=>kG((t==null?void 0:t.email)||""),enabled:!!t}),u=a.filter(h=>{var p;return!((p=h.readBy)!=null&&p.includes((t==null?void 0:t.email)||""))}).length,d=async h=>{var p;(p=h.readBy)!=null&&p.includes((t==null?void 0:t.email)||"")||(await Z_e(h.id,(t==null?void 0:t.email)||""),await c())},f=async()=>{if(!(u===0||!(t!=null&&t.email))){s(!0);try{await J_e(a,t.email),await c(),await n.invalidateQueries({queryKey:["notifications"]}),Ke.success(`${u} notificações marcadas como lidas`)}catch(h){Ke.error("Erro ao marcar notificações como lidas"),console.error("Erro:",h)}finally{s(!1)}}};return t?o?l.jsx($Ee,{className:"h-12 w-12 rounded-full"}):l.jsxs(f_,{open:e,onOpenChange:r,children:[u>0&&l.jsx("div",{className:"absolute top-0 right-0 -translate-x-1/4 -translate-y-1/4 bg-red-500 text-white text-xs rounded-full h-6 w-6 flex items-center justify-center font-semibold shadow-lg animate-pulse z-20",children:u>99?"99+":u}),l.jsx(h_,{asChild:!0,children:l.jsxs(oe,{variant:"default",size:"icon",className:"relative rounded-full w-12 h-12 shadow-lg hover:shadow-xl transition-all duration-300 bg-gradient-to-r from-sidebar to-eccos-purple hover:from-eccos-purple hover:to-sidebar group overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),u>0?l.jsx(Mae,{className:"h-6 w-6 text-white relative z-10"}):l.jsx(Rd,{className:"h-6 w-6 text-white relative z-10"})]})}),l.jsxs(ey,{className:"w-96 p-0 border border-gray-100 shadow-2xl rounded-2xl bg-white",align:"end",children:[l.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none rounded-2xl",children:[l.jsx("div",{className:"absolute left-1/4 top-1/4 h-32 w-32 rounded-full bg-sidebar blur-3xl opacity-5"}),l.jsx("div",{className:"absolute right-1/4 bottom-1/4 h-24 w-24 rounded-full bg-eccos-purple blur-3xl opacity-5"})]}),l.jsxs("div",{className:"relative z-10 p-6",children:[l.jsxs("div",{className:"flex items-center justify-between border-b border-gray-100 pb-4 mb-6",children:[l.jsxs("h4",{className:"font-bold text-xl flex items-center gap-3 bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:[l.jsx("div",{className:"inline-flex items-center justify-center w-8 h-8 rounded-full bg-eccos-purple/10 text-eccos-purple",children:l.jsx(Rd,{className:"h-4 w-4"})}),"Notificações"]}),u>0&&l.jsx(oe,{variant:"outline",size:"sm",onClick:f,disabled:i,className:"border-eccos-purple text-eccos-purple hover:bg-eccos-purple hover:text-white transition-all duration-200 rounded-lg",children:i?l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-2 border-current border-t-transparent"}),"Marcando..."]}):l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Y1,{className:"h-4 w-4"}),"Marcar todas"]})})]}),l.jsx("div",{className:"max-h-[400px] overflow-y-auto space-y-3",children:a.length>0?a.map(h=>{var v;const p=!((v=h.readBy)!=null&&v.includes((t==null?void 0:t.email)||""));return l.jsxs("div",{onClick:()=>d(h),className:`p-4 rounded-xl cursor-pointer transition-all duration-300 border relative group ${p?"bg-gradient-to-r from-blue-50 to-purple-50 border-blue-200 hover:border-eccos-purple shadow-sm hover:shadow-md":"bg-gray-50 border-gray-100 hover:bg-gray-100 opacity-75"}`,children:[p&&l.jsx("div",{className:"absolute top-3 right-3 w-3 h-3 bg-gradient-to-r from-sidebar to-eccos-purple rounded-full animate-pulse shadow-lg"}),l.jsxs("div",{className:"flex flex-col gap-3",children:[l.jsx("div",{className:"flex items-center gap-2",children:h.title==="Alteração de Status"?l.jsxs(_e,{className:"bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 text-white shadow-sm",children:[l.jsx(kv,{className:"h-3 w-3 mr-1"}),"Status"]}):h.recipients.length===0?l.jsxs(_e,{className:"bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white shadow-sm",children:[l.jsx(Lb,{className:"h-3 w-3 mr-1"}),"Global"]}):l.jsxs(_e,{className:"bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-600 hover:to-emerald-700 text-white shadow-sm",children:[l.jsx(Id,{className:"h-3 w-3 mr-1"}),"Individual"]})}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("h5",{className:"font-semibold text-gray-900 leading-tight",children:h.title}),l.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:h.message}),h.link&&l.jsx("a",{href:h.link,className:"inline-flex items-center text-sm text-eccos-purple hover:text-sidebar font-medium transition-colors underline decoration-2 underline-offset-2",onClick:m=>m.stopPropagation(),children:"Ver detalhes"})]}),l.jsx("div",{className:"flex items-center justify-between",children:l.jsx("time",{className:"text-xs text-gray-500 font-medium bg-white px-2 py-1 rounded-lg border border-gray-100",children:Dt(new Date(h.createdAt),"dd/MM/yy 'às' HH:mm",{locale:Pn})})})]})]},h.id)}):l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-gray-100 text-gray-400 mb-4",children:l.jsx(Rd,{className:"h-8 w-8"})}),l.jsx("p",{className:"text-gray-500 font-medium text-lg",children:"Nenhuma notificação"}),l.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"As notificações aparecerão aqui quando chegarem"})]})})]})]})]}):null},cn=({children:t})=>{const e=Uwe();return l.jsx("div",{className:"flex h-screen overflow-hidden bg-background",children:e?l.jsxs(l.Fragment,{children:[l.jsxs(Jwe,{children:[l.jsx(e_e,{asChild:!0,children:l.jsx(oe,{variant:"ghost",size:"icon",className:"fixed top-4 left-4 z-40 md:hidden",children:l.jsx(Kae,{className:"h-5 w-5"})})}),l.jsx(tG,{side:"left",className:"p-0 w-64",children:l.jsx(bF,{})})]}),l.jsx("div",{className:"fixed top-4 right-4 z-40",children:l.jsx(kF,{})}),l.jsxs("main",{className:"flex-1 overflow-auto p-6 pt-16",children:[" ",l.jsx("div",{className:"max-w-7xl mx-auto animate-fade-in",children:t})]})]}):l.jsxs(l.Fragment,{children:[l.jsx(bF,{}),l.jsx("div",{className:"fixed top-4 right-4 z-40",children:l.jsx(kF,{})}),l.jsxs("main",{className:"flex-1 overflow-auto p-6",children:[" ",l.jsx("div",{className:"max-w-7xl mx-auto animate-fade-in",children:t})]})]})})},or=g.forwardRef(({className:t,type:e,...r},n)=>l.jsx("input",{type:e,className:ge("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...r}));or.displayName="Input";const Ba=g.forwardRef(({className:t,...e},r)=>l.jsx("textarea",{className:ge("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...e}));Ba.displayName="Textarea";var KE="Tabs",[FEe,vet]=fi(KE,[DE]),zG=DE(),[VEe,$I]=FEe(KE),qG=g.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:i,defaultValue:s,orientation:a="horizontal",dir:o,activationMode:c="automatic",...u}=t,d=OE(o),[f,h]=Dl({prop:n,onChange:i,defaultProp:s??"",caller:KE});return l.jsx(VEe,{scope:r,baseId:qn(),value:f,onValueChange:h,orientation:a,dir:d,activationMode:c,children:l.jsx(ht.div,{dir:d,"data-orientation":a,...u,ref:e})})});qG.displayName=KE;var WG="TabsList",HG=g.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...i}=t,s=$I(WG,r),a=zG(r);return l.jsx(kH,{asChild:!0,...a,orientation:s.orientation,dir:s.dir,loop:n,children:l.jsx(ht.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});HG.displayName=WG;var KG="TabsTrigger",GG=g.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:i=!1,...s}=t,a=$I(KG,r),o=zG(r),c=QG(a.baseId,n),u=ZG(a.baseId,n),d=n===a.value;return l.jsx(IH,{asChild:!0,...o,focusable:!i,active:d,children:l.jsx(ht.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...s,ref:e,onMouseDown:Se(t.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?a.onValueChange(n):f.preventDefault()}),onKeyDown:Se(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&a.onValueChange(n)}),onFocus:Se(t.onFocus,()=>{const f=a.activationMode!=="manual";!d&&!i&&f&&a.onValueChange(n)})})})});GG.displayName=KG;var YG="TabsContent",XG=g.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:i,children:s,...a}=t,o=$I(YG,r),c=QG(o.baseId,n),u=ZG(o.baseId,n),d=n===o.value,f=g.useRef(d);return g.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),l.jsx(Zi,{present:i||d,children:({present:h})=>l.jsx(ht.div,{"data-state":d?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...a,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:h&&s})})});XG.displayName=YG;function QG(t,e){return`${t}-trigger-${e}`}function ZG(t,e){return`${t}-content-${e}`}var BEe=qG,JG=HG,eY=GG,tY=XG;const m_=BEe,ny=g.forwardRef(({className:t,...e},r)=>l.jsx(JG,{ref:r,className:ge("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));ny.displayName=JG.displayName;const ba=g.forwardRef(({className:t,...e},r)=>l.jsx(eY,{ref:r,className:ge("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));ba.displayName=eY.displayName;const af=g.forwardRef(({className:t,...e},r)=>l.jsx(tY,{ref:r,className:ge("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));af.displayName=tY.displayName;const tt=g.forwardRef(({className:t,...e},r)=>l.jsx("div",{ref:r,className:ge("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));tt.displayName="Card";const qt=g.forwardRef(({className:t,...e},r)=>l.jsx("div",{ref:r,className:ge("flex flex-col space-y-1.5 p-6",t),...e}));qt.displayName="CardHeader";const Wt=g.forwardRef(({className:t,...e},r)=>l.jsx("h3",{ref:r,className:ge("text-2xl font-semibold leading-none tracking-tight",t),...e}));Wt.displayName="CardTitle";const UEe=g.forwardRef(({className:t,...e},r)=>l.jsx("p",{ref:r,className:ge("text-sm text-muted-foreground",t),...e}));UEe.displayName="CardDescription";const mt=g.forwardRef(({className:t,...e},r)=>l.jsx("div",{ref:r,className:ge("p-6 pt-0",t),...e}));mt.displayName="CardContent";const zEe=g.forwardRef(({className:t,...e},r)=>l.jsx("div",{ref:r,className:ge("flex items-center p-6 pt-0",t),...e}));zEe.displayName="CardFooter";var IF=1,qEe=.9,WEe=.8,HEe=.17,ST=.1,NT=.999,KEe=.9999,GEe=.99,YEe=/[\\\/_+.#"@\[\(\{&]/,XEe=/[\\\/_+.#"@\[\(\{&]/g,QEe=/[\s-]/,rY=/[\s-]/g;function TA(t,e,r,n,i,s,a){if(s===e.length)return i===t.length?IF:GEe;var o=`${i},${s}`;if(a[o]!==void 0)return a[o];for(var c=n.charAt(s),u=r.indexOf(c,i),d=0,f,h,p,v;u>=0;)f=TA(t,e,r,n,u+1,s+1,a),f>d&&(u===i?f*=IF:YEe.test(t.charAt(u-1))?(f*=WEe,p=t.slice(i,u-1).match(XEe),p&&i>0&&(f*=Math.pow(NT,p.length))):QEe.test(t.charAt(u-1))?(f*=qEe,v=t.slice(i,u-1).match(rY),v&&i>0&&(f*=Math.pow(NT,v.length))):(f*=HEe,i>0&&(f*=Math.pow(NT,u-i))),t.charAt(u)!==e.charAt(s)&&(f*=KEe)),(f<ST&&r.charAt(u-1)===n.charAt(s+1)||n.charAt(s+1)===n.charAt(s)&&r.charAt(u-1)!==n.charAt(s))&&(h=TA(t,e,r,n,u+1,s+2,a),h*ST>f&&(f=h*ST)),f>d&&(d=f),u=r.indexOf(c,u+1);return a[o]=d,d}function OF(t){return t.toLowerCase().replace(rY," ")}function ZEe(t,e,r){return t=r&&r.length>0?`${t+" "+r.join(" ")}`:t,TA(t,e,OF(t),OF(e),0,0,{})}var ag='[cmdk-group=""]',TT='[cmdk-group-items=""]',JEe='[cmdk-group-heading=""]',nY='[cmdk-item=""]',MF=`${nY}:not([aria-disabled="true"])`,jA="cmdk-item-select",Jf="data-value",eSe=(t,e,r)=>ZEe(t,e,r),iY=g.createContext(void 0),z0=()=>g.useContext(iY),sY=g.createContext(void 0),FI=()=>g.useContext(sY),aY=g.createContext(void 0),oY=g.forwardRef((t,e)=>{let r=eh(()=>{var U,X;return{search:"",value:(X=(U=t.value)!=null?U:t.defaultValue)!=null?X:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),n=eh(()=>new Set),i=eh(()=>new Map),s=eh(()=>new Map),a=eh(()=>new Set),o=lY(t),{label:c,children:u,value:d,onValueChange:f,filter:h,shouldFilter:p,loop:v,disablePointerSelection:m=!1,vimBindings:b=!0,...w}=t,y=qn(),_=qn(),S=qn(),E=g.useRef(null),N=dSe();of(()=>{if(d!==void 0){let U=d.trim();r.current.value=U,T.emit()}},[d]),of(()=>{N(6,P)},[]);let T=g.useMemo(()=>({subscribe:U=>(a.current.add(U),()=>a.current.delete(U)),snapshot:()=>r.current,setState:(U,X,ie)=>{var le,xe,ce,Q;if(!Object.is(r.current[U],X)){if(r.current[U]=X,U==="search")O(),R(),N(1,k);else if(U==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let Y=document.getElementById(S);Y?Y.focus():(le=document.getElementById(y))==null||le.focus()}if(N(7,()=>{var Y;r.current.selectedItemId=(Y=D())==null?void 0:Y.id,T.emit()}),ie||N(5,P),((xe=o.current)==null?void 0:xe.value)!==void 0){let Y=X??"";(Q=(ce=o.current).onValueChange)==null||Q.call(ce,Y);return}}T.emit()}},emit:()=>{a.current.forEach(U=>U())}}),[]),j=g.useMemo(()=>({value:(U,X,ie)=>{var le;X!==((le=s.current.get(U))==null?void 0:le.value)&&(s.current.set(U,{value:X,keywords:ie}),r.current.filtered.items.set(U,A(X,ie)),N(2,()=>{R(),T.emit()}))},item:(U,X)=>(n.current.add(U),X&&(i.current.has(X)?i.current.get(X).add(U):i.current.set(X,new Set([U]))),N(3,()=>{O(),R(),r.current.value||k(),T.emit()}),()=>{s.current.delete(U),n.current.delete(U),r.current.filtered.items.delete(U);let ie=D();N(4,()=>{O(),(ie==null?void 0:ie.getAttribute("id"))===U&&k(),T.emit()})}),group:U=>(i.current.has(U)||i.current.set(U,new Set),()=>{s.current.delete(U),i.current.delete(U)}),filter:()=>o.current.shouldFilter,label:c||t["aria-label"],getDisablePointerSelection:()=>o.current.disablePointerSelection,listId:y,inputId:S,labelId:_,listInnerRef:E}),[]);function A(U,X){var ie,le;let xe=(le=(ie=o.current)==null?void 0:ie.filter)!=null?le:eSe;return U?xe(U,r.current.search,X):0}function R(){if(!r.current.search||o.current.shouldFilter===!1)return;let U=r.current.filtered.items,X=[];r.current.filtered.groups.forEach(le=>{let xe=i.current.get(le),ce=0;xe.forEach(Q=>{let Y=U.get(Q);ce=Math.max(Y,ce)}),X.push([le,ce])});let ie=E.current;z().sort((le,xe)=>{var ce,Q;let Y=le.getAttribute("id"),ee=xe.getAttribute("id");return((ce=U.get(ee))!=null?ce:0)-((Q=U.get(Y))!=null?Q:0)}).forEach(le=>{let xe=le.closest(TT);xe?xe.appendChild(le.parentElement===xe?le:le.closest(`${TT} > *`)):ie.appendChild(le.parentElement===ie?le:le.closest(`${TT} > *`))}),X.sort((le,xe)=>xe[1]-le[1]).forEach(le=>{var xe;let ce=(xe=E.current)==null?void 0:xe.querySelector(`${ag}[${Jf}="${encodeURIComponent(le[0])}"]`);ce==null||ce.parentElement.appendChild(ce)})}function k(){let U=z().find(ie=>ie.getAttribute("aria-disabled")!=="true"),X=U==null?void 0:U.getAttribute(Jf);T.setState("value",X||void 0)}function O(){var U,X,ie,le;if(!r.current.search||o.current.shouldFilter===!1){r.current.filtered.count=n.current.size;return}r.current.filtered.groups=new Set;let xe=0;for(let ce of n.current){let Q=(X=(U=s.current.get(ce))==null?void 0:U.value)!=null?X:"",Y=(le=(ie=s.current.get(ce))==null?void 0:ie.keywords)!=null?le:[],ee=A(Q,Y);r.current.filtered.items.set(ce,ee),ee>0&&xe++}for(let[ce,Q]of i.current)for(let Y of Q)if(r.current.filtered.items.get(Y)>0){r.current.filtered.groups.add(ce);break}r.current.filtered.count=xe}function P(){var U,X,ie;let le=D();le&&(((U=le.parentElement)==null?void 0:U.firstChild)===le&&((ie=(X=le.closest(ag))==null?void 0:X.querySelector(JEe))==null||ie.scrollIntoView({block:"nearest"})),le.scrollIntoView({block:"nearest"}))}function D(){var U;return(U=E.current)==null?void 0:U.querySelector(`${nY}[aria-selected="true"]`)}function z(){var U;return Array.from(((U=E.current)==null?void 0:U.querySelectorAll(MF))||[])}function M(U){let X=z()[U];X&&T.setState("value",X.getAttribute(Jf))}function V(U){var X;let ie=D(),le=z(),xe=le.findIndex(Q=>Q===ie),ce=le[xe+U];(X=o.current)!=null&&X.loop&&(ce=xe+U<0?le[le.length-1]:xe+U===le.length?le[0]:le[xe+U]),ce&&T.setState("value",ce.getAttribute(Jf))}function L(U){let X=D(),ie=X==null?void 0:X.closest(ag),le;for(;ie&&!le;)ie=U>0?cSe(ie,ag):uSe(ie,ag),le=ie==null?void 0:ie.querySelector(MF);le?T.setState("value",le.getAttribute(Jf)):V(U)}let $=()=>M(z().length-1),G=U=>{U.preventDefault(),U.metaKey?$():U.altKey?L(1):V(1)},q=U=>{U.preventDefault(),U.metaKey?M(0):U.altKey?L(-1):V(-1)};return g.createElement(ht.div,{ref:e,tabIndex:-1,...w,"cmdk-root":"",onKeyDown:U=>{var X;(X=w.onKeyDown)==null||X.call(w,U);let ie=U.nativeEvent.isComposing||U.keyCode===229;if(!(U.defaultPrevented||ie))switch(U.key){case"n":case"j":{b&&U.ctrlKey&&G(U);break}case"ArrowDown":{G(U);break}case"p":case"k":{b&&U.ctrlKey&&q(U);break}case"ArrowUp":{q(U);break}case"Home":{U.preventDefault(),M(0);break}case"End":{U.preventDefault(),$();break}case"Enter":{U.preventDefault();let le=D();if(le){let xe=new Event(jA);le.dispatchEvent(xe)}}}}},g.createElement("label",{"cmdk-label":"",htmlFor:j.inputId,id:j.labelId,style:hSe},c),GE(t,U=>g.createElement(sY.Provider,{value:T},g.createElement(iY.Provider,{value:j},U))))}),tSe=g.forwardRef((t,e)=>{var r,n;let i=qn(),s=g.useRef(null),a=g.useContext(aY),o=z0(),c=lY(t),u=(n=(r=c.current)==null?void 0:r.forceMount)!=null?n:a==null?void 0:a.forceMount;of(()=>{if(!u)return o.item(i,a==null?void 0:a.id)},[u]);let d=cY(i,s,[t.value,t.children,s],t.keywords),f=FI(),h=uu(N=>N.value&&N.value===d.current),p=uu(N=>u||o.filter()===!1?!0:N.search?N.filtered.items.get(i)>0:!0);g.useEffect(()=>{let N=s.current;if(!(!N||t.disabled))return N.addEventListener(jA,v),()=>N.removeEventListener(jA,v)},[p,t.onSelect,t.disabled]);function v(){var N,T;m(),(T=(N=c.current).onSelect)==null||T.call(N,d.current)}function m(){f.setState("value",d.current,!0)}if(!p)return null;let{disabled:b,value:w,onSelect:y,forceMount:_,keywords:S,...E}=t;return g.createElement(ht.div,{ref:Io(s,e),...E,id:i,"cmdk-item":"",role:"option","aria-disabled":!!b,"aria-selected":!!h,"data-disabled":!!b,"data-selected":!!h,onPointerMove:b||o.getDisablePointerSelection()?void 0:m,onClick:b?void 0:v},t.children)}),rSe=g.forwardRef((t,e)=>{let{heading:r,children:n,forceMount:i,...s}=t,a=qn(),o=g.useRef(null),c=g.useRef(null),u=qn(),d=z0(),f=uu(p=>i||d.filter()===!1?!0:p.search?p.filtered.groups.has(a):!0);of(()=>d.group(a),[]),cY(a,o,[t.value,t.heading,c]);let h=g.useMemo(()=>({id:a,forceMount:i}),[i]);return g.createElement(ht.div,{ref:Io(o,e),...s,"cmdk-group":"",role:"presentation",hidden:f?void 0:!0},r&&g.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:u},r),GE(t,p=>g.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?u:void 0},g.createElement(aY.Provider,{value:h},p))))}),nSe=g.forwardRef((t,e)=>{let{alwaysRender:r,...n}=t,i=g.useRef(null),s=uu(a=>!a.search);return!r&&!s?null:g.createElement(ht.div,{ref:Io(i,e),...n,"cmdk-separator":"",role:"separator"})}),iSe=g.forwardRef((t,e)=>{let{onValueChange:r,...n}=t,i=t.value!=null,s=FI(),a=uu(u=>u.search),o=uu(u=>u.selectedItemId),c=z0();return g.useEffect(()=>{t.value!=null&&s.setState("search",t.value)},[t.value]),g.createElement(ht.input,{ref:e,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":o,id:c.inputId,type:"text",value:i?t.value:a,onChange:u=>{i||s.setState("search",u.target.value),r==null||r(u.target.value)}})}),sSe=g.forwardRef((t,e)=>{let{children:r,label:n="Suggestions",...i}=t,s=g.useRef(null),a=g.useRef(null),o=uu(u=>u.selectedItemId),c=z0();return g.useEffect(()=>{if(a.current&&s.current){let u=a.current,d=s.current,f,h=new ResizeObserver(()=>{f=requestAnimationFrame(()=>{let p=u.offsetHeight;d.style.setProperty("--cmdk-list-height",p.toFixed(1)+"px")})});return h.observe(u),()=>{cancelAnimationFrame(f),h.unobserve(u)}}},[]),g.createElement(ht.div,{ref:Io(s,e),...i,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":o,"aria-label":n,id:c.listId},GE(t,u=>g.createElement("div",{ref:Io(a,c.listInnerRef),"cmdk-list-sizer":""},u)))}),aSe=g.forwardRef((t,e)=>{let{open:r,onOpenChange:n,overlayClassName:i,contentClassName:s,container:a,...o}=t;return g.createElement(zE,{open:r,onOpenChange:n},g.createElement(qE,{container:a},g.createElement(bm,{"cmdk-overlay":"",className:i}),g.createElement(wm,{"aria-label":t.label,"cmdk-dialog":"",className:s},g.createElement(oY,{ref:e,...o}))))}),oSe=g.forwardRef((t,e)=>uu(r=>r.filtered.count===0)?g.createElement(ht.div,{ref:e,...t,"cmdk-empty":"",role:"presentation"}):null),lSe=g.forwardRef((t,e)=>{let{progress:r,children:n,label:i="Loading...",...s}=t;return g.createElement(ht.div,{ref:e,...s,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":i},GE(t,a=>g.createElement("div",{"aria-hidden":!0},a)))}),es=Object.assign(oY,{List:sSe,Item:tSe,Input:iSe,Group:rSe,Separator:nSe,Dialog:aSe,Empty:oSe,Loading:lSe});function cSe(t,e){let r=t.nextElementSibling;for(;r;){if(r.matches(e))return r;r=r.nextElementSibling}}function uSe(t,e){let r=t.previousElementSibling;for(;r;){if(r.matches(e))return r;r=r.previousElementSibling}}function lY(t){let e=g.useRef(t);return of(()=>{e.current=t}),e}var of=typeof window>"u"?g.useEffect:g.useLayoutEffect;function eh(t){let e=g.useRef();return e.current===void 0&&(e.current=t()),e}function uu(t){let e=FI(),r=()=>t(e.snapshot());return g.useSyncExternalStore(e.subscribe,r,r)}function cY(t,e,r,n=[]){let i=g.useRef(),s=z0();return of(()=>{var a;let o=(()=>{var u;for(let d of r){if(typeof d=="string")return d.trim();if(typeof d=="object"&&"current"in d)return d.current?(u=d.current.textContent)==null?void 0:u.trim():i.current}})(),c=n.map(u=>u.trim());s.value(t,o,c),(a=e.current)==null||a.setAttribute(Jf,o),i.current=o}),i}var dSe=()=>{let[t,e]=g.useState(),r=eh(()=>new Map);return of(()=>{r.current.forEach(n=>n()),r.current=new Map},[t]),(n,i)=>{r.current.set(n,i),e({})}};function fSe(t){let e=t.type;return typeof e=="function"?e(t.props):"render"in e?e.render(t.props):t}function GE({asChild:t,children:e},r){return t&&g.isValidElement(e)?g.cloneElement(fSe(e),{ref:e.ref},r(e.props.children)):r(e)}var hSe={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const ts=zE,uY=AI,pSe=qE,dY=g.forwardRef(({className:t,...e},r)=>l.jsx(bm,{ref:r,className:ge("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));dY.displayName=bm.displayName;const Ii=g.forwardRef(({className:t,children:e,...r},n)=>l.jsxs(pSe,{children:[l.jsx(dY,{}),l.jsxs(wm,{ref:n,className:ge("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[e,l.jsxs(WE,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[l.jsx(xo,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ii.displayName=wm.displayName;const rs=({className:t,...e})=>l.jsx("div",{className:ge("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});rs.displayName="DialogHeader";const ju=({className:t,...e})=>l.jsx("div",{className:ge("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});ju.displayName="DialogFooter";const Oi=g.forwardRef(({className:t,...e},r)=>l.jsx(F0,{ref:r,className:ge("text-lg font-semibold leading-none tracking-tight",t),...e}));Oi.displayName=F0.displayName;const As=g.forwardRef(({className:t,...e},r)=>l.jsx(V0,{ref:r,className:ge("text-sm text-muted-foreground",t),...e}));As.displayName=V0.displayName;const fY=g.forwardRef(({className:t,...e},r)=>l.jsx("span",{ref:r,className:ge("sr-only",t),...e}));fY.displayName="VisuallyHidden";const hY=g.forwardRef(({className:t,...e},r)=>l.jsx(es,{ref:r,className:ge("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",t),...e}));hY.displayName=es.displayName;const pY=g.forwardRef(({className:t,...e},r)=>l.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[l.jsx(yf,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),l.jsx(es.Input,{ref:r,className:ge("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",t),...e})]}));pY.displayName=es.Input.displayName;const mY=g.forwardRef(({className:t,...e},r)=>l.jsx(es.List,{ref:r,className:ge("max-h-[300px] overflow-y-auto overflow-x-hidden",t),...e}));mY.displayName=es.List.displayName;const gY=g.forwardRef((t,e)=>l.jsx(es.Empty,{ref:e,className:"py-6 text-center text-sm",...t}));gY.displayName=es.Empty.displayName;const CA=g.forwardRef(({className:t,...e},r)=>l.jsx(es.Group,{ref:r,className:ge("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",t),...e}));CA.displayName=es.Group.displayName;const mSe=g.forwardRef(({className:t,...e},r)=>l.jsx(es.Separator,{ref:r,className:ge("-mx-1 h-px bg-border",t),...e}));mSe.displayName=es.Separator.displayName;const vY=g.forwardRef(({className:t,...e},r)=>l.jsx(es.Item,{ref:r,className:ge("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",t),...e}));vY.displayName=es.Item.displayName;function gSe({options:t,selected:e,onChange:r,placeholder:n="Selecione os usuários...",clearLabel:i="Limpar Tudo"}){const[s,a]=g.useState(!1),[o,c]=g.useState(e);g.useEffect(()=>{c(e)},[e]);const u=()=>{r(o),a(!1)},d=h=>{o.includes(h)?c(o.filter(p=>p!==h)):c([...o,h])},f=()=>{c([]),r([]),a(!1)};return l.jsxs(f_,{open:s,onOpenChange:a,children:[l.jsx(h_,{asChild:!0,children:l.jsxs(oe,{variant:"outline",role:"combobox","aria-expanded":s,className:"w-full justify-between h-12 rounded-xl border-gray-200 hover:border-eccos-purple focus:border-eccos-purple text-left font-normal",children:[l.jsx("div",{className:"flex flex-wrap gap-1",children:e.length>0?e.map(h=>{const p=t.find(v=>v.value===h);return l.jsx(_e,{variant:"secondary",className:"px-2 py-0.5",children:(p==null?void 0:p.label)||h},h)}):l.jsx("span",{className:"text-sm text-gray-500",children:n})}),l.jsx(Lae,{className:"h-4 w-4 opacity-50"})]})}),l.jsx(ey,{className:"p-0 w-[--radix-popover-trigger-width] min-w-[300px] max-h-[400px] overflow-auto shadow-lg",children:l.jsxs(hY,{children:[l.jsx(pY,{placeholder:"Buscar usuário..."}),l.jsxs(mY,{children:[l.jsx(gY,{children:"Nenhum usuário encontrado."}),l.jsx(CA,{children:t.map(h=>l.jsxs(vY,{onSelect:()=>d(h.value),className:"cursor-pointer",children:[l.jsx("div",{className:ge("mr-2 flex h-4 w-4 items-center justify-center rounded-sm border border-gray-300",o.includes(h.value)?"bg-sidebar border-sidebar text-white":"border-gray-300"),children:o.includes(h.value)&&l.jsx(vf,{className:"h-3 w-3"})}),h.label]},h.value))}),l.jsx(CA,{className:"mt-2 border-t pt-2",children:l.jsxs("div",{className:"flex justify-between px-2 pb-2",children:[l.jsxs(oe,{size:"sm",variant:"ghost",onClick:f,className:"text-xs px-2 py-1 text-red-600 hover:text-red-700",children:[l.jsx(om,{className:"h-3 w-3 mr-1"}),i||"Limpar Tudo"]}),l.jsxs(oe,{size:"sm",variant:"secondary",onClick:u,className:"text-xs px-2 py-1",children:[l.jsx(Y1,{className:"h-3 w-3 mr-1"}),"Confirmar"]})]})})]})]})})]})}const vSe=on(Ue,"users"),YE=async()=>{try{return(await ea(vSe)).docs.map(e=>{const r=e.data(),n=r.lastActive?r.lastActive.toDate().toISOString():null;return{...r,lastActive:n}})}catch(t){throw console.error("Error getting users:",t),t}},ySe=async(t,e)=>{try{const r=bt(Ue,"users",t);return await Rn(r,{blocked:e}),!0}catch(r){throw console.error("Error toggling user block status:",r),r}},xSe=async(t,e)=>{try{const r=bt(Ue,"users",t);return await Rn(r,{role:e,pendingRoleChange:null}),!0}catch(r){throw console.error("Error changing user role:",r),r}},bSe=async()=>{try{return(await YE()).filter(r=>(r.role==="admin"||r.role==="superadmin")&&!r.blocked&&r.email).map(r=>r.email).filter(Boolean)}catch(t){return console.error("[Admins] Erro crítico:",t),[]}};var yY="AlertDialog",[wSe,yet]=fi(yY,[$K]),Ql=$K(),xY=t=>{const{__scopeAlertDialog:e,...r}=t,n=Ql(e);return l.jsx(zE,{...n,...r,modal:!0})};xY.displayName=yY;var _Se="AlertDialogTrigger",bY=g.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=Ql(r);return l.jsx(AI,{...i,...n,ref:e})});bY.displayName=_Se;var ESe="AlertDialogPortal",wY=t=>{const{__scopeAlertDialog:e,...r}=t,n=Ql(e);return l.jsx(qE,{...n,...r})};wY.displayName=ESe;var SSe="AlertDialogOverlay",_Y=g.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=Ql(r);return l.jsx(bm,{...i,...n,ref:e})});_Y.displayName=SSe;var Bh="AlertDialogContent",[NSe,TSe]=wSe(Bh),jSe=Uz("AlertDialogContent"),EY=g.forwardRef((t,e)=>{const{__scopeAlertDialog:r,children:n,...i}=t,s=Ql(r),a=g.useRef(null),o=rt(e,a),c=g.useRef(null);return l.jsx(Ywe,{contentName:Bh,titleName:SY,docsSlug:"alert-dialog",children:l.jsx(NSe,{scope:r,cancelRef:c,children:l.jsxs(wm,{role:"alertdialog",...s,...i,ref:o,onOpenAutoFocus:Se(i.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[l.jsx(jSe,{children:n}),l.jsx(ASe,{contentRef:a})]})})})});EY.displayName=Bh;var SY="AlertDialogTitle",NY=g.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=Ql(r);return l.jsx(F0,{...i,...n,ref:e})});NY.displayName=SY;var TY="AlertDialogDescription",jY=g.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=Ql(r);return l.jsx(V0,{...i,...n,ref:e})});jY.displayName=TY;var CSe="AlertDialogAction",CY=g.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=Ql(r);return l.jsx(WE,{...i,...n,ref:e})});CY.displayName=CSe;var AY="AlertDialogCancel",PY=g.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,{cancelRef:i}=TSe(AY,r),s=Ql(r),a=rt(e,i);return l.jsx(WE,{...s,...n,ref:a})});PY.displayName=AY;var ASe=({contentRef:t})=>{const e=`\`${Bh}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Bh}\` by passing a \`${TY}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Bh}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return g.useEffect(()=>{var n;document.getElementById((n=t.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},PSe=xY,RSe=bY,kSe=wY,RY=_Y,kY=EY,IY=CY,OY=PY,MY=NY,DY=jY;const Cu=PSe,ISe=RSe,OSe=kSe,LY=g.forwardRef(({className:t,...e},r)=>l.jsx(RY,{className:ge("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));LY.displayName=RY.displayName;const Zl=g.forwardRef(({className:t,...e},r)=>l.jsxs(OSe,{children:[l.jsx(LY,{}),l.jsx(kY,{ref:r,className:ge("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));Zl.displayName=kY.displayName;const Jl=({className:t,...e})=>l.jsx("div",{className:ge("flex flex-col space-y-2 text-center sm:text-left",t),...e});Jl.displayName="AlertDialogHeader";const _m=({className:t,...e})=>l.jsx("div",{className:ge("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});_m.displayName="AlertDialogFooter";const ec=g.forwardRef(({className:t,...e},r)=>l.jsx(MY,{ref:r,className:ge("text-lg font-semibold",t),...e}));ec.displayName=MY.displayName;const Au=g.forwardRef(({className:t,...e},r)=>l.jsx(DY,{ref:r,className:ge("text-sm text-muted-foreground",t),...e}));Au.displayName=DY.displayName;const Pu=g.forwardRef(({className:t,...e},r)=>l.jsx(IY,{ref:r,className:ge(Jv(),t),...e}));Pu.displayName=IY.displayName;const Ru=g.forwardRef(({className:t,...e},r)=>l.jsx(OY,{ref:r,className:ge(Jv({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));Ru.displayName=OY.displayName;const MSe=()=>{const{isAdmin:t}=zr(),e=wu(),[r,n]=g.useState("send"),[i,s]=g.useState(""),[a,o]=g.useState(""),[c,u]=g.useState(""),[d,f]=g.useState(!0),[h,p]=g.useState([]),[v,m]=g.useState("all"),[b,w]=g.useState(""),{data:y=[]}=Xi({queryKey:["allNotifications"],queryFn:()=>kG(""),enabled:t}),{data:_=[]}=Xi({queryKey:["allUsers"],queryFn:()=>YE(),enabled:t});g.useEffect(()=>{const T=new IntersectionObserver(j=>{j.forEach(A=>{A.isIntersecting&&A.target.classList.add("visible")})},{threshold:.1});return document.querySelectorAll(".fade-up").forEach(j=>T.observe(j)),()=>T.disconnect()},[]);const S=y.filter(T=>{const j=v==="all"||v==="global"&&T.recipients.length===0||v==="individual"&&T.recipients.length>0&&T.title!=="Alteração de Status"||v==="status"&&T.title==="Alteração de Status",A=T.title.toLowerCase().includes(b.toLowerCase())||T.message.toLowerCase().includes(b.toLowerCase());return j&&A}),E=async T=>{if(T.preventDefault(),!(!i||!a))try{const j=d?[{title:i,message:a,link:c.trim()||null,createdAt:new Date,readBy:[],recipients:[],isBatch:!1}]:[{title:i,message:a,link:c.trim()||null,createdAt:new Date,readBy:[],recipients:h,isBatch:h.length>1}];await Q_e(j),Ke.success("Notificação enviada com sucesso"),e.invalidateQueries({queryKey:["allNotifications"]}),s(""),o(""),u(""),p([])}catch{Ke.error("Erro ao enviar notificação")}},{currentUser:N}=zr();return["admin","superadmin","financeiro"].includes((N==null?void 0:N.role)||"")?l.jsxs(cn,{children:[l.jsxs("div",{className:"min-h-screen bg-white relative",children:[l.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none z-0",children:[l.jsx("div",{className:"absolute left-1/4 top-1/4 h-96 w-96 rounded-full bg-sidebar blur-3xl opacity-5"}),l.jsx("div",{className:"absolute right-1/4 bottom-1/4 h-80 w-80 rounded-full bg-eccos-purple blur-3xl opacity-5"})]}),l.jsxs("div",{className:"relative z-10 space-y-8 p-6 md:p-12 fade-up",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2 bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:[l.jsx(Rd,{className:"text-eccos-purple",size:35}),"Gerenciamento de Notificações"]}),l.jsx("p",{className:"text-gray-500 text-sm sm:text-base",children:"Envie notificações globais ou individuais e gerencie o histórico"})]}),l.jsxs(m_,{value:r,onValueChange:n,className:"fade-up",children:[l.jsxs(ny,{className:"grid grid-cols-2 w-full bg-white border border-gray-100 rounded-2xl shadow-lg p-1 h-14",children:[l.jsxs(ba,{value:"send",className:"rounded-xl data-[state=active]:bg-gradient-to-r data-[state=active]:from-sidebar data-[state=active]:to-eccos-purple data-[state=active]:text-white data-[state=inactive]:text-gray-600 h-12 flex items-center justify-center gap-2 font-medium transition-all duration-300 mx-1",children:[l.jsx(BL,{className:"h-4 w-4"}),"Enviar Notificação"]}),l.jsxs(ba,{value:"manage",className:"rounded-xl data-[state=active]:bg-gradient-to-r data-[state=active]:from-sidebar data-[state=active]:to-eccos-purple data-[state=active]:text-white data-[state=inactive]:text-gray-600 h-12 flex items-center justify-center gap-2 font-medium transition-all duration-300 mx-1",children:[l.jsx(g8,{className:"h-4 w-4"}),"Gerenciar Notificações"]})]}),l.jsx(af,{value:"send",className:"mt-8 fade-up relative z-20",children:l.jsxs(tt,{className:"bg-white border border-gray-100 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 relative overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent opacity-0 hover:opacity-100 transition-opacity pointer-events-none"}),l.jsx(qt,{className:"pb-4 relative z-10",children:l.jsx(Wt,{className:"text-xl font-semibold bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:"Nova Notificação"})}),l.jsxs(mt,{className:"pt-2 space-y-6 relative z-10",children:[l.jsxs("div",{className:"flex gap-3",children:[l.jsxs(oe,{type:"button",variant:d?"default":"outline",onClick:()=>f(!0),className:`flex-1 h-12 rounded-xl font-medium transition-all duration-300 ${d?"bg-gradient-to-r from-sidebar to-eccos-purple hover:from-eccos-purple hover:to-sidebar":"border-gray-200 text-gray-600 hover:border-eccos-purple hover:text-eccos-purple"}`,children:[l.jsx(Lb,{className:"h-4 w-4 mr-2"}),"Global"]}),l.jsxs(oe,{type:"button",variant:d?"outline":"default",onClick:()=>f(!1),className:`flex-1 h-12 rounded-xl font-medium transition-all duration-300 ${d?"border-gray-200 text-gray-600 hover:border-eccos-purple hover:text-eccos-purple":"bg-gradient-to-r from-sidebar to-eccos-purple hover:from-eccos-purple hover:to-sidebar"}`,children:[l.jsx(Id,{className:"h-4 w-4 mr-2"}),"Individual"]})]}),!d&&l.jsxs("div",{className:"space-y-3",children:[l.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Destinatários"}),l.jsx(gSe,{selected:h,onChange:p,placeholder:"Selecione os usuários...",clearLabel:"Remover Todos",options:_.filter(T=>T.email).map(T=>({value:T.email,label:T.displayName||T.email}))})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Título"}),l.jsx(or,{placeholder:"Digite o título da notificação",value:i,onChange:T=>s(T.target.value),required:!0,className:"h-12 rounded-xl border-gray-200 focus:border-eccos-purple focus:ring-eccos-purple"})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Mensagem"}),l.jsx(Ba,{placeholder:"Digite a mensagem detalhada...",value:a,onChange:T=>o(T.target.value),rows:4,required:!0,className:"rounded-xl border-gray-200 focus:border-eccos-purple focus:ring-eccos-purple resize-none"})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Link (opcional)"}),l.jsx(or,{placeholder:"https://exemplo.com",value:c,onChange:T=>u(T.target.value),type:"url",className:"h-12 rounded-xl border-gray-200 focus:border-eccos-purple focus:ring-eccos-purple"})]}),l.jsxs(oe,{type:"submit",onClick:E,className:"w-full h-12 rounded-xl bg-gradient-to-r from-sidebar to-eccos-purple hover:from-eccos-purple hover:to-sidebar text-white font-medium transition-all duration-300",children:[l.jsx(BL,{className:"h-4 w-4 mr-2"}),"Enviar Notificação"]})]})]})}),l.jsx(af,{value:"manage",className:"mt-8 fade-up relative z-20",children:l.jsxs(tt,{className:"bg-white border border-gray-100 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 relative overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent opacity-0 hover:opacity-100 transition-opacity pointer-events-none"}),l.jsx(qt,{className:"pb-4 relative z-10",children:l.jsx(Wt,{className:"text-xl font-semibold bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:"Histórico de Notificações"})}),l.jsxs(mt,{className:"pt-2 space-y-6 relative z-10",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[l.jsx(m_,{value:v,onValueChange:T=>m(T),className:"w-full sm:w-auto",children:l.jsxs(ny,{className:"grid grid-cols-4 bg-gray-50 p-1 rounded-xl h-12",children:[l.jsx(ba,{value:"all",className:"rounded-lg data-[state=active]:bg-white data-[state=active]:shadow-sm h-10 text-sm",children:"Todos"}),l.jsx(ba,{value:"global",className:"rounded-lg data-[state=active]:bg-white data-[state=active]:shadow-sm h-10 text-sm",children:l.jsx(Lb,{className:"h-4 w-4 mr-1"})}),l.jsx(ba,{value:"individual",className:"rounded-lg data-[state=active]:bg-white data-[state=active]:shadow-sm h-10 text-sm",children:l.jsx(Id,{className:"h-4 w-4 mr-1"})}),l.jsx(ba,{value:"status",className:"rounded-lg data-[state=active]:bg-white data-[state=active]:shadow-sm h-10 text-sm",children:l.jsx(kv,{className:"h-4 w-4 mr-1"})})]})}),l.jsxs("div",{className:"relative flex-1",children:[l.jsx(yf,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),l.jsx(or,{placeholder:"Pesquisar notificações...",value:b,onChange:T=>w(T.target.value),className:"pl-12 h-12 rounded-xl border-gray-200 focus:border-eccos-purple focus:ring-eccos-purple"})]})]}),l.jsx("div",{className:"space-y-4",children:S.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Rd,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-500",children:"Nenhuma notificação encontrada"})]}):S.map(T=>l.jsx("div",{className:"p-6 border border-gray-100 rounded-2xl bg-white hover:shadow-lg transition-all duration-300 relative z-10",children:l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[l.jsx("h3",{className:"font-semibold text-gray-900 text-lg",children:T.title}),T.title==="Alteração de Status"?l.jsxs(_e,{variant:"secondary",className:"bg-blue-50 text-blue-700 border-blue-200",children:[l.jsx(kv,{className:"h-3 w-3 mr-1"}),"Status"]}):T.recipients.length===0?l.jsxs(_e,{className:"bg-gradient-to-r from-sidebar to-eccos-purple text-white",children:[l.jsx(Lb,{className:"h-3 w-3 mr-1"}),"Global"]}):l.jsxs(_e,{variant:"outline",className:"border-eccos-purple text-eccos-purple",children:[l.jsx(Id,{className:"h-3 w-3 mr-1"}),"Individual"]})]}),l.jsx("p",{className:"text-gray-600 leading-relaxed",children:T.message}),T.link&&l.jsx("a",{href:T.link,target:"_blank",rel:"noopener noreferrer",className:"inline-block mt-2 text-eccos-purple hover:text-sidebar text-sm font-medium",children:"Ver link relacionado →"})]}),l.jsxs(Cu,{children:[l.jsx(ISe,{asChild:!0,children:l.jsx(oe,{variant:"destructive",size:"sm",className:"ml-4 rounded-xl hover:bg-red-600 transition-colors duration-300",children:"Excluir"})}),l.jsxs(Zl,{className:"rounded-2xl",children:[l.jsxs(Jl,{children:[l.jsx(ec,{children:"Confirmar exclusão?"}),l.jsx(Au,{children:"Esta ação não pode ser desfeita. A notificação será permanentemente removida."})]}),l.jsxs(_m,{children:[l.jsx(Ru,{className:"rounded-xl",children:"Cancelar"}),l.jsx(Pu,{className:"rounded-xl bg-red-600 hover:bg-red-700",onClick:async()=>{try{await e1e(T.id),Ke.success("Notificação excluída com sucesso"),e.invalidateQueries({queryKey:["allNotifications"]})}catch{Ke.error("Falha ao excluir notificação")}},children:"Confirmar"})]})]})]})]})},T.id))})]})]})})]})]}),l.jsx("footer",{className:"relative z-10 bg-gray-50 py-10 px-4 md:px-12 fade-up",children:l.jsx("div",{className:"max-w-6xl mx-auto",children:l.jsx("div",{className:"text-center",children:l.jsx("p",{className:"text-gray-500 text-sm",children:"© 2025 Colégio ECCOS - Todos os direitos reservados"})})})})]}),l.jsx("style",{children:`
        .fade-up {
          opacity: 0;
          transform: translateY(30px);
          transition: opacity 0.8s ease-out, transform 0.8s ease-out;
        }
        
        .fade-up.visible {
          opacity: 1;
          transform: translateY(0);
        }
      `})]}):null};var DSe="Label",$Y=g.forwardRef((t,e)=>l.jsx(ht.label,{...t,ref:e,onMouseDown:r=>{var i;r.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));$Y.displayName=DSe;var FY=$Y;const LSe=f0("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ur=g.forwardRef(({className:t,...e},r)=>l.jsx(FY,{ref:r,className:ge(LSe(),t),...e}));ur.displayName=FY.displayName;const $Se=()=>{const[t,e]=g.useState(!1),[r,n]=g.useState("manuals"),[i,s]=g.useState(""),[a,o]=g.useState(""),[c,u]=g.useState([]),[d,f]=g.useState(!1),[h,p]=g.useState(!1),{toast:v}=qa(),{currentUser:m}=zr(),b=async()=>{f(!0);const _=Sl(Nl,"manuais/");try{const S=await EH(_),E=await Promise.all(S.items.map(async N=>{const T=await Tp(N);return{name:N.name,url:T}}));u(E)}catch(S){console.error("Erro ao carregar manuais:",S),v({title:"Erro",description:"Não foi possível carregar os manuais.",variant:"destructive"})}finally{f(!1)}},w=_=>{e(_),_&&r==="manuals"&&b()},y=async()=>{if(!i||!a){v({title:"Campos obrigatórios",description:"Por favor, preencha todos os campos.",variant:"destructive"});return}p(!0);try{await cu(on(Ue,"bugReports"),{title:i,description:a,createdAt:new Date,status:"open",userEmail:(m==null?void 0:m.email)||"Anônimo",pageUrl:window.location.href}),v({title:"Sucesso!",description:"Bug reportado com sucesso. Obrigado!"}),s(""),o(""),n("manuals")}catch(_){console.error("Erro ao reportar bug:",_),v({title:"Erro",description:"Falha ao enviar o relatório de bug.",variant:"destructive"})}finally{p(!1)}};return l.jsx("div",{className:"fixed bottom-6 right-6 z-50",children:l.jsxs(ts,{open:t,onOpenChange:w,children:[l.jsx(uY,{asChild:!0,children:l.jsxs(oe,{variant:"default",size:"icon",className:"rounded-full w-14 h-14 shadow-lg hover:shadow-xl transition-all duration-300 bg-gradient-to-r from-sidebar to-eccos-purple hover:from-eccos-purple hover:to-sidebar group relative overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),l.jsx(qL,{className:"h-12 w-12 relative z-10"})]})}),l.jsxs(Ii,{className:"max-w-3xl max-h-[90vh] overflow-y-auto bg-white border border-gray-100 shadow-2xl rounded-2xl",children:[l.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[l.jsx("div",{className:"absolute left-1/4 top-1/4 h-32 w-32 rounded-full bg-sidebar blur-3xl opacity-5"}),l.jsx("div",{className:"absolute right-1/4 bottom-1/4 h-24 w-24 rounded-full bg-eccos-purple blur-3xl opacity-5"})]}),l.jsx(rs,{className:"relative z-10",children:l.jsxs(Oi,{className:"flex items-center gap-3 text-2xl font-bold bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:[l.jsx("div",{className:"inline-flex items-center justify-center w-10 h-10 rounded-full bg-eccos-purple/10 text-eccos-purple",children:l.jsx(qL,{className:"h-5 w-5"})}),"Central de Suporte"]})}),l.jsx("div",{className:"relative z-10 mt-6",children:l.jsxs(m_,{value:r,onValueChange:n,children:[l.jsxs(ny,{className:"grid w-full grid-cols-2 bg-gray-50 rounded-xl p-1",children:[l.jsxs(ba,{value:"manuals",className:"rounded-lg transition-all duration-200 data-[state=active]:bg-white data-[state=active]:shadow-sm data-[state=active]:text-eccos-purple font-medium",children:[l.jsx(Dae,{className:"h-4 w-4 mr-2"}),"Manuais e Tutoriais"]}),l.jsxs(ba,{value:"bugReport",className:"rounded-lg transition-all duration-200 data-[state=active]:bg-white data-[state=active]:shadow-sm data-[state=active]:text-eccos-purple font-medium",children:[l.jsx(fd,{className:"h-4 w-4 mr-2"}),"Reportar Bug"]})]}),l.jsx(af,{value:"manuals",className:"mt-6",children:l.jsxs("div",{className:"bg-white border border-gray-100 rounded-2xl shadow-lg p-6",children:[l.jsxs("h3",{className:"font-bold text-xl mb-6 flex items-center gap-3 bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:[l.jsx("div",{className:"inline-flex items-center justify-center w-8 h-8 rounded-full bg-eccos-purple/10 text-eccos-purple",children:l.jsx(Ti,{className:"h-4 w-4"})}),"Documentação e Tutoriais"]}),d?l.jsxs("div",{className:"flex flex-col justify-center items-center h-40",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-gray-200 border-t-eccos-purple mb-4"}),l.jsx("p",{className:"text-gray-500 font-medium",children:"Carregando manuais..."})]}):c.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-gray-100 text-gray-400 mb-4",children:l.jsx(Ti,{className:"h-8 w-8"})}),l.jsx("p",{className:"text-gray-500 font-medium text-lg",children:"Nenhum manual disponível"}),l.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Os manuais serão exibidos aqui quando estiverem disponíveis"})]}):l.jsx("div",{className:"space-y-4",children:c.map((_,S)=>l.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-100 rounded-xl hover:shadow-md hover:border-eccos-purple/30 transition-all duration-300 group bg-white",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"inline-flex items-center justify-center w-10 h-10 rounded-full bg-eccos-purple/10 text-eccos-purple group-hover:bg-eccos-purple/20 transition-colors",children:l.jsx(Ti,{className:"h-5 w-5"})}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium text-gray-900 truncate max-w-[300px] block",children:_.name}),l.jsx("span",{className:"text-sm text-gray-500",children:"Documento PDF"})]})]}),l.jsx("a",{href:_.url,target:"_blank",rel:"noopener noreferrer",className:"text-eccos-purple hover:text-sidebar transition-colors",children:l.jsxs(oe,{variant:"outline",size:"sm",className:"border-eccos-purple text-eccos-purple hover:bg-eccos-purple hover:text-white transition-all duration-200",children:[l.jsx(Q1,{className:"h-4 w-4 mr-2"}),"Baixar"]})})]},S))})]})}),l.jsx(af,{value:"bugReport",className:"mt-6",children:l.jsxs("div",{className:"bg-white border border-gray-100 rounded-2xl shadow-lg p-6",children:[l.jsxs("h3",{className:"font-bold text-xl mb-6 flex items-center gap-3 bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:[l.jsx("div",{className:"inline-flex items-center justify-center w-8 h-8 rounded-full bg-red-100 text-red-600",children:l.jsx(fd,{className:"h-4 w-4"})}),"Reportar Problema"]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx(ur,{htmlFor:"title",className:"text-sm font-semibold text-gray-700 mb-2 block",children:"Título do Problema *"}),l.jsx(or,{id:"title",value:i,onChange:_=>s(_.target.value),placeholder:"Descreva brevemente o problema",className:"border-gray-200 focus:border-eccos-purple focus:ring-eccos-purple/20 rounded-lg"})]}),l.jsxs("div",{children:[l.jsx(ur,{htmlFor:"description",className:"text-sm font-semibold text-gray-700 mb-2 block",children:"Descrição Detalhada *"}),l.jsx(Ba,{id:"description",value:a,onChange:_=>o(_.target.value),placeholder:"Descreva o que aconteceu, incluindo os passos para reproduzir o problema...",rows:5,className:"border-gray-200 focus:border-eccos-purple focus:ring-eccos-purple/20 rounded-lg resize-none"}),l.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Inclua detalhes como: O que você estava tentando fazer? O que aconteceu? O que você esperava que acontecesse?"})]}),l.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 p-6 rounded-xl border border-blue-100",children:[l.jsxs("h4",{className:"font-semibold text-gray-800 flex items-center gap-3 mb-3",children:[l.jsx("div",{className:"inline-flex items-center justify-center w-6 h-6 rounded-full bg-blue-100 text-blue-600",children:l.jsx(fd,{className:"h-3 w-3"})}),"Informações do Sistema"]}),l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-gray-600 font-medium",children:"URL:"}),l.jsx("span",{className:"text-gray-800 font-mono text-xs bg-white px-2 py-1 rounded border truncate max-w-xs",children:window.location.href})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-gray-600 font-medium",children:"Usuário:"}),l.jsx("span",{className:"text-gray-800 font-mono text-xs bg-white px-2 py-1 rounded border",children:(m==null?void 0:m.email)||"Anônimo"})]})]})]}),l.jsx(oe,{onClick:y,disabled:h,className:"w-full bg-gradient-to-r from-sidebar to-eccos-purple hover:from-eccos-purple hover:to-sidebar text-white font-semibold py-3 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",children:h?l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),"Enviando..."]}):l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(fd,{className:"h-4 w-4"}),"Enviar Relatório"]})})]})]})})]})})]})]})})},FSe=()=>{const t=bf(),e=Ji();return g.useEffect(()=>{const r=sessionStorage.getItem("redirectPath");r&&r!=="/"&&(sessionStorage.removeItem("redirectPath"),t(r))},[t,e]),l.jsxs(l.Fragment,{children:[l.jsx(Bde,{}),l.jsx($Se,{})]})},VY=g.createContext({});function VSe(t){const e=g.useRef(null);return e.current===null&&(e.current=t()),e.current}const VI=g.createContext(null),BY=g.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function BSe(t=!0){const e=g.useContext(VI);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:i}=e,s=g.useId();g.useEffect(()=>{t&&i(s)},[t]);const a=g.useCallback(()=>t&&n&&n(s),[s,n,t]);return!r&&n?[!1,a]:[!0]}const BI=typeof window<"u",USe=BI?g.useLayoutEffect:g.useEffect,_s=t=>t;let UY=_s;function UI(t){let e;return()=>(e===void 0&&(e=t()),e)}const Pp=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n},Tl=t=>t*1e3,jl=t=>t/1e3,zSe={useManualTiming:!1};function qSe(t){let e=new Set,r=new Set,n=!1,i=!1;const s=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function o(u){s.has(u)&&(c.schedule(u),t()),u(a)}const c={schedule:(u,d=!1,f=!1)=>{const p=f&&n?e:r;return d&&s.add(u),p.has(u)||p.add(u),u},cancel:u=>{r.delete(u),s.delete(u)},process:u=>{if(a=u,n){i=!0;return}n=!0,[e,r]=[r,e],e.forEach(o),e.clear(),n=!1,i&&(i=!1,c.process(u))}};return c}const ib=["read","resolveKeyframes","update","preRender","render","postRender"],WSe=40;function zY(t,e){let r=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>r=!0,a=ib.reduce((w,y)=>(w[y]=qSe(s),w),{}),{read:o,resolveKeyframes:c,update:u,preRender:d,render:f,postRender:h}=a,p=()=>{const w=performance.now();r=!1,i.delta=n?1e3/60:Math.max(Math.min(w-i.timestamp,WSe),1),i.timestamp=w,i.isProcessing=!0,o.process(i),c.process(i),u.process(i),d.process(i),f.process(i),h.process(i),i.isProcessing=!1,r&&e&&(n=!1,t(p))},v=()=>{r=!0,n=!0,i.isProcessing||t(p)};return{schedule:ib.reduce((w,y)=>{const _=a[y];return w[y]=(S,E=!1,N=!1)=>(r||v(),_.schedule(S,E,N)),w},{}),cancel:w=>{for(let y=0;y<ib.length;y++)a[ib[y]].cancel(w)},state:i,steps:a}}const{schedule:jr,cancel:du,state:Ln,steps:jT}=zY(typeof requestAnimationFrame<"u"?requestAnimationFrame:_s,!0),qY=g.createContext({strict:!1}),DF={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Rp={};for(const t in DF)Rp[t]={isEnabled:e=>DF[t].some(r=>!!e[r])};function HSe(t){for(const e in t)Rp[e]={...Rp[e],...t[e]}}const KSe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function g_(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||KSe.has(t)}let WY=t=>!g_(t);function GSe(t){t&&(WY=e=>e.startsWith("on")?!g_(e):t(e))}try{GSe(require("@emotion/is-prop-valid").default)}catch{}function YSe(t,e,r){const n={};for(const i in t)i==="values"&&typeof t.values=="object"||(WY(i)||r===!0&&g_(i)||!e&&!g_(i)||t.draggable&&i.startsWith("onDrag"))&&(n[i]=t[i]);return n}function XSe(t){if(typeof Proxy>"u")return t;const e=new Map,r=(...n)=>t(...n);return new Proxy(r,{get:(n,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const XE=g.createContext({});function iy(t){return typeof t=="string"||Array.isArray(t)}function QE(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const zI=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],qI=["initial",...zI];function ZE(t){return QE(t.animate)||qI.some(e=>iy(t[e]))}function HY(t){return!!(ZE(t)||t.variants)}function QSe(t,e){if(ZE(t)){const{initial:r,animate:n}=t;return{initial:r===!1||iy(r)?r:void 0,animate:iy(n)?n:void 0}}return t.inherit!==!1?e:{}}function ZSe(t){const{initial:e,animate:r}=QSe(t,g.useContext(XE));return g.useMemo(()=>({initial:e,animate:r}),[LF(e),LF(r)])}function LF(t){return Array.isArray(t)?t.join(" "):t}const JSe=Symbol.for("motionComponentSymbol");function mh(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function eNe(t,e,r){return g.useCallback(n=>{n&&t.onMount&&t.onMount(n),e&&(n?e.mount(n):e.unmount()),r&&(typeof r=="function"?r(n):mh(r)&&(r.current=n))},[e])}const WI=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),tNe="framerAppearId",KY="data-"+WI(tNe),{schedule:HI}=zY(queueMicrotask,!1),GY=g.createContext({});function rNe(t,e,r,n,i){var s,a;const{visualElement:o}=g.useContext(XE),c=g.useContext(qY),u=g.useContext(VI),d=g.useContext(BY).reducedMotion,f=g.useRef(null);n=n||c.renderer,!f.current&&n&&(f.current=n(t,{visualState:e,parent:o,props:r,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const h=f.current,p=g.useContext(GY);h&&!h.projection&&i&&(h.type==="html"||h.type==="svg")&&nNe(f.current,r,i,p);const v=g.useRef(!1);g.useInsertionEffect(()=>{h&&v.current&&h.update(r,u)});const m=r[KY],b=g.useRef(!!m&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,m))&&((a=window.MotionHasOptimisedAnimation)===null||a===void 0?void 0:a.call(window,m)));return USe(()=>{h&&(v.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),HI.render(h.render),b.current&&h.animationState&&h.animationState.animateChanges())}),g.useEffect(()=>{h&&(!b.current&&h.animationState&&h.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{var w;(w=window.MotionHandoffMarkAsComplete)===null||w===void 0||w.call(window,m)}),b.current=!1))}),h}function nNe(t,e,r,n){const{layoutId:i,layout:s,drag:a,dragConstraints:o,layoutScroll:c,layoutRoot:u}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:YY(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!a||o&&mh(o),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:n,layoutScroll:c,layoutRoot:u})}function YY(t){if(t)return t.options.allowProjection!==!1?t.projection:YY(t.parent)}function iNe({preloadedFeatures:t,createVisualElement:e,useRender:r,useVisualState:n,Component:i}){var s,a;t&&HSe(t);function o(u,d){let f;const h={...g.useContext(BY),...u,layoutId:sNe(u)},{isStatic:p}=h,v=ZSe(u),m=n(u,p);if(!p&&BI){aNe();const b=oNe(h);f=b.MeasureLayout,v.visualElement=rNe(i,m,h,e,b.ProjectionNode)}return l.jsxs(XE.Provider,{value:v,children:[f&&v.visualElement?l.jsx(f,{visualElement:v.visualElement,...h}):null,r(i,u,eNe(m,v.visualElement,d),m,p,v.visualElement)]})}o.displayName=`motion.${typeof i=="string"?i:`create(${(a=(s=i.displayName)!==null&&s!==void 0?s:i.name)!==null&&a!==void 0?a:""})`}`;const c=g.forwardRef(o);return c[JSe]=i,c}function sNe({layoutId:t}){const e=g.useContext(VY).id;return e&&t!==void 0?e+"-"+t:t}function aNe(t,e){g.useContext(qY).strict}function oNe(t){const{drag:e,layout:r}=Rp;if(!e&&!r)return{};const n={...e,...r};return{MeasureLayout:e!=null&&e.isEnabled(t)||r!=null&&r.isEnabled(t)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const lNe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function KI(t){return typeof t!="string"||t.includes("-")?!1:!!(lNe.indexOf(t)>-1||/[A-Z]/u.test(t))}function $F(t){const e=[{},{}];return t==null||t.values.forEach((r,n)=>{e[0][n]=r.get(),e[1][n]=r.getVelocity()}),e}function GI(t,e,r,n){if(typeof e=="function"){const[i,s]=$F(n);e=e(r!==void 0?r:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=$F(n);e=e(r!==void 0?r:t.custom,i,s)}return e}const AA=t=>Array.isArray(t),cNe=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),uNe=t=>AA(t)?t[t.length-1]||0:t,oi=t=>!!(t&&t.getVelocity);function ew(t){const e=oi(t)?t.get():t;return cNe(e)?e.toValue():e}function dNe({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:r},n,i,s){const a={latestValues:fNe(n,i,s,t),renderState:e()};return r&&(a.onMount=o=>r({props:n,current:o,...a}),a.onUpdate=o=>r(o)),a}const XY=t=>(e,r)=>{const n=g.useContext(XE),i=g.useContext(VI),s=()=>dNe(t,e,n,i);return r?s():VSe(s)};function fNe(t,e,r,n){const i={},s=n(t,{});for(const h in s)i[h]=ew(s[h]);let{initial:a,animate:o}=t;const c=ZE(t),u=HY(t);e&&u&&!c&&t.inherit!==!1&&(a===void 0&&(a=e.initial),o===void 0&&(o=e.animate));let d=r?r.initial===!1:!1;d=d||a===!1;const f=d?o:a;if(f&&typeof f!="boolean"&&!QE(f)){const h=Array.isArray(f)?f:[f];for(let p=0;p<h.length;p++){const v=GI(t,h[p]);if(v){const{transitionEnd:m,transition:b,...w}=v;for(const y in w){let _=w[y];if(Array.isArray(_)){const S=d?_.length-1:0;_=_[S]}_!==null&&(i[y]=_)}for(const y in m)i[y]=m[y]}}}return i}const Em=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Cf=new Set(Em),QY=t=>e=>typeof e=="string"&&e.startsWith(t),ZY=QY("--"),hNe=QY("var(--"),YI=t=>hNe(t)?pNe.test(t.split("/*")[0].trim()):!1,pNe=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,JY=(t,e)=>e&&typeof t=="number"?e.transform(t):t,ql=(t,e,r)=>r>e?e:r<t?t:r,Sm={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},sy={...Sm,transform:t=>ql(0,1,t)},sb={...Sm,default:1},q0=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),gc=q0("deg"),jo=q0("%"),et=q0("px"),mNe=q0("vh"),gNe=q0("vw"),FF={...jo,parse:t=>jo.parse(t)/100,transform:t=>jo.transform(t*100)},vNe={borderWidth:et,borderTopWidth:et,borderRightWidth:et,borderBottomWidth:et,borderLeftWidth:et,borderRadius:et,radius:et,borderTopLeftRadius:et,borderTopRightRadius:et,borderBottomRightRadius:et,borderBottomLeftRadius:et,width:et,maxWidth:et,height:et,maxHeight:et,top:et,right:et,bottom:et,left:et,padding:et,paddingTop:et,paddingRight:et,paddingBottom:et,paddingLeft:et,margin:et,marginTop:et,marginRight:et,marginBottom:et,marginLeft:et,backgroundPositionX:et,backgroundPositionY:et},yNe={rotate:gc,rotateX:gc,rotateY:gc,rotateZ:gc,scale:sb,scaleX:sb,scaleY:sb,scaleZ:sb,skew:gc,skewX:gc,skewY:gc,distance:et,translateX:et,translateY:et,translateZ:et,x:et,y:et,z:et,perspective:et,transformPerspective:et,opacity:sy,originX:FF,originY:FF,originZ:et},VF={...Sm,transform:Math.round},XI={...vNe,...yNe,zIndex:VF,size:et,fillOpacity:sy,strokeOpacity:sy,numOctaves:VF},xNe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},bNe=Em.length;function wNe(t,e,r){let n="",i=!0;for(let s=0;s<bNe;s++){const a=Em[s],o=t[a];if(o===void 0)continue;let c=!0;if(typeof o=="number"?c=o===(a.startsWith("scale")?1:0):c=parseFloat(o)===0,!c||r){const u=JY(o,XI[a]);if(!c){i=!1;const d=xNe[a]||a;n+=`${d}(${u}) `}r&&(e[a]=u)}}return n=n.trim(),r?n=r(e,i?"":n):i&&(n="none"),n}function QI(t,e,r){const{style:n,vars:i,transformOrigin:s}=t;let a=!1,o=!1;for(const c in e){const u=e[c];if(Cf.has(c)){a=!0;continue}else if(ZY(c)){i[c]=u;continue}else{const d=JY(u,XI[c]);c.startsWith("origin")?(o=!0,s[c]=d):n[c]=d}}if(e.transform||(a||r?n.transform=wNe(e,t.transform,r):n.transform&&(n.transform="none")),o){const{originX:c="50%",originY:u="50%",originZ:d=0}=s;n.transformOrigin=`${c} ${u} ${d}`}}const _Ne={offset:"stroke-dashoffset",array:"stroke-dasharray"},ENe={offset:"strokeDashoffset",array:"strokeDasharray"};function SNe(t,e,r=1,n=0,i=!0){t.pathLength=1;const s=i?_Ne:ENe;t[s.offset]=et.transform(-n);const a=et.transform(e),o=et.transform(r);t[s.array]=`${a} ${o}`}function BF(t,e,r){return typeof t=="string"?t:et.transform(e+r*t)}function NNe(t,e,r){const n=BF(e,t.x,t.width),i=BF(r,t.y,t.height);return`${n} ${i}`}function ZI(t,{attrX:e,attrY:r,attrScale:n,originX:i,originY:s,pathLength:a,pathSpacing:o=1,pathOffset:c=0,...u},d,f){if(QI(t,u,f),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:p,dimensions:v}=t;h.transform&&(v&&(p.transform=h.transform),delete h.transform),v&&(i!==void 0||s!==void 0||p.transform)&&(p.transformOrigin=NNe(v,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(h.x=e),r!==void 0&&(h.y=r),n!==void 0&&(h.scale=n),a!==void 0&&SNe(h,a,o,c,!1)}const JI=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),eX=()=>({...JI(),attrs:{}}),eO=t=>typeof t=="string"&&t.toLowerCase()==="svg";function tX(t,{style:e,vars:r},n,i){Object.assign(t.style,e,i&&i.getProjectionStyles(n));for(const s in r)t.style.setProperty(s,r[s])}const rX=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function nX(t,e,r,n){tX(t,e,void 0,n);for(const i in e.attrs)t.setAttribute(rX.has(i)?i:WI(i),e.attrs[i])}const v_={};function TNe(t){Object.assign(v_,t)}function iX(t,{layout:e,layoutId:r}){return Cf.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!v_[t]||t==="opacity")}function tO(t,e,r){var n;const{style:i}=t,s={};for(const a in i)(oi(i[a])||e.style&&oi(e.style[a])||iX(a,t)||((n=r==null?void 0:r.getValue(a))===null||n===void 0?void 0:n.liveStyle)!==void 0)&&(s[a]=i[a]);return s}function sX(t,e,r){const n=tO(t,e,r);for(const i in t)if(oi(t[i])||oi(e[i])){const s=Em.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[s]=t[i]}return n}function jNe(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const UF=["x","y","width","height","cx","cy","r"],CNe={useVisualState:XY({scrapeMotionValuesFromProps:sX,createRenderState:eX,onUpdate:({props:t,prevProps:e,current:r,renderState:n,latestValues:i})=>{if(!r)return;let s=!!t.drag;if(!s){for(const o in i)if(Cf.has(o)){s=!0;break}}if(!s)return;let a=!e;if(e)for(let o=0;o<UF.length;o++){const c=UF[o];t[c]!==e[c]&&(a=!0)}a&&jr.read(()=>{jNe(r,n),jr.render(()=>{ZI(n,i,eO(r.tagName),t.transformTemplate),nX(r,n)})})}})},ANe={useVisualState:XY({scrapeMotionValuesFromProps:tO,createRenderState:JI})};function aX(t,e,r){for(const n in e)!oi(e[n])&&!iX(n,r)&&(t[n]=e[n])}function PNe({transformTemplate:t},e){return g.useMemo(()=>{const r=JI();return QI(r,e,t),Object.assign({},r.vars,r.style)},[e])}function RNe(t,e){const r=t.style||{},n={};return aX(n,r,t),Object.assign(n,PNe(t,e)),n}function kNe(t,e){const r={},n=RNe(t,e);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=n,r}function INe(t,e,r,n){const i=g.useMemo(()=>{const s=eX();return ZI(s,e,eO(n),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};aX(s,t.style,t),i.style={...s,...i.style}}return i}function ONe(t=!1){return(r,n,i,{latestValues:s},a)=>{const c=(KI(r)?INe:kNe)(n,s,a,r),u=YSe(n,typeof r=="string",t),d=r!==g.Fragment?{...u,...c,ref:i}:{},{children:f}=n,h=g.useMemo(()=>oi(f)?f.get():f,[f]);return g.createElement(r,{...d,children:h})}}function MNe(t,e){return function(n,{forwardMotionProps:i}={forwardMotionProps:!1}){const a={...KI(n)?CNe:ANe,preloadedFeatures:t,useRender:ONe(i),createVisualElement:e,Component:n};return iNe(a)}}function oX(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}function JE(t,e,r){const n=t.getProps();return GI(n,e,r!==void 0?r:n.custom,t)}const DNe=UI(()=>window.ScrollTimeline!==void 0);class LNe{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,r){for(let n=0;n<this.animations.length;n++)this.animations[n][e]=r}attachTimeline(e,r){const n=this.animations.map(i=>{if(DNe()&&i.attachTimeline)return i.attachTimeline(e);if(typeof r=="function")return r(i)});return()=>{n.forEach((i,s)=>{i&&i(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let r=0;r<this.animations.length;r++)e=Math.max(e,this.animations[r].duration);return e}runAll(e){this.animations.forEach(r=>r[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class $Ne extends LNe{then(e,r){return Promise.all(this.animations).then(e).catch(r)}}function rO(t,e){return t?t[e]||t.default||t:void 0}const PA=2e4;function lX(t){let e=0;const r=50;let n=t.next(e);for(;!n.done&&e<PA;)e+=r,n=t.next(e);return e>=PA?1/0:e}function nO(t){return typeof t=="function"}function zF(t,e){t.timeline=e,t.onfinish=null}const iO=t=>Array.isArray(t)&&typeof t[0]=="number",FNe={linearEasing:void 0};function VNe(t,e){const r=UI(t);return()=>{var n;return(n=FNe[e])!==null&&n!==void 0?n:r()}}const y_=VNe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),cX=(t,e,r=10)=>{let n="";const i=Math.max(Math.round(e/r),2);for(let s=0;s<i;s++)n+=t(Pp(0,i-1,s))+", ";return`linear(${n.substring(0,n.length-2)})`};function uX(t){return!!(typeof t=="function"&&y_()||!t||typeof t=="string"&&(t in RA||y_())||iO(t)||Array.isArray(t)&&t.every(uX))}const kg=([t,e,r,n])=>`cubic-bezier(${t}, ${e}, ${r}, ${n})`,RA={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:kg([0,.65,.55,1]),circOut:kg([.55,0,1,.45]),backIn:kg([.31,.01,.66,-.59]),backOut:kg([.33,1.53,.69,.99])};function dX(t,e){if(t)return typeof t=="function"&&y_()?cX(t,e):iO(t)?kg(t):Array.isArray(t)?t.map(r=>dX(r,e)||RA.easeOut):RA[t]}const da={x:!1,y:!1};function fX(){return da.x||da.y}function BNe(t,e,r){var n;if(t instanceof Element)return[t];if(typeof t=="string"){let i=document;const s=(n=void 0)!==null&&n!==void 0?n:i.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}function hX(t,e){const r=BNe(t),n=new AbortController,i={passive:!0,...e,signal:n.signal};return[r,i,()=>n.abort()]}function qF(t){return e=>{e.pointerType==="touch"||fX()||t(e)}}function UNe(t,e,r={}){const[n,i,s]=hX(t,r),a=qF(o=>{const{target:c}=o,u=e(o);if(typeof u!="function"||!c)return;const d=qF(f=>{u(f),c.removeEventListener("pointerleave",d)});c.addEventListener("pointerleave",d,i)});return n.forEach(o=>{o.addEventListener("pointerenter",a,i)}),s}const pX=(t,e)=>e?t===e?!0:pX(t,e.parentElement):!1,sO=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,zNe=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function qNe(t){return zNe.has(t.tagName)||t.tabIndex!==-1}const Ig=new WeakSet;function WF(t){return e=>{e.key==="Enter"&&t(e)}}function CT(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const WNe=(t,e)=>{const r=t.currentTarget;if(!r)return;const n=WF(()=>{if(Ig.has(r))return;CT(r,"down");const i=WF(()=>{CT(r,"up")}),s=()=>CT(r,"cancel");r.addEventListener("keyup",i,e),r.addEventListener("blur",s,e)});r.addEventListener("keydown",n,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),e)};function HF(t){return sO(t)&&!fX()}function HNe(t,e,r={}){const[n,i,s]=hX(t,r),a=o=>{const c=o.currentTarget;if(!HF(o)||Ig.has(c))return;Ig.add(c);const u=e(o),d=(p,v)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),!(!HF(p)||!Ig.has(c))&&(Ig.delete(c),typeof u=="function"&&u(p,{success:v}))},f=p=>{d(p,r.useGlobalTarget||pX(c,p.target))},h=p=>{d(p,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",h,i)};return n.forEach(o=>{!qNe(o)&&o.getAttribute("tabindex")===null&&(o.tabIndex=0),(r.useGlobalTarget?window:o).addEventListener("pointerdown",a,i),o.addEventListener("focus",u=>WNe(u,i),i)}),s}function KNe(t){return t==="x"||t==="y"?da[t]?null:(da[t]=!0,()=>{da[t]=!1}):da.x||da.y?null:(da.x=da.y=!0,()=>{da.x=da.y=!1})}const mX=new Set(["width","height","top","left","right","bottom",...Em]);let tw;function GNe(){tw=void 0}const Co={now:()=>(tw===void 0&&Co.set(Ln.isProcessing||zSe.useManualTiming?Ln.timestamp:performance.now()),tw),set:t=>{tw=t,queueMicrotask(GNe)}};function aO(t,e){t.indexOf(e)===-1&&t.push(e)}function oO(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}class lO{constructor(){this.subscriptions=[]}add(e){return aO(this.subscriptions,e),()=>oO(this.subscriptions,e)}notify(e,r,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,r,n);else for(let s=0;s<i;s++){const a=this.subscriptions[s];a&&a(e,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function gX(t,e){return e?t*(1e3/e):0}const KF=30,YNe=t=>!isNaN(parseFloat(t));class XNe{constructor(e,r={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,i=!0)=>{const s=Co.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=Co.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=YNe(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new lO);const n=this.events[e].add(r);return e==="change"?()=>{n(),jr.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e,r=!0){!r||!this.passiveEffect?this.updateAndNotify(e,r):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Co.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>KF)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,KF);return gX(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ay(t,e){return new XNe(t,e)}function QNe(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,ay(r))}function ZNe(t,e){const r=JE(t,e);let{transitionEnd:n={},transition:i={},...s}=r||{};s={...s,...n};for(const a in s){const o=uNe(s[a]);QNe(t,a,o)}}function JNe(t){return!!(oi(t)&&t.add)}function kA(t,e){const r=t.getValue("willChange");if(JNe(r))return r.add(e)}function vX(t){return t.props[KY]}const yX=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,eTe=1e-7,tTe=12;function rTe(t,e,r,n,i){let s,a,o=0;do a=e+(r-e)/2,s=yX(a,n,i)-t,s>0?r=a:e=a;while(Math.abs(s)>eTe&&++o<tTe);return a}function W0(t,e,r,n){if(t===e&&r===n)return _s;const i=s=>rTe(s,0,1,t,r);return s=>s===0||s===1?s:yX(i(s),e,n)}const xX=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,bX=t=>e=>1-t(1-e),wX=W0(.33,1.53,.69,.99),cO=bX(wX),_X=xX(cO),EX=t=>(t*=2)<1?.5*cO(t):.5*(2-Math.pow(2,-10*(t-1))),uO=t=>1-Math.sin(Math.acos(t)),SX=bX(uO),NX=xX(uO),TX=t=>/^0[^.\s]+$/u.test(t);function nTe(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||TX(t):!0}const nv=t=>Math.round(t*1e5)/1e5,dO=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function iTe(t){return t==null}const sTe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,fO=(t,e)=>r=>!!(typeof r=="string"&&sTe.test(r)&&r.startsWith(t)||e&&!iTe(r)&&Object.prototype.hasOwnProperty.call(r,e)),jX=(t,e,r)=>n=>{if(typeof n!="string")return n;const[i,s,a,o]=n.match(dO);return{[t]:parseFloat(i),[e]:parseFloat(s),[r]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},aTe=t=>ql(0,255,t),AT={...Sm,transform:t=>Math.round(aTe(t))},gd={test:fO("rgb","red"),parse:jX("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+AT.transform(t)+", "+AT.transform(e)+", "+AT.transform(r)+", "+nv(sy.transform(n))+")"};function oTe(t){let e="",r="",n="",i="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),n=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),n=t.substring(3,4),i=t.substring(4,5),e+=e,r+=r,n+=n,i+=i),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const IA={test:fO("#"),parse:oTe,transform:gd.transform},gh={test:fO("hsl","hue"),parse:jX("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+jo.transform(nv(e))+", "+jo.transform(nv(r))+", "+nv(sy.transform(n))+")"},ni={test:t=>gd.test(t)||IA.test(t)||gh.test(t),parse:t=>gd.test(t)?gd.parse(t):gh.test(t)?gh.parse(t):IA.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?gd.transform(t):gh.transform(t)},lTe=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function cTe(t){var e,r;return isNaN(t)&&typeof t=="string"&&(((e=t.match(dO))===null||e===void 0?void 0:e.length)||0)+(((r=t.match(lTe))===null||r===void 0?void 0:r.length)||0)>0}const CX="number",AX="color",uTe="var",dTe="var(",GF="${}",fTe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function oy(t){const e=t.toString(),r=[],n={color:[],number:[],var:[]},i=[];let s=0;const o=e.replace(fTe,c=>(ni.test(c)?(n.color.push(s),i.push(AX),r.push(ni.parse(c))):c.startsWith(dTe)?(n.var.push(s),i.push(uTe),r.push(c)):(n.number.push(s),i.push(CX),r.push(parseFloat(c))),++s,GF)).split(GF);return{values:r,split:o,indexes:n,types:i}}function PX(t){return oy(t).values}function RX(t){const{split:e,types:r}=oy(t),n=e.length;return i=>{let s="";for(let a=0;a<n;a++)if(s+=e[a],i[a]!==void 0){const o=r[a];o===CX?s+=nv(i[a]):o===AX?s+=ni.transform(i[a]):s+=i[a]}return s}}const hTe=t=>typeof t=="number"?0:t;function pTe(t){const e=PX(t);return RX(t)(e.map(hTe))}const fu={test:cTe,parse:PX,createTransformer:RX,getAnimatableNone:pTe},mTe=new Set(["brightness","contrast","saturate","opacity"]);function gTe(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=r.match(dO)||[];if(!n)return t;const i=r.replace(n,"");let s=mTe.has(e)?1:0;return n!==r&&(s*=100),e+"("+s+i+")"}const vTe=/\b([a-z-]*)\(.*?\)/gu,OA={...fu,getAnimatableNone:t=>{const e=t.match(vTe);return e?e.map(gTe).join(" "):t}},yTe={...XI,color:ni,backgroundColor:ni,outlineColor:ni,fill:ni,stroke:ni,borderColor:ni,borderTopColor:ni,borderRightColor:ni,borderBottomColor:ni,borderLeftColor:ni,filter:OA,WebkitFilter:OA},hO=t=>yTe[t];function kX(t,e){let r=hO(t);return r!==OA&&(r=fu),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const xTe=new Set(["auto","none","0"]);function bTe(t,e,r){let n=0,i;for(;n<t.length&&!i;){const s=t[n];typeof s=="string"&&!xTe.has(s)&&oy(s).values.length&&(i=t[n]),n++}if(i&&r)for(const s of e)t[s]=kX(r,i)}const YF=t=>t===Sm||t===et,XF=(t,e)=>parseFloat(t.split(", ")[e]),QF=(t,e)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const i=n.match(/^matrix3d\((.+)\)$/u);if(i)return XF(i[1],e);{const s=n.match(/^matrix\((.+)\)$/u);return s?XF(s[1],t):0}},wTe=new Set(["x","y","z"]),_Te=Em.filter(t=>!wTe.has(t));function ETe(t){const e=[];return _Te.forEach(r=>{const n=t.getValue(r);n!==void 0&&(e.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),e}const kp={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:QF(4,13),y:QF(5,14)};kp.translateX=kp.x;kp.translateY=kp.y;const Ld=new Set;let MA=!1,DA=!1;function IX(){if(DA){const t=Array.from(Ld).filter(n=>n.needsMeasurement),e=new Set(t.map(n=>n.element)),r=new Map;e.forEach(n=>{const i=ETe(n);i.length&&(r.set(n,i),n.render())}),t.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const i=r.get(n);i&&i.forEach(([s,a])=>{var o;(o=n.getValue(s))===null||o===void 0||o.set(a)})}),t.forEach(n=>n.measureEndState()),t.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}DA=!1,MA=!1,Ld.forEach(t=>t.complete()),Ld.clear()}function OX(){Ld.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(DA=!0)})}function STe(){OX(),IX()}class pO{constructor(e,r,n,i,s,a=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=n,this.motionValue=i,this.element=s,this.isAsync=a}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Ld.add(this),MA||(MA=!0,jr.read(OX),jr.resolveKeyframes(IX))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:n,motionValue:i}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const a=i==null?void 0:i.get(),o=e[e.length-1];if(a!==void 0)e[0]=a;else if(n&&r){const c=n.readValue(r,o);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=o),i&&a===void 0&&i.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Ld.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Ld.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const MX=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),NTe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function TTe(t){const e=NTe.exec(t);if(!e)return[,];const[,r,n,i]=e;return[`--${r??n}`,i]}function DX(t,e,r=1){const[n,i]=TTe(t);if(!n)return;const s=window.getComputedStyle(e).getPropertyValue(n);if(s){const a=s.trim();return MX(a)?parseFloat(a):a}return YI(i)?DX(i,e,r+1):i}const LX=t=>e=>e.test(t),jTe={test:t=>t==="auto",parse:t=>t},$X=[Sm,et,jo,gc,gNe,mNe,jTe],ZF=t=>$X.find(LX(t));class FX extends pO{constructor(e,r,n,i,s){super(e,r,n,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="string"&&(u=u.trim(),YI(u))){const d=DX(u,r.current);d!==void 0&&(e[c]=d),c===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!mX.has(n)||e.length!==2)return;const[i,s]=e,a=ZF(i),o=ZF(s);if(a!==o)if(YF(a)&&YF(o))for(let c=0;c<e.length;c++){const u=e[c];typeof u=="string"&&(e[c]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,n=[];for(let i=0;i<e.length;i++)nTe(e[i])&&n.push(i);n.length&&bTe(e,n,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=kp[n](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const i=r[r.length-1];i!==void 0&&e.getValue(n,i).jump(i,!1)}measureEndState(){var e;const{element:r,name:n,unresolvedKeyframes:i}=this;if(!r||!r.current)return;const s=r.getValue(n);s&&s.jump(this.measuredOrigin,!1);const a=i.length-1,o=i[a];i[a]=kp[n](r.measureViewportBox(),window.getComputedStyle(r.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([c,u])=>{r.getValue(c).set(u)}),this.resolveNoneKeyframes()}}const JF=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(fu.test(t)||t==="0")&&!t.startsWith("url("));function CTe(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function ATe(t,e,r,n){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],a=JF(i,e),o=JF(s,e);return!a||!o?!1:CTe(t)||(r==="spring"||nO(r))&&n}const PTe=t=>t!==null;function eS(t,{repeat:e,repeatType:r="loop"},n){const i=t.filter(PTe),s=e&&r!=="loop"&&e%2===1?0:i.length-1;return!s||n===void 0?i[s]:n}const RTe=40;class VX{constructor({autoplay:e=!0,delay:r=0,type:n="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a="loop",...o}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Co.now(),this.options={autoplay:e,delay:r,type:n,repeat:i,repeatDelay:s,repeatType:a,...o},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>RTe?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&STe(),this._resolved}onKeyframesResolved(e,r){this.resolvedAt=Co.now(),this.hasAttemptedResolve=!0;const{name:n,type:i,velocity:s,delay:a,onComplete:o,onUpdate:c,isGenerator:u}=this.options;if(!u&&!ATe(e,n,i,s))if(a)this.options.duration=0;else{c&&c(eS(e,this.options,r)),o&&o(),this.resolveFinishedPromise();return}const d=this.initPlayback(e,r);d!==!1&&(this._resolved={keyframes:e,finalKeyframe:r,...d},this.onPostResolved())}onPostResolved(){}then(e,r){return this.currentFinishedPromise.then(e,r)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const $r=(t,e,r)=>t+(e-t)*r;function PT(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function kTe({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let i=0,s=0,a=0;if(!e)i=s=a=r;else{const o=r<.5?r*(1+e):r+e-r*e,c=2*r-o;i=PT(c,o,t+1/3),s=PT(c,o,t),a=PT(c,o,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:n}}function x_(t,e){return r=>r>0?e:t}const RT=(t,e,r)=>{const n=t*t,i=r*(e*e-n)+n;return i<0?0:Math.sqrt(i)},ITe=[IA,gd,gh],OTe=t=>ITe.find(e=>e.test(t));function e3(t){const e=OTe(t);if(!e)return!1;let r=e.parse(t);return e===gh&&(r=kTe(r)),r}const t3=(t,e)=>{const r=e3(t),n=e3(e);if(!r||!n)return x_(t,e);const i={...r};return s=>(i.red=RT(r.red,n.red,s),i.green=RT(r.green,n.green,s),i.blue=RT(r.blue,n.blue,s),i.alpha=$r(r.alpha,n.alpha,s),gd.transform(i))},MTe=(t,e)=>r=>e(t(r)),H0=(...t)=>t.reduce(MTe),LA=new Set(["none","hidden"]);function DTe(t,e){return LA.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function LTe(t,e){return r=>$r(t,e,r)}function mO(t){return typeof t=="number"?LTe:typeof t=="string"?YI(t)?x_:ni.test(t)?t3:VTe:Array.isArray(t)?BX:typeof t=="object"?ni.test(t)?t3:$Te:x_}function BX(t,e){const r=[...t],n=r.length,i=t.map((s,a)=>mO(s)(s,e[a]));return s=>{for(let a=0;a<n;a++)r[a]=i[a](s);return r}}function $Te(t,e){const r={...t,...e},n={};for(const i in r)t[i]!==void 0&&e[i]!==void 0&&(n[i]=mO(t[i])(t[i],e[i]));return i=>{for(const s in n)r[s]=n[s](i);return r}}function FTe(t,e){var r;const n=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const a=e.types[s],o=t.indexes[a][i[a]],c=(r=t.values[o])!==null&&r!==void 0?r:0;n[s]=c,i[a]++}return n}const VTe=(t,e)=>{const r=fu.createTransformer(e),n=oy(t),i=oy(e);return n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length?LA.has(t)&&!i.values.length||LA.has(e)&&!n.values.length?DTe(t,e):H0(BX(FTe(n,i),i.values),r):x_(t,e)};function UX(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?$r(t,e,r):mO(t)(t,e)}const BTe=5;function zX(t,e,r){const n=Math.max(e-BTe,0);return gX(r-t(n),e-n)}const Kr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},r3=.001;function UTe({duration:t=Kr.duration,bounce:e=Kr.bounce,velocity:r=Kr.velocity,mass:n=Kr.mass}){let i,s,a=1-e;a=ql(Kr.minDamping,Kr.maxDamping,a),t=ql(Kr.minDuration,Kr.maxDuration,jl(t)),a<1?(i=u=>{const d=u*a,f=d*t,h=d-r,p=$A(u,a),v=Math.exp(-f);return r3-h/p*v},s=u=>{const f=u*a*t,h=f*r+r,p=Math.pow(a,2)*Math.pow(u,2)*t,v=Math.exp(-f),m=$A(Math.pow(u,2),a);return(-i(u)+r3>0?-1:1)*((h-p)*v)/m}):(i=u=>{const d=Math.exp(-u*t),f=(u-r)*t+1;return-.001+d*f},s=u=>{const d=Math.exp(-u*t),f=(r-u)*(t*t);return d*f});const o=5/t,c=qTe(i,s,o);if(t=Tl(t),isNaN(c))return{stiffness:Kr.stiffness,damping:Kr.damping,duration:t};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:a*2*Math.sqrt(n*u),duration:t}}}const zTe=12;function qTe(t,e,r){let n=r;for(let i=1;i<zTe;i++)n=n-t(n)/e(n);return n}function $A(t,e){return t*Math.sqrt(1-e*e)}const WTe=["duration","bounce"],HTe=["stiffness","damping","mass"];function n3(t,e){return e.some(r=>t[r]!==void 0)}function KTe(t){let e={velocity:Kr.velocity,stiffness:Kr.stiffness,damping:Kr.damping,mass:Kr.mass,isResolvedFromDuration:!1,...t};if(!n3(t,HTe)&&n3(t,WTe))if(t.visualDuration){const r=t.visualDuration,n=2*Math.PI/(r*1.2),i=n*n,s=2*ql(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Kr.mass,stiffness:i,damping:s}}else{const r=UTe(t);e={...e,...r,mass:Kr.mass},e.isResolvedFromDuration=!0}return e}function qX(t=Kr.visualDuration,e=Kr.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:n,restDelta:i}=r;const s=r.keyframes[0],a=r.keyframes[r.keyframes.length-1],o={done:!1,value:s},{stiffness:c,damping:u,mass:d,duration:f,velocity:h,isResolvedFromDuration:p}=KTe({...r,velocity:-jl(r.velocity||0)}),v=h||0,m=u/(2*Math.sqrt(c*d)),b=a-s,w=jl(Math.sqrt(c/d)),y=Math.abs(b)<5;n||(n=y?Kr.restSpeed.granular:Kr.restSpeed.default),i||(i=y?Kr.restDelta.granular:Kr.restDelta.default);let _;if(m<1){const E=$A(w,m);_=N=>{const T=Math.exp(-m*w*N);return a-T*((v+m*w*b)/E*Math.sin(E*N)+b*Math.cos(E*N))}}else if(m===1)_=E=>a-Math.exp(-w*E)*(b+(v+w*b)*E);else{const E=w*Math.sqrt(m*m-1);_=N=>{const T=Math.exp(-m*w*N),j=Math.min(E*N,300);return a-T*((v+m*w*b)*Math.sinh(j)+E*b*Math.cosh(j))/E}}const S={calculatedDuration:p&&f||null,next:E=>{const N=_(E);if(p)o.done=E>=f;else{let T=0;m<1&&(T=E===0?Tl(v):zX(_,E,N));const j=Math.abs(T)<=n,A=Math.abs(a-N)<=i;o.done=j&&A}return o.value=o.done?a:N,o},toString:()=>{const E=Math.min(lX(S),PA),N=cX(T=>S.next(E*T).value,E,30);return E+"ms "+N}};return S}function i3({keyframes:t,velocity:e=0,power:r=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:a,min:o,max:c,restDelta:u=.5,restSpeed:d}){const f=t[0],h={done:!1,value:f},p=j=>o!==void 0&&j<o||c!==void 0&&j>c,v=j=>o===void 0?c:c===void 0||Math.abs(o-j)<Math.abs(c-j)?o:c;let m=r*e;const b=f+m,w=a===void 0?b:a(b);w!==b&&(m=w-f);const y=j=>-m*Math.exp(-j/n),_=j=>w+y(j),S=j=>{const A=y(j),R=_(j);h.done=Math.abs(A)<=u,h.value=h.done?w:R};let E,N;const T=j=>{p(h.value)&&(E=j,N=qX({keyframes:[h.value,v(h.value)],velocity:zX(_,j,h.value),damping:i,stiffness:s,restDelta:u,restSpeed:d}))};return T(0),{calculatedDuration:null,next:j=>{let A=!1;return!N&&E===void 0&&(A=!0,S(j),T(j)),E!==void 0&&j>=E?N.next(j-E):(!A&&S(j),h)}}}const GTe=W0(.42,0,1,1),YTe=W0(0,0,.58,1),WX=W0(.42,0,.58,1),XTe=t=>Array.isArray(t)&&typeof t[0]!="number",QTe={linear:_s,easeIn:GTe,easeInOut:WX,easeOut:YTe,circIn:uO,circInOut:NX,circOut:SX,backIn:cO,backInOut:_X,backOut:wX,anticipate:EX},s3=t=>{if(iO(t)){UY(t.length===4);const[e,r,n,i]=t;return W0(e,r,n,i)}else if(typeof t=="string")return QTe[t];return t};function ZTe(t,e,r){const n=[],i=r||UX,s=t.length-1;for(let a=0;a<s;a++){let o=i(t[a],t[a+1]);if(e){const c=Array.isArray(e)?e[a]||_s:e;o=H0(c,o)}n.push(o)}return n}function JTe(t,e,{clamp:r=!0,ease:n,mixer:i}={}){const s=t.length;if(UY(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=ZTe(e,n,i),c=o.length,u=d=>{if(a&&d<t[0])return e[0];let f=0;if(c>1)for(;f<t.length-2&&!(d<t[f+1]);f++);const h=Pp(t[f],t[f+1],d);return o[f](h)};return r?d=>u(ql(t[0],t[s-1],d)):u}function eje(t,e){const r=t[t.length-1];for(let n=1;n<=e;n++){const i=Pp(0,e,n);t.push($r(r,1,i))}}function tje(t){const e=[0];return eje(e,t.length-1),e}function rje(t,e){return t.map(r=>r*e)}function nje(t,e){return t.map(()=>e||WX).splice(0,t.length-1)}function b_({duration:t=300,keyframes:e,times:r,ease:n="easeInOut"}){const i=XTe(n)?n.map(s3):s3(n),s={done:!1,value:e[0]},a=rje(r&&r.length===e.length?r:tje(e),t),o=JTe(a,e,{ease:Array.isArray(i)?i:nje(e,i)});return{calculatedDuration:t,next:c=>(s.value=o(c),s.done=c>=t,s)}}const ije=t=>{const e=({timestamp:r})=>t(r);return{start:()=>jr.update(e,!0),stop:()=>du(e),now:()=>Ln.isProcessing?Ln.timestamp:Co.now()}},sje={decay:i3,inertia:i3,tween:b_,keyframes:b_,spring:qX},aje=t=>t/100;class gO extends VX{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:r,motionValue:n,element:i,keyframes:s}=this.options,a=(i==null?void 0:i.KeyframeResolver)||pO,o=(c,u)=>this.onKeyframesResolved(c,u);this.resolver=new a(s,o,r,n,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:r="keyframes",repeat:n=0,repeatDelay:i=0,repeatType:s,velocity:a=0}=this.options,o=nO(r)?r:sje[r]||b_;let c,u;o!==b_&&typeof e[0]!="number"&&(c=H0(aje,UX(e[0],e[1])),e=[0,100]);const d=o({...this.options,keyframes:e});s==="mirror"&&(u=o({...this.options,keyframes:[...e].reverse(),velocity:-a})),d.calculatedDuration===null&&(d.calculatedDuration=lX(d));const{calculatedDuration:f}=d,h=f+i,p=h*(n+1)-i;return{generator:d,mirroredGenerator:u,mapPercentToKeyframes:c,calculatedDuration:f,resolvedDuration:h,totalDuration:p}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,r=!1){const{resolved:n}=this;if(!n){const{keyframes:j}=this.options;return{done:!0,value:j[j.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:a,mapPercentToKeyframes:o,keyframes:c,calculatedDuration:u,totalDuration:d,resolvedDuration:f}=n;if(this.startTime===null)return s.next(0);const{delay:h,repeat:p,repeatType:v,repeatDelay:m,onUpdate:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-d/this.speed,this.startTime)),r?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const w=this.currentTime-h*(this.speed>=0?1:-1),y=this.speed>=0?w<0:w>d;this.currentTime=Math.max(w,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let _=this.currentTime,S=s;if(p){const j=Math.min(this.currentTime,d)/f;let A=Math.floor(j),R=j%1;!R&&j>=1&&(R=1),R===1&&A--,A=Math.min(A,p+1),!!(A%2)&&(v==="reverse"?(R=1-R,m&&(R-=m/f)):v==="mirror"&&(S=a)),_=ql(0,1,R)*f}const E=y?{done:!1,value:c[0]}:S.next(_);o&&(E.value=o(E.value));let{done:N}=E;!y&&u!==null&&(N=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const T=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&N);return T&&i!==void 0&&(E.value=eS(c,this.options,i)),b&&b(E.value),T&&this.finish(),E}get duration(){const{resolved:e}=this;return e?jl(e.calculatedDuration):0}get time(){return jl(this.currentTime)}set time(e){e=Tl(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=jl(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=ije,onPlay:r,startTime:n}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),r&&r();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=n??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const oje=new Set(["opacity","clipPath","filter","transform"]);function lje(t,e,r,{delay:n=0,duration:i=300,repeat:s=0,repeatType:a="loop",ease:o="easeInOut",times:c}={}){const u={[e]:r};c&&(u.offset=c);const d=dX(o,i);return Array.isArray(d)&&(u.easing=d),t.animate(u,{delay:n,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:a==="reverse"?"alternate":"normal"})}const cje=UI(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),w_=10,uje=2e4;function dje(t){return nO(t.type)||t.type==="spring"||!uX(t.ease)}function fje(t,e){const r=new gO({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let n={done:!1,value:t[0]};const i=[];let s=0;for(;!n.done&&s<uje;)n=r.sample(s),i.push(n.value),s+=w_;return{times:void 0,keyframes:i,duration:s-w_,ease:"linear"}}const HX={anticipate:EX,backInOut:_X,circInOut:NX};function hje(t){return t in HX}class a3 extends VX{constructor(e){super(e);const{name:r,motionValue:n,element:i,keyframes:s}=this.options;this.resolver=new FX(s,(a,o)=>this.onKeyframesResolved(a,o),r,n,i),this.resolver.scheduleResolve()}initPlayback(e,r){let{duration:n=300,times:i,ease:s,type:a,motionValue:o,name:c,startTime:u}=this.options;if(!o.owner||!o.owner.current)return!1;if(typeof s=="string"&&y_()&&hje(s)&&(s=HX[s]),dje(this.options)){const{onComplete:f,onUpdate:h,motionValue:p,element:v,...m}=this.options,b=fje(e,m);e=b.keyframes,e.length===1&&(e[1]=e[0]),n=b.duration,i=b.times,s=b.ease,a="keyframes"}const d=lje(o.owner.current,c,e,{...this.options,duration:n,times:i,ease:s});return d.startTime=u??this.calcStartTime(),this.pendingTimeline?(zF(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:f}=this.options;o.set(eS(e,this.options,r)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:n,times:i,type:a,ease:s,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:r}=e;return jl(r)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:r}=e;return jl(r.currentTime||0)}set time(e){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.currentTime=Tl(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:r}=e;return r.playbackRate}set speed(e){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:r}=e;return r.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:r}=e;return r.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:r}=this;if(!r)return _s;const{animation:n}=r;zF(n,e)}return _s}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:r}=e;r.playState==="finished"&&this.updateFinishedPromise(),r.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:r}=e;r.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:r,keyframes:n,duration:i,type:s,ease:a,times:o}=e;if(r.playState==="idle"||r.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:d,onComplete:f,element:h,...p}=this.options,v=new gO({...p,keyframes:n,duration:i,type:s,ease:a,times:o,isGenerator:!0}),m=Tl(this.time);u.setWithVelocity(v.sample(m-w_).value,v.sample(m).value,w_)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:r,name:n,repeatDelay:i,repeatType:s,damping:a,type:o}=e;if(!r||!r.owner||!(r.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=r.owner.getProps();return cje()&&n&&oje.has(n)&&!c&&!u&&!i&&s!=="mirror"&&a!==0&&o!=="inertia"}}const pje={type:"spring",stiffness:500,damping:25,restSpeed:10},mje=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),gje={type:"keyframes",duration:.8},vje={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},yje=(t,{keyframes:e})=>e.length>2?gje:Cf.has(t)?t.startsWith("scale")?mje(e[1]):pje:vje;function xje({when:t,delay:e,delayChildren:r,staggerChildren:n,staggerDirection:i,repeat:s,repeatType:a,repeatDelay:o,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const vO=(t,e,r,n={},i,s)=>a=>{const o=rO(n,t)||{},c=o.delay||n.delay||0;let{elapsed:u=0}=n;u=u-Tl(c);let d={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...o,delay:-u,onUpdate:h=>{e.set(h),o.onUpdate&&o.onUpdate(h)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:t,motionValue:e,element:s?void 0:i};xje(o)||(d={...d,...yje(t,d)}),d.duration&&(d.duration=Tl(d.duration)),d.repeatDelay&&(d.repeatDelay=Tl(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(f=!0)),f&&!s&&e.get()!==void 0){const h=eS(d.keyframes,o);if(h!==void 0)return jr.update(()=>{d.onUpdate(h),d.onComplete()}),new $Ne([])}return!s&&a3.supports(d)?new a3(d):new gO(d)};function bje({protectedKeys:t,needsAnimating:e},r){const n=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,n}function KX(t,e,{delay:r=0,transitionOverride:n,type:i}={}){var s;let{transition:a=t.getDefaultTransition(),transitionEnd:o,...c}=e;n&&(a=n);const u=[],d=i&&t.animationState&&t.animationState.getState()[i];for(const f in c){const h=t.getValue(f,(s=t.latestValues[f])!==null&&s!==void 0?s:null),p=c[f];if(p===void 0||d&&bje(d,f))continue;const v={delay:r,...rO(a||{},f)};let m=!1;if(window.MotionHandoffAnimation){const w=vX(t);if(w){const y=window.MotionHandoffAnimation(w,f,jr);y!==null&&(v.startTime=y,m=!0)}}kA(t,f),h.start(vO(f,h,p,t.shouldReduceMotion&&mX.has(f)?{type:!1}:v,t,m));const b=h.animation;b&&u.push(b)}return o&&Promise.all(u).then(()=>{jr.update(()=>{o&&ZNe(t,o)})}),u}function FA(t,e,r={}){var n;const i=JE(t,e,r.type==="exit"?(n=t.presenceContext)===null||n===void 0?void 0:n.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=i||{};r.transitionOverride&&(s=r.transitionOverride);const a=i?()=>Promise.all(KX(t,i,r)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:h}=s;return wje(t,e,d+u,f,h,r)}:()=>Promise.resolve(),{when:c}=s;if(c){const[u,d]=c==="beforeChildren"?[a,o]:[o,a];return u().then(()=>d())}else return Promise.all([a(),o(r.delay)])}function wje(t,e,r=0,n=0,i=1,s){const a=[],o=(t.variantChildren.size-1)*n,c=i===1?(u=0)=>u*n:(u=0)=>o-u*n;return Array.from(t.variantChildren).sort(_je).forEach((u,d)=>{u.notify("AnimationStart",e),a.push(FA(u,e,{...s,delay:r+c(d)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(a)}function _je(t,e){return t.sortNodePosition(e)}function Eje(t,e,r={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const i=e.map(s=>FA(t,s,r));n=Promise.all(i)}else if(typeof e=="string")n=FA(t,e,r);else{const i=typeof e=="function"?JE(t,e,r.custom):e;n=Promise.all(KX(t,i,r))}return n.then(()=>{t.notify("AnimationComplete",e)})}const Sje=qI.length;function GX(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?GX(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const e={};for(let r=0;r<Sje;r++){const n=qI[r],i=t.props[n];(iy(i)||i===!1)&&(e[n]=i)}return e}const Nje=[...zI].reverse(),Tje=zI.length;function jje(t){return e=>Promise.all(e.map(({animation:r,options:n})=>Eje(t,r,n)))}function Cje(t){let e=jje(t),r=o3(),n=!0;const i=c=>(u,d)=>{var f;const h=JE(t,d,c==="exit"?(f=t.presenceContext)===null||f===void 0?void 0:f.custom:void 0);if(h){const{transition:p,transitionEnd:v,...m}=h;u={...u,...m,...v}}return u};function s(c){e=c(t)}function a(c){const{props:u}=t,d=GX(t.parent)||{},f=[],h=new Set;let p={},v=1/0;for(let b=0;b<Tje;b++){const w=Nje[b],y=r[w],_=u[w]!==void 0?u[w]:d[w],S=iy(_),E=w===c?y.isActive:null;E===!1&&(v=b);let N=_===d[w]&&_!==u[w]&&S;if(N&&n&&t.manuallyAnimateOnMount&&(N=!1),y.protectedKeys={...p},!y.isActive&&E===null||!_&&!y.prevProp||QE(_)||typeof _=="boolean")continue;const T=Aje(y.prevProp,_);let j=T||w===c&&y.isActive&&!N&&S||b>v&&S,A=!1;const R=Array.isArray(_)?_:[_];let k=R.reduce(i(w),{});E===!1&&(k={});const{prevResolvedValues:O={}}=y,P={...O,...k},D=V=>{j=!0,h.has(V)&&(A=!0,h.delete(V)),y.needsAnimating[V]=!0;const L=t.getValue(V);L&&(L.liveStyle=!1)};for(const V in P){const L=k[V],$=O[V];if(p.hasOwnProperty(V))continue;let G=!1;AA(L)&&AA($)?G=!oX(L,$):G=L!==$,G?L!=null?D(V):h.add(V):L!==void 0&&h.has(V)?D(V):y.protectedKeys[V]=!0}y.prevProp=_,y.prevResolvedValues=k,y.isActive&&(p={...p,...k}),n&&t.blockInitialAnimation&&(j=!1),j&&(!(N&&T)||A)&&f.push(...R.map(V=>({animation:V,options:{type:w}})))}if(h.size){const b={};h.forEach(w=>{const y=t.getBaseTarget(w),_=t.getValue(w);_&&(_.liveStyle=!0),b[w]=y??null}),f.push({animation:b})}let m=!!f.length;return n&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(m=!1),n=!1,m?e(f):Promise.resolve()}function o(c,u){var d;if(r[c].isActive===u)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(h=>{var p;return(p=h.animationState)===null||p===void 0?void 0:p.setActive(c,u)}),r[c].isActive=u;const f=a(c);for(const h in r)r[h].protectedKeys={};return f}return{animateChanges:a,setActive:o,setAnimateFunction:s,getState:()=>r,reset:()=>{r=o3(),n=!0}}}function Aje(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!oX(e,t):!1}function Gu(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function o3(){return{animate:Gu(!0),whileInView:Gu(),whileHover:Gu(),whileTap:Gu(),whileDrag:Gu(),whileFocus:Gu(),exit:Gu()}}class ku{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Pje extends ku{constructor(e){super(e),e.animationState||(e.animationState=Cje(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();QE(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let Rje=0;class kje extends ku{constructor(){super(...arguments),this.id=Rje++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const i=this.node.animationState.setActive("exit",!e);r&&!e&&i.then(()=>r(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const Ije={animation:{Feature:Pje},exit:{Feature:kje}};function ly(t,e,r,n={passive:!0}){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r)}function K0(t){return{point:{x:t.pageX,y:t.pageY}}}const Oje=t=>e=>sO(e)&&t(e,K0(e));function iv(t,e,r,n){return ly(t,e,Oje(r),n)}const l3=(t,e)=>Math.abs(t-e);function Mje(t,e){const r=l3(t.x,e.x),n=l3(t.y,e.y);return Math.sqrt(r**2+n**2)}class YX{constructor(e,r,{transformPagePoint:n,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=IT(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,p=Mje(f.offset,{x:0,y:0})>=3;if(!h&&!p)return;const{point:v}=f,{timestamp:m}=Ln;this.history.push({...v,timestamp:m});const{onStart:b,onMove:w}=this.handlers;h||(b&&b(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=kT(h,this.transformPagePoint),jr.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:p,onSessionEnd:v,resumeAnimation:m}=this.handlers;if(this.dragSnapToOrigin&&m&&m(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=IT(f.type==="pointercancel"?this.lastMoveEventInfo:kT(h,this.transformPagePoint),this.history);this.startEvent&&p&&p(f,b),v&&v(f,b)},!sO(e))return;this.dragSnapToOrigin=s,this.handlers=r,this.transformPagePoint=n,this.contextWindow=i||window;const a=K0(e),o=kT(a,this.transformPagePoint),{point:c}=o,{timestamp:u}=Ln;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=r;d&&d(e,IT(o,this.history)),this.removeListeners=H0(iv(this.contextWindow,"pointermove",this.handlePointerMove),iv(this.contextWindow,"pointerup",this.handlePointerUp),iv(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),du(this.updatePoint)}}function kT(t,e){return e?{point:e(t.point)}:t}function c3(t,e){return{x:t.x-e.x,y:t.y-e.y}}function IT({point:t},e){return{point:t,delta:c3(t,XX(e)),offset:c3(t,Dje(e)),velocity:Lje(e,.1)}}function Dje(t){return t[0]}function XX(t){return t[t.length-1]}function Lje(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,n=null;const i=XX(t);for(;r>=0&&(n=t[r],!(i.timestamp-n.timestamp>Tl(e)));)r--;if(!n)return{x:0,y:0};const s=jl(i.timestamp-n.timestamp);if(s===0)return{x:0,y:0};const a={x:(i.x-n.x)/s,y:(i.y-n.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}const QX=1e-4,$je=1-QX,Fje=1+QX,ZX=.01,Vje=0-ZX,Bje=0+ZX;function Ts(t){return t.max-t.min}function Uje(t,e,r){return Math.abs(t-e)<=r}function u3(t,e,r,n=.5){t.origin=n,t.originPoint=$r(e.min,e.max,t.origin),t.scale=Ts(r)/Ts(e),t.translate=$r(r.min,r.max,t.origin)-t.originPoint,(t.scale>=$je&&t.scale<=Fje||isNaN(t.scale))&&(t.scale=1),(t.translate>=Vje&&t.translate<=Bje||isNaN(t.translate))&&(t.translate=0)}function sv(t,e,r,n){u3(t.x,e.x,r.x,n?n.originX:void 0),u3(t.y,e.y,r.y,n?n.originY:void 0)}function d3(t,e,r){t.min=r.min+e.min,t.max=t.min+Ts(e)}function zje(t,e,r){d3(t.x,e.x,r.x),d3(t.y,e.y,r.y)}function f3(t,e,r){t.min=e.min-r.min,t.max=t.min+Ts(e)}function av(t,e,r){f3(t.x,e.x,r.x),f3(t.y,e.y,r.y)}function qje(t,{min:e,max:r},n){return e!==void 0&&t<e?t=n?$r(e,t,n.min):Math.max(t,e):r!==void 0&&t>r&&(t=n?$r(r,t,n.max):Math.min(t,r)),t}function h3(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function Wje(t,{top:e,left:r,bottom:n,right:i}){return{x:h3(t.x,r,i),y:h3(t.y,e,n)}}function p3(t,e){let r=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,n]=[n,r]),{min:r,max:n}}function Hje(t,e){return{x:p3(t.x,e.x),y:p3(t.y,e.y)}}function Kje(t,e){let r=.5;const n=Ts(t),i=Ts(e);return i>n?r=Pp(e.min,e.max-n,t.min):n>i&&(r=Pp(t.min,t.max-i,e.min)),ql(0,1,r)}function Gje(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const VA=.35;function Yje(t=VA){return t===!1?t=0:t===!0&&(t=VA),{x:m3(t,"left","right"),y:m3(t,"top","bottom")}}function m3(t,e,r){return{min:g3(t,e),max:g3(t,r)}}function g3(t,e){return typeof t=="number"?t:t[e]||0}const v3=()=>({translate:0,scale:1,origin:0,originPoint:0}),vh=()=>({x:v3(),y:v3()}),y3=()=>({min:0,max:0}),Jr=()=>({x:y3(),y:y3()});function Is(t){return[t("x"),t("y")]}function JX({top:t,left:e,right:r,bottom:n}){return{x:{min:e,max:r},y:{min:t,max:n}}}function Xje({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Qje(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function OT(t){return t===void 0||t===1}function BA({scale:t,scaleX:e,scaleY:r}){return!OT(t)||!OT(e)||!OT(r)}function rd(t){return BA(t)||eQ(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function eQ(t){return x3(t.x)||x3(t.y)}function x3(t){return t&&t!=="0%"}function __(t,e,r){const n=t-r,i=e*n;return r+i}function b3(t,e,r,n,i){return i!==void 0&&(t=__(t,i,n)),__(t,r,n)+e}function UA(t,e=0,r=1,n,i){t.min=b3(t.min,e,r,n,i),t.max=b3(t.max,e,r,n,i)}function tQ(t,{x:e,y:r}){UA(t.x,e.translate,e.scale,e.originPoint),UA(t.y,r.translate,r.scale,r.originPoint)}const w3=.999999999999,_3=1.0000000000001;function Zje(t,e,r,n=!1){const i=r.length;if(!i)return;e.x=e.y=1;let s,a;for(let o=0;o<i;o++){s=r[o],a=s.projectionDelta;const{visualElement:c}=s.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&s.options.layoutScroll&&s.scroll&&s!==s.root&&xh(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,tQ(t,a)),n&&rd(s.latestValues)&&xh(t,s.latestValues))}e.x<_3&&e.x>w3&&(e.x=1),e.y<_3&&e.y>w3&&(e.y=1)}function yh(t,e){t.min=t.min+e,t.max=t.max+e}function E3(t,e,r,n,i=.5){const s=$r(t.min,t.max,i);UA(t,e,r,s,n)}function xh(t,e){E3(t.x,e.x,e.scaleX,e.scale,e.originX),E3(t.y,e.y,e.scaleY,e.scale,e.originY)}function rQ(t,e){return JX(Qje(t.getBoundingClientRect(),e))}function Jje(t,e,r){const n=rQ(t,r),{scroll:i}=e;return i&&(yh(n.x,i.offset.x),yh(n.y,i.offset.y)),n}const nQ=({current:t})=>t?t.ownerDocument.defaultView:null,eCe=new WeakMap;class tCe{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Jr(),this.visualElement=e}start(e,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(K0(d).point)},s=(d,f)=>{const{drag:h,dragPropagation:p,onDragStart:v}=this.getProps();if(h&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=KNe(h),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Is(b=>{let w=this.getAxisMotionValue(b).get()||0;if(jo.test(w)){const{projection:y}=this.visualElement;if(y&&y.layout){const _=y.layout.layoutBox[b];_&&(w=Ts(_)*(parseFloat(w)/100))}}this.originPoint[b]=w}),v&&jr.postRender(()=>v(d,f)),kA(this.visualElement,"transform");const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},a=(d,f)=>{const{dragPropagation:h,dragDirectionLock:p,onDirectionLock:v,onDrag:m}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:b}=f;if(p&&this.currentDirection===null){this.currentDirection=rCe(b),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",f.point,b),this.updateAxis("y",f.point,b),this.visualElement.render(),m&&m(d,f)},o=(d,f)=>this.stop(d,f),c=()=>Is(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new YX(e,{onSessionStart:i,onStart:s,onMove:a,onSessionEnd:o,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:nQ(this.visualElement)})}stop(e,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:i}=r;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&jr.postRender(()=>s(e,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,n){const{drag:i}=this.getProps();if(!n||!ab(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let a=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(a=qje(a,this.constraints[e],this.elastic[e])),s.set(a)}resolveConstraints(){var e;const{dragConstraints:r,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;r&&mh(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&i?this.constraints=Wje(i.layoutBox,r):this.constraints=!1,this.elastic=Yje(n),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Is(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=Gje(i.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!mh(e))return!1;const n=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=Jje(n,i.root,this.visualElement.getTransformPagePoint());let a=Hje(i.layout.layoutBox,s);if(r){const o=r(Xje(a));this.hasMutatedConstraints=!!o,o&&(a=JX(o))}return a}startAnimation(e){const{drag:r,dragMomentum:n,dragElastic:i,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),c=this.constraints||{},u=Is(d=>{if(!ab(d,r,this.currentDirection))return;let f=c&&c[d]||{};a&&(f={min:0,max:0});const h=i?200:1e6,p=i?40:1e7,v={type:"inertia",velocity:n?e[d]:0,bounceStiffness:h,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(d,v)});return Promise.all(u).then(o)}startAxisValueAnimation(e,r){const n=this.getAxisMotionValue(e);return kA(this.visualElement,e),n.start(vO(e,n,0,r,this.visualElement,!1))}stopAnimation(){Is(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Is(e=>{var r;return(r=this.getAxisMotionValue(e).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(e){var r;return(r=this.getAxisMotionValue(e).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),i=n[r];return i||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){Is(r=>{const{drag:n}=this.getProps();if(!ab(r,n,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(r);if(i&&i.layout){const{min:a,max:o}=i.layout.layoutBox[r];s.set(e[r]-$r(a,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!mh(r)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Is(a=>{const o=this.getAxisMotionValue(a);if(o&&this.constraints!==!1){const c=o.get();i[a]=Kje({min:c,max:c},this.constraints[a])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Is(a=>{if(!ab(a,e,null))return;const o=this.getAxisMotionValue(a),{min:c,max:u}=this.constraints[a];o.set($r(c,u,i[a]))})}addListeners(){if(!this.visualElement.current)return;eCe.set(this.visualElement,this);const e=this.visualElement.current,r=iv(e,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();mh(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),jr.read(n);const a=ly(window,"resize",()=>this.scalePositionWithinConstraints()),o=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Is(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{a(),r(),s(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:a=VA,dragMomentum:o=!0}=e;return{...e,drag:r,dragDirectionLock:n,dragPropagation:i,dragConstraints:s,dragElastic:a,dragMomentum:o}}}function ab(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function rCe(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class nCe extends ku{constructor(e){super(e),this.removeGroupControls=_s,this.removeListeners=_s,this.controls=new tCe(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||_s}unmount(){this.removeGroupControls(),this.removeListeners()}}const S3=t=>(e,r)=>{t&&jr.postRender(()=>t(e,r))};class iCe extends ku{constructor(){super(...arguments),this.removePointerDownListener=_s}onPointerDown(e){this.session=new YX(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:nQ(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:S3(e),onStart:S3(r),onMove:n,onEnd:(s,a)=>{delete this.session,i&&jr.postRender(()=>i(s,a))}}}mount(){this.removePointerDownListener=iv(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const rw={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function N3(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const og={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(et.test(t))t=parseFloat(t);else return t;const r=N3(t,e.target.x),n=N3(t,e.target.y);return`${r}% ${n}%`}},sCe={correct:(t,{treeScale:e,projectionDelta:r})=>{const n=t,i=fu.parse(t);if(i.length>5)return n;const s=fu.createTransformer(t),a=typeof i[0]!="number"?1:0,o=r.x.scale*e.x,c=r.y.scale*e.y;i[0+a]/=o,i[1+a]/=c;const u=$r(o,c,.5);return typeof i[2+a]=="number"&&(i[2+a]/=u),typeof i[3+a]=="number"&&(i[3+a]/=u),s(i)}};class aCe extends g.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n,layoutId:i}=this.props,{projection:s}=e;TNe(oCe),s&&(r.group&&r.group.add(s),n&&n.register&&i&&n.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),rw.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:n,drag:i,isPresent:s}=this.props,a=n.projection;return a&&(a.isPresent=s,i||e.layoutDependency!==r||r===void 0?a.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?a.promote():a.relegate()||jr.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),HI.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function iQ(t){const[e,r]=BSe(),n=g.useContext(VY);return l.jsx(aCe,{...t,layoutGroup:n,switchLayoutGroup:g.useContext(GY),isPresent:e,safeToRemove:r})}const oCe={borderRadius:{...og,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:og,borderTopRightRadius:og,borderBottomLeftRadius:og,borderBottomRightRadius:og,boxShadow:sCe};function lCe(t,e,r){const n=oi(t)?t:ay(t);return n.start(vO("",n,e,r)),n.animation}function cCe(t){return t instanceof SVGElement&&t.tagName!=="svg"}const uCe=(t,e)=>t.depth-e.depth;class dCe{constructor(){this.children=[],this.isDirty=!1}add(e){aO(this.children,e),this.isDirty=!0}remove(e){oO(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(uCe),this.isDirty=!1,this.children.forEach(e)}}function fCe(t,e){const r=Co.now(),n=({timestamp:i})=>{const s=i-r;s>=e&&(du(n),t(s-e))};return jr.read(n,!0),()=>du(n)}const sQ=["TopLeft","TopRight","BottomLeft","BottomRight"],hCe=sQ.length,T3=t=>typeof t=="string"?parseFloat(t):t,j3=t=>typeof t=="number"||et.test(t);function pCe(t,e,r,n,i,s){i?(t.opacity=$r(0,r.opacity!==void 0?r.opacity:1,mCe(n)),t.opacityExit=$r(e.opacity!==void 0?e.opacity:1,0,gCe(n))):s&&(t.opacity=$r(e.opacity!==void 0?e.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let a=0;a<hCe;a++){const o=`border${sQ[a]}Radius`;let c=C3(e,o),u=C3(r,o);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||j3(c)===j3(u)?(t[o]=Math.max($r(T3(c),T3(u),n),0),(jo.test(u)||jo.test(c))&&(t[o]+="%")):t[o]=u}(e.rotate||r.rotate)&&(t.rotate=$r(e.rotate||0,r.rotate||0,n))}function C3(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const mCe=aQ(0,.5,SX),gCe=aQ(.5,.95,_s);function aQ(t,e,r){return n=>n<t?0:n>e?1:r(Pp(t,e,n))}function A3(t,e){t.min=e.min,t.max=e.max}function Ps(t,e){A3(t.x,e.x),A3(t.y,e.y)}function P3(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function R3(t,e,r,n,i){return t-=e,t=__(t,1/r,n),i!==void 0&&(t=__(t,1/i,n)),t}function vCe(t,e=0,r=1,n=.5,i,s=t,a=t){if(jo.test(e)&&(e=parseFloat(e),e=$r(a.min,a.max,e/100)-a.min),typeof e!="number")return;let o=$r(s.min,s.max,n);t===s&&(o-=e),t.min=R3(t.min,e,r,o,i),t.max=R3(t.max,e,r,o,i)}function k3(t,e,[r,n,i],s,a){vCe(t,e[r],e[n],e[i],e.scale,s,a)}const yCe=["x","scaleX","originX"],xCe=["y","scaleY","originY"];function I3(t,e,r,n){k3(t.x,e,yCe,r?r.x:void 0,n?n.x:void 0),k3(t.y,e,xCe,r?r.y:void 0,n?n.y:void 0)}function O3(t){return t.translate===0&&t.scale===1}function oQ(t){return O3(t.x)&&O3(t.y)}function M3(t,e){return t.min===e.min&&t.max===e.max}function bCe(t,e){return M3(t.x,e.x)&&M3(t.y,e.y)}function D3(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function lQ(t,e){return D3(t.x,e.x)&&D3(t.y,e.y)}function L3(t){return Ts(t.x)/Ts(t.y)}function $3(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class wCe{constructor(){this.members=[]}add(e){aO(this.members,e),e.scheduleRender()}remove(e){if(oO(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(i=>e===i);if(r===0)return!1;let n;for(let i=r;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){n=s;break}}return n?(this.promote(n),!0):!1}promote(e,r){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,r&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:n}=e;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function _Ce(t,e,r){let n="";const i=t.x.translate/e.x,s=t.y.translate/e.y,a=(r==null?void 0:r.z)||0;if((i||s||a)&&(n=`translate3d(${i}px, ${s}px, ${a}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:u,rotate:d,rotateX:f,rotateY:h,skewX:p,skewY:v}=r;u&&(n=`perspective(${u}px) ${n}`),d&&(n+=`rotate(${d}deg) `),f&&(n+=`rotateX(${f}deg) `),h&&(n+=`rotateY(${h}deg) `),p&&(n+=`skewX(${p}deg) `),v&&(n+=`skewY(${v}deg) `)}const o=t.x.scale*e.x,c=t.y.scale*e.y;return(o!==1||c!==1)&&(n+=`scale(${o}, ${c})`),n||"none"}const nd={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Og=typeof window<"u"&&window.MotionDebug!==void 0,MT=["","X","Y","Z"],ECe={visibility:"hidden"},F3=1e3;let SCe=0;function DT(t,e,r,n){const{latestValues:i}=e;i[t]&&(r[t]=i[t],e.setStaticValue(t,0),n&&(n[t]=0))}function cQ(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const r=vX(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",jr,!(i||s))}const{parent:n}=t;n&&!n.hasCheckedOptimisedAppear&&cQ(n)}function uQ({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(a={},o=e==null?void 0:e()){this.id=SCe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Og&&(nd.totalNodes=nd.resolvedTargetDeltas=nd.recalculatedProjection=0),this.nodes.forEach(jCe),this.nodes.forEach(kCe),this.nodes.forEach(ICe),this.nodes.forEach(CCe),Og&&window.MotionDebug.record(nd)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new dCe)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new lO),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const c=this.eventHandlers.get(a);c&&c.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=cCe(a),this.instance=a;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(u||c)&&(this.isLayoutDirty=!0),t){let f;const h=()=>this.root.updateBlockedByResize=!1;t(a,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=fCe(h,250),rw.hasAnimatedSinceResize&&(rw.hasAnimatedSinceResize=!1,this.nodes.forEach(B3))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeTargetChanged:p,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const m=this.options.transition||d.getDefaultTransition()||$Ce,{onLayoutAnimationStart:b,onLayoutAnimationComplete:w}=d.getProps(),y=!this.targetLayout||!lQ(this.targetLayout,v)||p,_=!h&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||_||h&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,_);const S={...rO(m,"layout"),onPlay:b,onComplete:w};(d.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S)}else h||B3(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,du(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(OCe),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&cQ(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:o,layout:c}=this.options;if(o===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(V3);return}this.isUpdating||this.nodes.forEach(PCe),this.isUpdating=!1,this.nodes.forEach(RCe),this.nodes.forEach(NCe),this.nodes.forEach(TCe),this.clearAllSnapshots();const o=Co.now();Ln.delta=ql(0,1e3/60,o-Ln.timestamp),Ln.timestamp=o,Ln.isProcessing=!0,jT.update.process(Ln),jT.preRender.process(Ln),jT.render.process(Ln),Ln.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,HI.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(ACe),this.sharedNodes.forEach(MCe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,jr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){jr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Jr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!oQ(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;a&&(o||rd(this.latestValues)||d)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let c=this.removeElementScroll(o);return a&&(c=this.removeTransform(c)),FCe(c),{animationId:this.root.animationId,measuredBox:o,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var a;const{visualElement:o}=this.options;if(!o)return Jr();const c=o.measureViewportBox();if(!(((a=this.scroll)===null||a===void 0?void 0:a.wasRoot)||this.path.some(VCe))){const{scroll:d}=this.root;d&&(yh(c.x,d.offset.x),yh(c.y,d.offset.y))}return c}removeElementScroll(a){var o;const c=Jr();if(Ps(c,a),!((o=this.scroll)===null||o===void 0)&&o.wasRoot)return c;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:f,options:h}=d;d!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&Ps(c,a),yh(c.x,f.offset.x),yh(c.y,f.offset.y))}return c}applyTransform(a,o=!1){const c=Jr();Ps(c,a);for(let u=0;u<this.path.length;u++){const d=this.path[u];!o&&d.options.layoutScroll&&d.scroll&&d!==d.root&&xh(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),rd(d.latestValues)&&xh(c,d.latestValues)}return rd(this.latestValues)&&xh(c,this.latestValues),c}removeTransform(a){const o=Jr();Ps(o,a);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!rd(u.latestValues))continue;BA(u.latestValues)&&u.updateSnapshot();const d=Jr(),f=u.measurePageBox();Ps(d,f),I3(o,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return rd(this.latestValues)&&I3(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ln.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var o;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(a||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=Ln.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Jr(),this.relativeTargetOrigin=Jr(),av(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Ps(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Jr(),this.targetWithTransforms=Jr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),zje(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ps(this.target,this.layout.layoutBox),tQ(this.target,this.targetDelta)):Ps(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Jr(),this.relativeTargetOrigin=Jr(),av(this.relativeTargetOrigin,this.target,p.target),Ps(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Og&&nd.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||BA(this.parent.latestValues)||eQ(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const o=this.getLead(),c=!!this.resumingFrom||this!==o;let u=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Ln.timestamp&&(u=!1),u)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;Ps(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,p=this.treeScale.y;Zje(this.layoutCorrected,this.treeScale,this.path,c),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Jr());const{target:v}=o;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(P3(this.prevProjectionDelta.x,this.projectionDelta.x),P3(this.prevProjectionDelta.y,this.projectionDelta.y)),sv(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==p||!$3(this.projectionDelta.x,this.prevProjectionDelta.x)||!$3(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v)),Og&&nd.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var o;if((o=this.options.visualElement)===null||o===void 0||o.scheduleRender(),a){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=vh(),this.projectionDelta=vh(),this.projectionDeltaWithTransform=vh()}setAnimationOrigin(a,o=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=vh();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const h=Jr(),p=c?c.source:void 0,v=this.layout?this.layout.source:void 0,m=p!==v,b=this.getStack(),w=!b||b.members.length<=1,y=!!(m&&!w&&this.options.crossfade===!0&&!this.path.some(LCe));this.animationProgress=0;let _;this.mixTargetDelta=S=>{const E=S/1e3;U3(f.x,a.x,E),U3(f.y,a.y,E),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(av(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),DCe(this.relativeTarget,this.relativeTargetOrigin,h,E),_&&bCe(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=Jr()),Ps(_,this.relativeTarget)),m&&(this.animationValues=d,pCe(d,u,this.latestValues,E,y,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(du(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=jr.update(()=>{rw.hasAnimatedSinceResize=!0,this.currentAnimation=lCe(0,F3,{...a,onUpdate:o=>{this.mixTargetDelta(o),a.onUpdate&&a.onUpdate(o)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(F3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:c,layout:u,latestValues:d}=a;if(!(!o||!c||!u)){if(this!==a&&this.layout&&u&&dQ(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Jr();const f=Ts(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+f;const h=Ts(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+h}Ps(o,c),xh(o,d),sv(this.projectionDeltaWithTransform,this.layoutCorrected,o,d)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new wCe),this.sharedNodes.get(a).add(o);const u=o.options.initialPromotionConfig;o.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:c}=a;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(o=!0),!o)return;const u={};c.z&&DT("z",a,u,this.animationValues);for(let d=0;d<MT.length;d++)DT(`rotate${MT[d]}`,a,u,this.animationValues),DT(`skew${MT[d]}`,a,u,this.animationValues);a.render();for(const d in u)a.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);a.scheduleRender()}getProjectionStyles(a){var o,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return ECe;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=ew(a==null?void 0:a.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const m={};return this.options.layoutId&&(m.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,m.pointerEvents=ew(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!rd(this.latestValues)&&(m.transform=d?d({},""):"none",this.hasProjected=!1),m}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=_Ce(this.projectionDeltaWithTransform,this.treeScale,h),d&&(u.transform=d(h,u.transform));const{x:p,y:v}=this.projectionDelta;u.transformOrigin=`${p.origin*100}% ${v.origin*100}% 0`,f.animationValues?u.opacity=f===this?(c=(o=h.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:u.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const m in v_){if(h[m]===void 0)continue;const{correct:b,applyTo:w}=v_[m],y=u.transform==="none"?h[m]:b(h[m],f);if(w){const _=w.length;for(let S=0;S<_;S++)u[w[S]]=y}else u[m]=y}return this.options.layoutId&&(u.pointerEvents=f===this?ew(a==null?void 0:a.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var o;return(o=a.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(V3),this.root.sharedNodes.clear()}}}function NCe(t){t.updateLayout()}function TCe(t){var e;const r=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&r&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=t.layout,{animationType:s}=t.options,a=r.source!==t.layout.source;s==="size"?Is(f=>{const h=a?r.measuredBox[f]:r.layoutBox[f],p=Ts(h);h.min=n[f].min,h.max=h.min+p}):dQ(s,r.layoutBox,n)&&Is(f=>{const h=a?r.measuredBox[f]:r.layoutBox[f],p=Ts(n[f]);h.max=h.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+p)});const o=vh();sv(o,n,r.layoutBox);const c=vh();a?sv(c,t.applyTransform(i,!0),r.measuredBox):sv(c,n,r.layoutBox);const u=!oQ(o);let d=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:p}=f;if(h&&p){const v=Jr();av(v,r.layoutBox,h.layoutBox);const m=Jr();av(m,n,p.layoutBox),lQ(v,m)||(d=!0),f.options.layoutRoot&&(t.relativeTarget=m,t.relativeTargetOrigin=v,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:c,layoutDelta:o,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function jCe(t){Og&&nd.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function CCe(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function ACe(t){t.clearSnapshot()}function V3(t){t.clearMeasurements()}function PCe(t){t.isLayoutDirty=!1}function RCe(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function B3(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function kCe(t){t.resolveTargetDelta()}function ICe(t){t.calcProjection()}function OCe(t){t.resetSkewAndRotation()}function MCe(t){t.removeLeadSnapshot()}function U3(t,e,r){t.translate=$r(e.translate,0,r),t.scale=$r(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function z3(t,e,r,n){t.min=$r(e.min,r.min,n),t.max=$r(e.max,r.max,n)}function DCe(t,e,r,n){z3(t.x,e.x,r.x,n),z3(t.y,e.y,r.y,n)}function LCe(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const $Ce={duration:.45,ease:[.4,0,.1,1]},q3=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),W3=q3("applewebkit/")&&!q3("chrome/")?Math.round:_s;function H3(t){t.min=W3(t.min),t.max=W3(t.max)}function FCe(t){H3(t.x),H3(t.y)}function dQ(t,e,r){return t==="position"||t==="preserve-aspect"&&!Uje(L3(e),L3(r),.2)}function VCe(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const BCe=uQ({attachResizeListener:(t,e)=>ly(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),LT={current:void 0},fQ=uQ({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!LT.current){const t=new BCe({});t.mount(window),t.setOptions({layoutScroll:!0}),LT.current=t}return LT.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),UCe={pan:{Feature:iCe},drag:{Feature:nCe,ProjectionNode:fQ,MeasureLayout:iQ}};function K3(t,e,r){const{props:n}=t;t.animationState&&n.whileHover&&t.animationState.setActive("whileHover",r==="Start");const i="onHover"+r,s=n[i];s&&jr.postRender(()=>s(e,K0(e)))}class zCe extends ku{mount(){const{current:e}=this.node;e&&(this.unmount=UNe(e,r=>(K3(this.node,r,"Start"),n=>K3(this.node,n,"End"))))}unmount(){}}class qCe extends ku{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=H0(ly(this.node.current,"focus",()=>this.onFocus()),ly(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function G3(t,e,r){const{props:n}=t;t.animationState&&n.whileTap&&t.animationState.setActive("whileTap",r==="Start");const i="onTap"+(r==="End"?"":r),s=n[i];s&&jr.postRender(()=>s(e,K0(e)))}class WCe extends ku{mount(){const{current:e}=this.node;e&&(this.unmount=HNe(e,r=>(G3(this.node,r,"Start"),(n,{success:i})=>G3(this.node,n,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const zA=new WeakMap,$T=new WeakMap,HCe=t=>{const e=zA.get(t.target);e&&e(t)},KCe=t=>{t.forEach(HCe)};function GCe({root:t,...e}){const r=t||document;$T.has(r)||$T.set(r,{});const n=$T.get(r),i=JSON.stringify(e);return n[i]||(n[i]=new IntersectionObserver(KCe,{root:t,...e})),n[i]}function YCe(t,e,r){const n=GCe(e);return zA.set(t,r),n.observe(t),()=>{zA.delete(t),n.unobserve(t)}}const XCe={some:0,all:1};class QCe extends ku{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:n,amount:i="some",once:s}=e,a={root:r?r.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:XCe[i]},o=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=u?d:f;h&&h(c)};return YCe(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(ZCe(e,r))&&this.startObserver()}unmount(){}}function ZCe({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const JCe={inView:{Feature:QCe},tap:{Feature:WCe},focus:{Feature:qCe},hover:{Feature:zCe}},eAe={layout:{ProjectionNode:fQ,MeasureLayout:iQ}},qA={current:null},hQ={current:!1};function tAe(){if(hQ.current=!0,!!BI)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>qA.current=t.matches;t.addListener(e),e()}else qA.current=!1}const rAe=[...$X,ni,fu],nAe=t=>rAe.find(LX(t)),Y3=new WeakMap;function iAe(t,e,r){for(const n in e){const i=e[n],s=r[n];if(oi(i))t.addValue(n,i);else if(oi(s))t.addValue(n,ay(i,{owner:t}));else if(s!==i)if(t.hasValue(n)){const a=t.getValue(n);a.liveStyle===!0?a.jump(i):a.hasAnimated||a.set(i)}else{const a=t.getStaticValue(n);t.addValue(n,ay(a!==void 0?a:i,{owner:t}))}}for(const n in r)e[n]===void 0&&t.removeValue(n);return e}const X3=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class sAe{scrapeMotionValuesFromProps(e,r,n){return{}}constructor({parent:e,props:r,presenceContext:n,reducedMotionConfig:i,blockInitialAnimation:s,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=pO,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=Co.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,jr.render(this.render,!1,!0))};const{latestValues:c,renderState:u,onUpdate:d}=a;this.onUpdate=d,this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=u,this.parent=e,this.props=r,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.blockInitialAnimation=!!s,this.isControllingVariants=ZE(r),this.isVariantNode=HY(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...h}=this.scrapeMotionValuesFromProps(r,{},this);for(const p in h){const v=h[p];c[p]!==void 0&&oi(v)&&v.set(c[p],!1)}}mount(e){this.current=e,Y3.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),hQ.current||tAe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:qA.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Y3.delete(this.current),this.projection&&this.projection.unmount(),du(this.notifyUpdate),du(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const r=this.features[e];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=Cf.has(e),i=r.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&jr.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),s=r.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{i(),s(),a&&a(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Rp){const r=Rp[e];if(!r)continue;const{isEnabled:n,Feature:i}=r;if(!this.features[e]&&i&&n(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Jr()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<X3.length;n++){const i=X3[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,a=e[s];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=iAe(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const n=this.values.get(e);r!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&r!==void 0&&(n=ay(r===null?void 0:r,{owner:this}),this.addValue(e,n)),n}readValue(e,r){var n;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(MX(i)||TX(i))?i=parseFloat(i):!nAe(i)&&fu.test(r)&&(i=kX(e,r)),this.setBaseTarget(e,oi(i)?i.get():i)),oi(i)?i.get():i}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var r;const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const a=GI(this.props,n,(r=this.presenceContext)===null||r===void 0?void 0:r.custom);a&&(i=a[e])}if(n&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!oi(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new lO),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}}class pQ extends sAe{constructor(){super(...arguments),this.KeyframeResolver=FX}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:n}){delete r[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;oi(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function aAe(t){return window.getComputedStyle(t)}class oAe extends pQ{constructor(){super(...arguments),this.type="html",this.renderInstance=tX}readValueFromInstance(e,r){if(Cf.has(r)){const n=hO(r);return n&&n.default||0}else{const n=aAe(e),i=(ZY(r)?n.getPropertyValue(r):n[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:r}){return rQ(e,r)}build(e,r,n){QI(e,r,n.transformTemplate)}scrapeMotionValuesFromProps(e,r,n){return tO(e,r,n)}}class lAe extends pQ{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Jr}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(Cf.has(r)){const n=hO(r);return n&&n.default||0}return r=rX.has(r)?r:WI(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,n){return sX(e,r,n)}build(e,r,n){ZI(e,r,this.isSVGTag,n.transformTemplate)}renderInstance(e,r,n,i){nX(e,r,n,i)}mount(e){this.isSVGTag=eO(e.tagName),super.mount(e)}}const cAe=(t,e)=>KI(t)?new lAe(e):new oAe(e,{allowProjection:t!==g.Fragment}),uAe=MNe({...Ije,...JCe,...UCe,...eAe},cAe),yi=XSe(uAe),dAe=()=>{const{signInWithGoogle:t,currentUser:e,loading:r}=zr(),n=bf(),i=Ji(),{toast:s}=qa(),[a,o]=g.useState(!1),c=g.useRef(null),[u,d]=g.useState({x:0,y:0});g.useEffect(()=>{const w=y=>{d({x:y.clientX,y:y.clientY})};return window.addEventListener("mousemove",w),()=>window.removeEventListener("mousemove",w)},[]),g.useEffect(()=>{e&&(async()=>{var y,_;if(!(!e||a))try{const S=bt(Ue,"users",e.uid);await Rn(S,{lastActive:r0e()});const E="/Tecnologia-ECCOS/";let N=sessionStorage.getItem("redirectPath")||((_=(y=i.state)==null?void 0:y.from)==null?void 0:_.pathname)||"/";E&&N.startsWith(E)&&(N=N.slice(E.length)),N=N.startsWith("/")?N:`/${N}`,sessionStorage.removeItem("redirectPath"),n(N,{replace:!0}),s({title:"Login bem-sucedido",description:`Bem-vindo, ${e.displayName||"usuário"}!`})}catch(S){console.error("Erro no redirecionamento:",S),setTimeout(()=>{s({title:"Erro",description:"Ocorreu um problema durante o login",variant:"destructive"})},100),n("/",{replace:!0})}finally{o(!1)}})()},[e,n,s,i,a]),(()=>{if(!c.current)return{x:"50%",y:"50%"};const w=c.current.getBoundingClientRect(),y=w.left+w.width/2,_=w.top+w.height/2,S=(u.x-y)/(w.width/2)*100,E=(u.y-_)/(w.height/2)*100;return{x:`${50+S*.1}%`,y:`${50+E*.1}%`}})();const h=[{icon:l.jsx("svg",{className:"h-8 w-8 text-sidebar",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),title:"Reservas de Equipamentos",description:"Registro e acompanhamento de reservas de equipamentos de tecnologia com calendário integrado"},{icon:l.jsx("svg",{className:"h-8 w-8 text-eccos-purple",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.42 15.17L17.25 21A2.652 2.652 0 0021 17.25l-5.877-5.877M11.42 15.17l2.496-3.03c.317-.384.74-.626 1.208-.766M11.42 15.17l-4.655 5.653a2.548 2.548 0 11-3.586-3.586l6.837-5.63m5.108-.233c.55-.164 1.163-.188 1.743-.14a4.5 4.5 0 004.486-6.336l-3.276 3.277a3.004 3.004 0 01-2.25-2.25l3.276-3.276a4.5 4.5 0 00-6.336 4.486c.091 1.076-.071 2.264-.904 2.95l-.102.085m-1.745 1.437L5.909 7.5H4.5L2.25 3.75l1.5-1.5L7.5 4.5v1.409l4.26 4.26m-1.745 1.437l1.745-1.437m6.615 8.206L15.75 15.75M4.867 19.125h.008v.008h-.008v-.008z"})}),title:"Solicitações de Manutenção",description:"Registro e acompanhamento de solicitações de manutenção corretiva e preventiva"},{icon:l.jsx("svg",{className:"h-8 w-8 text-sidebar",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),title:"Gestão de Processos de Compra",description:"Fluxo completo para requisições de aquisições e gestão financeira"}],p=async()=>{try{await t()}catch(w){console.error("Login error:",w),setTimeout(()=>{w.code==="auth/popup-blocked"?s({title:"Popup bloqueado",description:"Por favor permita popups para este site nas configurações do navegador.",variant:"destructive"}):s({title:"Erro no login",description:w.message||"Falha ao realizar login",variant:"destructive"})},100)}};if(r)return l.jsx("div",{className:"flex items-center justify-center min-h-screen bg-white relative z-50",children:l.jsxs(yi.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5},className:"flex flex-col items-center",children:[l.jsx("div",{className:"w-16 h-16 border-4 border-t-sidebar border-r-eccos-purple border-b-eccos-purple border-l-sidebar rounded-full animate-spin"}),l.jsx("p",{className:"mt-4 text-sidebar font-medium",children:"Carregando..."})]})});if(e)return null;const v={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},m={hidden:{y:20,opacity:0},visible:{y:0,opacity:1}},b={hidden:{opacity:0,y:30},visible:w=>({opacity:1,y:0,transition:{delay:w*.2,duration:.6}})};return l.jsxs("div",{className:"min-h-screen bg-white relative",children:[l.jsx("style",{children:`
        .google-auth-popup {
          animation: popupScale 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        @keyframes popupScale {
          0% { transform: scale(0.95); opacity: 0; }
          100% { transform: scale(1); opacity: 1; }
        }
        
        /* Garantir que botões sejam clicáveis em todas as telas */
        .clickable-button {
          position: relative;
          z-index: 999 !important;
          pointer-events: auto !important;
          touch-action: manipulation;
          -webkit-tap-highlight-color: transparent;
        }
        
        /* Área de toque mínima para mobile */
        .touch-target {
          min-height: 48px;
          min-width: 48px;
          position: relative;
          z-index: 999;
        }
        
        /* Elementos de fundo com z-index baixo */
        .background-element {
          position: absolute;
          z-index: 1 !important;
          pointer-events: none !important;
        }
        
        /* Container principal com z-index médio */
        .content-layer {
          position: relative;
          z-index: 10;
        }
        
        /* Elementos interativos com z-index alto */
        .interactive-layer {
          position: relative;
          z-index: 100;
        }
        
        /* Toast/popup deve ficar acima de tudo */
        [data-sonner-toaster] {
          z-index: 9999 !important;
        }
        
        /* Garantir que todos os elementos do toast tenham z-index alto */
        [data-sonner-toast] {
          z-index: 9999 !important;
        }
        
        /* Para outros tipos de popup/modal */
        .toast-container,
        .modal-overlay,
        .popup-overlay,
        [role="dialog"],
        [role="alertdialog"] {
          z-index: 9999 !important;
        }
        
        @media (max-width: 768px) {
          .decorative-bg {
            opacity: 0.02 !important;
            z-index: 1 !important;
          }
          .floating-particles {
            display: none;
          }
          
          /* Garantir que botões funcionem em mobile */
          .clickable-button {
            min-height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
          }
        }
        
        /* Remover qualquer sobreposição em elementos de fundo */
        .decorative-bg, .floating-particles {
          pointer-events: none !important;
          user-select: none;
          -webkit-user-select: none;
          -moz-user-select: none;
          -ms-user-select: none;
        }
      `}),l.jsxs("div",{className:"background-element absolute inset-0 overflow-hidden",children:[l.jsx(yi.div,{initial:{opacity:0,scale:.8},animate:{opacity:.05,scale:1},transition:{duration:1.5},className:"decorative-bg absolute left-1/4 top-1/4 h-96 w-96 rounded-full bg-sidebar blur-3xl"}),l.jsx(yi.div,{initial:{opacity:0,scale:.8},animate:{opacity:.05,scale:1},transition:{duration:1.5,delay:.3},className:"decorative-bg absolute right-1/4 bottom-1/4 h-80 w-80 rounded-full bg-eccos-purple blur-3xl"})]}),l.jsx("div",{className:"floating-particles background-element absolute inset-0 overflow-hidden",children:[...Array(6)].map((w,y)=>l.jsx(yi.div,{initial:{x:Math.random()*(typeof window<"u"?window.innerWidth:1200),y:Math.random()*(typeof window<"u"?window.innerHeight:800),opacity:0},animate:{y:[Math.random()*(typeof window<"u"?window.innerHeight:800),Math.random()*(typeof window<"u"?window.innerHeight:800)],opacity:[0,.2,0]},transition:{repeat:1/0,duration:20+Math.random()*10,ease:"easeInOut",delay:y*2},className:`absolute h-4 w-4 rounded-full bg-${y%2===0?"sidebar":"eccos-purple"} blur-lg`},y))}),l.jsxs("header",{className:"interactive-layer pt-4 sm:pt-6 px-4 sm:px-8 md:px-16 flex justify-between items-center",children:[l.jsx("img",{src:DK,alt:"ECCOS Logo",className:"h-12 sm:h-16 w-auto"}),l.jsx(oe,{onClick:p,disabled:r,className:"clickable-button touch-target bg-gradient-to-r from-sidebar to-eccos-purple hover:from-sidebar/90 hover:to-eccos-purple/90 text-white font-medium px-4 sm:px-6 py-3 rounded-lg shadow-md transition-all duration-300",children:"Entrar"})]}),l.jsx(yi.section,{variants:v,initial:"hidden",animate:"visible",className:"content-layer flex flex-col items-center justify-center px-4 sm:px-8 md:px-16 pt-8 sm:pt-12 md:pt-20 pb-12 sm:pb-16",children:l.jsxs("div",{className:"w-full max-w-4xl text-center",children:[l.jsx(yi.h1,{variants:m,className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold mb-4 sm:mb-6 bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:"Plataforma de Gestão ECCOS"}),l.jsx(yi.p,{variants:m,className:"text-base sm:text-lg md:text-xl text-gray-700 mb-6 sm:mb-8 max-w-2xl mx-auto px-2",children:"Sistema integrado para gestão de processos internos, solicitações e controle de equipamentos"}),l.jsx(yi.div,{variants:m,className:"flex justify-center interactive-layer",children:l.jsxs(oe,{className:"clickable-button touch-target w-full sm:w-auto bg-gradient-to-r from-sidebar to-eccos-purple hover:from-sidebar/90 hover:to-eccos-purple/90 text-white font-medium py-4 sm:py-6 px-6 sm:px-8 rounded-xl shadow-md transition-all duration-300 hover:shadow-lg text-base sm:text-lg max-w-xs sm:max-w-none",onClick:p,disabled:r,children:[l.jsxs("svg",{className:"mr-2 h-5 w-5 flex-shrink-0",viewBox:"0 0 24 24",children:[l.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#FFFFFF"}),l.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#FFFFFF"}),l.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FFFFFF"}),l.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#FFFFFF"})]}),l.jsx("span",{className:"whitespace-nowrap",children:"Entrar com Google"})]})})]})}),l.jsx("section",{className:"content-layer bg-gray-50 py-12 sm:py-16 md:py-20 px-4 sm:px-8 md:px-16",children:l.jsxs("div",{className:"max-w-6xl mx-auto",children:[l.jsxs(yi.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.7},className:"text-center mb-12 sm:mb-16",children:[l.jsx("h2",{className:"text-2xl sm:text-3xl md:text-4xl font-bold mb-4 text-gray-800",children:"Funcionalidades Principais"}),l.jsx("p",{className:"text-base sm:text-lg text-gray-600 max-w-3xl mx-auto px-2",children:"Ferramentas especializadas para gestão eficiente de processos"})]}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-8",children:h.map((w,y)=>l.jsxs(yi.div,{custom:y,variants:b,initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-50px"},className:"bg-white rounded-xl p-6 sm:p-8 shadow-lg hover:shadow-xl transition-shadow duration-300",children:[l.jsx("div",{className:"bg-gray-50 p-3 rounded-lg inline-block mb-4",children:w.icon}),l.jsx("h3",{className:"text-lg sm:text-xl font-semibold mb-3 text-gray-800",children:w.title}),l.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:w.description})]},y))})]})}),l.jsx("footer",{className:"content-layer bg-gray-50 py-8 sm:py-10 px-4 sm:px-8 md:px-16",children:l.jsx("div",{className:"max-w-6xl mx-auto",children:l.jsx("div",{className:"text-center",children:l.jsx("p",{className:"text-gray-500 text-xs sm:text-sm",children:"© 2025 Colégio ECCOS - Todos os direitos reservados"})})})})]})},mQ=async(t,e)=>{try{const r=`${Date.now()}_${t.name}`,n=Sl(Nl,`chat-files/${e}/${r}`);await mI(n,t);const i=await Tp(n);return{name:t.name,url:i,size:t.size,type:t.type}}catch(r){throw console.error("Erro ao fazer upload do arquivo:",r),r}},fAe=async t=>{try{const e=await Promise.all(t.equipmentIds.map(async n=>{const i=await Zs(bt(Ue,"equipment",n));return i.exists()?i.data().name:"Equipamento desconhecido"}));return(await cu(on(Ue,"reservations"),{...t,equipmentNames:e,equipmentIds:t.equipmentIds,equipmentQuantities:t.equipmentQuantities,date:Tt.fromDate(t.date),type:"reservation",status:t.status||"pending",createdAt:Tt.now(),hidden:!1,unreadMessages:0,hasUnreadMessages:!1})).id}catch(e){throw console.error("Erro ao criar reserva:",e),e}},hAe=async t=>{try{const e=[],[r,n]=t.startTime.split(":").map(Number),[i,s]=t.endTime.split(":").map(Number),a=r*60+n,o=i*60+s,c=new Date(t.date);c.setHours(0,0,0,0);const u=$a(on(Ue,"reservations"),vs("status","in",["pending","approved","in-progress"]),vs("hidden","==",!1)),d=await ea(u),f=new Map;for(const h of t.equipmentIds){const p=await Zs(bt(Ue,"equipment",h));p.exists()&&f.set(h,p.data().name)}for(const h of d.docs){const p=h.data(),v=p.date.toDate();if(v.setHours(0,0,0,0),v.getTime()!==c.getTime())continue;const[m,b]=p.startTime.split(":").map(Number),[w,y]=p.endTime.split(":").map(Number),_=m*60+b,S=w*60+y;if(a>=_&&a<S||o>_&&o<=S||a<=_&&o>=S){const N=p.equipmentIds.filter(T=>t.equipmentIds.includes(T));for(const T of N)e.push({equipmentName:f.get(T)||"Equipamento desconhecido",startTime:p.startTime,endTime:p.endTime})}}return e}catch(e){throw console.error("Erro ao verificar conflitos:",e),e}},Nm=async(t=!1)=>{try{const e=["reservations","purchases","supports"],r=[];for(const n of e){const i=t?$a(on(Ue,n)):$a(on(Ue,n),vs("hidden","==",!1));(await ea(i)).forEach(a=>{const o=a.data();r.push({id:a.id,collectionName:n,type:o.type,status:o.status,userName:o.userName,userEmail:o.userEmail,userId:o.userId,createdAt:o.createdAt,equipmentNames:o.equipmentNames||[],equipmentIds:o.equipmentIds||[],equipmentQuantities:o.equipmentQuantities||{},unreadMessages:o.unreadMessages||0,hasUnreadMessages:o.hasUnreadMessages||!1,...o})})}return r.sort((n,i)=>i.createdAt.toMillis()-n.createdAt.toMillis())}catch(e){return console.error("Erro ao buscar solicitações:",e),[]}},lf=async(t,e)=>{try{const r=bt(Ue,e,t),n=await Zs(r);if(!n.exists())throw new Error("Solicitação não encontrada");const i=n.data();return{id:n.id,collectionName:e,type:i.type,status:i.status,userName:i.userName,userEmail:i.userEmail,userId:i.userId,createdAt:i.createdAt,equipmentNames:i.equipmentNames||[],equipmentIds:i.equipmentIds||[],equipmentQuantities:i.equipmentQuantities||{},unreadMessages:i.unreadMessages||0,hasUnreadMessages:i.hasUnreadMessages||!1,...i}}catch(r){throw console.error("Erro ao buscar solicitação:",r),r}},gQ=async(t,e,r,n,i,s,a)=>{try{const o=`msg_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,c={id:o,message:e,isAdmin:r,userName:i,userId:s,timestamp:Tt.now(),delivered:!0,read:!1,readBy:[],isDeleted:!1,isEdited:!1};a&&(c.attachment=a);const u=bt(Ue,n,t);await Rn(u,{messages:Xv(c),hasUnreadMessages:!0,unreadMessages:Xv(o)})}catch(o){throw console.error("Erro ao adicionar mensagem:",o),o}},vQ=async(t,e,r,n,i)=>{try{const s=bt(Ue,e,t),a=await Zs(s);if(!a.exists())throw new Error("Solicitação não encontrada");const u=(a.data().messages||[]).map(d=>d.id===r&&d.userId===i?{...d,originalMessage:d.isEdited?d.originalMessage:d.message,message:n,isEdited:!0,editedAt:Tt.now()}:d);await Rn(s,{messages:u})}catch(s){throw console.error("Erro ao editar mensagem:",s),s}},yQ=async(t,e,r,n)=>{try{const i=bt(Ue,e,t),s=await Zs(i);if(!s.exists())throw new Error("Solicitação não encontrada");const c=(s.data().messages||[]).map(u=>u.id===r&&u.userId===n?{...u,message:"Mensagem apagada",isDeleted:!0,attachment:void 0}:u);await Rn(i,{messages:c})}catch(i){throw console.error("Erro ao apagar mensagem:",i),i}},xQ=async(t,e,r,n)=>{try{const i=bt(Ue,e,t),s=await Zs(i);if(!s.exists())return;const c=(s.data().messages||[]).map(u=>{var d;return u.isAdmin!==n&&!((d=u.readBy)!=null&&d.includes(r))?{...u,read:!0,readBy:[...u.readBy||[],r]}:u});await Rn(i,{messages:c,hasUnreadMessages:!1,unreadMessages:[]})}catch(i){throw console.error("Erro ao marcar mensagens como lidas:",i),i}},bQ=async(t,e)=>{try{await Sf(bt(Ue,e,t))}catch(r){throw console.error("Erro ao excluir solicitação:",r),r}},pAe=async(t,e)=>{try{const r=["reservations","purchases","supports"],n=[];for(const i of r){const s=e?$a(on(Ue,i),vs("userEmail","==",e),vs("status","!=","canceled")):$a(on(Ue,i),vs("userId","==",t),vs("status","!=","canceled"));(await ea(s)).forEach(o=>{const c=o.data();n.push({id:o.id,collectionName:i,type:c.type,status:c.status,userName:c.userName,userEmail:c.userEmail,userId:c.userId,createdAt:c.createdAt,equipmentNames:c.equipmentNames||[],equipmentIds:c.equipmentIds||[],equipmentQuantities:c.equipmentQuantities||{},unreadMessages:c.unreadMessages||0,hasUnreadMessages:c.hasUnreadMessages||!1,...c})})}return n.sort((i,s)=>s.createdAt.toMillis()-i.createdAt.toMillis())}catch(r){return console.error("Erro ao buscar solicitações do usuário:",r),[]}},mAe=async t=>{try{return(await cu(on(Ue,"purchases"),{tipo:t.tipo,...t,type:"purchase",status:"pending",createdAt:Tt.now(),hidden:!1,unreadMessages:0,hasUnreadMessages:!1})).id}catch(e){throw console.error("Erro ao criar solicitação de compra:",e),e}},gAe=async t=>{try{return(await cu(on(Ue,"supports"),{...t,type:"support",status:"pending",createdAt:Tt.now(),hidden:!1,unreadMessages:0,hasUnreadMessages:!1})).id}catch(e){throw console.error("Erro ao criar solicitação de suporte:",e),e}},yO=on(Ue,"equipment"),vAe=async t=>{try{const e=kE(Ue);return t.forEach(r=>{const n=bt(yO);e.set(n,r)}),await e.commit(),t}catch(e){throw console.error("Error adding multiple equipment:",e),e}},wQ=async()=>{try{return(await ea(yO)).docs.map(e=>({id:e.id,...e.data()}))}catch(t){throw console.error("Error getting equipment:",t),t}},yAe=async()=>{try{return(await ea(yO)).docs.map(n=>({id:n.id,...n.data()})).filter(n=>n.type==="Chromebook"||n.type==="iPad").sort((n,i)=>n.type==="Chromebook"&&i.type==="iPad"?-1:n.type==="iPad"&&i.type==="Chromebook"?1:n.name.localeCompare(i.name))}catch(t){throw console.error("Error getting sorted equipment:",t),t}},xAe=async t=>{try{const e=kE(Ue);return t.forEach(r=>{const n=bt(Ue,"equipment",r);e.delete(n)}),await e.commit(),!0}catch(e){throw console.error("Error deleting multiple equipment:",e),e}},bAe=async t=>{try{return await Sf(bt(Ue,"equipment",t)),!0}catch(e){throw console.error("Error deleting equipment:",e),e}};var wAe=Array.isArray,ns=wAe,_Ae=typeof bx=="object"&&bx&&bx.Object===Object&&bx,_Q=_Ae,EAe=_Q,SAe=typeof self=="object"&&self&&self.Object===Object&&self,NAe=EAe||SAe||Function("return this")(),qo=NAe,TAe=qo,jAe=TAe.Symbol,G0=jAe,Q3=G0,EQ=Object.prototype,CAe=EQ.hasOwnProperty,AAe=EQ.toString,lg=Q3?Q3.toStringTag:void 0;function PAe(t){var e=CAe.call(t,lg),r=t[lg];try{t[lg]=void 0;var n=!0}catch{}var i=AAe.call(t);return n&&(e?t[lg]=r:delete t[lg]),i}var RAe=PAe,kAe=Object.prototype,IAe=kAe.toString;function OAe(t){return IAe.call(t)}var MAe=OAe,Z3=G0,DAe=RAe,LAe=MAe,$Ae="[object Null]",FAe="[object Undefined]",J3=Z3?Z3.toStringTag:void 0;function VAe(t){return t==null?t===void 0?FAe:$Ae:J3&&J3 in Object(t)?DAe(t):LAe(t)}var tc=VAe;function BAe(t){return t!=null&&typeof t=="object"}var rc=BAe,UAe=tc,zAe=rc,qAe="[object Symbol]";function WAe(t){return typeof t=="symbol"||zAe(t)&&UAe(t)==qAe}var Tm=WAe,HAe=ns,KAe=Tm,GAe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,YAe=/^\w*$/;function XAe(t,e){if(HAe(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||KAe(t)?!0:YAe.test(t)||!GAe.test(t)||e!=null&&t in Object(e)}var xO=XAe;function QAe(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Iu=QAe;const jm=ir(Iu);var ZAe=tc,JAe=Iu,ePe="[object AsyncFunction]",tPe="[object Function]",rPe="[object GeneratorFunction]",nPe="[object Proxy]";function iPe(t){if(!JAe(t))return!1;var e=ZAe(t);return e==tPe||e==rPe||e==ePe||e==nPe}var bO=iPe;const St=ir(bO);var sPe=qo,aPe=sPe["__core-js_shared__"],oPe=aPe,FT=oPe,eV=function(){var t=/[^.]+$/.exec(FT&&FT.keys&&FT.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function lPe(t){return!!eV&&eV in t}var cPe=lPe,uPe=Function.prototype,dPe=uPe.toString;function fPe(t){if(t!=null){try{return dPe.call(t)}catch{}try{return t+""}catch{}}return""}var SQ=fPe,hPe=bO,pPe=cPe,mPe=Iu,gPe=SQ,vPe=/[\\^$.*+?()[\]{}|]/g,yPe=/^\[object .+?Constructor\]$/,xPe=Function.prototype,bPe=Object.prototype,wPe=xPe.toString,_Pe=bPe.hasOwnProperty,EPe=RegExp("^"+wPe.call(_Pe).replace(vPe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function SPe(t){if(!mPe(t)||pPe(t))return!1;var e=hPe(t)?EPe:yPe;return e.test(gPe(t))}var NPe=SPe;function TPe(t,e){return t==null?void 0:t[e]}var jPe=TPe,CPe=NPe,APe=jPe;function PPe(t,e){var r=APe(t,e);return CPe(r)?r:void 0}var Af=PPe,RPe=Af,kPe=RPe(Object,"create"),tS=kPe,tV=tS;function IPe(){this.__data__=tV?tV(null):{},this.size=0}var OPe=IPe;function MPe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var DPe=MPe,LPe=tS,$Pe="__lodash_hash_undefined__",FPe=Object.prototype,VPe=FPe.hasOwnProperty;function BPe(t){var e=this.__data__;if(LPe){var r=e[t];return r===$Pe?void 0:r}return VPe.call(e,t)?e[t]:void 0}var UPe=BPe,zPe=tS,qPe=Object.prototype,WPe=qPe.hasOwnProperty;function HPe(t){var e=this.__data__;return zPe?e[t]!==void 0:WPe.call(e,t)}var KPe=HPe,GPe=tS,YPe="__lodash_hash_undefined__";function XPe(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=GPe&&e===void 0?YPe:e,this}var QPe=XPe,ZPe=OPe,JPe=DPe,e2e=UPe,t2e=KPe,r2e=QPe;function Cm(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Cm.prototype.clear=ZPe;Cm.prototype.delete=JPe;Cm.prototype.get=e2e;Cm.prototype.has=t2e;Cm.prototype.set=r2e;var n2e=Cm;function i2e(){this.__data__=[],this.size=0}var s2e=i2e;function a2e(t,e){return t===e||t!==t&&e!==e}var wO=a2e,o2e=wO;function l2e(t,e){for(var r=t.length;r--;)if(o2e(t[r][0],e))return r;return-1}var rS=l2e,c2e=rS,u2e=Array.prototype,d2e=u2e.splice;function f2e(t){var e=this.__data__,r=c2e(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():d2e.call(e,r,1),--this.size,!0}var h2e=f2e,p2e=rS;function m2e(t){var e=this.__data__,r=p2e(e,t);return r<0?void 0:e[r][1]}var g2e=m2e,v2e=rS;function y2e(t){return v2e(this.__data__,t)>-1}var x2e=y2e,b2e=rS;function w2e(t,e){var r=this.__data__,n=b2e(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var _2e=w2e,E2e=s2e,S2e=h2e,N2e=g2e,T2e=x2e,j2e=_2e;function Am(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Am.prototype.clear=E2e;Am.prototype.delete=S2e;Am.prototype.get=N2e;Am.prototype.has=T2e;Am.prototype.set=j2e;var nS=Am,C2e=Af,A2e=qo,P2e=C2e(A2e,"Map"),_O=P2e,rV=n2e,R2e=nS,k2e=_O;function I2e(){this.size=0,this.__data__={hash:new rV,map:new(k2e||R2e),string:new rV}}var O2e=I2e;function M2e(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var D2e=M2e,L2e=D2e;function $2e(t,e){var r=t.__data__;return L2e(e)?r[typeof e=="string"?"string":"hash"]:r.map}var iS=$2e,F2e=iS;function V2e(t){var e=F2e(this,t).delete(t);return this.size-=e?1:0,e}var B2e=V2e,U2e=iS;function z2e(t){return U2e(this,t).get(t)}var q2e=z2e,W2e=iS;function H2e(t){return W2e(this,t).has(t)}var K2e=H2e,G2e=iS;function Y2e(t,e){var r=G2e(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var X2e=Y2e,Q2e=O2e,Z2e=B2e,J2e=q2e,eRe=K2e,tRe=X2e;function Pm(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Pm.prototype.clear=Q2e;Pm.prototype.delete=Z2e;Pm.prototype.get=J2e;Pm.prototype.has=eRe;Pm.prototype.set=tRe;var EO=Pm,NQ=EO,rRe="Expected a function";function SO(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(rRe);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],s=r.cache;if(s.has(i))return s.get(i);var a=t.apply(this,n);return r.cache=s.set(i,a)||s,a};return r.cache=new(SO.Cache||NQ),r}SO.Cache=NQ;var TQ=SO;const nRe=ir(TQ);var iRe=TQ,sRe=500;function aRe(t){var e=iRe(t,function(n){return r.size===sRe&&r.clear(),n}),r=e.cache;return e}var oRe=aRe,lRe=oRe,cRe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,uRe=/\\(\\)?/g,dRe=lRe(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(cRe,function(r,n,i,s){e.push(i?s.replace(uRe,"$1"):n||r)}),e}),fRe=dRe;function hRe(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var NO=hRe,nV=G0,pRe=NO,mRe=ns,gRe=Tm,iV=nV?nV.prototype:void 0,sV=iV?iV.toString:void 0;function jQ(t){if(typeof t=="string")return t;if(mRe(t))return pRe(t,jQ)+"";if(gRe(t))return sV?sV.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var vRe=jQ,yRe=vRe;function xRe(t){return t==null?"":yRe(t)}var CQ=xRe,bRe=ns,wRe=xO,_Re=fRe,ERe=CQ;function SRe(t,e){return bRe(t)?t:wRe(t,e)?[t]:_Re(ERe(t))}var AQ=SRe,NRe=Tm;function TRe(t){if(typeof t=="string"||NRe(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var sS=TRe,jRe=AQ,CRe=sS;function ARe(t,e){e=jRe(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[CRe(e[r++])];return r&&r==n?t:void 0}var TO=ARe,PRe=TO;function RRe(t,e,r){var n=t==null?void 0:PRe(t,e);return n===void 0?r:n}var PQ=RRe;const ka=ir(PQ);function kRe(t){return t==null}var IRe=kRe;const Ot=ir(IRe);var ORe=tc,MRe=ns,DRe=rc,LRe="[object String]";function $Re(t){return typeof t=="string"||!MRe(t)&&DRe(t)&&ORe(t)==LRe}var FRe=$Re;const Y0=ir(FRe);var RQ={exports:{}},sr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jO=Symbol.for("react.element"),CO=Symbol.for("react.portal"),aS=Symbol.for("react.fragment"),oS=Symbol.for("react.strict_mode"),lS=Symbol.for("react.profiler"),cS=Symbol.for("react.provider"),uS=Symbol.for("react.context"),VRe=Symbol.for("react.server_context"),dS=Symbol.for("react.forward_ref"),fS=Symbol.for("react.suspense"),hS=Symbol.for("react.suspense_list"),pS=Symbol.for("react.memo"),mS=Symbol.for("react.lazy"),BRe=Symbol.for("react.offscreen"),kQ;kQ=Symbol.for("react.module.reference");function ta(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case jO:switch(t=t.type,t){case aS:case lS:case oS:case fS:case hS:return t;default:switch(t=t&&t.$$typeof,t){case VRe:case uS:case dS:case mS:case pS:case cS:return t;default:return e}}case CO:return e}}}sr.ContextConsumer=uS;sr.ContextProvider=cS;sr.Element=jO;sr.ForwardRef=dS;sr.Fragment=aS;sr.Lazy=mS;sr.Memo=pS;sr.Portal=CO;sr.Profiler=lS;sr.StrictMode=oS;sr.Suspense=fS;sr.SuspenseList=hS;sr.isAsyncMode=function(){return!1};sr.isConcurrentMode=function(){return!1};sr.isContextConsumer=function(t){return ta(t)===uS};sr.isContextProvider=function(t){return ta(t)===cS};sr.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===jO};sr.isForwardRef=function(t){return ta(t)===dS};sr.isFragment=function(t){return ta(t)===aS};sr.isLazy=function(t){return ta(t)===mS};sr.isMemo=function(t){return ta(t)===pS};sr.isPortal=function(t){return ta(t)===CO};sr.isProfiler=function(t){return ta(t)===lS};sr.isStrictMode=function(t){return ta(t)===oS};sr.isSuspense=function(t){return ta(t)===fS};sr.isSuspenseList=function(t){return ta(t)===hS};sr.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===aS||t===lS||t===oS||t===fS||t===hS||t===BRe||typeof t=="object"&&t!==null&&(t.$$typeof===mS||t.$$typeof===pS||t.$$typeof===cS||t.$$typeof===uS||t.$$typeof===dS||t.$$typeof===kQ||t.getModuleId!==void 0)};sr.typeOf=ta;RQ.exports=sr;var URe=RQ.exports,zRe=tc,qRe=rc,WRe="[object Number]";function HRe(t){return typeof t=="number"||qRe(t)&&zRe(t)==WRe}var IQ=HRe;const KRe=ir(IQ);var GRe=IQ;function YRe(t){return GRe(t)&&t!=+t}var XRe=YRe;const X0=ir(XRe);var Ws=function(e){return e===0?0:e>0?1:-1},vd=function(e){return Y0(e)&&e.indexOf("%")===e.length-1},Le=function(e){return KRe(e)&&!X0(e)},_n=function(e){return Le(e)||Y0(e)},QRe=0,gS=function(e){var r=++QRe;return"".concat(e||"").concat(r)},Wi=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Le(e)&&!Y0(e))return n;var s;if(vd(e)){var a=e.indexOf("%");s=r*parseFloat(e.slice(0,a))/100}else s=+e;return X0(s)&&(s=n),i&&s>r&&(s=r),s},th=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},ZRe=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},aV=function(e,r){return Le(e)&&Le(r)?function(n){return e+n*(r-e)}:function(){return r}};function WA(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):ka(n,e))===r})}function HA(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function KA(t){"@babel/helpers - typeof";return KA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},KA(t)}var JRe=["viewBox","children"],eke=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],oV=["points","pathLength"],VT={svg:JRe,polygon:oV,polyline:oV},AO=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],E_=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(g.isValidElement(e)&&(n=e.props),!jm(n))return null;var i={};return Object.keys(n).forEach(function(s){AO.includes(s)&&(i[s]=r||function(a){return n[s](n,a)})}),i},tke=function(e,r,n){return function(i){return e(r,n,i),null}},vS=function(e,r,n){if(!jm(e)||KA(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(s){var a=e[s];AO.includes(s)&&typeof a=="function"&&(i||(i={}),i[s]=tke(a,r,n))}),i},rke=["children"],nke=["children"];function lV(t,e){if(t==null)return{};var r=ike(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ike(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var cV={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Cl=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},uV=null,BT=null,PO=function t(e){if(e===uV&&Array.isArray(BT))return BT;var r=[];return g.Children.forEach(e,function(n){Ot(n)||(URe.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),BT=r,uV=e,r};function Ao(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return Cl(i)}):n=[Cl(e)],PO(t).forEach(function(i){var s=ka(i,"type.displayName")||ka(i,"type.name");n.indexOf(s)!==-1&&r.push(i)}),r}function Ls(t,e){var r=Ao(t,e);return r&&r[0]}var dV=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!Le(n)||n<=0||!Le(i)||i<=0)},ske=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],ake=function(e){return e&&e.type&&Y0(e.type)&&ske.indexOf(e.type)>=0},oke=function(e,r,n,i){var s,a=(s=VT==null?void 0:VT[i])!==null&&s!==void 0?s:[];return r.startsWith("data-")||!St(e)&&(i&&a.includes(r)||eke.includes(r))||n&&AO.includes(r)},_t=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(g.isValidElement(e)&&(i=e.props),!jm(i))return null;var s={};return Object.keys(i).forEach(function(a){var o;oke((o=i)===null||o===void 0?void 0:o[a],a,r,n)&&(s[a]=i[a])}),s},GA=function t(e,r){if(e===r)return!0;var n=g.Children.count(e);if(n!==g.Children.count(r))return!1;if(n===0)return!0;if(n===1)return fV(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var s=e[i],a=r[i];if(Array.isArray(s)||Array.isArray(a)){if(!t(s,a))return!1}else if(!fV(s,a))return!1}return!0},fV=function(e,r){if(Ot(e)&&Ot(r))return!0;if(!Ot(e)&&!Ot(r)){var n=e.props||{},i=n.children,s=lV(n,rke),a=r.props||{},o=a.children,c=lV(a,nke);return i&&o?HA(s,c)&&GA(i,o):!i&&!o?HA(s,c):!1}return!1},hV=function(e,r){var n=[],i={};return PO(e).forEach(function(s,a){if(ake(s))n.push(s);else if(s){var o=Cl(s.type),c=r[o]||{},u=c.handler,d=c.once;if(u&&(!d||!i[o])){var f=u(s,o,a);n.push(f),i[o]=!0}}}),n},lke=function(e){var r=e&&e.type;return r&&cV[r]?cV[r]:null},cke=function(e,r){return PO(r).indexOf(e)},uke=["children","width","height","viewBox","className","style","title","desc"];function YA(){return YA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},YA.apply(this,arguments)}function dke(t,e){if(t==null)return{};var r=fke(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function fke(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function XA(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,s=t.className,a=t.style,o=t.title,c=t.desc,u=dke(t,uke),d=i||{width:r,height:n,x:0,y:0},f=$t("recharts-surface",s);return B.createElement("svg",YA({},_t(u,!0,"svg"),{className:f,width:r,height:n,style:a,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),B.createElement("title",null,o),B.createElement("desc",null,c),e)}var hke=["children","className"];function QA(){return QA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},QA.apply(this,arguments)}function pke(t,e){if(t==null)return{};var r=mke(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function mke(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Zr=B.forwardRef(function(t,e){var r=t.children,n=t.className,i=pke(t,hke),s=$t("recharts-layer",n);return B.createElement("g",QA({className:s},_t(i,!0),{ref:e}),r)}),Al=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s]};function gke(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),r=r>i?i:r,r<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var s=Array(i);++n<i;)s[n]=t[n+e];return s}var vke=gke,yke=vke;function xke(t,e,r){var n=t.length;return r=r===void 0?n:r,!e&&r>=n?t:yke(t,e,r)}var bke=xke,wke="\\ud800-\\udfff",_ke="\\u0300-\\u036f",Eke="\\ufe20-\\ufe2f",Ske="\\u20d0-\\u20ff",Nke=_ke+Eke+Ske,Tke="\\ufe0e\\ufe0f",jke="\\u200d",Cke=RegExp("["+jke+wke+Nke+Tke+"]");function Ake(t){return Cke.test(t)}var OQ=Ake;function Pke(t){return t.split("")}var Rke=Pke,MQ="\\ud800-\\udfff",kke="\\u0300-\\u036f",Ike="\\ufe20-\\ufe2f",Oke="\\u20d0-\\u20ff",Mke=kke+Ike+Oke,Dke="\\ufe0e\\ufe0f",Lke="["+MQ+"]",ZA="["+Mke+"]",JA="\\ud83c[\\udffb-\\udfff]",$ke="(?:"+ZA+"|"+JA+")",DQ="[^"+MQ+"]",LQ="(?:\\ud83c[\\udde6-\\uddff]){2}",$Q="[\\ud800-\\udbff][\\udc00-\\udfff]",Fke="\\u200d",FQ=$ke+"?",VQ="["+Dke+"]?",Vke="(?:"+Fke+"(?:"+[DQ,LQ,$Q].join("|")+")"+VQ+FQ+")*",Bke=VQ+FQ+Vke,Uke="(?:"+[DQ+ZA+"?",ZA,LQ,$Q,Lke].join("|")+")",zke=RegExp(JA+"(?="+JA+")|"+Uke+Bke,"g");function qke(t){return t.match(zke)||[]}var Wke=qke,Hke=Rke,Kke=OQ,Gke=Wke;function Yke(t){return Kke(t)?Gke(t):Hke(t)}var Xke=Yke,Qke=bke,Zke=OQ,Jke=Xke,eIe=CQ;function tIe(t){return function(e){e=eIe(e);var r=Zke(e)?Jke(e):void 0,n=r?r[0]:e.charAt(0),i=r?Qke(r,1).join(""):e.slice(1);return n[t]()+i}}var rIe=tIe,nIe=rIe,iIe=nIe("toUpperCase"),sIe=iIe;const yS=ir(sIe);function mr(t){return function(){return t}}const BQ=Math.cos,S_=Math.sin,Ga=Math.sqrt,N_=Math.PI,xS=2*N_,eP=Math.PI,tP=2*eP,id=1e-6,aIe=tP-id;function UQ(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function oIe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return UQ;const r=10**e;return function(n){this._+=n[0];for(let i=1,s=n.length;i<s;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class lIe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?UQ:oIe(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,s,a){this._append`C${+e},${+r},${+n},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(e,r,n,i,s){if(e=+e,r=+r,n=+n,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,o=this._y1,c=n-e,u=i-r,d=a-e,f=o-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(h>id)if(!(Math.abs(f*c-u*d)>id)||!s)this._append`L${this._x1=e},${this._y1=r}`;else{let p=n-a,v=i-o,m=c*c+u*u,b=p*p+v*v,w=Math.sqrt(m),y=Math.sqrt(h),_=s*Math.tan((eP-Math.acos((m+h-b)/(2*w*y)))/2),S=_/y,E=_/w;Math.abs(S-1)>id&&this._append`L${e+S*d},${r+S*f}`,this._append`A${s},${s},0,0,${+(f*p>d*v)},${this._x1=e+E*c},${this._y1=r+E*u}`}}arc(e,r,n,i,s,a){if(e=+e,r=+r,n=+n,a=!!a,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(i),c=n*Math.sin(i),u=e+o,d=r+c,f=1^a,h=a?i-s:s-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>id||Math.abs(this._y1-d)>id)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%tP+tP),h>aIe?this._append`A${n},${n},0,1,${f},${e-o},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>id&&this._append`A${n},${n},0,${+(h>=eP)},${f},${this._x1=e+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function RO(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new lIe(e)}function kO(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function zQ(t){this._context=t}zQ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function bS(t){return new zQ(t)}function qQ(t){return t[0]}function WQ(t){return t[1]}function HQ(t,e){var r=mr(!0),n=null,i=bS,s=null,a=RO(o);t=typeof t=="function"?t:t===void 0?qQ:mr(t),e=typeof e=="function"?e:e===void 0?WQ:mr(e);function o(c){var u,d=(c=kO(c)).length,f,h=!1,p;for(n==null&&(s=i(p=a())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+t(f,u,c),+e(f,u,c));if(p)return s=null,p+""||null}return o.x=function(c){return arguments.length?(t=typeof c=="function"?c:mr(+c),o):t},o.y=function(c){return arguments.length?(e=typeof c=="function"?c:mr(+c),o):e},o.defined=function(c){return arguments.length?(r=typeof c=="function"?c:mr(!!c),o):r},o.curve=function(c){return arguments.length?(i=c,n!=null&&(s=i(n)),o):i},o.context=function(c){return arguments.length?(c==null?n=s=null:s=i(n=c),o):n},o}function ob(t,e,r){var n=null,i=mr(!0),s=null,a=bS,o=null,c=RO(u);t=typeof t=="function"?t:t===void 0?qQ:mr(+t),e=typeof e=="function"?e:mr(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?WQ:mr(+r);function u(f){var h,p,v,m=(f=kO(f)).length,b,w=!1,y,_=new Array(m),S=new Array(m);for(s==null&&(o=a(y=c())),h=0;h<=m;++h){if(!(h<m&&i(b=f[h],h,f))===w)if(w=!w)p=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),v=h-1;v>=p;--v)o.point(_[v],S[v]);o.lineEnd(),o.areaEnd()}w&&(_[h]=+t(b,h,f),S[h]=+e(b,h,f),o.point(n?+n(b,h,f):_[h],r?+r(b,h,f):S[h]))}if(y)return o=null,y+""||null}function d(){return HQ().defined(i).curve(a).context(s)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:mr(+f),n=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:mr(+f),u):t},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:mr(+f),u):n},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:mr(+f),r=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:mr(+f),u):e},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:mr(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(r)},u.lineX1=function(){return d().x(n).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:mr(!!f),u):i},u.curve=function(f){return arguments.length?(a=f,s!=null&&(o=a(s)),u):a},u.context=function(f){return arguments.length?(f==null?s=o=null:o=a(s=f),u):s},u}class KQ{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function cIe(t){return new KQ(t,!0)}function uIe(t){return new KQ(t,!1)}const IO={draw(t,e){const r=Ga(e/N_);t.moveTo(r,0),t.arc(0,0,r,0,xS)}},dIe={draw(t,e){const r=Ga(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},GQ=Ga(1/3),fIe=GQ*2,hIe={draw(t,e){const r=Ga(e/fIe),n=r*GQ;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},pIe={draw(t,e){const r=Ga(e),n=-r/2;t.rect(n,n,r,r)}},mIe=.8908130915292852,YQ=S_(N_/10)/S_(7*N_/10),gIe=S_(xS/10)*YQ,vIe=-BQ(xS/10)*YQ,yIe={draw(t,e){const r=Ga(e*mIe),n=gIe*r,i=vIe*r;t.moveTo(0,-r),t.lineTo(n,i);for(let s=1;s<5;++s){const a=xS*s/5,o=BQ(a),c=S_(a);t.lineTo(c*r,-o*r),t.lineTo(o*n-c*i,c*n+o*i)}t.closePath()}},UT=Ga(3),xIe={draw(t,e){const r=-Ga(e/(UT*3));t.moveTo(0,r*2),t.lineTo(-UT*r,-r),t.lineTo(UT*r,-r),t.closePath()}},Rs=-.5,ks=Ga(3)/2,rP=1/Ga(12),bIe=(rP/2+1)*3,wIe={draw(t,e){const r=Ga(e/bIe),n=r/2,i=r*rP,s=n,a=r*rP+r,o=-s,c=a;t.moveTo(n,i),t.lineTo(s,a),t.lineTo(o,c),t.lineTo(Rs*n-ks*i,ks*n+Rs*i),t.lineTo(Rs*s-ks*a,ks*s+Rs*a),t.lineTo(Rs*o-ks*c,ks*o+Rs*c),t.lineTo(Rs*n+ks*i,Rs*i-ks*n),t.lineTo(Rs*s+ks*a,Rs*a-ks*s),t.lineTo(Rs*o+ks*c,Rs*c-ks*o),t.closePath()}};function _Ie(t,e){let r=null,n=RO(i);t=typeof t=="function"?t:mr(t||IO),e=typeof e=="function"?e:mr(e===void 0?64:+e);function i(){let s;if(r||(r=s=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),s)return r=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:mr(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:mr(+s),i):e},i.context=function(s){return arguments.length?(r=s??null,i):r},i}function T_(){}function j_(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function XQ(t){this._context=t}XQ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:j_(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:j_(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function EIe(t){return new XQ(t)}function QQ(t){this._context=t}QQ.prototype={areaStart:T_,areaEnd:T_,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:j_(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function SIe(t){return new QQ(t)}function ZQ(t){this._context=t}ZQ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:j_(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function NIe(t){return new ZQ(t)}function JQ(t){this._context=t}JQ.prototype={areaStart:T_,areaEnd:T_,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function TIe(t){return new JQ(t)}function pV(t){return t<0?-1:1}function mV(t,e,r){var n=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(n||i<0&&-0),a=(r-t._y1)/(i||n<0&&-0),o=(s*i+a*n)/(n+i);return(pV(s)+pV(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(o))||0}function gV(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function zT(t,e,r){var n=t._x0,i=t._y0,s=t._x1,a=t._y1,o=(s-n)/3;t._context.bezierCurveTo(n+o,i+o*e,s-o,a-o*r,s,a)}function C_(t){this._context=t}C_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:zT(this,this._t0,gV(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,zT(this,gV(this,r=mV(this,t,e)),r);break;default:zT(this,this._t0,r=mV(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function eZ(t){this._context=new tZ(t)}(eZ.prototype=Object.create(C_.prototype)).point=function(t,e){C_.prototype.point.call(this,e,t)};function tZ(t){this._context=t}tZ.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,s){this._context.bezierCurveTo(e,t,n,r,s,i)}};function jIe(t){return new C_(t)}function CIe(t){return new eZ(t)}function rZ(t){this._context=t}rZ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=vV(t),i=vV(e),s=0,a=1;a<r;++s,++a)this._context.bezierCurveTo(n[0][s],i[0][s],n[1][s],i[1][s],t[a],e[a]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function vV(t){var e,r=t.length-1,n,i=new Array(r),s=new Array(r),a=new Array(r);for(i[0]=0,s[0]=2,a[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,s[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,s[r-1]=7,a[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/s[e-1],s[e]-=n,a[e]-=n*a[e-1];for(i[r-1]=a[r-1]/s[r-1],e=r-2;e>=0;--e)i[e]=(a[e]-i[e+1])/s[e];for(s[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function AIe(t){return new rZ(t)}function wS(t,e){this._context=t,this._t=e}wS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function PIe(t){return new wS(t,.5)}function RIe(t){return new wS(t,0)}function kIe(t){return new wS(t,1)}function Ip(t,e){if((a=t.length)>1)for(var r=1,n,i,s=t[e[0]],a,o=s.length;r<a;++r)for(i=s,s=t[e[r]],n=0;n<o;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function nP(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function IIe(t,e){return t[e]}function OIe(t){const e=[];return e.key=t,e}function MIe(){var t=mr([]),e=nP,r=Ip,n=IIe;function i(s){var a=Array.from(t.apply(this,arguments),OIe),o,c=a.length,u=-1,d;for(const f of s)for(o=0,++u;o<c;++o)(a[o][u]=[0,+n(f,a[o].key,u,s)]).data=f;for(o=0,d=kO(e(a));o<c;++o)a[d[o]].index=o;return r(a,d),a}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:mr(Array.from(s)),i):t},i.value=function(s){return arguments.length?(n=typeof s=="function"?s:mr(+s),i):n},i.order=function(s){return arguments.length?(e=s==null?nP:typeof s=="function"?s:mr(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(r=s??Ip,i):r},i}function DIe(t,e){if((n=t.length)>0){for(var r,n,i=0,s=t[0].length,a;i<s;++i){for(a=r=0;r<n;++r)a+=t[r][i][1]||0;if(a)for(r=0;r<n;++r)t[r][i][1]/=a}Ip(t,e)}}function LIe(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,s=n.length;r<s;++r){for(var a=0,o=0;a<i;++a)o+=t[a][r][1]||0;n[r][1]+=n[r][0]=-o/2}Ip(t,e)}}function $Ie(t,e){if(!(!((a=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,s,a;n<s;++n){for(var o=0,c=0,u=0;o<a;++o){for(var d=t[e[o]],f=d[n][1]||0,h=d[n-1][1]||0,p=(f-h)/2,v=0;v<o;++v){var m=t[e[v]],b=m[n][1]||0,w=m[n-1][1]||0;p+=b-w}c+=f,u+=p*f}i[n-1][1]+=i[n-1][0]=r,c&&(r-=u/c)}i[n-1][1]+=i[n-1][0]=r,Ip(t,e)}}function cy(t){"@babel/helpers - typeof";return cy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cy(t)}var FIe=["type","size","sizeType"];function iP(){return iP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},iP.apply(this,arguments)}function yV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xV(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yV(Object(r),!0).forEach(function(n){VIe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function VIe(t,e,r){return e=BIe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function BIe(t){var e=UIe(t,"string");return cy(e)=="symbol"?e:e+""}function UIe(t,e){if(cy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(cy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zIe(t,e){if(t==null)return{};var r=qIe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function qIe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var nZ={symbolCircle:IO,symbolCross:dIe,symbolDiamond:hIe,symbolSquare:pIe,symbolStar:yIe,symbolTriangle:xIe,symbolWye:wIe},WIe=Math.PI/180,HIe=function(e){var r="symbol".concat(yS(e));return nZ[r]||IO},KIe=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*WIe;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},GIe=function(e,r){nZ["symbol".concat(yS(e))]=r},OO=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,s=i===void 0?64:i,a=e.sizeType,o=a===void 0?"area":a,c=zIe(e,FIe),u=xV(xV({},c),{},{type:n,size:s,sizeType:o}),d=function(){var b=HIe(n),w=_Ie().type(b).size(KIe(s,o,n));return w()},f=u.className,h=u.cx,p=u.cy,v=_t(u,!0);return h===+h&&p===+p&&s===+s?B.createElement("path",iP({},v,{className:$t("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};OO.registerSymbol=GIe;function Op(t){"@babel/helpers - typeof";return Op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Op(t)}function sP(){return sP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sP.apply(this,arguments)}function bV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function YIe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bV(Object(r),!0).forEach(function(n){uy(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function XIe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function QIe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,sZ(n.key),n)}}function ZIe(t,e,r){return e&&QIe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function JIe(t,e,r){return e=A_(e),eOe(t,iZ()?Reflect.construct(e,r||[],A_(t).constructor):e.apply(t,r))}function eOe(t,e){if(e&&(Op(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tOe(t)}function tOe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iZ=function(){return!!t})()}function A_(t){return A_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},A_(t)}function rOe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&aP(t,e)}function aP(t,e){return aP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},aP(t,e)}function uy(t,e,r){return e=sZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sZ(t){var e=nOe(t,"string");return Op(e)=="symbol"?e:e+""}function nOe(t,e){if(Op(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Op(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ca=32,MO=function(t){function e(){return XIe(this,e),JIe(this,e,arguments)}return rOe(e,t),ZIe(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,s=ca/2,a=ca/6,o=ca/3,c=n.inactive?i:n.color;if(n.type==="plainline")return B.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:s,x2:ca,y2:s,className:"recharts-legend-icon"});if(n.type==="line")return B.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(s,"h").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*o,",").concat(s,`
            H`).concat(ca,"M").concat(2*o,",").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(o,",").concat(s),className:"recharts-legend-icon"});if(n.type==="rect")return B.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(ca/8,"h").concat(ca,"v").concat(ca*3/4,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(B.isValidElement(n.legendIcon)){var u=YIe({},n);return delete u.legendIcon,B.cloneElement(n.legendIcon,u)}return B.createElement(OO,{fill:c,cx:s,cy:s,size:ca,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,s=i.payload,a=i.iconSize,o=i.layout,c=i.formatter,u=i.inactiveColor,d={x:0,y:0,width:ca,height:ca},f={display:o==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(p,v){var m=p.formatter||c,b=$t(uy(uy({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",p.inactive));if(p.type==="none")return null;var w=St(p.value)?null:p.value;Al(!St(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var y=p.inactive?u:p.color;return B.createElement("li",sP({className:b,style:f,key:"legend-item-".concat(v)},vS(n.props,p,v)),B.createElement(XA,{width:a,height:a,viewBox:d,style:h},n.renderIcon(p)),B.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},m?m(w,p,v):w))})}},{key:"render",value:function(){var n=this.props,i=n.payload,s=n.layout,a=n.align;if(!i||!i.length)return null;var o={padding:0,margin:0,textAlign:s==="horizontal"?a:"left"};return B.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])}(g.PureComponent);uy(MO,"displayName","Legend");uy(MO,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var iOe=nS;function sOe(){this.__data__=new iOe,this.size=0}var aOe=sOe;function oOe(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var lOe=oOe;function cOe(t){return this.__data__.get(t)}var uOe=cOe;function dOe(t){return this.__data__.has(t)}var fOe=dOe,hOe=nS,pOe=_O,mOe=EO,gOe=200;function vOe(t,e){var r=this.__data__;if(r instanceof hOe){var n=r.__data__;if(!pOe||n.length<gOe-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new mOe(n)}return r.set(t,e),this.size=r.size,this}var yOe=vOe,xOe=nS,bOe=aOe,wOe=lOe,_Oe=uOe,EOe=fOe,SOe=yOe;function Rm(t){var e=this.__data__=new xOe(t);this.size=e.size}Rm.prototype.clear=bOe;Rm.prototype.delete=wOe;Rm.prototype.get=_Oe;Rm.prototype.has=EOe;Rm.prototype.set=SOe;var aZ=Rm,NOe="__lodash_hash_undefined__";function TOe(t){return this.__data__.set(t,NOe),this}var jOe=TOe;function COe(t){return this.__data__.has(t)}var AOe=COe,POe=EO,ROe=jOe,kOe=AOe;function P_(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new POe;++e<r;)this.add(t[e])}P_.prototype.add=P_.prototype.push=ROe;P_.prototype.has=kOe;var oZ=P_;function IOe(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var lZ=IOe;function OOe(t,e){return t.has(e)}var cZ=OOe,MOe=oZ,DOe=lZ,LOe=cZ,$Oe=1,FOe=2;function VOe(t,e,r,n,i,s){var a=r&$Oe,o=t.length,c=e.length;if(o!=c&&!(a&&c>o))return!1;var u=s.get(t),d=s.get(e);if(u&&d)return u==e&&d==t;var f=-1,h=!0,p=r&FOe?new MOe:void 0;for(s.set(t,e),s.set(e,t);++f<o;){var v=t[f],m=e[f];if(n)var b=a?n(m,v,f,e,t,s):n(v,m,f,t,e,s);if(b!==void 0){if(b)continue;h=!1;break}if(p){if(!DOe(e,function(w,y){if(!LOe(p,y)&&(v===w||i(v,w,r,n,s)))return p.push(y)})){h=!1;break}}else if(!(v===m||i(v,m,r,n,s))){h=!1;break}}return s.delete(t),s.delete(e),h}var uZ=VOe,BOe=qo,UOe=BOe.Uint8Array,zOe=UOe;function qOe(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}var WOe=qOe;function HOe(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var DO=HOe,wV=G0,_V=zOe,KOe=wO,GOe=uZ,YOe=WOe,XOe=DO,QOe=1,ZOe=2,JOe="[object Boolean]",eMe="[object Date]",tMe="[object Error]",rMe="[object Map]",nMe="[object Number]",iMe="[object RegExp]",sMe="[object Set]",aMe="[object String]",oMe="[object Symbol]",lMe="[object ArrayBuffer]",cMe="[object DataView]",EV=wV?wV.prototype:void 0,qT=EV?EV.valueOf:void 0;function uMe(t,e,r,n,i,s,a){switch(r){case cMe:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case lMe:return!(t.byteLength!=e.byteLength||!s(new _V(t),new _V(e)));case JOe:case eMe:case nMe:return KOe(+t,+e);case tMe:return t.name==e.name&&t.message==e.message;case iMe:case aMe:return t==e+"";case rMe:var o=YOe;case sMe:var c=n&QOe;if(o||(o=XOe),t.size!=e.size&&!c)return!1;var u=a.get(t);if(u)return u==e;n|=ZOe,a.set(t,e);var d=GOe(o(t),o(e),n,i,s,a);return a.delete(t),d;case oMe:if(qT)return qT.call(t)==qT.call(e)}return!1}var dMe=uMe;function fMe(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}var dZ=fMe,hMe=dZ,pMe=ns;function mMe(t,e,r){var n=e(t);return pMe(t)?n:hMe(n,r(t))}var gMe=mMe;function vMe(t,e){for(var r=-1,n=t==null?0:t.length,i=0,s=[];++r<n;){var a=t[r];e(a,r,t)&&(s[i++]=a)}return s}var yMe=vMe;function xMe(){return[]}var bMe=xMe,wMe=yMe,_Me=bMe,EMe=Object.prototype,SMe=EMe.propertyIsEnumerable,SV=Object.getOwnPropertySymbols,NMe=SV?function(t){return t==null?[]:(t=Object(t),wMe(SV(t),function(e){return SMe.call(t,e)}))}:_Me,TMe=NMe;function jMe(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var CMe=jMe,AMe=tc,PMe=rc,RMe="[object Arguments]";function kMe(t){return PMe(t)&&AMe(t)==RMe}var IMe=kMe,NV=IMe,OMe=rc,fZ=Object.prototype,MMe=fZ.hasOwnProperty,DMe=fZ.propertyIsEnumerable,LMe=NV(function(){return arguments}())?NV:function(t){return OMe(t)&&MMe.call(t,"callee")&&!DMe.call(t,"callee")},LO=LMe,R_={exports:{}};function $Me(){return!1}var FMe=$Me;R_.exports;(function(t,e){var r=qo,n=FMe,i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,a=s&&s.exports===i,o=a?r.Buffer:void 0,c=o?o.isBuffer:void 0,u=c||n;t.exports=u})(R_,R_.exports);var hZ=R_.exports,VMe=9007199254740991,BMe=/^(?:0|[1-9]\d*)$/;function UMe(t,e){var r=typeof t;return e=e??VMe,!!e&&(r=="number"||r!="symbol"&&BMe.test(t))&&t>-1&&t%1==0&&t<e}var $O=UMe,zMe=9007199254740991;function qMe(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=zMe}var FO=qMe,WMe=tc,HMe=FO,KMe=rc,GMe="[object Arguments]",YMe="[object Array]",XMe="[object Boolean]",QMe="[object Date]",ZMe="[object Error]",JMe="[object Function]",eDe="[object Map]",tDe="[object Number]",rDe="[object Object]",nDe="[object RegExp]",iDe="[object Set]",sDe="[object String]",aDe="[object WeakMap]",oDe="[object ArrayBuffer]",lDe="[object DataView]",cDe="[object Float32Array]",uDe="[object Float64Array]",dDe="[object Int8Array]",fDe="[object Int16Array]",hDe="[object Int32Array]",pDe="[object Uint8Array]",mDe="[object Uint8ClampedArray]",gDe="[object Uint16Array]",vDe="[object Uint32Array]",Er={};Er[cDe]=Er[uDe]=Er[dDe]=Er[fDe]=Er[hDe]=Er[pDe]=Er[mDe]=Er[gDe]=Er[vDe]=!0;Er[GMe]=Er[YMe]=Er[oDe]=Er[XMe]=Er[lDe]=Er[QMe]=Er[ZMe]=Er[JMe]=Er[eDe]=Er[tDe]=Er[rDe]=Er[nDe]=Er[iDe]=Er[sDe]=Er[aDe]=!1;function yDe(t){return KMe(t)&&HMe(t.length)&&!!Er[WMe(t)]}var xDe=yDe;function bDe(t){return function(e){return t(e)}}var pZ=bDe,k_={exports:{}};k_.exports;(function(t,e){var r=_Q,n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===n,a=s&&r.process,o=function(){try{var c=i&&i.require&&i.require("util").types;return c||a&&a.binding&&a.binding("util")}catch{}}();t.exports=o})(k_,k_.exports);var wDe=k_.exports,_De=xDe,EDe=pZ,TV=wDe,jV=TV&&TV.isTypedArray,SDe=jV?EDe(jV):_De,mZ=SDe,NDe=CMe,TDe=LO,jDe=ns,CDe=hZ,ADe=$O,PDe=mZ,RDe=Object.prototype,kDe=RDe.hasOwnProperty;function IDe(t,e){var r=jDe(t),n=!r&&TDe(t),i=!r&&!n&&CDe(t),s=!r&&!n&&!i&&PDe(t),a=r||n||i||s,o=a?NDe(t.length,String):[],c=o.length;for(var u in t)(e||kDe.call(t,u))&&!(a&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||ADe(u,c)))&&o.push(u);return o}var ODe=IDe,MDe=Object.prototype;function DDe(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||MDe;return t===r}var LDe=DDe;function $De(t,e){return function(r){return t(e(r))}}var gZ=$De,FDe=gZ,VDe=FDe(Object.keys,Object),BDe=VDe,UDe=LDe,zDe=BDe,qDe=Object.prototype,WDe=qDe.hasOwnProperty;function HDe(t){if(!UDe(t))return zDe(t);var e=[];for(var r in Object(t))WDe.call(t,r)&&r!="constructor"&&e.push(r);return e}var KDe=HDe,GDe=bO,YDe=FO;function XDe(t){return t!=null&&YDe(t.length)&&!GDe(t)}var _S=XDe,QDe=ODe,ZDe=KDe,JDe=_S;function eLe(t){return JDe(t)?QDe(t):ZDe(t)}var VO=eLe,tLe=gMe,rLe=TMe,nLe=VO;function iLe(t){return tLe(t,nLe,rLe)}var sLe=iLe,CV=sLe,aLe=1,oLe=Object.prototype,lLe=oLe.hasOwnProperty;function cLe(t,e,r,n,i,s){var a=r&aLe,o=CV(t),c=o.length,u=CV(e),d=u.length;if(c!=d&&!a)return!1;for(var f=c;f--;){var h=o[f];if(!(a?h in e:lLe.call(e,h)))return!1}var p=s.get(t),v=s.get(e);if(p&&v)return p==e&&v==t;var m=!0;s.set(t,e),s.set(e,t);for(var b=a;++f<c;){h=o[f];var w=t[h],y=e[h];if(n)var _=a?n(y,w,h,e,t,s):n(w,y,h,t,e,s);if(!(_===void 0?w===y||i(w,y,r,n,s):_)){m=!1;break}b||(b=h=="constructor")}if(m&&!b){var S=t.constructor,E=e.constructor;S!=E&&"constructor"in t&&"constructor"in e&&!(typeof S=="function"&&S instanceof S&&typeof E=="function"&&E instanceof E)&&(m=!1)}return s.delete(t),s.delete(e),m}var uLe=cLe,dLe=Af,fLe=qo,hLe=dLe(fLe,"DataView"),pLe=hLe,mLe=Af,gLe=qo,vLe=mLe(gLe,"Promise"),yLe=vLe,xLe=Af,bLe=qo,wLe=xLe(bLe,"Set"),vZ=wLe,_Le=Af,ELe=qo,SLe=_Le(ELe,"WeakMap"),NLe=SLe,oP=pLe,lP=_O,cP=yLe,uP=vZ,dP=NLe,yZ=tc,km=SQ,AV="[object Map]",TLe="[object Object]",PV="[object Promise]",RV="[object Set]",kV="[object WeakMap]",IV="[object DataView]",jLe=km(oP),CLe=km(lP),ALe=km(cP),PLe=km(uP),RLe=km(dP),sd=yZ;(oP&&sd(new oP(new ArrayBuffer(1)))!=IV||lP&&sd(new lP)!=AV||cP&&sd(cP.resolve())!=PV||uP&&sd(new uP)!=RV||dP&&sd(new dP)!=kV)&&(sd=function(t){var e=yZ(t),r=e==TLe?t.constructor:void 0,n=r?km(r):"";if(n)switch(n){case jLe:return IV;case CLe:return AV;case ALe:return PV;case PLe:return RV;case RLe:return kV}return e});var kLe=sd,WT=aZ,ILe=uZ,OLe=dMe,MLe=uLe,OV=kLe,MV=ns,DV=hZ,DLe=mZ,LLe=1,LV="[object Arguments]",$V="[object Array]",lb="[object Object]",$Le=Object.prototype,FV=$Le.hasOwnProperty;function FLe(t,e,r,n,i,s){var a=MV(t),o=MV(e),c=a?$V:OV(t),u=o?$V:OV(e);c=c==LV?lb:c,u=u==LV?lb:u;var d=c==lb,f=u==lb,h=c==u;if(h&&DV(t)){if(!DV(e))return!1;a=!0,d=!1}if(h&&!d)return s||(s=new WT),a||DLe(t)?ILe(t,e,r,n,i,s):OLe(t,e,c,r,n,i,s);if(!(r&LLe)){var p=d&&FV.call(t,"__wrapped__"),v=f&&FV.call(e,"__wrapped__");if(p||v){var m=p?t.value():t,b=v?e.value():e;return s||(s=new WT),i(m,b,r,n,s)}}return h?(s||(s=new WT),MLe(t,e,r,n,i,s)):!1}var VLe=FLe,BLe=VLe,VV=rc;function xZ(t,e,r,n,i){return t===e?!0:t==null||e==null||!VV(t)&&!VV(e)?t!==t&&e!==e:BLe(t,e,r,n,xZ,i)}var BO=xZ,ULe=aZ,zLe=BO,qLe=1,WLe=2;function HLe(t,e,r,n){var i=r.length,s=i,a=!n;if(t==null)return!s;for(t=Object(t);i--;){var o=r[i];if(a&&o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++i<s;){o=r[i];var c=o[0],u=t[c],d=o[1];if(a&&o[2]){if(u===void 0&&!(c in t))return!1}else{var f=new ULe;if(n)var h=n(u,d,c,t,e,f);if(!(h===void 0?zLe(d,u,qLe|WLe,n,f):h))return!1}}return!0}var KLe=HLe,GLe=Iu;function YLe(t){return t===t&&!GLe(t)}var bZ=YLe,XLe=bZ,QLe=VO;function ZLe(t){for(var e=QLe(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,XLe(i)]}return e}var JLe=ZLe;function e$e(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}var wZ=e$e,t$e=KLe,r$e=JLe,n$e=wZ;function i$e(t){var e=r$e(t);return e.length==1&&e[0][2]?n$e(e[0][0],e[0][1]):function(r){return r===t||t$e(r,t,e)}}var s$e=i$e;function a$e(t,e){return t!=null&&e in Object(t)}var o$e=a$e,l$e=AQ,c$e=LO,u$e=ns,d$e=$O,f$e=FO,h$e=sS;function p$e(t,e,r){e=l$e(e,t);for(var n=-1,i=e.length,s=!1;++n<i;){var a=h$e(e[n]);if(!(s=t!=null&&r(t,a)))break;t=t[a]}return s||++n!=i?s:(i=t==null?0:t.length,!!i&&f$e(i)&&d$e(a,i)&&(u$e(t)||c$e(t)))}var m$e=p$e,g$e=o$e,v$e=m$e;function y$e(t,e){return t!=null&&v$e(t,e,g$e)}var x$e=y$e,b$e=BO,w$e=PQ,_$e=x$e,E$e=xO,S$e=bZ,N$e=wZ,T$e=sS,j$e=1,C$e=2;function A$e(t,e){return E$e(t)&&S$e(e)?N$e(T$e(t),e):function(r){var n=w$e(r,t);return n===void 0&&n===e?_$e(r,t):b$e(e,n,j$e|C$e)}}var P$e=A$e;function R$e(t){return t}var Im=R$e;function k$e(t){return function(e){return e==null?void 0:e[t]}}var I$e=k$e,O$e=TO;function M$e(t){return function(e){return O$e(e,t)}}var D$e=M$e,L$e=I$e,$$e=D$e,F$e=xO,V$e=sS;function B$e(t){return F$e(t)?L$e(V$e(t)):$$e(t)}var U$e=B$e,z$e=s$e,q$e=P$e,W$e=Im,H$e=ns,K$e=U$e;function G$e(t){return typeof t=="function"?t:t==null?W$e:typeof t=="object"?H$e(t)?q$e(t[0],t[1]):z$e(t):K$e(t)}var Ou=G$e;function Y$e(t,e,r,n){for(var i=t.length,s=r+(n?1:-1);n?s--:++s<i;)if(e(t[s],s,t))return s;return-1}var X$e=Y$e;function Q$e(t){return t!==t}var Z$e=Q$e;function J$e(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}var e4e=J$e,t4e=X$e,r4e=Z$e,n4e=e4e;function i4e(t,e,r){return e===e?n4e(t,e,r):t4e(t,r4e,r)}var s4e=i4e,a4e=s4e;function o4e(t,e){var r=t==null?0:t.length;return!!r&&a4e(t,e,0)>-1}var l4e=o4e;function c4e(t,e,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}var u4e=c4e;function d4e(){}var f4e=d4e,HT=vZ,h4e=f4e,p4e=DO,m4e=1/0,g4e=HT&&1/p4e(new HT([,-0]))[1]==m4e?function(t){return new HT(t)}:h4e,v4e=g4e,y4e=oZ,x4e=l4e,b4e=u4e,w4e=cZ,_4e=v4e,E4e=DO,S4e=200;function N4e(t,e,r){var n=-1,i=x4e,s=t.length,a=!0,o=[],c=o;if(r)a=!1,i=b4e;else if(s>=S4e){var u=e?null:_4e(t);if(u)return E4e(u);a=!1,i=w4e,c=new y4e}else c=e?[]:o;e:for(;++n<s;){var d=t[n],f=e?e(d):d;if(d=r||d!==0?d:0,a&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;e&&c.push(f),o.push(d)}else i(c,f,r)||(c!==o&&c.push(f),o.push(d))}return o}var T4e=N4e,j4e=Ou,C4e=T4e;function A4e(t,e){return t&&t.length?C4e(t,j4e(e)):[]}var P4e=A4e;const BV=ir(P4e);function _Z(t,e,r){return e===!0?BV(t,r):St(e)?BV(t,e):t}function Mp(t){"@babel/helpers - typeof";return Mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mp(t)}var R4e=["ref"];function UV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Zo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UV(Object(r),!0).forEach(function(n){ES(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function k4e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zV(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,SZ(n.key),n)}}function I4e(t,e,r){return e&&zV(t.prototype,e),r&&zV(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function O4e(t,e,r){return e=I_(e),M4e(t,EZ()?Reflect.construct(e,r||[],I_(t).constructor):e.apply(t,r))}function M4e(t,e){if(e&&(Mp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return D4e(t)}function D4e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function EZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EZ=function(){return!!t})()}function I_(t){return I_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},I_(t)}function L4e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fP(t,e)}function fP(t,e){return fP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},fP(t,e)}function ES(t,e,r){return e=SZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function SZ(t){var e=$4e(t,"string");return Mp(e)=="symbol"?e:e+""}function $4e(t,e){if(Mp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Mp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function F4e(t,e){if(t==null)return{};var r=V4e(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function V4e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function B4e(t){return t.value}function U4e(t,e){if(B.isValidElement(t))return B.cloneElement(t,e);if(typeof t=="function")return B.createElement(t,e);e.ref;var r=F4e(e,R4e);return B.createElement(MO,r)}var qV=1,Uh=function(t){function e(){var r;k4e(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=O4e(this,e,[].concat(i)),ES(r,"lastBoundingBox",{width:-1,height:-1}),r}return L4e(e,t),I4e(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>qV||Math.abs(i.height-this.lastBoundingBox.height)>qV)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Zo({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,s=i.layout,a=i.align,o=i.verticalAlign,c=i.margin,u=i.chartWidth,d=i.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(a==="center"&&s==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=a==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(o==="middle"){var v=this.getBBoxSnapshot();h={top:((d||0)-v.height)/2}}else h=o==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Zo(Zo({},f),h)}},{key:"render",value:function(){var n=this,i=this.props,s=i.content,a=i.width,o=i.height,c=i.wrapperStyle,u=i.payloadUniqBy,d=i.payload,f=Zo(Zo({position:"absolute",width:a||"auto",height:o||"auto"},this.getDefaultPosition(c)),c);return B.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){n.wrapperNode=p}},U4e(s,Zo(Zo({},this.props),{},{payload:_Z(d,u,B4e)})))}}],[{key:"getWithHeight",value:function(n,i){var s=Zo(Zo({},this.defaultProps),n.props),a=s.layout;return a==="vertical"&&Le(n.props.height)?{height:n.props.height}:a==="horizontal"?{width:n.props.width||i}:null}}])}(g.PureComponent);ES(Uh,"displayName","Legend");ES(Uh,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var WV=G0,z4e=LO,q4e=ns,HV=WV?WV.isConcatSpreadable:void 0;function W4e(t){return q4e(t)||z4e(t)||!!(HV&&t&&t[HV])}var H4e=W4e,K4e=dZ,G4e=H4e;function NZ(t,e,r,n,i){var s=-1,a=t.length;for(r||(r=G4e),i||(i=[]);++s<a;){var o=t[s];e>0&&r(o)?e>1?NZ(o,e-1,r,n,i):K4e(i,o):n||(i[i.length]=o)}return i}var TZ=NZ;function Y4e(t){return function(e,r,n){for(var i=-1,s=Object(e),a=n(e),o=a.length;o--;){var c=a[t?o:++i];if(r(s[c],c,s)===!1)break}return e}}var X4e=Y4e,Q4e=X4e,Z4e=Q4e(),J4e=Z4e,eFe=J4e,tFe=VO;function rFe(t,e){return t&&eFe(t,e,tFe)}var jZ=rFe,nFe=_S;function iFe(t,e){return function(r,n){if(r==null)return r;if(!nFe(r))return t(r,n);for(var i=r.length,s=e?i:-1,a=Object(r);(e?s--:++s<i)&&n(a[s],s,a)!==!1;);return r}}var sFe=iFe,aFe=jZ,oFe=sFe,lFe=oFe(aFe),UO=lFe,cFe=UO,uFe=_S;function dFe(t,e){var r=-1,n=uFe(t)?Array(t.length):[];return cFe(t,function(i,s,a){n[++r]=e(i,s,a)}),n}var CZ=dFe;function fFe(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}var hFe=fFe,KV=Tm;function pFe(t,e){if(t!==e){var r=t!==void 0,n=t===null,i=t===t,s=KV(t),a=e!==void 0,o=e===null,c=e===e,u=KV(e);if(!o&&!u&&!s&&t>e||s&&a&&c&&!o&&!u||n&&a&&c||!r&&c||!i)return 1;if(!n&&!s&&!u&&t<e||u&&r&&i&&!n&&!s||o&&r&&i||!a&&i||!c)return-1}return 0}var mFe=pFe,gFe=mFe;function vFe(t,e,r){for(var n=-1,i=t.criteria,s=e.criteria,a=i.length,o=r.length;++n<a;){var c=gFe(i[n],s[n]);if(c){if(n>=o)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return t.index-e.index}var yFe=vFe,KT=NO,xFe=TO,bFe=Ou,wFe=CZ,_Fe=hFe,EFe=pZ,SFe=yFe,NFe=Im,TFe=ns;function jFe(t,e,r){e.length?e=KT(e,function(s){return TFe(s)?function(a){return xFe(a,s.length===1?s[0]:s)}:s}):e=[NFe];var n=-1;e=KT(e,EFe(bFe));var i=wFe(t,function(s,a,o){var c=KT(e,function(u){return u(s)});return{criteria:c,index:++n,value:s}});return _Fe(i,function(s,a){return SFe(s,a,r)})}var CFe=jFe;function AFe(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var PFe=AFe,RFe=PFe,GV=Math.max;function kFe(t,e,r){return e=GV(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,s=GV(n.length-e,0),a=Array(s);++i<s;)a[i]=n[e+i];i=-1;for(var o=Array(e+1);++i<e;)o[i]=n[i];return o[e]=r(a),RFe(t,this,o)}}var IFe=kFe;function OFe(t){return function(){return t}}var MFe=OFe,DFe=Af,LFe=function(){try{var t=DFe(Object,"defineProperty");return t({},"",{}),t}catch{}}(),AZ=LFe,$Fe=MFe,YV=AZ,FFe=Im,VFe=YV?function(t,e){return YV(t,"toString",{configurable:!0,enumerable:!1,value:$Fe(e),writable:!0})}:FFe,BFe=VFe,UFe=800,zFe=16,qFe=Date.now;function WFe(t){var e=0,r=0;return function(){var n=qFe(),i=zFe-(n-r);if(r=n,i>0){if(++e>=UFe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var HFe=WFe,KFe=BFe,GFe=HFe,YFe=GFe(KFe),XFe=YFe,QFe=Im,ZFe=IFe,JFe=XFe;function e3e(t,e){return JFe(ZFe(t,e,QFe),t+"")}var t3e=e3e,r3e=wO,n3e=_S,i3e=$O,s3e=Iu;function a3e(t,e,r){if(!s3e(r))return!1;var n=typeof e;return(n=="number"?n3e(r)&&i3e(e,r.length):n=="string"&&e in r)?r3e(r[e],t):!1}var SS=a3e,o3e=TZ,l3e=CFe,c3e=t3e,XV=SS,u3e=c3e(function(t,e){if(t==null)return[];var r=e.length;return r>1&&XV(t,e[0],e[1])?e=[]:r>2&&XV(e[0],e[1],e[2])&&(e=[e[0]]),l3e(t,o3e(e,1),[])}),d3e=u3e;const zO=ir(d3e);function dy(t){"@babel/helpers - typeof";return dy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dy(t)}function hP(){return hP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hP.apply(this,arguments)}function f3e(t,e){return g3e(t)||m3e(t,e)||p3e(t,e)||h3e()}function h3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p3e(t,e){if(t){if(typeof t=="string")return QV(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return QV(t,e)}}function QV(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function m3e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function g3e(t){if(Array.isArray(t))return t}function ZV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function GT(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ZV(Object(r),!0).forEach(function(n){v3e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function v3e(t,e,r){return e=y3e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function y3e(t){var e=x3e(t,"string");return dy(e)=="symbol"?e:e+""}function x3e(t,e){if(dy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(dy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function b3e(t){return Array.isArray(t)&&_n(t[0])&&_n(t[1])?t.join(" ~ "):t}var w3e=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,s=i===void 0?{}:i,a=e.itemStyle,o=a===void 0?{}:a,c=e.labelStyle,u=c===void 0?{}:c,d=e.payload,f=e.formatter,h=e.itemSorter,p=e.wrapperClassName,v=e.labelClassName,m=e.label,b=e.labelFormatter,w=e.accessibilityLayer,y=w===void 0?!1:w,_=function(){if(d&&d.length){var O={padding:0,margin:0},P=(h?zO(d,h):d).map(function(D,z){if(D.type==="none")return null;var M=GT({display:"block",paddingTop:4,paddingBottom:4,color:D.color||"#000"},o),V=D.formatter||f||b3e,L=D.value,$=D.name,G=L,q=$;if(V&&G!=null&&q!=null){var U=V(L,$,D,z,d);if(Array.isArray(U)){var X=f3e(U,2);G=X[0],q=X[1]}else G=U}return B.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(z),style:M},_n(q)?B.createElement("span",{className:"recharts-tooltip-item-name"},q):null,_n(q)?B.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,B.createElement("span",{className:"recharts-tooltip-item-value"},G),B.createElement("span",{className:"recharts-tooltip-item-unit"},D.unit||""))});return B.createElement("ul",{className:"recharts-tooltip-item-list",style:O},P)}return null},S=GT({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),E=GT({margin:0},u),N=!Ot(m),T=N?m:"",j=$t("recharts-default-tooltip",p),A=$t("recharts-tooltip-label",v);N&&b&&d!==void 0&&d!==null&&(T=b(m,d));var R=y?{role:"status","aria-live":"assertive"}:{};return B.createElement("div",hP({className:j,style:S},R),B.createElement("p",{className:A,style:E},B.isValidElement(T)?T:"".concat(T)),_())};function fy(t){"@babel/helpers - typeof";return fy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fy(t)}function cb(t,e,r){return e=_3e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _3e(t){var e=E3e(t,"string");return fy(e)=="symbol"?e:e+""}function E3e(t,e){if(fy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(fy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cg="recharts-tooltip-wrapper",S3e={visibility:"hidden"};function N3e(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return $t(cg,cb(cb(cb(cb({},"".concat(cg,"-right"),Le(r)&&e&&Le(e.x)&&r>=e.x),"".concat(cg,"-left"),Le(r)&&e&&Le(e.x)&&r<e.x),"".concat(cg,"-bottom"),Le(n)&&e&&Le(e.y)&&n>=e.y),"".concat(cg,"-top"),Le(n)&&e&&Le(e.y)&&n<e.y))}function JV(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,s=t.position,a=t.reverseDirection,o=t.tooltipDimension,c=t.viewBox,u=t.viewBoxDimension;if(s&&Le(s[n]))return s[n];var d=r[n]-o-i,f=r[n]+i;if(e[n])return a[n]?d:f;if(a[n]){var h=d,p=c[n];return h<p?Math.max(f,c[n]):Math.max(d,c[n])}var v=f+o,m=c[n]+u;return v>m?Math.max(d,c[n]):Math.max(f,c[n])}function T3e(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function j3e(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,s=t.reverseDirection,a=t.tooltipBox,o=t.useTranslate3d,c=t.viewBox,u,d,f;return a.height>0&&a.width>0&&r?(d=JV({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:a.width,viewBox:c,viewBoxDimension:c.width}),f=JV({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:a.height,viewBox:c,viewBoxDimension:c.height}),u=T3e({translateX:d,translateY:f,useTranslate3d:o})):u=S3e,{cssProperties:u,cssClasses:N3e({translateX:d,translateY:f,coordinate:r})}}function Dp(t){"@babel/helpers - typeof";return Dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dp(t)}function e5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function t5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?e5(Object(r),!0).forEach(function(n){mP(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):e5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function C3e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function A3e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,RZ(n.key),n)}}function P3e(t,e,r){return e&&A3e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function R3e(t,e,r){return e=O_(e),k3e(t,PZ()?Reflect.construct(e,r||[],O_(t).constructor):e.apply(t,r))}function k3e(t,e){if(e&&(Dp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return I3e(t)}function I3e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function PZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PZ=function(){return!!t})()}function O_(t){return O_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},O_(t)}function O3e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pP(t,e)}function pP(t,e){return pP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},pP(t,e)}function mP(t,e,r){return e=RZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function RZ(t){var e=M3e(t,"string");return Dp(e)=="symbol"?e:e+""}function M3e(t,e){if(Dp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Dp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var r5=1,D3e=function(t){function e(){var r;C3e(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=R3e(this,e,[].concat(i)),mP(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),mP(r,"handleKeyDown",function(a){if(a.key==="Escape"){var o,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&o!==void 0?o:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return O3e(e,t),P3e(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>r5||Math.abs(n.height-this.state.lastBoundingBox.height)>r5)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,s=i.active,a=i.allowEscapeViewBox,o=i.animationDuration,c=i.animationEasing,u=i.children,d=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,p=i.offset,v=i.position,m=i.reverseDirection,b=i.useTranslate3d,w=i.viewBox,y=i.wrapperStyle,_=j3e({allowEscapeViewBox:a,coordinate:d,offsetTopLeft:p,position:v,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:b,viewBox:w}),S=_.cssClasses,E=_.cssProperties,N=t5(t5({transition:h&&s?"transform ".concat(o,"ms ").concat(c):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&f?"visible":"hidden",position:"absolute",top:0,left:0},y);return B.createElement("div",{tabIndex:-1,className:S,style:N,ref:function(j){n.wrapperNode=j}},u)}}])}(g.PureComponent),L3e=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},NS={isSsr:L3e()};function Lp(t){"@babel/helpers - typeof";return Lp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lp(t)}function n5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function i5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?n5(Object(r),!0).forEach(function(n){qO(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $3e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function F3e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,IZ(n.key),n)}}function V3e(t,e,r){return e&&F3e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function B3e(t,e,r){return e=M_(e),U3e(t,kZ()?Reflect.construct(e,r||[],M_(t).constructor):e.apply(t,r))}function U3e(t,e){if(e&&(Lp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return z3e(t)}function z3e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kZ=function(){return!!t})()}function M_(t){return M_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},M_(t)}function q3e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gP(t,e)}function gP(t,e){return gP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},gP(t,e)}function qO(t,e,r){return e=IZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function IZ(t){var e=W3e(t,"string");return Lp(e)=="symbol"?e:e+""}function W3e(t,e){if(Lp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Lp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function H3e(t){return t.dataKey}function K3e(t,e){return B.isValidElement(t)?B.cloneElement(t,e):typeof t=="function"?B.createElement(t,e):B.createElement(w3e,e)}var va=function(t){function e(){return $3e(this,e),B3e(this,e,arguments)}return q3e(e,t),V3e(e,[{key:"render",value:function(){var n=this,i=this.props,s=i.active,a=i.allowEscapeViewBox,o=i.animationDuration,c=i.animationEasing,u=i.content,d=i.coordinate,f=i.filterNull,h=i.isAnimationActive,p=i.offset,v=i.payload,m=i.payloadUniqBy,b=i.position,w=i.reverseDirection,y=i.useTranslate3d,_=i.viewBox,S=i.wrapperStyle,E=v??[];f&&E.length&&(E=_Z(v.filter(function(T){return T.value!=null&&(T.hide!==!0||n.props.includeHidden)}),m,H3e));var N=E.length>0;return B.createElement(D3e,{allowEscapeViewBox:a,animationDuration:o,animationEasing:c,isAnimationActive:h,active:s,coordinate:d,hasPayload:N,offset:p,position:b,reverseDirection:w,useTranslate3d:y,viewBox:_,wrapperStyle:S},K3e(u,i5(i5({},this.props),{},{payload:E})))}}])}(g.PureComponent);qO(va,"displayName","Tooltip");qO(va,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!NS.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var G3e=qo,Y3e=function(){return G3e.Date.now()},X3e=Y3e,Q3e=/\s/;function Z3e(t){for(var e=t.length;e--&&Q3e.test(t.charAt(e)););return e}var J3e=Z3e,eVe=J3e,tVe=/^\s+/;function rVe(t){return t&&t.slice(0,eVe(t)+1).replace(tVe,"")}var nVe=rVe,iVe=nVe,s5=Iu,sVe=Tm,a5=NaN,aVe=/^[-+]0x[0-9a-f]+$/i,oVe=/^0b[01]+$/i,lVe=/^0o[0-7]+$/i,cVe=parseInt;function uVe(t){if(typeof t=="number")return t;if(sVe(t))return a5;if(s5(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=s5(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=iVe(t);var r=oVe.test(t);return r||lVe.test(t)?cVe(t.slice(2),r?2:8):aVe.test(t)?a5:+t}var OZ=uVe,dVe=Iu,YT=X3e,o5=OZ,fVe="Expected a function",hVe=Math.max,pVe=Math.min;function mVe(t,e,r){var n,i,s,a,o,c,u=0,d=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(fVe);e=o5(e)||0,dVe(r)&&(d=!!r.leading,f="maxWait"in r,s=f?hVe(o5(r.maxWait)||0,e):s,h="trailing"in r?!!r.trailing:h);function p(N){var T=n,j=i;return n=i=void 0,u=N,a=t.apply(j,T),a}function v(N){return u=N,o=setTimeout(w,e),d?p(N):a}function m(N){var T=N-c,j=N-u,A=e-T;return f?pVe(A,s-j):A}function b(N){var T=N-c,j=N-u;return c===void 0||T>=e||T<0||f&&j>=s}function w(){var N=YT();if(b(N))return y(N);o=setTimeout(w,m(N))}function y(N){return o=void 0,h&&n?p(N):(n=i=void 0,a)}function _(){o!==void 0&&clearTimeout(o),u=0,n=c=i=o=void 0}function S(){return o===void 0?a:y(YT())}function E(){var N=YT(),T=b(N);if(n=arguments,i=this,c=N,T){if(o===void 0)return v(c);if(f)return clearTimeout(o),o=setTimeout(w,e),p(c)}return o===void 0&&(o=setTimeout(w,e)),a}return E.cancel=_,E.flush=S,E}var gVe=mVe,vVe=gVe,yVe=Iu,xVe="Expected a function";function bVe(t,e,r){var n=!0,i=!0;if(typeof t!="function")throw new TypeError(xVe);return yVe(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),vVe(t,e,{leading:n,maxWait:e,trailing:i})}var wVe=bVe;const MZ=ir(wVe);function hy(t){"@babel/helpers - typeof";return hy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hy(t)}function l5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ub(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?l5(Object(r),!0).forEach(function(n){_Ve(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _Ve(t,e,r){return e=EVe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function EVe(t){var e=SVe(t,"string");return hy(e)=="symbol"?e:e+""}function SVe(t,e){if(hy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(hy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function NVe(t,e){return AVe(t)||CVe(t,e)||jVe(t,e)||TVe()}function TVe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jVe(t,e){if(t){if(typeof t=="string")return c5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c5(t,e)}}function c5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function CVe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function AVe(t){if(Array.isArray(t))return t}var DZ=g.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,s=t.width,a=s===void 0?"100%":s,o=t.height,c=o===void 0?"100%":o,u=t.minWidth,d=u===void 0?0:u,f=t.minHeight,h=t.maxHeight,p=t.children,v=t.debounce,m=v===void 0?0:v,b=t.id,w=t.className,y=t.onResize,_=t.style,S=_===void 0?{}:_,E=g.useRef(null),N=g.useRef();N.current=y,g.useImperativeHandle(e,function(){return Object.defineProperty(E.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),E.current},configurable:!0})});var T=g.useState({containerWidth:i.width,containerHeight:i.height}),j=NVe(T,2),A=j[0],R=j[1],k=g.useCallback(function(P,D){R(function(z){var M=Math.round(P),V=Math.round(D);return z.containerWidth===M&&z.containerHeight===V?z:{containerWidth:M,containerHeight:V}})},[]);g.useEffect(function(){var P=function($){var G,q=$[0].contentRect,U=q.width,X=q.height;k(U,X),(G=N.current)===null||G===void 0||G.call(N,U,X)};m>0&&(P=MZ(P,m,{trailing:!0,leading:!1}));var D=new ResizeObserver(P),z=E.current.getBoundingClientRect(),M=z.width,V=z.height;return k(M,V),D.observe(E.current),function(){D.disconnect()}},[k,m]);var O=g.useMemo(function(){var P=A.containerWidth,D=A.containerHeight;if(P<0||D<0)return null;Al(vd(a)||vd(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,c),Al(!r||r>0,"The aspect(%s) must be greater than zero.",r);var z=vd(a)?P:a,M=vd(c)?D:c;r&&r>0&&(z?M=z/r:M&&(z=M*r),h&&M>h&&(M=h)),Al(z>0||M>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,z,M,a,c,d,f,r);var V=!Array.isArray(p)&&Cl(p.type).endsWith("Chart");return B.Children.map(p,function(L){return B.isValidElement(L)?g.cloneElement(L,ub({width:z,height:M},V?{style:ub({height:"100%",width:"100%",maxHeight:M,maxWidth:z},L.props.style)}:{})):L})},[r,p,c,h,f,d,A,a]);return B.createElement("div",{id:b?"".concat(b):void 0,className:$t("recharts-responsive-container",w),style:ub(ub({},S),{},{width:a,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:E},O)}),TS=function(e){return null};TS.displayName="Cell";function py(t){"@babel/helpers - typeof";return py=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},py(t)}function u5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function vP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?u5(Object(r),!0).forEach(function(n){PVe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function PVe(t,e,r){return e=RVe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function RVe(t){var e=kVe(t,"string");return py(e)=="symbol"?e:e+""}function kVe(t,e){if(py(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(py(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hf={widthCache:{},cacheCount:0},IVe=2e3,OVe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},d5="recharts_measurement_span";function MVe(t){var e=vP({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var f5=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||NS.isSsr)return{width:0,height:0};var n=MVe(r),i=JSON.stringify({text:e,copyStyle:n});if(Hf.widthCache[i])return Hf.widthCache[i];try{var s=document.getElementById(d5);s||(s=document.createElement("span"),s.setAttribute("id",d5),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var a=vP(vP({},OVe),n);Object.assign(s.style,a),s.textContent="".concat(e);var o=s.getBoundingClientRect(),c={width:o.width,height:o.height};return Hf.widthCache[i]=c,++Hf.cacheCount>IVe&&(Hf.cacheCount=0,Hf.widthCache={}),c}catch{return{width:0,height:0}}},DVe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function my(t){"@babel/helpers - typeof";return my=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},my(t)}function D_(t,e){return VVe(t)||FVe(t,e)||$Ve(t,e)||LVe()}function LVe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $Ve(t,e){if(t){if(typeof t=="string")return h5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h5(t,e)}}function h5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function FVe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function VVe(t){if(Array.isArray(t))return t}function BVe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p5(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,zVe(n.key),n)}}function UVe(t,e,r){return e&&p5(t.prototype,e),r&&p5(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function zVe(t){var e=qVe(t,"string");return my(e)=="symbol"?e:e+""}function qVe(t,e){if(my(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(my(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var m5=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,g5=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,WVe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,HVe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,LZ={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},KVe=Object.keys(LZ),bh="NaN";function GVe(t,e){return t*LZ[e]}var db=function(){function t(e,r){BVe(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!WVe.test(r)&&(this.num=NaN,this.unit=""),KVe.includes(r)&&(this.num=GVe(e,r),this.unit="px")}return UVe(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=HVe.exec(r))!==null&&n!==void 0?n:[],s=D_(i,3),a=s[1],o=s[2];return new t(parseFloat(a),o??"")}}])}();function $Z(t){if(t.includes(bh))return bh;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=m5.exec(e))!==null&&r!==void 0?r:[],i=D_(n,4),s=i[1],a=i[2],o=i[3],c=db.parse(s??""),u=db.parse(o??""),d=a==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return bh;e=e.replace(m5,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=g5.exec(e))!==null&&f!==void 0?f:[],p=D_(h,4),v=p[1],m=p[2],b=p[3],w=db.parse(v??""),y=db.parse(b??""),_=m==="+"?w.add(y):w.subtract(y);if(_.isNaN())return bh;e=e.replace(g5,_.toString())}return e}var v5=/\(([^()]*)\)/;function YVe(t){for(var e=t;e.includes("(");){var r=v5.exec(e),n=D_(r,2),i=n[1];e=e.replace(v5,$Z(i))}return e}function XVe(t){var e=t.replace(/\s+/g,"");return e=YVe(e),e=$Z(e),e}function QVe(t){try{return XVe(t)}catch{return bh}}function XT(t){var e=QVe(t.slice(5,-1));return e===bh?"":e}var ZVe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],JVe=["dx","dy","angle","className","breakAll"];function yP(){return yP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yP.apply(this,arguments)}function y5(t,e){if(t==null)return{};var r=e5e(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function e5e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function x5(t,e){return i5e(t)||n5e(t,e)||r5e(t,e)||t5e()}function t5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r5e(t,e){if(t){if(typeof t=="string")return b5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b5(t,e)}}function b5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function n5e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function i5e(t){if(Array.isArray(t))return t}var FZ=/[ \f\n\r\t\v\u2028\u2029]+/,VZ=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var s=[];Ot(r)||(n?s=r.toString().split(""):s=r.toString().split(FZ));var a=s.map(function(c){return{word:c,width:f5(c,i).width}}),o=n?0:f5(" ",i).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch{return null}},s5e=function(e,r,n,i,s){var a=e.maxLines,o=e.children,c=e.style,u=e.breakAll,d=Le(a),f=o,h=function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return z.reduce(function(M,V){var L=V.word,$=V.width,G=M[M.length-1];if(G&&(i==null||s||G.width+$+n<Number(i)))G.words.push(L),G.width+=$+n;else{var q={words:[L],width:$};M.push(q)}return M},[])},p=h(r),v=function(z){return z.reduce(function(M,V){return M.width>V.width?M:V})};if(!d)return p;for(var m="…",b=function(z){var M=f.slice(0,z),V=VZ({breakAll:u,style:c,children:M+m}).wordsWithComputedWidth,L=h(V),$=L.length>a||v(L).width>Number(i);return[$,L]},w=0,y=f.length-1,_=0,S;w<=y&&_<=f.length-1;){var E=Math.floor((w+y)/2),N=E-1,T=b(N),j=x5(T,2),A=j[0],R=j[1],k=b(E),O=x5(k,1),P=O[0];if(!A&&!P&&(w=E+1),A&&P&&(y=E-1),!A&&P){S=R;break}_++}return S||p},w5=function(e){var r=Ot(e)?[]:e.toString().split(FZ);return[{words:r}]},a5e=function(e){var r=e.width,n=e.scaleToFit,i=e.children,s=e.style,a=e.breakAll,o=e.maxLines;if((r||n)&&!NS.isSsr){var c,u,d=VZ({breakAll:a,children:i,style:s});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return w5(i);return s5e({breakAll:a,children:i,maxLines:o,style:s},c,u,r,n)}return w5(i)},_5="#808080",$p=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,s=i===void 0?0:i,a=e.lineHeight,o=a===void 0?"1em":a,c=e.capHeight,u=c===void 0?"0.71em":c,d=e.scaleToFit,f=d===void 0?!1:d,h=e.textAnchor,p=h===void 0?"start":h,v=e.verticalAnchor,m=v===void 0?"end":v,b=e.fill,w=b===void 0?_5:b,y=y5(e,ZVe),_=g.useMemo(function(){return a5e({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:f,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,f,y.style,y.width]),S=y.dx,E=y.dy,N=y.angle,T=y.className,j=y.breakAll,A=y5(y,JVe);if(!_n(n)||!_n(s))return null;var R=n+(Le(S)?S:0),k=s+(Le(E)?E:0),O;switch(m){case"start":O=XT("calc(".concat(u,")"));break;case"middle":O=XT("calc(".concat((_.length-1)/2," * -").concat(o," + (").concat(u," / 2))"));break;default:O=XT("calc(".concat(_.length-1," * -").concat(o,")"));break}var P=[];if(f){var D=_[0].width,z=y.width;P.push("scale(".concat((Le(z)?z/D:1)/D,")"))}return N&&P.push("rotate(".concat(N,", ").concat(R,", ").concat(k,")")),P.length&&(A.transform=P.join(" ")),B.createElement("text",yP({},_t(A,!0),{x:R,y:k,className:$t("recharts-text",T),textAnchor:p,fill:w.includes("url")?_5:w}),_.map(function(M,V){var L=M.words.join(j?"":" ");return B.createElement("tspan",{x:R,dy:V===0?O:o,key:"".concat(L,"-").concat(V)},L)}))};function Zc(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function o5e(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function WO(t){let e,r,n;t.length!==2?(e=Zc,r=(o,c)=>Zc(t(o),c),n=(o,c)=>t(o)-c):(e=t===Zc||t===o5e?t:l5e,r=t,n=t);function i(o,c,u=0,d=o.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;r(o[f],c)<0?u=f+1:d=f}while(u<d)}return u}function s(o,c,u=0,d=o.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;r(o[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function a(o,c,u=0,d=o.length){const f=i(o,c,u,d-1);return f>u&&n(o[f-1],c)>-n(o[f],c)?f-1:f}return{left:i,center:a,right:s}}function l5e(){return 0}function BZ(t){return t===null?NaN:+t}function*c5e(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const u5e=WO(Zc),Q0=u5e.right;WO(BZ).center;class E5 extends Map{constructor(e,r=h5e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(S5(this,e))}has(e){return super.has(S5(this,e))}set(e,r){return super.set(d5e(this,e),r)}delete(e){return super.delete(f5e(this,e))}}function S5({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function d5e({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function f5e({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function h5e(t){return t!==null&&typeof t=="object"?t.valueOf():t}function p5e(t=Zc){if(t===Zc)return UZ;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function UZ(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const m5e=Math.sqrt(50),g5e=Math.sqrt(10),v5e=Math.sqrt(2);function L_(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),s=n/Math.pow(10,i),a=s>=m5e?10:s>=g5e?5:s>=v5e?2:1;let o,c,u;return i<0?(u=Math.pow(10,-i)/a,o=Math.round(t*u),c=Math.round(e*u),o/u<t&&++o,c/u>e&&--c,u=-u):(u=Math.pow(10,i)*a,o=Math.round(t/u),c=Math.round(e/u),o*u<t&&++o,c*u>e&&--c),c<o&&.5<=r&&r<2?L_(t,e,r*2):[o,c,u]}function xP(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,s,a]=n?L_(e,t,r):L_(t,e,r);if(!(s>=i))return[];const o=s-i+1,c=new Array(o);if(n)if(a<0)for(let u=0;u<o;++u)c[u]=(s-u)/-a;else for(let u=0;u<o;++u)c[u]=(s-u)*a;else if(a<0)for(let u=0;u<o;++u)c[u]=(i+u)/-a;else for(let u=0;u<o;++u)c[u]=(i+u)*a;return c}function bP(t,e,r){return e=+e,t=+t,r=+r,L_(t,e,r)[2]}function wP(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?bP(e,t,r):bP(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function N5(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function T5(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function zZ(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?UZ:p5e(i);n>r;){if(n-r>600){const c=n-r+1,u=e-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),p=Math.max(r,Math.floor(e-u*f/c+h)),v=Math.min(n,Math.floor(e+(c-u)*f/c+h));zZ(t,e,p,v,i)}const s=t[e];let a=r,o=n;for(ug(t,r,e),i(t[n],s)>0&&ug(t,r,n);a<o;){for(ug(t,a,o),++a,--o;i(t[a],s)<0;)++a;for(;i(t[o],s)>0;)--o}i(t[r],s)===0?ug(t,r,o):(++o,ug(t,o,n)),o<=e&&(r=o+1),e<=o&&(n=o-1)}return t}function ug(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function y5e(t,e,r){if(t=Float64Array.from(c5e(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return T5(t);if(e>=1)return N5(t);var n,i=(n-1)*e,s=Math.floor(i),a=N5(zZ(t,s).subarray(0,s+1)),o=T5(t.subarray(s+1));return a+(o-a)*(i-s)}}function x5e(t,e,r=BZ){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,s=Math.floor(i),a=+r(t[s],s,t),o=+r(t[s+1],s+1,t);return a+(o-a)*(i-s)}}function b5e(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,s=new Array(i);++n<i;)s[n]=t+n*r;return s}function ra(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function nc(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const _P=Symbol("implicit");function HO(){var t=new E5,e=[],r=[],n=_P;function i(s){let a=t.get(s);if(a===void 0){if(n!==_P)return n;t.set(s,a=e.push(s)-1)}return r[a%r.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new E5;for(const a of s)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(s){return arguments.length?(r=Array.from(s),i):r.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return HO(e,r).unknown(n)},ra.apply(i,arguments),i}function gy(){var t=HO().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,s,a,o=!1,c=0,u=0,d=.5;delete t.unknown;function f(){var h=e().length,p=i<n,v=p?i:n,m=p?n:i;s=(m-v)/Math.max(1,h-c+u*2),o&&(s=Math.floor(s)),v+=(m-v-s*(h-c))*d,a=s*(1-c),o&&(v=Math.round(v),a=Math.round(a));var b=b5e(h).map(function(w){return v+s*w});return r(p?b.reverse():b)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([n,i]=h,n=+n,i=+i,f()):[n,i]},t.rangeRound=function(h){return[n,i]=h,n=+n,i=+i,o=!0,f()},t.bandwidth=function(){return a},t.step=function(){return s},t.round=function(h){return arguments.length?(o=!!h,f()):o},t.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},t.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},t.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},t.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},t.copy=function(){return gy(e(),[n,i]).round(o).paddingInner(c).paddingOuter(u).align(d)},ra.apply(f(),arguments)}function qZ(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return qZ(e())},t}function ov(){return qZ(gy.apply(null,arguments).paddingInner(1))}function KO(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function WZ(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Z0(){}var vy=.7,$_=1/vy,zh="\\s*([+-]?\\d+)\\s*",yy="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Po="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",w5e=/^#([0-9a-f]{3,8})$/,_5e=new RegExp(`^rgb\\(${zh},${zh},${zh}\\)$`),E5e=new RegExp(`^rgb\\(${Po},${Po},${Po}\\)$`),S5e=new RegExp(`^rgba\\(${zh},${zh},${zh},${yy}\\)$`),N5e=new RegExp(`^rgba\\(${Po},${Po},${Po},${yy}\\)$`),T5e=new RegExp(`^hsl\\(${yy},${Po},${Po}\\)$`),j5e=new RegExp(`^hsla\\(${yy},${Po},${Po},${yy}\\)$`),j5={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};KO(Z0,xy,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:C5,formatHex:C5,formatHex8:C5e,formatHsl:A5e,formatRgb:A5,toString:A5});function C5(){return this.rgb().formatHex()}function C5e(){return this.rgb().formatHex8()}function A5e(){return HZ(this).formatHsl()}function A5(){return this.rgb().formatRgb()}function xy(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=w5e.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?P5(e):r===3?new Hi(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?fb(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?fb(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=_5e.exec(t))?new Hi(e[1],e[2],e[3],1):(e=E5e.exec(t))?new Hi(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=S5e.exec(t))?fb(e[1],e[2],e[3],e[4]):(e=N5e.exec(t))?fb(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=T5e.exec(t))?I5(e[1],e[2]/100,e[3]/100,1):(e=j5e.exec(t))?I5(e[1],e[2]/100,e[3]/100,e[4]):j5.hasOwnProperty(t)?P5(j5[t]):t==="transparent"?new Hi(NaN,NaN,NaN,0):null}function P5(t){return new Hi(t>>16&255,t>>8&255,t&255,1)}function fb(t,e,r,n){return n<=0&&(t=e=r=NaN),new Hi(t,e,r,n)}function P5e(t){return t instanceof Z0||(t=xy(t)),t?(t=t.rgb(),new Hi(t.r,t.g,t.b,t.opacity)):new Hi}function EP(t,e,r,n){return arguments.length===1?P5e(t):new Hi(t,e,r,n??1)}function Hi(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}KO(Hi,EP,WZ(Z0,{brighter(t){return t=t==null?$_:Math.pow($_,t),new Hi(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?vy:Math.pow(vy,t),new Hi(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Hi($d(this.r),$d(this.g),$d(this.b),F_(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:R5,formatHex:R5,formatHex8:R5e,formatRgb:k5,toString:k5}));function R5(){return`#${yd(this.r)}${yd(this.g)}${yd(this.b)}`}function R5e(){return`#${yd(this.r)}${yd(this.g)}${yd(this.b)}${yd((isNaN(this.opacity)?1:this.opacity)*255)}`}function k5(){const t=F_(this.opacity);return`${t===1?"rgb(":"rgba("}${$d(this.r)}, ${$d(this.g)}, ${$d(this.b)}${t===1?")":`, ${t})`}`}function F_(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function $d(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function yd(t){return t=$d(t),(t<16?"0":"")+t.toString(16)}function I5(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new wa(t,e,r,n)}function HZ(t){if(t instanceof wa)return new wa(t.h,t.s,t.l,t.opacity);if(t instanceof Z0||(t=xy(t)),!t)return new wa;if(t instanceof wa)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),s=Math.max(e,r,n),a=NaN,o=s-i,c=(s+i)/2;return o?(e===s?a=(r-n)/o+(r<n)*6:r===s?a=(n-e)/o+2:a=(e-r)/o+4,o/=c<.5?s+i:2-s-i,a*=60):o=c>0&&c<1?0:a,new wa(a,o,c,t.opacity)}function k5e(t,e,r,n){return arguments.length===1?HZ(t):new wa(t,e,r,n??1)}function wa(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}KO(wa,k5e,WZ(Z0,{brighter(t){return t=t==null?$_:Math.pow($_,t),new wa(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?vy:Math.pow(vy,t),new wa(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new Hi(QT(t>=240?t-240:t+120,i,n),QT(t,i,n),QT(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new wa(O5(this.h),hb(this.s),hb(this.l),F_(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=F_(this.opacity);return`${t===1?"hsl(":"hsla("}${O5(this.h)}, ${hb(this.s)*100}%, ${hb(this.l)*100}%${t===1?")":`, ${t})`}`}}));function O5(t){return t=(t||0)%360,t<0?t+360:t}function hb(t){return Math.max(0,Math.min(1,t||0))}function QT(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const GO=t=>()=>t;function I5e(t,e){return function(r){return t+r*e}}function O5e(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function M5e(t){return(t=+t)==1?KZ:function(e,r){return r-e?O5e(e,r,t):GO(isNaN(e)?r:e)}}function KZ(t,e){var r=e-t;return r?I5e(t,r):GO(isNaN(t)?e:t)}const M5=function t(e){var r=M5e(e);function n(i,s){var a=r((i=EP(i)).r,(s=EP(s)).r),o=r(i.g,s.g),c=r(i.b,s.b),u=KZ(i.opacity,s.opacity);return function(d){return i.r=a(d),i.g=o(d),i.b=c(d),i.opacity=u(d),i+""}}return n.gamma=t,n}(1);function D5e(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(s){for(i=0;i<r;++i)n[i]=t[i]*(1-s)+e[i]*s;return n}}function L5e(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function $5e(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),s=new Array(r),a;for(a=0;a<n;++a)i[a]=Om(t[a],e[a]);for(;a<r;++a)s[a]=e[a];return function(o){for(a=0;a<n;++a)s[a]=i[a](o);return s}}function F5e(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function V_(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function V5e(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=Om(t[i],e[i]):n[i]=e[i];return function(s){for(i in r)n[i]=r[i](s);return n}}var SP=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ZT=new RegExp(SP.source,"g");function B5e(t){return function(){return t}}function U5e(t){return function(e){return t(e)+""}}function z5e(t,e){var r=SP.lastIndex=ZT.lastIndex=0,n,i,s,a=-1,o=[],c=[];for(t=t+"",e=e+"";(n=SP.exec(t))&&(i=ZT.exec(e));)(s=i.index)>r&&(s=e.slice(r,s),o[a]?o[a]+=s:o[++a]=s),(n=n[0])===(i=i[0])?o[a]?o[a]+=i:o[++a]=i:(o[++a]=null,c.push({i:a,x:V_(n,i)})),r=ZT.lastIndex;return r<e.length&&(s=e.slice(r),o[a]?o[a]+=s:o[++a]=s),o.length<2?c[0]?U5e(c[0].x):B5e(e):(e=c.length,function(u){for(var d=0,f;d<e;++d)o[(f=c[d]).i]=f.x(u);return o.join("")})}function Om(t,e){var r=typeof e,n;return e==null||r==="boolean"?GO(e):(r==="number"?V_:r==="string"?(n=xy(e))?(e=n,M5):z5e:e instanceof xy?M5:e instanceof Date?F5e:L5e(e)?D5e:Array.isArray(e)?$5e:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?V5e:V_)(t,e)}function YO(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function q5e(t,e){e===void 0&&(e=t,t=Om);for(var r=0,n=e.length-1,i=e[0],s=new Array(n<0?0:n);r<n;)s[r]=t(i,i=e[++r]);return function(a){var o=Math.max(0,Math.min(n-1,Math.floor(a*=n)));return s[o](a-o)}}function W5e(t){return function(){return t}}function B_(t){return+t}var D5=[0,1];function Si(t){return t}function NP(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:W5e(isNaN(e)?NaN:.5)}function H5e(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function K5e(t,e,r){var n=t[0],i=t[1],s=e[0],a=e[1];return i<n?(n=NP(i,n),s=r(a,s)):(n=NP(n,i),s=r(s,a)),function(o){return s(n(o))}}function G5e(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),s=new Array(n),a=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<n;)i[a]=NP(t[a],t[a+1]),s[a]=r(e[a],e[a+1]);return function(o){var c=Q0(t,o,1,n)-1;return s[c](i[c](o))}}function J0(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function jS(){var t=D5,e=D5,r=Om,n,i,s,a=Si,o,c,u;function d(){var h=Math.min(t.length,e.length);return a!==Si&&(a=H5e(t[0],t[h-1])),o=h>2?G5e:K5e,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?s:(c||(c=o(t.map(n),e,r)))(n(a(h)))}return f.invert=function(h){return a(i((u||(u=o(e,t.map(n),V_)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,B_),d()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),d()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),r=YO,d()},f.clamp=function(h){return arguments.length?(a=h?!0:Si,d()):a!==Si},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(s=h,f):s},function(h,p){return n=h,i=p,d()}}function XO(){return jS()(Si,Si)}function Y5e(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function U_(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function Fp(t){return t=U_(Math.abs(t)),t?t[1]:NaN}function X5e(t,e){return function(r,n){for(var i=r.length,s=[],a=0,o=t[0],c=0;i>0&&o>0&&(c+o+1>n&&(o=Math.max(1,n-c)),s.push(r.substring(i-=o,i+o)),!((c+=o+1)>n));)o=t[a=(a+1)%t.length];return s.reverse().join(e)}}function Q5e(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var Z5e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function by(t){if(!(e=Z5e.exec(t)))throw new Error("invalid format: "+t);var e;return new QO({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}by.prototype=QO.prototype;function QO(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}QO.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function J5e(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var GZ;function e6e(t,e){var r=U_(t,e);if(!r)return t+"";var n=r[0],i=r[1],s=i-(GZ=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=n.length;return s===a?n:s>a?n+new Array(s-a+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+U_(t,Math.max(0,e+s-1))[0]}function L5(t,e){var r=U_(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const $5={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Y5e,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>L5(t*100,e),r:L5,s:e6e,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function F5(t){return t}var V5=Array.prototype.map,B5=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function t6e(t){var e=t.grouping===void 0||t.thousands===void 0?F5:X5e(V5.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?F5:Q5e(V5.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"−":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(f){f=by(f);var h=f.fill,p=f.align,v=f.sign,m=f.symbol,b=f.zero,w=f.width,y=f.comma,_=f.precision,S=f.trim,E=f.type;E==="n"?(y=!0,E="g"):$5[E]||(_===void 0&&(_=12),S=!0,E="g"),(b||h==="0"&&p==="=")&&(b=!0,h="0",p="=");var N=m==="$"?r:m==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",T=m==="$"?n:/[%p]/.test(E)?a:"",j=$5[E],A=/[defgprs%]/.test(E);_=_===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function R(k){var O=N,P=T,D,z,M;if(E==="c")P=j(k)+P,k="";else{k=+k;var V=k<0||1/k<0;if(k=isNaN(k)?c:j(Math.abs(k),_),S&&(k=J5e(k)),V&&+k==0&&v!=="+"&&(V=!1),O=(V?v==="("?v:o:v==="-"||v==="("?"":v)+O,P=(E==="s"?B5[8+GZ/3]:"")+P+(V&&v==="("?")":""),A){for(D=-1,z=k.length;++D<z;)if(M=k.charCodeAt(D),48>M||M>57){P=(M===46?i+k.slice(D+1):k.slice(D))+P,k=k.slice(0,D);break}}}y&&!b&&(k=e(k,1/0));var L=O.length+k.length+P.length,$=L<w?new Array(w-L+1).join(h):"";switch(y&&b&&(k=e($+k,$.length?w-P.length:1/0),$=""),p){case"<":k=O+k+P+$;break;case"=":k=O+$+k+P;break;case"^":k=$.slice(0,L=$.length>>1)+O+k+P+$.slice(L);break;default:k=$+O+k+P;break}return s(k)}return R.toString=function(){return f+""},R}function d(f,h){var p=u((f=by(f),f.type="f",f)),v=Math.max(-8,Math.min(8,Math.floor(Fp(h)/3)))*3,m=Math.pow(10,-v),b=B5[8+v/3];return function(w){return p(m*w)+b}}return{format:u,formatPrefix:d}}var pb,ZO,YZ;r6e({thousands:",",grouping:[3],currency:["$",""]});function r6e(t){return pb=t6e(t),ZO=pb.format,YZ=pb.formatPrefix,pb}function n6e(t){return Math.max(0,-Fp(Math.abs(t)))}function i6e(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Fp(e)/3)))*3-Fp(Math.abs(t)))}function s6e(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Fp(e)-Fp(t))+1}function XZ(t,e,r,n){var i=wP(t,e,r),s;switch(n=by(n??",f"),n.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(s=i6e(i,a))&&(n.precision=s),YZ(n,a)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=s6e(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=n6e(i))&&(n.precision=s-(n.type==="%")*2);break}}return ZO(n)}function Mu(t){var e=t.domain;return t.ticks=function(r){var n=e();return xP(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return XZ(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,s=n.length-1,a=n[i],o=n[s],c,u,d=10;for(o<a&&(u=a,a=o,o=u,u=i,i=s,s=u);d-- >0;){if(u=bP(a,o,r),u===c)return n[i]=a,n[s]=o,e(n);if(u>0)a=Math.floor(a/u)*u,o=Math.ceil(o/u)*u;else if(u<0)a=Math.ceil(a*u)/u,o=Math.floor(o*u)/u;else break;c=u}return t},t}function z_(){var t=XO();return t.copy=function(){return J0(t,z_())},ra.apply(t,arguments),Mu(t)}function QZ(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,B_),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return QZ(t).unknown(e)},t=arguments.length?Array.from(t,B_):[0,1],Mu(r)}function ZZ(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],s=t[n],a;return s<i&&(a=r,r=n,n=a,a=i,i=s,s=a),t[r]=e.floor(i),t[n]=e.ceil(s),t}function U5(t){return Math.log(t)}function z5(t){return Math.exp(t)}function a6e(t){return-Math.log(-t)}function o6e(t){return-Math.exp(-t)}function l6e(t){return isFinite(t)?+("1e"+t):t<0?0:t}function c6e(t){return t===10?l6e:t===Math.E?Math.exp:e=>Math.pow(t,e)}function u6e(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function q5(t){return(e,r)=>-t(-e,r)}function JO(t){const e=t(U5,z5),r=e.domain;let n=10,i,s;function a(){return i=u6e(n),s=c6e(n),r()[0]<0?(i=q5(i),s=q5(s),t(a6e,o6e)):t(U5,z5),e}return e.base=function(o){return arguments.length?(n=+o,a()):n},e.domain=function(o){return arguments.length?(r(o),a()):r()},e.ticks=o=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=i(u),p=i(d),v,m;const b=o==null?10:+o;let w=[];if(!(n%1)&&p-h<b){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(v=1;v<n;++v)if(m=h<0?v/s(-h):v*s(h),!(m<u)){if(m>d)break;w.push(m)}}else for(;h<=p;++h)for(v=n-1;v>=1;--v)if(m=h>0?v/s(-h):v*s(h),!(m<u)){if(m>d)break;w.push(m)}w.length*2<b&&(w=xP(u,d,b))}else w=xP(h,p,Math.min(p-h,b)).map(s);return f?w.reverse():w},e.tickFormat=(o,c)=>{if(o==null&&(o=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=by(c)).precision==null&&(c.trim=!0),c=ZO(c)),o===1/0)return c;const u=Math.max(1,n*o/e.ticks().length);return d=>{let f=d/s(Math.round(i(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},e.nice=()=>r(ZZ(r(),{floor:o=>s(Math.floor(i(o))),ceil:o=>s(Math.ceil(i(o)))})),e}function JZ(){const t=JO(jS()).domain([1,10]);return t.copy=()=>J0(t,JZ()).base(t.base()),ra.apply(t,arguments),t}function W5(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function H5(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function eM(t){var e=1,r=t(W5(e),H5(e));return r.constant=function(n){return arguments.length?t(W5(e=+n),H5(e)):e},Mu(r)}function eJ(){var t=eM(jS());return t.copy=function(){return J0(t,eJ()).constant(t.constant())},ra.apply(t,arguments)}function K5(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function d6e(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function f6e(t){return t<0?-t*t:t*t}function tM(t){var e=t(Si,Si),r=1;function n(){return r===1?t(Si,Si):r===.5?t(d6e,f6e):t(K5(r),K5(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},Mu(e)}function rM(){var t=tM(jS());return t.copy=function(){return J0(t,rM()).exponent(t.exponent())},ra.apply(t,arguments),t}function h6e(){return rM.apply(null,arguments).exponent(.5)}function G5(t){return Math.sign(t)*t*t}function p6e(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function tJ(){var t=XO(),e=[0,1],r=!1,n;function i(s){var a=p6e(t(s));return isNaN(a)?n:r?Math.round(a):a}return i.invert=function(s){return t.invert(G5(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,B_)).map(G5)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(r=!!s,i):r},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return tJ(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},ra.apply(i,arguments),Mu(i)}function rJ(){var t=[],e=[],r=[],n;function i(){var a=0,o=Math.max(1,e.length);for(r=new Array(o-1);++a<o;)r[a-1]=x5e(t,a/o);return s}function s(a){return a==null||isNaN(a=+a)?n:e[Q0(r,a)]}return s.invertExtent=function(a){var o=e.indexOf(a);return o<0?[NaN,NaN]:[o>0?r[o-1]:t[0],o<r.length?r[o]:t[t.length-1]]},s.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let o of a)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(Zc),i()},s.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},s.unknown=function(a){return arguments.length?(n=a,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return rJ().domain(t).range(e).unknown(n)},ra.apply(s,arguments)}function nJ(){var t=0,e=1,r=1,n=[.5],i=[0,1],s;function a(c){return c!=null&&c<=c?i[Q0(n,c,0,r)]:s}function o(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*e-(c-r)*t)/(r+1);return a}return a.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,o()):[t,e]},a.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,o()):i.slice()},a.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[t,n[0]]:u>=r?[n[r-1],e]:[n[u-1],n[u]]},a.unknown=function(c){return arguments.length&&(s=c),a},a.thresholds=function(){return n.slice()},a.copy=function(){return nJ().domain([t,e]).range(i).unknown(s)},ra.apply(Mu(a),arguments)}function iJ(){var t=[.5],e=[0,1],r,n=1;function i(s){return s!=null&&s<=s?e[Q0(t,s,0,n)]:r}return i.domain=function(s){return arguments.length?(t=Array.from(s),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var a=e.indexOf(s);return[t[a-1],t[a]]},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return iJ().domain(t).range(e).unknown(r)},ra.apply(i,arguments)}const JT=new Date,ej=new Date;function En(t,e,r,n){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const a=i(s),o=i.ceil(s);return s-a<o-s?a:o},i.offset=(s,a)=>(e(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,o)=>{const c=[];if(s=i.ceil(s),o=o==null?1:Math.floor(o),!(s<a)||!(o>0))return c;let u;do c.push(u=new Date(+s)),e(s,o),t(s);while(u<s&&s<a);return c},i.filter=s=>En(a=>{if(a>=a)for(;t(a),!s(a);)a.setTime(a-1)},(a,o)=>{if(a>=a)if(o<0)for(;++o<=0;)for(;e(a,-1),!s(a););else for(;--o>=0;)for(;e(a,1),!s(a););}),r&&(i.count=(s,a)=>(JT.setTime(+s),ej.setTime(+a),t(JT),t(ej),Math.floor(r(JT,ej))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(n?a=>n(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const q_=En(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);q_.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?En(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):q_);q_.range;const yl=1e3,Hs=yl*60,xl=Hs*60,Wl=xl*24,nM=Wl*7,Y5=Wl*30,tj=Wl*365,xd=En(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*yl)},(t,e)=>(e-t)/yl,t=>t.getUTCSeconds());xd.range;const iM=En(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*yl)},(t,e)=>{t.setTime(+t+e*Hs)},(t,e)=>(e-t)/Hs,t=>t.getMinutes());iM.range;const sM=En(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Hs)},(t,e)=>(e-t)/Hs,t=>t.getUTCMinutes());sM.range;const aM=En(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*yl-t.getMinutes()*Hs)},(t,e)=>{t.setTime(+t+e*xl)},(t,e)=>(e-t)/xl,t=>t.getHours());aM.range;const oM=En(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*xl)},(t,e)=>(e-t)/xl,t=>t.getUTCHours());oM.range;const ex=En(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Hs)/Wl,t=>t.getDate()-1);ex.range;const CS=En(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Wl,t=>t.getUTCDate()-1);CS.range;const sJ=En(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Wl,t=>Math.floor(t/Wl));sJ.range;function Pf(t){return En(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Hs)/nM)}const AS=Pf(0),W_=Pf(1),m6e=Pf(2),g6e=Pf(3),Vp=Pf(4),v6e=Pf(5),y6e=Pf(6);AS.range;W_.range;m6e.range;g6e.range;Vp.range;v6e.range;y6e.range;function Rf(t){return En(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/nM)}const PS=Rf(0),H_=Rf(1),x6e=Rf(2),b6e=Rf(3),Bp=Rf(4),w6e=Rf(5),_6e=Rf(6);PS.range;H_.range;x6e.range;b6e.range;Bp.range;w6e.range;_6e.range;const lM=En(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());lM.range;const cM=En(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());cM.range;const Hl=En(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Hl.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:En(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});Hl.range;const Kl=En(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Kl.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:En(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Kl.range;function aJ(t,e,r,n,i,s){const a=[[xd,1,yl],[xd,5,5*yl],[xd,15,15*yl],[xd,30,30*yl],[s,1,Hs],[s,5,5*Hs],[s,15,15*Hs],[s,30,30*Hs],[i,1,xl],[i,3,3*xl],[i,6,6*xl],[i,12,12*xl],[n,1,Wl],[n,2,2*Wl],[r,1,nM],[e,1,Y5],[e,3,3*Y5],[t,1,tj]];function o(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const p=f&&typeof f.range=="function"?f:c(u,d,f),v=p?p.range(u,+d+1):[];return h?v.reverse():v}function c(u,d,f){const h=Math.abs(d-u)/f,p=WO(([,,b])=>b).right(a,h);if(p===a.length)return t.every(wP(u/tj,d/tj,f));if(p===0)return q_.every(Math.max(wP(u,d,f),1));const[v,m]=a[h/a[p-1][2]<a[p][2]/h?p-1:p];return v.every(m)}return[o,c]}const[E6e,S6e]=aJ(Kl,cM,PS,sJ,oM,sM),[N6e,T6e]=aJ(Hl,lM,AS,ex,aM,iM);function rj(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function nj(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function dg(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function j6e(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,s=t.days,a=t.shortDays,o=t.months,c=t.shortMonths,u=fg(i),d=hg(i),f=fg(s),h=hg(s),p=fg(a),v=hg(a),m=fg(o),b=hg(o),w=fg(c),y=hg(c),_={a:V,A:L,b:$,B:G,c:null,d:t6,e:t6,f:X6e,g:aBe,G:lBe,H:K6e,I:G6e,j:Y6e,L:oJ,m:Q6e,M:Z6e,p:q,q:U,Q:i6,s:s6,S:J6e,u:eBe,U:tBe,V:rBe,w:nBe,W:iBe,x:null,X:null,y:sBe,Y:oBe,Z:cBe,"%":n6},S={a:X,A:ie,b:le,B:xe,c:null,d:r6,e:r6,f:hBe,g:EBe,G:NBe,H:uBe,I:dBe,j:fBe,L:cJ,m:pBe,M:mBe,p:ce,q:Q,Q:i6,s:s6,S:gBe,u:vBe,U:yBe,V:xBe,w:bBe,W:wBe,x:null,X:null,y:_Be,Y:SBe,Z:TBe,"%":n6},E={a:R,A:k,b:O,B:P,c:D,d:J5,e:J5,f:z6e,g:Z5,G:Q5,H:e6,I:e6,j:F6e,L:U6e,m:$6e,M:V6e,p:A,q:L6e,Q:W6e,s:H6e,S:B6e,u:k6e,U:I6e,V:O6e,w:R6e,W:M6e,x:z,X:M,y:Z5,Y:Q5,Z:D6e,"%":q6e};_.x=N(r,_),_.X=N(n,_),_.c=N(e,_),S.x=N(r,S),S.X=N(n,S),S.c=N(e,S);function N(Y,ee){return function(se){var J=[],je=-1,Ae=0,ct=Y.length,fe,$e,Xe;for(se instanceof Date||(se=new Date(+se));++je<ct;)Y.charCodeAt(je)===37&&(J.push(Y.slice(Ae,je)),($e=X5[fe=Y.charAt(++je)])!=null?fe=Y.charAt(++je):$e=fe==="e"?" ":"0",(Xe=ee[fe])&&(fe=Xe(se,$e)),J.push(fe),Ae=je+1);return J.push(Y.slice(Ae,je)),J.join("")}}function T(Y,ee){return function(se){var J=dg(1900,void 0,1),je=j(J,Y,se+="",0),Ae,ct;if(je!=se.length)return null;if("Q"in J)return new Date(J.Q);if("s"in J)return new Date(J.s*1e3+("L"in J?J.L:0));if(ee&&!("Z"in J)&&(J.Z=0),"p"in J&&(J.H=J.H%12+J.p*12),J.m===void 0&&(J.m="q"in J?J.q:0),"V"in J){if(J.V<1||J.V>53)return null;"w"in J||(J.w=1),"Z"in J?(Ae=nj(dg(J.y,0,1)),ct=Ae.getUTCDay(),Ae=ct>4||ct===0?H_.ceil(Ae):H_(Ae),Ae=CS.offset(Ae,(J.V-1)*7),J.y=Ae.getUTCFullYear(),J.m=Ae.getUTCMonth(),J.d=Ae.getUTCDate()+(J.w+6)%7):(Ae=rj(dg(J.y,0,1)),ct=Ae.getDay(),Ae=ct>4||ct===0?W_.ceil(Ae):W_(Ae),Ae=ex.offset(Ae,(J.V-1)*7),J.y=Ae.getFullYear(),J.m=Ae.getMonth(),J.d=Ae.getDate()+(J.w+6)%7)}else("W"in J||"U"in J)&&("w"in J||(J.w="u"in J?J.u%7:"W"in J?1:0),ct="Z"in J?nj(dg(J.y,0,1)).getUTCDay():rj(dg(J.y,0,1)).getDay(),J.m=0,J.d="W"in J?(J.w+6)%7+J.W*7-(ct+5)%7:J.w+J.U*7-(ct+6)%7);return"Z"in J?(J.H+=J.Z/100|0,J.M+=J.Z%100,nj(J)):rj(J)}}function j(Y,ee,se,J){for(var je=0,Ae=ee.length,ct=se.length,fe,$e;je<Ae;){if(J>=ct)return-1;if(fe=ee.charCodeAt(je++),fe===37){if(fe=ee.charAt(je++),$e=E[fe in X5?ee.charAt(je++):fe],!$e||(J=$e(Y,se,J))<0)return-1}else if(fe!=se.charCodeAt(J++))return-1}return J}function A(Y,ee,se){var J=u.exec(ee.slice(se));return J?(Y.p=d.get(J[0].toLowerCase()),se+J[0].length):-1}function R(Y,ee,se){var J=p.exec(ee.slice(se));return J?(Y.w=v.get(J[0].toLowerCase()),se+J[0].length):-1}function k(Y,ee,se){var J=f.exec(ee.slice(se));return J?(Y.w=h.get(J[0].toLowerCase()),se+J[0].length):-1}function O(Y,ee,se){var J=w.exec(ee.slice(se));return J?(Y.m=y.get(J[0].toLowerCase()),se+J[0].length):-1}function P(Y,ee,se){var J=m.exec(ee.slice(se));return J?(Y.m=b.get(J[0].toLowerCase()),se+J[0].length):-1}function D(Y,ee,se){return j(Y,e,ee,se)}function z(Y,ee,se){return j(Y,r,ee,se)}function M(Y,ee,se){return j(Y,n,ee,se)}function V(Y){return a[Y.getDay()]}function L(Y){return s[Y.getDay()]}function $(Y){return c[Y.getMonth()]}function G(Y){return o[Y.getMonth()]}function q(Y){return i[+(Y.getHours()>=12)]}function U(Y){return 1+~~(Y.getMonth()/3)}function X(Y){return a[Y.getUTCDay()]}function ie(Y){return s[Y.getUTCDay()]}function le(Y){return c[Y.getUTCMonth()]}function xe(Y){return o[Y.getUTCMonth()]}function ce(Y){return i[+(Y.getUTCHours()>=12)]}function Q(Y){return 1+~~(Y.getUTCMonth()/3)}return{format:function(Y){var ee=N(Y+="",_);return ee.toString=function(){return Y},ee},parse:function(Y){var ee=T(Y+="",!1);return ee.toString=function(){return Y},ee},utcFormat:function(Y){var ee=N(Y+="",S);return ee.toString=function(){return Y},ee},utcParse:function(Y){var ee=T(Y+="",!0);return ee.toString=function(){return Y},ee}}}var X5={"-":"",_:" ",0:"0"},kn=/^\s*\d+/,C6e=/^%/,A6e=/[\\^$*+?|[\]().{}]/g;function zt(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",s=i.length;return n+(s<r?new Array(r-s+1).join(e)+i:i)}function P6e(t){return t.replace(A6e,"\\$&")}function fg(t){return new RegExp("^(?:"+t.map(P6e).join("|")+")","i")}function hg(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function R6e(t,e,r){var n=kn.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function k6e(t,e,r){var n=kn.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function I6e(t,e,r){var n=kn.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function O6e(t,e,r){var n=kn.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function M6e(t,e,r){var n=kn.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function Q5(t,e,r){var n=kn.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function Z5(t,e,r){var n=kn.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function D6e(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function L6e(t,e,r){var n=kn.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function $6e(t,e,r){var n=kn.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function J5(t,e,r){var n=kn.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function F6e(t,e,r){var n=kn.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function e6(t,e,r){var n=kn.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function V6e(t,e,r){var n=kn.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function B6e(t,e,r){var n=kn.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function U6e(t,e,r){var n=kn.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function z6e(t,e,r){var n=kn.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function q6e(t,e,r){var n=C6e.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function W6e(t,e,r){var n=kn.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function H6e(t,e,r){var n=kn.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function t6(t,e){return zt(t.getDate(),e,2)}function K6e(t,e){return zt(t.getHours(),e,2)}function G6e(t,e){return zt(t.getHours()%12||12,e,2)}function Y6e(t,e){return zt(1+ex.count(Hl(t),t),e,3)}function oJ(t,e){return zt(t.getMilliseconds(),e,3)}function X6e(t,e){return oJ(t,e)+"000"}function Q6e(t,e){return zt(t.getMonth()+1,e,2)}function Z6e(t,e){return zt(t.getMinutes(),e,2)}function J6e(t,e){return zt(t.getSeconds(),e,2)}function eBe(t){var e=t.getDay();return e===0?7:e}function tBe(t,e){return zt(AS.count(Hl(t)-1,t),e,2)}function lJ(t){var e=t.getDay();return e>=4||e===0?Vp(t):Vp.ceil(t)}function rBe(t,e){return t=lJ(t),zt(Vp.count(Hl(t),t)+(Hl(t).getDay()===4),e,2)}function nBe(t){return t.getDay()}function iBe(t,e){return zt(W_.count(Hl(t)-1,t),e,2)}function sBe(t,e){return zt(t.getFullYear()%100,e,2)}function aBe(t,e){return t=lJ(t),zt(t.getFullYear()%100,e,2)}function oBe(t,e){return zt(t.getFullYear()%1e4,e,4)}function lBe(t,e){var r=t.getDay();return t=r>=4||r===0?Vp(t):Vp.ceil(t),zt(t.getFullYear()%1e4,e,4)}function cBe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+zt(e/60|0,"0",2)+zt(e%60,"0",2)}function r6(t,e){return zt(t.getUTCDate(),e,2)}function uBe(t,e){return zt(t.getUTCHours(),e,2)}function dBe(t,e){return zt(t.getUTCHours()%12||12,e,2)}function fBe(t,e){return zt(1+CS.count(Kl(t),t),e,3)}function cJ(t,e){return zt(t.getUTCMilliseconds(),e,3)}function hBe(t,e){return cJ(t,e)+"000"}function pBe(t,e){return zt(t.getUTCMonth()+1,e,2)}function mBe(t,e){return zt(t.getUTCMinutes(),e,2)}function gBe(t,e){return zt(t.getUTCSeconds(),e,2)}function vBe(t){var e=t.getUTCDay();return e===0?7:e}function yBe(t,e){return zt(PS.count(Kl(t)-1,t),e,2)}function uJ(t){var e=t.getUTCDay();return e>=4||e===0?Bp(t):Bp.ceil(t)}function xBe(t,e){return t=uJ(t),zt(Bp.count(Kl(t),t)+(Kl(t).getUTCDay()===4),e,2)}function bBe(t){return t.getUTCDay()}function wBe(t,e){return zt(H_.count(Kl(t)-1,t),e,2)}function _Be(t,e){return zt(t.getUTCFullYear()%100,e,2)}function EBe(t,e){return t=uJ(t),zt(t.getUTCFullYear()%100,e,2)}function SBe(t,e){return zt(t.getUTCFullYear()%1e4,e,4)}function NBe(t,e){var r=t.getUTCDay();return t=r>=4||r===0?Bp(t):Bp.ceil(t),zt(t.getUTCFullYear()%1e4,e,4)}function TBe(){return"+0000"}function n6(){return"%"}function i6(t){return+t}function s6(t){return Math.floor(+t/1e3)}var Kf,dJ,fJ;jBe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function jBe(t){return Kf=j6e(t),dJ=Kf.format,Kf.parse,fJ=Kf.utcFormat,Kf.utcParse,Kf}function CBe(t){return new Date(t)}function ABe(t){return t instanceof Date?+t:+new Date(+t)}function uM(t,e,r,n,i,s,a,o,c,u){var d=XO(),f=d.invert,h=d.domain,p=u(".%L"),v=u(":%S"),m=u("%I:%M"),b=u("%I %p"),w=u("%a %d"),y=u("%b %d"),_=u("%B"),S=u("%Y");function E(N){return(c(N)<N?p:o(N)<N?v:a(N)<N?m:s(N)<N?b:n(N)<N?i(N)<N?w:y:r(N)<N?_:S)(N)}return d.invert=function(N){return new Date(f(N))},d.domain=function(N){return arguments.length?h(Array.from(N,ABe)):h().map(CBe)},d.ticks=function(N){var T=h();return t(T[0],T[T.length-1],N??10)},d.tickFormat=function(N,T){return T==null?E:u(T)},d.nice=function(N){var T=h();return(!N||typeof N.range!="function")&&(N=e(T[0],T[T.length-1],N??10)),N?h(ZZ(T,N)):d},d.copy=function(){return J0(d,uM(t,e,r,n,i,s,a,o,c,u))},d}function PBe(){return ra.apply(uM(N6e,T6e,Hl,lM,AS,ex,aM,iM,xd,dJ).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function RBe(){return ra.apply(uM(E6e,S6e,Kl,cM,PS,CS,oM,sM,xd,fJ).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function RS(){var t=0,e=1,r,n,i,s,a=Si,o=!1,c;function u(f){return f==null||isNaN(f=+f)?c:a(i===0?.5:(f=(s(f)-r)*i,o?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,r=s(t=+t),n=s(e=+e),i=r===n?0:1/(n-r),u):[t,e]},u.clamp=function(f){return arguments.length?(o=!!f,u):o},u.interpolator=function(f){return arguments.length?(a=f,u):a};function d(f){return function(h){var p,v;return arguments.length?([p,v]=h,a=f(p,v),u):[a(0),a(1)]}}return u.range=d(Om),u.rangeRound=d(YO),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return s=f,r=f(t),n=f(e),i=r===n?0:1/(n-r),u}}function Du(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function hJ(){var t=Mu(RS()(Si));return t.copy=function(){return Du(t,hJ())},nc.apply(t,arguments)}function pJ(){var t=JO(RS()).domain([1,10]);return t.copy=function(){return Du(t,pJ()).base(t.base())},nc.apply(t,arguments)}function mJ(){var t=eM(RS());return t.copy=function(){return Du(t,mJ()).constant(t.constant())},nc.apply(t,arguments)}function dM(){var t=tM(RS());return t.copy=function(){return Du(t,dM()).exponent(t.exponent())},nc.apply(t,arguments)}function kBe(){return dM.apply(null,arguments).exponent(.5)}function gJ(){var t=[],e=Si;function r(n){if(n!=null&&!isNaN(n=+n))return e((Q0(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Zc),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,s)=>y5e(t,s/n))},r.copy=function(){return gJ(e).domain(t)},nc.apply(r,arguments)}function kS(){var t=0,e=.5,r=1,n=1,i,s,a,o,c,u=Si,d,f=!1,h;function p(m){return isNaN(m=+m)?h:(m=.5+((m=+d(m))-s)*(n*m<n*s?o:c),u(f?Math.max(0,Math.min(1,m)):m))}p.domain=function(m){return arguments.length?([t,e,r]=m,i=d(t=+t),s=d(e=+e),a=d(r=+r),o=i===s?0:.5/(s-i),c=s===a?0:.5/(a-s),n=s<i?-1:1,p):[t,e,r]},p.clamp=function(m){return arguments.length?(f=!!m,p):f},p.interpolator=function(m){return arguments.length?(u=m,p):u};function v(m){return function(b){var w,y,_;return arguments.length?([w,y,_]=b,u=q5e(m,[w,y,_]),p):[u(0),u(.5),u(1)]}}return p.range=v(Om),p.rangeRound=v(YO),p.unknown=function(m){return arguments.length?(h=m,p):h},function(m){return d=m,i=m(t),s=m(e),a=m(r),o=i===s?0:.5/(s-i),c=s===a?0:.5/(a-s),n=s<i?-1:1,p}}function vJ(){var t=Mu(kS()(Si));return t.copy=function(){return Du(t,vJ())},nc.apply(t,arguments)}function yJ(){var t=JO(kS()).domain([.1,1,10]);return t.copy=function(){return Du(t,yJ()).base(t.base())},nc.apply(t,arguments)}function xJ(){var t=eM(kS());return t.copy=function(){return Du(t,xJ()).constant(t.constant())},nc.apply(t,arguments)}function fM(){var t=tM(kS());return t.copy=function(){return Du(t,fM()).exponent(t.exponent())},nc.apply(t,arguments)}function IBe(){return fM.apply(null,arguments).exponent(.5)}const a6=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:gy,scaleDiverging:vJ,scaleDivergingLog:yJ,scaleDivergingPow:fM,scaleDivergingSqrt:IBe,scaleDivergingSymlog:xJ,scaleIdentity:QZ,scaleImplicit:_P,scaleLinear:z_,scaleLog:JZ,scaleOrdinal:HO,scalePoint:ov,scalePow:rM,scaleQuantile:rJ,scaleQuantize:nJ,scaleRadial:tJ,scaleSequential:hJ,scaleSequentialLog:pJ,scaleSequentialPow:dM,scaleSequentialQuantile:gJ,scaleSequentialSqrt:kBe,scaleSequentialSymlog:mJ,scaleSqrt:h6e,scaleSymlog:eJ,scaleThreshold:iJ,scaleTime:PBe,scaleUtc:RBe,tickFormat:XZ},Symbol.toStringTag,{value:"Module"}));var OBe=Tm;function MBe(t,e,r){for(var n=-1,i=t.length;++n<i;){var s=t[n],a=e(s);if(a!=null&&(o===void 0?a===a&&!OBe(a):r(a,o)))var o=a,c=s}return c}var IS=MBe;function DBe(t,e){return t>e}var bJ=DBe,LBe=IS,$Be=bJ,FBe=Im;function VBe(t){return t&&t.length?LBe(t,FBe,$Be):void 0}var BBe=VBe;const OS=ir(BBe);function UBe(t,e){return t<e}var wJ=UBe,zBe=IS,qBe=wJ,WBe=Im;function HBe(t){return t&&t.length?zBe(t,WBe,qBe):void 0}var KBe=HBe;const MS=ir(KBe);var GBe=NO,YBe=Ou,XBe=CZ,QBe=ns;function ZBe(t,e){var r=QBe(t)?GBe:XBe;return r(t,YBe(e))}var JBe=ZBe,eUe=TZ,tUe=JBe;function rUe(t,e){return eUe(tUe(t,e),1)}var nUe=rUe;const iUe=ir(nUe);var sUe=BO;function aUe(t,e){return sUe(t,e)}var oUe=aUe;const hM=ir(oUe);var Mm=1e9,lUe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},mM,Ir=!0,Js="[DecimalError] ",Fd=Js+"Invalid argument: ",pM=Js+"Exponent out of range: ",Dm=Math.floor,ad=Math.pow,cUe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,hs,Tn=1e7,Sr=7,_J=9007199254740991,K_=Dm(_J/Sr),Ve={};Ve.absoluteValue=Ve.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ve.comparedTo=Ve.cmp=function(t){var e,r,n,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(n=s.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return n===i?0:n>i^s.s<0?1:-1};Ve.decimalPlaces=Ve.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*Sr;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};Ve.dividedBy=Ve.div=function(t){return Pl(this,new this.constructor(t))};Ve.dividedToIntegerBy=Ve.idiv=function(t){var e=this,r=e.constructor;return fr(Pl(e,new r(t),0,1),r.precision)};Ve.equals=Ve.eq=function(t){return!this.cmp(t)};Ve.exponent=function(){return mn(this)};Ve.greaterThan=Ve.gt=function(t){return this.cmp(t)>0};Ve.greaterThanOrEqualTo=Ve.gte=function(t){return this.cmp(t)>=0};Ve.isInteger=Ve.isint=function(){return this.e>this.d.length-2};Ve.isNegative=Ve.isneg=function(){return this.s<0};Ve.isPositive=Ve.ispos=function(){return this.s>0};Ve.isZero=function(){return this.s===0};Ve.lessThan=Ve.lt=function(t){return this.cmp(t)<0};Ve.lessThanOrEqualTo=Ve.lte=function(t){return this.cmp(t)<1};Ve.logarithm=Ve.log=function(t){var e,r=this,n=r.constructor,i=n.precision,s=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(hs))throw Error(Js+"NaN");if(r.s<1)throw Error(Js+(r.s?"NaN":"-Infinity"));return r.eq(hs)?new n(0):(Ir=!1,e=Pl(wy(r,s),wy(t,s),s),Ir=!0,fr(e,i))};Ve.minus=Ve.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?NJ(e,t):EJ(e,(t.s=-t.s,t))};Ve.modulo=Ve.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(Js+"NaN");return r.s?(Ir=!1,e=Pl(r,t,0,1).times(t),Ir=!0,r.minus(e)):fr(new n(r),i)};Ve.naturalExponential=Ve.exp=function(){return SJ(this)};Ve.naturalLogarithm=Ve.ln=function(){return wy(this)};Ve.negated=Ve.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ve.plus=Ve.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?EJ(e,t):NJ(e,(t.s=-t.s,t))};Ve.precision=Ve.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Fd+t);if(e=mn(i)+1,n=i.d.length-1,r=n*Sr+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};Ve.squareRoot=Ve.sqrt=function(){var t,e,r,n,i,s,a,o=this,c=o.constructor;if(o.s<1){if(!o.s)return new c(0);throw Error(Js+"NaN")}for(t=mn(o),Ir=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=po(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Dm((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new c(e)):n=new c(i.toString()),r=c.precision,i=a=r+3;;)if(s=n,n=s.plus(Pl(o,s,a+2)).times(.5),po(s.d).slice(0,a)===(e=po(n.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(fr(s,r+1,0),s.times(s).eq(o)){n=s;break}}else if(e!="9999")break;a+=4}return Ir=!0,fr(n,r)};Ve.times=Ve.mul=function(t){var e,r,n,i,s,a,o,c,u,d=this,f=d.constructor,h=d.d,p=(t=new f(t)).d;if(!d.s||!t.s)return new f(0);for(t.s*=d.s,r=d.e+t.e,c=h.length,u=p.length,c<u&&(s=h,h=p,p=s,a=c,c=u,u=a),s=[],a=c+u,n=a;n--;)s.push(0);for(n=u;--n>=0;){for(e=0,i=c+n;i>n;)o=s[i]+p[n]*h[i-n-1]+e,s[i--]=o%Tn|0,e=o/Tn|0;s[i]=(s[i]+e)%Tn|0}for(;!s[--a];)s.pop();return e?++r:s.shift(),t.d=s,t.e=r,Ir?fr(t,f.precision):t};Ve.toDecimalPlaces=Ve.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:($o(t,0,Mm),e===void 0?e=n.rounding:$o(e,0,8),fr(r,t+mn(r)+1,e))};Ve.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=cf(n,!0):($o(t,0,Mm),e===void 0?e=i.rounding:$o(e,0,8),n=fr(new i(n),t+1,e),r=cf(n,!0,t+1)),r};Ve.toFixed=function(t,e){var r,n,i=this,s=i.constructor;return t===void 0?cf(i):($o(t,0,Mm),e===void 0?e=s.rounding:$o(e,0,8),n=fr(new s(i),t+mn(i)+1,e),r=cf(n.abs(),!1,t+mn(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Ve.toInteger=Ve.toint=function(){var t=this,e=t.constructor;return fr(new e(t),mn(t)+1,e.rounding)};Ve.toNumber=function(){return+this};Ve.toPower=Ve.pow=function(t){var e,r,n,i,s,a,o=this,c=o.constructor,u=12,d=+(t=new c(t));if(!t.s)return new c(hs);if(o=new c(o),!o.s){if(t.s<1)throw Error(Js+"Infinity");return o}if(o.eq(hs))return o;if(n=c.precision,t.eq(hs))return fr(o,n);if(e=t.e,r=t.d.length-1,a=e>=r,s=o.s,a){if((r=d<0?-d:d)<=_J){for(i=new c(hs),e=Math.ceil(n/Sr+4),Ir=!1;r%2&&(i=i.times(o),l6(i.d,e)),r=Dm(r/2),r!==0;)o=o.times(o),l6(o.d,e);return Ir=!0,t.s<0?new c(hs).div(i):fr(i,n)}}else if(s<0)throw Error(Js+"NaN");return s=s<0&&t.d[Math.max(e,r)]&1?-1:1,o.s=1,Ir=!1,i=t.times(wy(o,n+u)),Ir=!0,i=SJ(i),i.s=s,i};Ve.toPrecision=function(t,e){var r,n,i=this,s=i.constructor;return t===void 0?(r=mn(i),n=cf(i,r<=s.toExpNeg||r>=s.toExpPos)):($o(t,1,Mm),e===void 0?e=s.rounding:$o(e,0,8),i=fr(new s(i),t,e),r=mn(i),n=cf(i,t<=r||r<=s.toExpNeg,t)),n};Ve.toSignificantDigits=Ve.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):($o(t,1,Mm),e===void 0?e=n.rounding:$o(e,0,8)),fr(new n(r),t,e)};Ve.toString=Ve.valueOf=Ve.val=Ve.toJSON=Ve[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=mn(t),r=t.constructor;return cf(t,e<=r.toExpNeg||e>=r.toExpPos)};function EJ(t,e){var r,n,i,s,a,o,c,u,d=t.constructor,f=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),Ir?fr(e,f):e;if(c=t.d,u=e.d,a=t.e,i=e.e,c=c.slice(),s=a-i,s){for(s<0?(n=c,s=-s,o=u.length):(n=u,i=a,o=c.length),a=Math.ceil(f/Sr),o=a>o?a+1:o+1,s>o&&(s=o,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(o=c.length,s=u.length,o-s<0&&(s=o,n=u,u=c,c=n),r=0;s;)r=(c[--s]=c[s]+u[s]+r)/Tn|0,c[s]%=Tn;for(r&&(c.unshift(r),++i),o=c.length;c[--o]==0;)c.pop();return e.d=c,e.e=i,Ir?fr(e,f):e}function $o(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Fd+t)}function po(t){var e,r,n,i=t.length-1,s="",a=t[0];if(i>0){for(s+=a,e=1;e<i;e++)n=t[e]+"",r=Sr-n.length,r&&(s+=bc(r)),s+=n;a=t[e],n=a+"",r=Sr-n.length,r&&(s+=bc(r))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}var Pl=function(){function t(n,i){var s,a=0,o=n.length;for(n=n.slice();o--;)s=n[o]*i+a,n[o]=s%Tn|0,a=s/Tn|0;return a&&n.unshift(a),n}function e(n,i,s,a){var o,c;if(s!=a)c=s>a?1:-1;else for(o=c=0;o<s;o++)if(n[o]!=i[o]){c=n[o]>i[o]?1:-1;break}return c}function r(n,i,s){for(var a=0;s--;)n[s]-=a,a=n[s]<i[s]?1:0,n[s]=a*Tn+n[s]-i[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,s,a){var o,c,u,d,f,h,p,v,m,b,w,y,_,S,E,N,T,j,A=n.constructor,R=n.s==i.s?1:-1,k=n.d,O=i.d;if(!n.s)return new A(n);if(!i.s)throw Error(Js+"Division by zero");for(c=n.e-i.e,T=O.length,E=k.length,p=new A(R),v=p.d=[],u=0;O[u]==(k[u]||0);)++u;if(O[u]>(k[u]||0)&&--c,s==null?y=s=A.precision:a?y=s+(mn(n)-mn(i))+1:y=s,y<0)return new A(0);if(y=y/Sr+2|0,u=0,T==1)for(d=0,O=O[0],y++;(u<E||d)&&y--;u++)_=d*Tn+(k[u]||0),v[u]=_/O|0,d=_%O|0;else{for(d=Tn/(O[0]+1)|0,d>1&&(O=t(O,d),k=t(k,d),T=O.length,E=k.length),S=T,m=k.slice(0,T),b=m.length;b<T;)m[b++]=0;j=O.slice(),j.unshift(0),N=O[0],O[1]>=Tn/2&&++N;do d=0,o=e(O,m,T,b),o<0?(w=m[0],T!=b&&(w=w*Tn+(m[1]||0)),d=w/N|0,d>1?(d>=Tn&&(d=Tn-1),f=t(O,d),h=f.length,b=m.length,o=e(f,m,h,b),o==1&&(d--,r(f,T<h?j:O,h))):(d==0&&(o=d=1),f=O.slice()),h=f.length,h<b&&f.unshift(0),r(m,f,b),o==-1&&(b=m.length,o=e(O,m,T,b),o<1&&(d++,r(m,T<b?j:O,b))),b=m.length):o===0&&(d++,m=[0]),v[u++]=d,o&&m[0]?m[b++]=k[S]||0:(m=[k[S]],b=1);while((S++<E||m[0]!==void 0)&&y--)}return v[0]||v.shift(),p.e=c,fr(p,a?s+mn(p)+1:s)}}();function SJ(t,e){var r,n,i,s,a,o,c=0,u=0,d=t.constructor,f=d.precision;if(mn(t)>16)throw Error(pM+mn(t));if(!t.s)return new d(hs);for(Ir=!1,o=f,a=new d(.03125);t.abs().gte(.1);)t=t.times(a),u+=5;for(n=Math.log(ad(2,u))/Math.LN10*2+5|0,o+=n,r=i=s=new d(hs),d.precision=o;;){if(i=fr(i.times(t),o),r=r.times(++c),a=s.plus(Pl(i,r,o)),po(a.d).slice(0,o)===po(s.d).slice(0,o)){for(;u--;)s=fr(s.times(s),o);return d.precision=f,e==null?(Ir=!0,fr(s,f)):s}s=a}}function mn(t){for(var e=t.e*Sr,r=t.d[0];r>=10;r/=10)e++;return e}function ij(t,e,r){if(e>t.LN10.sd())throw Ir=!0,r&&(t.precision=r),Error(Js+"LN10 precision limit exceeded");return fr(new t(t.LN10),e)}function bc(t){for(var e="";t--;)e+="0";return e}function wy(t,e){var r,n,i,s,a,o,c,u,d,f=1,h=10,p=t,v=p.d,m=p.constructor,b=m.precision;if(p.s<1)throw Error(Js+(p.s?"NaN":"-Infinity"));if(p.eq(hs))return new m(0);if(e==null?(Ir=!1,u=b):u=e,p.eq(10))return e==null&&(Ir=!0),ij(m,u);if(u+=h,m.precision=u,r=po(v),n=r.charAt(0),s=mn(p),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(t),r=po(p.d),n=r.charAt(0),f++;s=mn(p),n>1?(p=new m("0."+r),s++):p=new m(n+"."+r.slice(1))}else return c=ij(m,u+2,b).times(s+""),p=wy(new m(n+"."+r.slice(1)),u-h).plus(c),m.precision=b,e==null?(Ir=!0,fr(p,b)):p;for(o=a=p=Pl(p.minus(hs),p.plus(hs),u),d=fr(p.times(p),u),i=3;;){if(a=fr(a.times(d),u),c=o.plus(Pl(a,new m(i),u)),po(c.d).slice(0,u)===po(o.d).slice(0,u))return o=o.times(2),s!==0&&(o=o.plus(ij(m,u+2,b).times(s+""))),o=Pl(o,new m(f),u),m.precision=b,e==null?(Ir=!0,fr(o,b)):o;o=c,i+=2}}function o6(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=Dm(r/Sr),t.d=[],n=(r+1)%Sr,r<0&&(n+=Sr),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=Sr;n<i;)t.d.push(+e.slice(n,n+=Sr));e=e.slice(n),n=Sr-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),Ir&&(t.e>K_||t.e<-K_))throw Error(pM+r)}else t.s=0,t.e=0,t.d=[0];return t}function fr(t,e,r){var n,i,s,a,o,c,u,d,f=t.d;for(a=1,s=f[0];s>=10;s/=10)a++;if(n=e-a,n<0)n+=Sr,i=e,u=f[d=0];else{if(d=Math.ceil((n+1)/Sr),s=f.length,d>=s)return t;for(u=s=f[d],a=1;s>=10;s/=10)a++;n%=Sr,i=n-Sr+a}if(r!==void 0&&(s=ad(10,a-i-1),o=u/s%10|0,c=e<0||f[d+1]!==void 0||u%s,c=r<4?(o||c)&&(r==0||r==(t.s<0?3:2)):o>5||o==5&&(r==4||c||r==6&&(n>0?i>0?u/ad(10,a-i):0:f[d-1])%10&1||r==(t.s<0?8:7))),e<1||!f[0])return c?(s=mn(t),f.length=1,e=e-s-1,f[0]=ad(10,(Sr-e%Sr)%Sr),t.e=Dm(-e/Sr)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(n==0?(f.length=d,s=1,d--):(f.length=d+1,s=ad(10,Sr-n),f[d]=i>0?(u/ad(10,a-i)%ad(10,i)|0)*s:0),c)for(;;)if(d==0){(f[0]+=s)==Tn&&(f[0]=1,++t.e);break}else{if(f[d]+=s,f[d]!=Tn)break;f[d--]=0,s=1}for(n=f.length;f[--n]===0;)f.pop();if(Ir&&(t.e>K_||t.e<-K_))throw Error(pM+mn(t));return t}function NJ(t,e){var r,n,i,s,a,o,c,u,d,f,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),Ir?fr(e,p):e;if(c=t.d,f=e.d,n=e.e,u=t.e,c=c.slice(),a=u-n,a){for(d=a<0,d?(r=c,a=-a,o=f.length):(r=f,n=u,o=c.length),i=Math.max(Math.ceil(p/Sr),o)+2,a>i&&(a=i,r.length=1),r.reverse(),i=a;i--;)r.push(0);r.reverse()}else{for(i=c.length,o=f.length,d=i<o,d&&(o=i),i=0;i<o;i++)if(c[i]!=f[i]){d=c[i]<f[i];break}a=0}for(d&&(r=c,c=f,f=r,e.s=-e.s),o=c.length,i=f.length-o;i>0;--i)c[o++]=0;for(i=f.length;i>a;){if(c[--i]<f[i]){for(s=i;s&&c[--s]===0;)c[s]=Tn-1;--c[s],c[i]+=Tn}c[i]-=f[i]}for(;c[--o]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(e.d=c,e.e=n,Ir?fr(e,p):e):new h(0)}function cf(t,e,r){var n,i=mn(t),s=po(t.d),a=s.length;return e?(r&&(n=r-a)>0?s=s.charAt(0)+"."+s.slice(1)+bc(n):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+bc(-i-1)+s,r&&(n=r-a)>0&&(s+=bc(n))):i>=a?(s+=bc(i+1-a),r&&(n=r-i-1)>0&&(s=s+"."+bc(n))):((n=i+1)<a&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-a)>0&&(i+1===a&&(s+="."),s+=bc(n))),t.s<0?"-"+s:s}function l6(t,e){if(t.length>e)return t.length=e,!0}function TJ(t){var e,r,n;function i(s){var a=this;if(!(a instanceof i))return new i(s);if(a.constructor=i,s instanceof i){a.s=s.s,a.e=s.e,a.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Fd+s);if(s>0)a.s=1;else if(s<0)s=-s,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(s===~~s&&s<1e7){a.e=0,a.d=[s];return}return o6(a,s.toString())}else if(typeof s!="string")throw Error(Fd+s);if(s.charCodeAt(0)===45?(s=s.slice(1),a.s=-1):a.s=1,cUe.test(s))o6(a,s);else throw Error(Fd+s)}if(i.prototype=Ve,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=TJ,i.config=i.set=uUe,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function uUe(t){if(!t||typeof t!="object")throw Error(Js+"Object expected");var e,r,n,i=["precision",1,Mm,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(Dm(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(Fd+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Fd+r+": "+n);return this}var mM=TJ(lUe);hs=new mM(1);const ar=mM;function dUe(t){return mUe(t)||pUe(t)||hUe(t)||fUe()}function fUe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hUe(t,e){if(t){if(typeof t=="string")return TP(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return TP(t,e)}}function pUe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function mUe(t){if(Array.isArray(t))return TP(t)}function TP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var gUe=function(e){return e},jJ={},CJ=function(e){return e===jJ},c6=function(e){return function r(){return arguments.length===0||arguments.length===1&&CJ(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},vUe=function t(e,r){return e===1?r:c6(function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];var a=i.filter(function(o){return o!==jJ}).length;return a>=e?r.apply(void 0,i):t(e-a,c6(function(){for(var o=arguments.length,c=new Array(o),u=0;u<o;u++)c[u]=arguments[u];var d=i.map(function(f){return CJ(f)?c.shift():f});return r.apply(void 0,dUe(d).concat(c))}))})},DS=function(e){return vUe(e.length,e)},jP=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},yUe=DS(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),xUe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return gUe;var i=r.reverse(),s=i[0],a=i.slice(1);return function(){return a.reduce(function(o,c){return c(o)},s.apply(void 0,arguments))}},CP=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},AJ=function(e){var r=null,n=null;return function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return r&&s.every(function(o,c){return o===r[c]})||(r=s,n=e.apply(void 0,s)),n}};function bUe(t){var e;return t===0?e=1:e=Math.floor(new ar(t).abs().log(10).toNumber())+1,e}function wUe(t,e,r){for(var n=new ar(t),i=0,s=[];n.lt(e)&&i<1e5;)s.push(n.toNumber()),n=n.add(r),i++;return s}var _Ue=DS(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),EUe=DS(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),SUe=DS(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const LS={rangeStep:wUe,getDigitCount:bUe,interpolateNumber:_Ue,uninterpolateNumber:EUe,uninterpolateTruncation:SUe};function AP(t){return jUe(t)||TUe(t)||PJ(t)||NUe()}function NUe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TUe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function jUe(t){if(Array.isArray(t))return PP(t)}function _y(t,e){return PUe(t)||AUe(t,e)||PJ(t,e)||CUe()}function CUe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PJ(t,e){if(t){if(typeof t=="string")return PP(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return PP(t,e)}}function PP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function AUe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,s=void 0;try{for(var a=t[Symbol.iterator](),o;!(n=(o=a.next()).done)&&(r.push(o.value),!(e&&r.length===e));n=!0);}catch(c){i=!0,s=c}finally{try{!n&&a.return!=null&&a.return()}finally{if(i)throw s}}return r}}function PUe(t){if(Array.isArray(t))return t}function RJ(t){var e=_y(t,2),r=e[0],n=e[1],i=r,s=n;return r>n&&(i=n,s=r),[i,s]}function kJ(t,e,r){if(t.lte(0))return new ar(0);var n=LS.getDigitCount(t.toNumber()),i=new ar(10).pow(n),s=t.div(i),a=n!==1?.05:.1,o=new ar(Math.ceil(s.div(a).toNumber())).add(r).mul(a),c=o.mul(i);return e?c:new ar(Math.ceil(c))}function RUe(t,e,r){var n=1,i=new ar(t);if(!i.isint()&&r){var s=Math.abs(t);s<1?(n=new ar(10).pow(LS.getDigitCount(t)-1),i=new ar(Math.floor(i.div(n).toNumber())).mul(n)):s>1&&(i=new ar(Math.floor(t)))}else t===0?i=new ar(Math.floor((e-1)/2)):r||(i=new ar(Math.floor(t)));var a=Math.floor((e-1)/2),o=xUe(yUe(function(c){return i.add(new ar(c-a).mul(n)).toNumber()}),jP);return o(0,e)}function IJ(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new ar(0),tickMin:new ar(0),tickMax:new ar(0)};var s=kJ(new ar(e).sub(t).div(r-1),n,i),a;t<=0&&e>=0?a=new ar(0):(a=new ar(t).add(e).div(2),a=a.sub(new ar(a).mod(s)));var o=Math.ceil(a.sub(t).div(s).toNumber()),c=Math.ceil(new ar(e).sub(a).div(s).toNumber()),u=o+c+1;return u>r?IJ(t,e,r,n,i+1):(u<r&&(c=e>0?c+(r-u):c,o=e>0?o:o+(r-u)),{step:s,tickMin:a.sub(new ar(o).mul(s)),tickMax:a.add(new ar(c).mul(s))})}function kUe(t){var e=_y(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),o=RJ([r,n]),c=_y(o,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(AP(jP(0,i-1).map(function(){return 1/0}))):[].concat(AP(jP(0,i-1).map(function(){return-1/0})),[d]);return r>n?CP(f):f}if(u===d)return RUe(u,i,s);var h=IJ(u,d,a,s),p=h.step,v=h.tickMin,m=h.tickMax,b=LS.rangeStep(v,m.add(new ar(.1).mul(p)),p);return r>n?CP(b):b}function IUe(t,e){var r=_y(t,2),n=r[0],i=r[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=RJ([n,i]),o=_y(a,2),c=o[0],u=o[1];if(c===-1/0||u===1/0)return[n,i];if(c===u)return[c];var d=Math.max(e,2),f=kJ(new ar(u).sub(c).div(d-1),s,0),h=[].concat(AP(LS.rangeStep(new ar(c),new ar(u).sub(new ar(.99).mul(f)),f)),[u]);return n>i?CP(h):h}var OUe=AJ(kUe),MUe=AJ(IUe),DUe="Invariant failed";function Up(t,e){throw new Error(DUe)}var LUe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function zp(t){"@babel/helpers - typeof";return zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zp(t)}function G_(){return G_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},G_.apply(this,arguments)}function $Ue(t,e){return UUe(t)||BUe(t,e)||VUe(t,e)||FUe()}function FUe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VUe(t,e){if(t){if(typeof t=="string")return u6(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u6(t,e)}}function u6(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function BUe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function UUe(t){if(Array.isArray(t))return t}function zUe(t,e){if(t==null)return{};var r=qUe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function qUe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function WUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HUe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,DJ(n.key),n)}}function KUe(t,e,r){return e&&HUe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function GUe(t,e,r){return e=Y_(e),YUe(t,OJ()?Reflect.construct(e,r||[],Y_(t).constructor):e.apply(t,r))}function YUe(t,e){if(e&&(zp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XUe(t)}function XUe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function OJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OJ=function(){return!!t})()}function Y_(t){return Y_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Y_(t)}function QUe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&RP(t,e)}function RP(t,e){return RP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},RP(t,e)}function MJ(t,e,r){return e=DJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function DJ(t){var e=ZUe(t,"string");return zp(e)=="symbol"?e:e+""}function ZUe(t,e){if(zp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var gM=function(t){function e(){return WUe(this,e),GUe(this,e,arguments)}return QUe(e,t),KUe(e,[{key:"render",value:function(){var n=this.props,i=n.offset,s=n.layout,a=n.width,o=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=zUe(n,LUe),p=_t(h,!1);this.props.direction==="x"&&d.type!=="number"&&Up();var v=c.map(function(m){var b=u(m,o),w=b.x,y=b.y,_=b.value,S=b.errorVal;if(!S)return null;var E=[],N,T;if(Array.isArray(S)){var j=$Ue(S,2);N=j[0],T=j[1]}else N=T=S;if(s==="vertical"){var A=d.scale,R=y+i,k=R+a,O=R-a,P=A(_-N),D=A(_+T);E.push({x1:D,y1:k,x2:D,y2:O}),E.push({x1:P,y1:R,x2:D,y2:R}),E.push({x1:P,y1:k,x2:P,y2:O})}else if(s==="horizontal"){var z=f.scale,M=w+i,V=M-a,L=M+a,$=z(_-N),G=z(_+T);E.push({x1:V,y1:G,x2:L,y2:G}),E.push({x1:M,y1:$,x2:M,y2:G}),E.push({x1:V,y1:$,x2:L,y2:$})}return B.createElement(Zr,G_({className:"recharts-errorBar",key:"bar-".concat(E.map(function(q){return"".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))},p),E.map(function(q){return B.createElement("line",G_({},q,{key:"line-".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))}))});return B.createElement(Zr,{className:"recharts-errorBars"},v)}}])}(B.Component);MJ(gM,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});MJ(gM,"displayName","ErrorBar");function Ey(t){"@babel/helpers - typeof";return Ey=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ey(t)}function d6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Yu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?d6(Object(r),!0).forEach(function(n){JUe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):d6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function JUe(t,e,r){return e=e9e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function e9e(t){var e=t9e(t,"string");return Ey(e)=="symbol"?e:e+""}function t9e(t,e){if(Ey(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ey(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var LJ=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,s=e.legendContent,a=Ls(r,Uh);if(!a)return null;var o=Uh.defaultProps,c=o!==void 0?Yu(Yu({},o),a.props):{},u;return a.props&&a.props.payload?u=a.props&&a.props.payload:s==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,p=f.props,v=p.sectors||p.data||[];return d.concat(v.map(function(m){return{type:a.props.iconType||h.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,p=h!==void 0?Yu(Yu({},h),f.props):{},v=p.dataKey,m=p.name,b=p.legendType,w=p.hide;return{inactive:w,dataKey:v,type:c.iconType||b||"square",color:vM(f),value:m||v,payload:p}}),Yu(Yu(Yu({},c),Uh.getWithHeight(a,i)),{},{payload:u,item:a})};function Sy(t){"@babel/helpers - typeof";return Sy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sy(t)}function f6(t){return s9e(t)||i9e(t)||n9e(t)||r9e()}function r9e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function n9e(t,e){if(t){if(typeof t=="string")return kP(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kP(t,e)}}function i9e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function s9e(t){if(Array.isArray(t))return kP(t)}function kP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function h6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Yr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?h6(Object(r),!0).forEach(function(n){qh(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):h6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qh(t,e,r){return e=a9e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function a9e(t){var e=o9e(t,"string");return Sy(e)=="symbol"?e:e+""}function o9e(t,e){if(Sy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Sy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ps(t,e,r){return Ot(t)||Ot(e)?r:_n(e)?ka(t,e,r):St(e)?e(t):r}function lv(t,e,r,n){var i=iUe(t,function(o){return ps(o,e)});if(r==="number"){var s=i.filter(function(o){return Le(o)||parseFloat(o)});return s.length?[MS(s),OS(s)]:[1/0,-1/0]}var a=n?i.filter(function(o){return!Ot(o)}):i;return a.map(function(o){return _n(o)||o instanceof Date?o:""})}var l9e=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,a=-1,o=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(o<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var c=s.range,u=0;u<o;u++){var d=u>0?i[u-1].coordinate:i[o-1].coordinate,f=i[u].coordinate,h=u>=o-1?i[0].coordinate:i[u+1].coordinate,p=void 0;if(Ws(f-d)!==Ws(h-f)){var v=[];if(Ws(h-f)===Ws(c[1]-c[0])){p=h;var m=f+c[1]-c[0];v[0]=Math.min(m,(m+d)/2),v[1]=Math.max(m,(m+d)/2)}else{p=d;var b=h+c[1]-c[0];v[0]=Math.min(f,(b+f)/2),v[1]=Math.max(f,(b+f)/2)}var w=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(e>w[0]&&e<=w[1]||e>=v[0]&&e<=v[1]){a=i[u].index;break}}else{var y=Math.min(d,h),_=Math.max(d,h);if(e>(y+f)/2&&e<=(_+f)/2){a=i[u].index;break}}}else for(var S=0;S<o;S++)if(S===0&&e<=(n[S].coordinate+n[S+1].coordinate)/2||S>0&&S<o-1&&e>(n[S].coordinate+n[S-1].coordinate)/2&&e<=(n[S].coordinate+n[S+1].coordinate)/2||S===o-1&&e>(n[S].coordinate+n[S-1].coordinate)/2){a=n[S].index;break}return a},vM=function(e){var r,n=e,i=n.type.displayName,s=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Yr(Yr({},e.type.defaultProps),e.props):e.props,a=s.stroke,o=s.fill,c;switch(i){case"Line":c=a;break;case"Area":case"Radar":c=a&&a!=="none"?a:o;break;default:c=o;break}return c},c9e=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var a={},o=Object.keys(s),c=0,u=o.length;c<u;c++)for(var d=s[o[c]].stackGroups,f=Object.keys(d),h=0,p=f.length;h<p;h++){var v=d[f[h]],m=v.items,b=v.cateAxisId,w=m.filter(function(T){return Cl(T.type).indexOf("Bar")>=0});if(w&&w.length){var y=w[0].type.defaultProps,_=y!==void 0?Yr(Yr({},y),w[0].props):w[0].props,S=_.barSize,E=_[b];a[E]||(a[E]=[]);var N=Ot(S)?r:S;a[E].push({item:w[0],stackList:w.slice(1),barSize:Ot(N)?void 0:Wi(N,n,0)})}}return a},u9e=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,s=e.sizeList,a=s===void 0?[]:s,o=e.maxBarSize,c=a.length;if(c<1)return null;var u=Wi(r,i,0,!0),d,f=[];if(a[0].barSize===+a[0].barSize){var h=!1,p=i/c,v=a.reduce(function(S,E){return S+E.barSize||0},0);v+=(c-1)*u,v>=i&&(v-=(c-1)*u,u=0),v>=i&&p>0&&(h=!0,p*=.9,v=c*p);var m=(i-v)/2>>0,b={offset:m-u,size:0};d=a.reduce(function(S,E){var N={item:E.item,position:{offset:b.offset+b.size+u,size:h?p:E.barSize}},T=[].concat(f6(S),[N]);return b=T[T.length-1].position,E.stackList&&E.stackList.length&&E.stackList.forEach(function(j){T.push({item:j,position:b})}),T},f)}else{var w=Wi(n,i,0,!0);i-2*w-(c-1)*u<=0&&(u=0);var y=(i-2*w-(c-1)*u)/c;y>1&&(y>>=0);var _=o===+o?Math.min(y,o):y;d=a.reduce(function(S,E,N){var T=[].concat(f6(S),[{item:E.item,position:{offset:w+(y+u)*N+(y-_)/2,size:_}}]);return E.stackList&&E.stackList.length&&E.stackList.forEach(function(j){T.push({item:j,position:T[T.length-1].position})}),T},f)}return d},d9e=function(e,r,n,i){var s=n.children,a=n.width,o=n.margin,c=a-(o.left||0)-(o.right||0),u=LJ({children:s,legendWidth:c});if(u){var d=i||{},f=d.width,h=d.height,p=u.align,v=u.verticalAlign,m=u.layout;if((m==="vertical"||m==="horizontal"&&v==="middle")&&p!=="center"&&Le(e[p]))return Yr(Yr({},e),{},qh({},p,e[p]+(f||0)));if((m==="horizontal"||m==="vertical"&&p==="center")&&v!=="middle"&&Le(e[v]))return Yr(Yr({},e),{},qh({},v,e[v]+(h||0)))}return e},f9e=function(e,r,n){return Ot(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},$J=function(e,r,n,i,s){var a=r.props.children,o=Ao(a,gM).filter(function(u){return f9e(i,s,u.props.direction)});if(o&&o.length){var c=o.map(function(u){return u.props.dataKey});return e.reduce(function(u,d){var f=ps(d,n);if(Ot(f))return u;var h=Array.isArray(f)?[MS(f),OS(f)]:[f,f],p=c.reduce(function(v,m){var b=ps(d,m,0),w=h[0]-Math.abs(Array.isArray(b)?b[0]:b),y=h[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(w,v[0]),Math.max(y,v[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},h9e=function(e,r,n,i,s){var a=r.map(function(o){return $J(e,o,n,s,i)}).filter(function(o){return!Ot(o)});return a&&a.length?a.reduce(function(o,c){return[Math.min(o[0],c[0]),Math.max(o[1],c[1])]},[1/0,-1/0]):null},FJ=function(e,r,n,i,s){var a=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&$J(e,c,u,i)||lv(e,u,n,s)});if(n==="number")return a.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var o={};return a.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)o[u[d]]||(o[u[d]]=!0,c.push(u[d]));return c},[])},VJ=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},Mg=function(e,r,n){if(!e)return null;var i=e.scale,s=e.duplicateDomain,a=e.type,o=e.range,c=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(r||n)&&a==="category"&&i.bandwidth?i.bandwidth()/c:0;if(u=e.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?Ws(o[0]-o[1])*2*u:u,r&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(f){var h=s?s.indexOf(f):f;return{coordinate:i(h)+u,value:f,offset:u}});return d.filter(function(f){return!X0(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:i(f)+u,value:f,index:h,offset:u}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,h){return{coordinate:i(f)+u,value:s?s[f]:f,index:h,offset:u}})},sj=new WeakMap,mb=function(e,r){if(typeof r!="function")return e;sj.has(e)||sj.set(e,new WeakMap);var n=sj.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},p9e=function(e,r,n){var i=e.scale,s=e.type,a=e.layout,o=e.axisType;if(i==="auto")return a==="radial"&&o==="radiusAxis"?{scale:gy(),realScaleType:"band"}:a==="radial"&&o==="angleAxis"?{scale:z_(),realScaleType:"linear"}:s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0)?{scale:ov(),realScaleType:"point"}:s==="category"?{scale:gy(),realScaleType:"band"}:{scale:z_(),realScaleType:"linear"};if(Y0(i)){var c="scale".concat(yS(i));return{scale:(a6[c]||ov)(),realScaleType:a6[c]?c:"point"}}return St(i)?{scale:i}:{scale:ov(),realScaleType:"point"}},p6=1e-4,m9e=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),s=Math.min(i[0],i[1])-p6,a=Math.max(i[0],i[1])+p6,o=e(r[0]),c=e(r[n-1]);(o<s||o>a||c<s||c>a)&&e.domain([r[0],r[n-1]])}},g9e=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var s=0,a=0,o=0;o<r;++o){var c=X0(e[o][n][1])?e[o][n][0]:e[o][n][1];c>=0?(e[o][n][0]=s,e[o][n][1]=s+c,s=e[o][n][1]):(e[o][n][0]=a,e[o][n][1]=a+c,a=e[o][n][1])}},v9e=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var s=0,a=0;a<r;++a){var o=X0(e[a][n][1])?e[a][n][0]:e[a][n][1];o>=0?(e[a][n][0]=s,e[a][n][1]=s+o,s=e[a][n][1]):(e[a][n][0]=0,e[a][n][1]=0)}},y9e={sign:g9e,expand:DIe,none:Ip,silhouette:LIe,wiggle:$Ie,positive:v9e},x9e=function(e,r,n){var i=r.map(function(o){return o.props.dataKey}),s=y9e[n],a=MIe().keys(i).value(function(o,c){return+ps(o,c,0)}).order(nP).offset(s);return a(e)},b9e=function(e,r,n,i,s,a){if(!e)return null;var o=a?r.reverse():r,c={},u=o.reduce(function(f,h){var p,v=(p=h.type)!==null&&p!==void 0&&p.defaultProps?Yr(Yr({},h.type.defaultProps),h.props):h.props,m=v.stackId,b=v.hide;if(b)return f;var w=v[n],y=f[w]||{hasStack:!1,stackGroups:{}};if(_n(m)){var _=y.stackGroups[m]||{numericAxisId:n,cateAxisId:i,items:[]};_.items.push(h),y.hasStack=!0,y.stackGroups[m]=_}else y.stackGroups[gS("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[h]};return Yr(Yr({},f),{},qh({},w,y))},c),d={};return Object.keys(u).reduce(function(f,h){var p=u[h];if(p.hasStack){var v={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(m,b){var w=p.stackGroups[b];return Yr(Yr({},m),{},qh({},b,{numericAxisId:n,cateAxisId:i,items:w.items,stackedData:x9e(e,w.items,s)}))},v)}return Yr(Yr({},f),{},qh({},h,p))},d)},w9e=function(e,r){var n=r.realScaleType,i=r.type,s=r.tickCount,a=r.originalDomain,o=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(s&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var u=e.domain();if(!u.length)return null;var d=OUe(u,s,o);return e.domain([MS(d),OS(d)]),{niceTicks:d}}if(s&&i==="number"){var f=e.domain(),h=MUe(f,s,o);return{niceTicks:h}}return null},_9e=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Yr(Yr({},e.type.defaultProps),e.props):e.props,s=i.stackId;if(_n(s)){var a=r[s];if(a){var o=a.items.indexOf(e);return o>=0?a.stackedData[o]:null}}return null},E9e=function(e){return e.reduce(function(r,n){return[MS(n.concat([r[0]]).filter(Le)),OS(n.concat([r[1]]).filter(Le))]},[1/0,-1/0])},BJ=function(e,r,n){return Object.keys(e).reduce(function(i,s){var a=e[s],o=a.stackedData,c=o.reduce(function(u,d){var f=E9e(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},m6=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,g6=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,IP=function(e,r,n){if(St(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(Le(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(m6.test(e[0])){var s=+m6.exec(e[0])[1];i[0]=r[0]-s}else St(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(Le(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(g6.test(e[1])){var a=+g6.exec(e[1])[1];i[1]=r[1]+a}else St(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},OP=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var s=zO(r,function(f){return f.coordinate}),a=1/0,o=1,c=s.length;o<c;o++){var u=s[o],d=s[o-1];a=Math.min((u.coordinate||0)-(d.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0},v6=function(e,r,n){return!e||!e.length||hM(e,ka(n,"type.defaultProps.domain"))?r:e},S9e=function(e,r){var n=e.type.defaultProps?Yr(Yr({},e.type.defaultProps),e.props):e.props,i=n.dataKey,s=n.name,a=n.unit,o=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return Yr(Yr({},_t(e,!1)),{},{dataKey:i,unit:a,formatter:o,name:s||i,color:vM(e),value:ps(r,i),type:c,payload:r,chartType:u,hide:d})};function Ny(t){"@babel/helpers - typeof";return Ny=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ny(t)}function y6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function il(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?y6(Object(r),!0).forEach(function(n){UJ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):y6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function UJ(t,e,r){return e=N9e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function N9e(t){var e=T9e(t,"string");return Ny(e)=="symbol"?e:e+""}function T9e(t,e){if(Ny(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ny(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function j9e(t,e){return R9e(t)||P9e(t,e)||A9e(t,e)||C9e()}function C9e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function A9e(t,e){if(t){if(typeof t=="string")return x6(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return x6(t,e)}}function x6(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function P9e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function R9e(t){if(Array.isArray(t))return t}var X_=Math.PI/180,k9e=function(e){return e*180/Math.PI},vr=function(e,r,n,i){return{x:e+Math.cos(-X_*i)*n,y:r+Math.sin(-X_*i)*n}},zJ=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},I9e=function(e,r,n,i,s){var a=e.width,o=e.height,c=e.startAngle,u=e.endAngle,d=Wi(e.cx,a,a/2),f=Wi(e.cy,o,o/2),h=zJ(a,o,n),p=Wi(e.innerRadius,h,0),v=Wi(e.outerRadius,h,h*.8),m=Object.keys(r);return m.reduce(function(b,w){var y=r[w],_=y.domain,S=y.reversed,E;if(Ot(y.range))i==="angleAxis"?E=[c,u]:i==="radiusAxis"&&(E=[p,v]),S&&(E=[E[1],E[0]]);else{E=y.range;var N=E,T=j9e(N,2);c=T[0],u=T[1]}var j=p9e(y,s),A=j.realScaleType,R=j.scale;R.domain(_).range(E),m9e(R);var k=w9e(R,il(il({},y),{},{realScaleType:A})),O=il(il(il({},y),k),{},{range:E,radius:v,realScaleType:A,scale:R,cx:d,cy:f,innerRadius:p,outerRadius:v,startAngle:c,endAngle:u});return il(il({},b),{},UJ({},w,O))},{})},O9e=function(e,r){var n=e.x,i=e.y,s=r.x,a=r.y;return Math.sqrt(Math.pow(n-s,2)+Math.pow(i-a,2))},M9e=function(e,r){var n=e.x,i=e.y,s=r.cx,a=r.cy,o=O9e({x:n,y:i},{x:s,y:a});if(o<=0)return{radius:o};var c=(n-s)/o,u=Math.acos(c);return i>a&&(u=2*Math.PI-u),{radius:o,angle:k9e(u),angleInRadian:u}},D9e=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),s=Math.floor(n/360),a=Math.min(i,s);return{startAngle:r-a*360,endAngle:n-a*360}},L9e=function(e,r){var n=r.startAngle,i=r.endAngle,s=Math.floor(n/360),a=Math.floor(i/360),o=Math.min(s,a);return e+o*360},b6=function(e,r){var n=e.x,i=e.y,s=M9e({x:n,y:i},r),a=s.radius,o=s.angle,c=r.innerRadius,u=r.outerRadius;if(a<c||a>u)return!1;if(a===0)return!0;var d=D9e(r),f=d.startAngle,h=d.endAngle,p=o,v;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;v=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;v=p>=h&&p<=f}return v?il(il({},r),{},{radius:a,angle:L9e(p,r)}):null},qJ=function(e){return!g.isValidElement(e)&&!St(e)&&typeof e!="boolean"?e.className:""};function Ty(t){"@babel/helpers - typeof";return Ty=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ty(t)}var $9e=["offset"];function F9e(t){return z9e(t)||U9e(t)||B9e(t)||V9e()}function V9e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function B9e(t,e){if(t){if(typeof t=="string")return MP(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return MP(t,e)}}function U9e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function z9e(t){if(Array.isArray(t))return MP(t)}function MP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function q9e(t,e){if(t==null)return{};var r=W9e(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function W9e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function w6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?w6(Object(r),!0).forEach(function(n){H9e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):w6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function H9e(t,e,r){return e=K9e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function K9e(t){var e=G9e(t,"string");return Ty(e)=="symbol"?e:e+""}function G9e(t,e){if(Ty(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ty(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jy(){return jy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jy.apply(this,arguments)}var Y9e=function(e){var r=e.value,n=e.formatter,i=Ot(e.children)?r:e.children;return St(n)?n(i):i},X9e=function(e,r){var n=Ws(r-e),i=Math.min(Math.abs(r-e),360);return n*i},Q9e=function(e,r,n){var i=e.position,s=e.viewBox,a=e.offset,o=e.className,c=s,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,p=c.startAngle,v=c.endAngle,m=c.clockWise,b=(f+h)/2,w=X9e(p,v),y=w>=0?1:-1,_,S;i==="insideStart"?(_=p+y*a,S=m):i==="insideEnd"?(_=v-y*a,S=!m):i==="end"&&(_=v+y*a,S=m),S=w<=0?S:!S;var E=vr(u,d,b,_),N=vr(u,d,b,_+(S?1:-1)*359),T="M".concat(E.x,",").concat(E.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(S?0:1,`,
    `).concat(N.x,",").concat(N.y),j=Ot(e.id)?gS("recharts-radial-line-"):e.id;return B.createElement("text",jy({},n,{dominantBaseline:"central",className:$t("recharts-radial-bar-label",o)}),B.createElement("defs",null,B.createElement("path",{id:j,d:T})),B.createElement("textPath",{xlinkHref:"#".concat(j)},r))},Z9e=function(e){var r=e.viewBox,n=e.offset,i=e.position,s=r,a=s.cx,o=s.cy,c=s.innerRadius,u=s.outerRadius,d=s.startAngle,f=s.endAngle,h=(d+f)/2;if(i==="outside"){var p=vr(a,o,u+n,h),v=p.x,m=p.y;return{x:v,y:m,textAnchor:v>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:o,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:o,textAnchor:"middle",verticalAnchor:"end"};var b=(c+u)/2,w=vr(a,o,b,h),y=w.x,_=w.y;return{x:y,y:_,textAnchor:"middle",verticalAnchor:"middle"}},J9e=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,s=e.position,a=r,o=a.x,c=a.y,u=a.width,d=a.height,f=d>=0?1:-1,h=f*i,p=f>0?"end":"start",v=f>0?"start":"end",m=u>=0?1:-1,b=m*i,w=m>0?"end":"start",y=m>0?"start":"end";if(s==="top"){var _={x:o+u/2,y:c-f*i,textAnchor:"middle",verticalAnchor:p};return gn(gn({},_),n?{height:Math.max(c-n.y,0),width:u}:{})}if(s==="bottom"){var S={x:o+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:v};return gn(gn({},S),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(s==="left"){var E={x:o-b,y:c+d/2,textAnchor:w,verticalAnchor:"middle"};return gn(gn({},E),n?{width:Math.max(E.x-n.x,0),height:d}:{})}if(s==="right"){var N={x:o+u+b,y:c+d/2,textAnchor:y,verticalAnchor:"middle"};return gn(gn({},N),n?{width:Math.max(n.x+n.width-N.x,0),height:d}:{})}var T=n?{width:u,height:d}:{};return s==="insideLeft"?gn({x:o+b,y:c+d/2,textAnchor:y,verticalAnchor:"middle"},T):s==="insideRight"?gn({x:o+u-b,y:c+d/2,textAnchor:w,verticalAnchor:"middle"},T):s==="insideTop"?gn({x:o+u/2,y:c+h,textAnchor:"middle",verticalAnchor:v},T):s==="insideBottom"?gn({x:o+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:p},T):s==="insideTopLeft"?gn({x:o+b,y:c+h,textAnchor:y,verticalAnchor:v},T):s==="insideTopRight"?gn({x:o+u-b,y:c+h,textAnchor:w,verticalAnchor:v},T):s==="insideBottomLeft"?gn({x:o+b,y:c+d-h,textAnchor:y,verticalAnchor:p},T):s==="insideBottomRight"?gn({x:o+u-b,y:c+d-h,textAnchor:w,verticalAnchor:p},T):jm(s)&&(Le(s.x)||vd(s.x))&&(Le(s.y)||vd(s.y))?gn({x:o+Wi(s.x,u),y:c+Wi(s.y,d),textAnchor:"end",verticalAnchor:"end"},T):gn({x:o+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},T)},eze=function(e){return"cx"in e&&Le(e.cx)};function Fn(t){var e=t.offset,r=e===void 0?5:e,n=q9e(t,$9e),i=gn({offset:r},n),s=i.viewBox,a=i.position,o=i.value,c=i.children,u=i.content,d=i.className,f=d===void 0?"":d,h=i.textBreakAll;if(!s||Ot(o)&&Ot(c)&&!g.isValidElement(u)&&!St(u))return null;if(g.isValidElement(u))return g.cloneElement(u,i);var p;if(St(u)){if(p=g.createElement(u,i),g.isValidElement(p))return p}else p=Y9e(i);var v=eze(s),m=_t(i,!0);if(v&&(a==="insideStart"||a==="insideEnd"||a==="end"))return Q9e(i,p,m);var b=v?Z9e(i):J9e(i);return B.createElement($p,jy({className:$t("recharts-label",f)},m,b,{breakAll:h}),p)}Fn.displayName="Label";var WJ=function(e){var r=e.cx,n=e.cy,i=e.angle,s=e.startAngle,a=e.endAngle,o=e.r,c=e.radius,u=e.innerRadius,d=e.outerRadius,f=e.x,h=e.y,p=e.top,v=e.left,m=e.width,b=e.height,w=e.clockWise,y=e.labelViewBox;if(y)return y;if(Le(m)&&Le(b)){if(Le(f)&&Le(h))return{x:f,y:h,width:m,height:b};if(Le(p)&&Le(v))return{x:p,y:v,width:m,height:b}}return Le(f)&&Le(h)?{x:f,y:h,width:0,height:0}:Le(r)&&Le(n)?{cx:r,cy:n,startAngle:s||i||0,endAngle:a||i||0,innerRadius:u||0,outerRadius:d||c||o||0,clockWise:w}:e.viewBox?e.viewBox:{}},tze=function(e,r){return e?e===!0?B.createElement(Fn,{key:"label-implicit",viewBox:r}):_n(e)?B.createElement(Fn,{key:"label-implicit",viewBox:r,value:e}):g.isValidElement(e)?e.type===Fn?g.cloneElement(e,{key:"label-implicit",viewBox:r}):B.createElement(Fn,{key:"label-implicit",content:e,viewBox:r}):St(e)?B.createElement(Fn,{key:"label-implicit",content:e,viewBox:r}):jm(e)?B.createElement(Fn,jy({viewBox:r},e,{key:"label-implicit"})):null:null},rze=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,s=WJ(e),a=Ao(i,Fn).map(function(c,u){return g.cloneElement(c,{viewBox:r||s,key:"label-".concat(u)})});if(!n)return a;var o=tze(e.label,r||s);return[o].concat(F9e(a))};Fn.parseViewBox=WJ;Fn.renderCallByParent=rze;function nze(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var ize=nze;const sze=ir(ize);function Cy(t){"@babel/helpers - typeof";return Cy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cy(t)}var aze=["valueAccessor"],oze=["data","dataKey","clockWise","id","textBreakAll"];function lze(t){return fze(t)||dze(t)||uze(t)||cze()}function cze(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uze(t,e){if(t){if(typeof t=="string")return DP(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DP(t,e)}}function dze(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function fze(t){if(Array.isArray(t))return DP(t)}function DP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Q_(){return Q_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Q_.apply(this,arguments)}function _6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function E6(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_6(Object(r),!0).forEach(function(n){hze(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hze(t,e,r){return e=pze(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pze(t){var e=mze(t,"string");return Cy(e)=="symbol"?e:e+""}function mze(t,e){if(Cy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Cy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function S6(t,e){if(t==null)return{};var r=gze(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function gze(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var vze=function(e){return Array.isArray(e.value)?sze(e.value):e.value};function Vd(t){var e=t.valueAccessor,r=e===void 0?vze:e,n=S6(t,aze),i=n.data,s=n.dataKey,a=n.clockWise,o=n.id,c=n.textBreakAll,u=S6(n,oze);return!i||!i.length?null:B.createElement(Zr,{className:"recharts-label-list"},i.map(function(d,f){var h=Ot(s)?r(d,f):ps(d&&d.payload,s),p=Ot(o)?{}:{id:"".concat(o,"-").concat(f)};return B.createElement(Fn,Q_({},_t(d,!0),u,p,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:Fn.parseViewBox(Ot(a)?d:E6(E6({},d),{},{clockWise:a})),key:"label-".concat(f),index:f}))}))}Vd.displayName="LabelList";function yze(t,e){return t?t===!0?B.createElement(Vd,{key:"labelList-implicit",data:e}):B.isValidElement(t)||St(t)?B.createElement(Vd,{key:"labelList-implicit",data:e,content:t}):jm(t)?B.createElement(Vd,Q_({data:e},t,{key:"labelList-implicit"})):null:null}function xze(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=Ao(n,Vd).map(function(a,o){return g.cloneElement(a,{data:e,key:"labelList-".concat(o)})});if(!r)return i;var s=yze(t.label,e);return[s].concat(lze(i))}Vd.renderCallByParent=xze;function Ay(t){"@babel/helpers - typeof";return Ay=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ay(t)}function LP(){return LP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},LP.apply(this,arguments)}function N6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function T6(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?N6(Object(r),!0).forEach(function(n){bze(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):N6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bze(t,e,r){return e=wze(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wze(t){var e=_ze(t,"string");return Ay(e)=="symbol"?e:e+""}function _ze(t,e){if(Ay(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ay(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Eze=function(e,r){var n=Ws(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},gb=function(e){var r=e.cx,n=e.cy,i=e.radius,s=e.angle,a=e.sign,o=e.isExternal,c=e.cornerRadius,u=e.cornerIsExternal,d=c*(o?1:-1)+i,f=Math.asin(c/d)/X_,h=u?s:s+a*f,p=vr(r,n,d,h),v=vr(r,n,i,h),m=u?s-a*f:s,b=vr(r,n,d*Math.cos(f*X_),m);return{center:p,circleTangency:v,lineTangency:b,theta:f}},HJ=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,s=e.outerRadius,a=e.startAngle,o=e.endAngle,c=Eze(a,o),u=a+c,d=vr(r,n,s,a),f=vr(r,n,s,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(a>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var p=vr(r,n,i,a),v=vr(r,n,i,u);h+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(a<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},Sze=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,s=e.outerRadius,a=e.cornerRadius,o=e.forceCornerRadius,c=e.cornerIsExternal,u=e.startAngle,d=e.endAngle,f=Ws(d-u),h=gb({cx:r,cy:n,radius:s,angle:u,sign:f,cornerRadius:a,cornerIsExternal:c}),p=h.circleTangency,v=h.lineTangency,m=h.theta,b=gb({cx:r,cy:n,radius:s,angle:d,sign:-f,cornerRadius:a,cornerIsExternal:c}),w=b.circleTangency,y=b.lineTangency,_=b.theta,S=c?Math.abs(u-d):Math.abs(u-d)-m-_;if(S<0)return o?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):HJ({cx:r,cy:n,innerRadius:i,outerRadius:s,startAngle:u,endAngle:d});var E="M ".concat(v.x,",").concat(v.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(S>180),",").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
  `);if(i>0){var N=gb({cx:r,cy:n,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:a,cornerIsExternal:c}),T=N.circleTangency,j=N.lineTangency,A=N.theta,R=gb({cx:r,cy:n,radius:i,angle:d,sign:-f,isExternal:!0,cornerRadius:a,cornerIsExternal:c}),k=R.circleTangency,O=R.lineTangency,P=R.theta,D=c?Math.abs(u-d):Math.abs(u-d)-A-P;if(D<0&&a===0)return"".concat(E,"L").concat(r,",").concat(n,"Z");E+="L".concat(O.x,",").concat(O.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(k.x,",").concat(k.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(D>180),",").concat(+(f>0),",").concat(T.x,",").concat(T.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(j.x,",").concat(j.y,"Z")}else E+="L".concat(r,",").concat(n,"Z");return E},Nze={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},KJ=function(e){var r=T6(T6({},Nze),e),n=r.cx,i=r.cy,s=r.innerRadius,a=r.outerRadius,o=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(a<s||d===f)return null;var p=$t("recharts-sector",h),v=a-s,m=Wi(o,v,0,!0),b;return m>0&&Math.abs(d-f)<360?b=Sze({cx:n,cy:i,innerRadius:s,outerRadius:a,cornerRadius:Math.min(m,v/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):b=HJ({cx:n,cy:i,innerRadius:s,outerRadius:a,startAngle:d,endAngle:f}),B.createElement("path",LP({},_t(r,!0),{className:p,d:b,role:"img"}))};function Py(t){"@babel/helpers - typeof";return Py=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Py(t)}function $P(){return $P=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$P.apply(this,arguments)}function j6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function C6(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?j6(Object(r),!0).forEach(function(n){Tze(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):j6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Tze(t,e,r){return e=jze(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jze(t){var e=Cze(t,"string");return Py(e)=="symbol"?e:e+""}function Cze(t,e){if(Py(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Py(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var A6={curveBasisClosed:SIe,curveBasisOpen:NIe,curveBasis:EIe,curveBumpX:cIe,curveBumpY:uIe,curveLinearClosed:TIe,curveLinear:bS,curveMonotoneX:jIe,curveMonotoneY:CIe,curveNatural:AIe,curveStep:PIe,curveStepAfter:kIe,curveStepBefore:RIe},vb=function(e){return e.x===+e.x&&e.y===+e.y},pg=function(e){return e.x},mg=function(e){return e.y},Aze=function(e,r){if(St(e))return e;var n="curve".concat(yS(e));return(n==="curveMonotone"||n==="curveBump")&&r?A6["".concat(n).concat(r==="vertical"?"Y":"X")]:A6[n]||bS},Pze=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,s=i===void 0?[]:i,a=e.baseLine,o=e.layout,c=e.connectNulls,u=c===void 0?!1:c,d=Aze(n,o),f=u?s.filter(function(m){return vb(m)}):s,h;if(Array.isArray(a)){var p=u?a.filter(function(m){return vb(m)}):a,v=f.map(function(m,b){return C6(C6({},m),{},{base:p[b]})});return o==="vertical"?h=ob().y(mg).x1(pg).x0(function(m){return m.base.x}):h=ob().x(pg).y1(mg).y0(function(m){return m.base.y}),h.defined(vb).curve(d),h(v)}return o==="vertical"&&Le(a)?h=ob().y(mg).x1(pg).x0(a):Le(a)?h=ob().x(pg).y1(mg).y0(a):h=HQ().x(pg).y(mg),h.defined(vb).curve(d),h(f)},FP=function(e){var r=e.className,n=e.points,i=e.path,s=e.pathRef;if((!n||!n.length)&&!i)return null;var a=n&&n.length?Pze(e):i;return B.createElement("path",$P({},_t(e,!1),E_(e),{className:$t("recharts-curve",r),d:a,ref:s}))},GJ={exports:{}},Rze="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",kze=Rze,Ize=kze;function YJ(){}function XJ(){}XJ.resetWarningCache=YJ;var Oze=function(){function t(n,i,s,a,o,c){if(c!==Ize){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:XJ,resetWarningCache:YJ};return r.PropTypes=r,r};GJ.exports=Oze();var Mze=GJ.exports;const Gt=ir(Mze);var Dze=Object.getOwnPropertyNames,Lze=Object.getOwnPropertySymbols,$ze=Object.prototype.hasOwnProperty;function P6(t,e){return function(n,i,s){return t(n,i,s)&&e(n,i,s)}}function yb(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);var s=i.cache,a=s.get(r),o=s.get(n);if(a&&o)return a===n&&o===r;s.set(r,n),s.set(n,r);var c=t(r,n,i);return s.delete(r),s.delete(n),c}}function R6(t){return Dze(t).concat(Lze(t))}var Fze=Object.hasOwn||function(t,e){return $ze.call(t,e)};function kf(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var Vze="__v",Bze="__o",Uze="_owner",k6=Object.getOwnPropertyDescriptor,I6=Object.keys;function zze(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function qze(t,e){return kf(t.getTime(),e.getTime())}function Wze(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Hze(t,e){return t===e}function O6(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),s=t.entries(),a,o,c=0;(a=s.next())&&!a.done;){for(var u=e.entries(),d=!1,f=0;(o=u.next())&&!o.done;){if(i[f]){f++;continue}var h=a.value,p=o.value;if(r.equals(h[0],p[0],c,f,t,e,r)&&r.equals(h[1],p[1],h[0],p[0],t,e,r)){d=i[f]=!0;break}f++}if(!d)return!1;c++}return!0}var Kze=kf;function Gze(t,e,r){var n=I6(t),i=n.length;if(I6(e).length!==i)return!1;for(;i-- >0;)if(!QJ(t,e,r,n[i]))return!1;return!0}function gg(t,e,r){var n=R6(t),i=n.length;if(R6(e).length!==i)return!1;for(var s,a,o;i-- >0;)if(s=n[i],!QJ(t,e,r,s)||(a=k6(t,s),o=k6(e,s),(a||o)&&(!a||!o||a.configurable!==o.configurable||a.enumerable!==o.enumerable||a.writable!==o.writable)))return!1;return!0}function Yze(t,e){return kf(t.valueOf(),e.valueOf())}function Xze(t,e){return t.source===e.source&&t.flags===e.flags}function M6(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),s=t.values(),a,o;(a=s.next())&&!a.done;){for(var c=e.values(),u=!1,d=0;(o=c.next())&&!o.done;){if(!i[d]&&r.equals(a.value,o.value,a.value,o.value,t,e,r)){u=i[d]=!0;break}d++}if(!u)return!1}return!0}function Qze(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function Zze(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function QJ(t,e,r,n){return(n===Uze||n===Bze||n===Vze)&&(t.$$typeof||e.$$typeof)?!0:Fze(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var Jze="[object Arguments]",e8e="[object Boolean]",t8e="[object Date]",r8e="[object Error]",n8e="[object Map]",i8e="[object Number]",s8e="[object Object]",a8e="[object RegExp]",o8e="[object Set]",l8e="[object String]",c8e="[object URL]",u8e=Array.isArray,D6=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,L6=Object.assign,d8e=Object.prototype.toString.call.bind(Object.prototype.toString);function f8e(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,i=t.areFunctionsEqual,s=t.areMapsEqual,a=t.areNumbersEqual,o=t.areObjectsEqual,c=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,d=t.areSetsEqual,f=t.areTypedArraysEqual,h=t.areUrlsEqual;return function(v,m,b){if(v===m)return!0;if(v==null||m==null)return!1;var w=typeof v;if(w!==typeof m)return!1;if(w!=="object")return w==="number"?a(v,m,b):w==="function"?i(v,m,b):!1;var y=v.constructor;if(y!==m.constructor)return!1;if(y===Object)return o(v,m,b);if(u8e(v))return e(v,m,b);if(D6!=null&&D6(v))return f(v,m,b);if(y===Date)return r(v,m,b);if(y===RegExp)return u(v,m,b);if(y===Map)return s(v,m,b);if(y===Set)return d(v,m,b);var _=d8e(v);return _===t8e?r(v,m,b):_===a8e?u(v,m,b):_===n8e?s(v,m,b):_===o8e?d(v,m,b):_===s8e?typeof v.then!="function"&&typeof m.then!="function"&&o(v,m,b):_===c8e?h(v,m,b):_===r8e?n(v,m,b):_===Jze?o(v,m,b):_===e8e||_===i8e||_===l8e?c(v,m,b):!1}}function h8e(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,i={areArraysEqual:n?gg:zze,areDatesEqual:qze,areErrorsEqual:Wze,areFunctionsEqual:Hze,areMapsEqual:n?P6(O6,gg):O6,areNumbersEqual:Kze,areObjectsEqual:n?gg:Gze,arePrimitiveWrappersEqual:Yze,areRegExpsEqual:Xze,areSetsEqual:n?P6(M6,gg):M6,areTypedArraysEqual:n?gg:Qze,areUrlsEqual:Zze};if(r&&(i=L6({},i,r(i))),e){var s=yb(i.areArraysEqual),a=yb(i.areMapsEqual),o=yb(i.areObjectsEqual),c=yb(i.areSetsEqual);i=L6({},i,{areArraysEqual:s,areMapsEqual:a,areObjectsEqual:o,areSetsEqual:c})}return i}function p8e(t){return function(e,r,n,i,s,a,o){return t(e,r,o)}}function m8e(t){var e=t.circular,r=t.comparator,n=t.createState,i=t.equals,s=t.strict;if(n)return function(c,u){var d=n(),f=d.cache,h=f===void 0?e?new WeakMap:void 0:f,p=d.meta;return r(c,u,{cache:h,equals:i,meta:p,strict:s})};if(e)return function(c,u){return r(c,u,{cache:new WeakMap,equals:i,meta:void 0,strict:s})};var a={cache:void 0,equals:i,meta:void 0,strict:s};return function(c,u){return r(c,u,a)}}var g8e=Lu();Lu({strict:!0});Lu({circular:!0});Lu({circular:!0,strict:!0});Lu({createInternalComparator:function(){return kf}});Lu({strict:!0,createInternalComparator:function(){return kf}});Lu({circular:!0,createInternalComparator:function(){return kf}});Lu({circular:!0,createInternalComparator:function(){return kf},strict:!0});function Lu(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,i=t.createState,s=t.strict,a=s===void 0?!1:s,o=h8e(t),c=f8e(o),u=n?n(c):p8e(c);return m8e({circular:r,comparator:c,createState:i,equals:u,strict:a})}function v8e(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function $6(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(s){r<0&&(r=s),s-r>e?(t(s),r=-1):v8e(i)};requestAnimationFrame(n)}function VP(t){"@babel/helpers - typeof";return VP=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},VP(t)}function y8e(t){return _8e(t)||w8e(t)||b8e(t)||x8e()}function x8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b8e(t,e){if(t){if(typeof t=="string")return F6(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return F6(t,e)}}function F6(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function w8e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _8e(t){if(Array.isArray(t))return t}function E8e(){var t={},e=function(){return null},r=!1,n=function i(s){if(!r){if(Array.isArray(s)){if(!s.length)return;var a=s,o=y8e(a),c=o[0],u=o.slice(1);if(typeof c=="number"){$6(i.bind(null,u),c);return}i(c),$6(i.bind(null,u));return}VP(s)==="object"&&(t=s,e(t)),typeof s=="function"&&s()}};return{stop:function(){r=!0},start:function(s){r=!1,n(s)},subscribe:function(s){return e=s,function(){e=function(){return null}}}}}function Ry(t){"@babel/helpers - typeof";return Ry=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ry(t)}function V6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function B6(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?V6(Object(r),!0).forEach(function(n){ZJ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):V6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ZJ(t,e,r){return e=S8e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function S8e(t){var e=N8e(t,"string");return Ry(e)==="symbol"?e:String(e)}function N8e(t,e){if(Ry(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ry(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var T8e=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(s){return i.includes(s)})})},j8e=function(e){return e},C8e=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},cv=function(e,r){return Object.keys(r).reduce(function(n,i){return B6(B6({},n),{},ZJ({},i,e(i,r[i])))},{})},U6=function(e,r,n){return e.map(function(i){return"".concat(C8e(i)," ").concat(r,"ms ").concat(n)}).join(",")};function A8e(t,e){return k8e(t)||R8e(t,e)||JJ(t,e)||P8e()}function P8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R8e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function k8e(t){if(Array.isArray(t))return t}function I8e(t){return D8e(t)||M8e(t)||JJ(t)||O8e()}function O8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JJ(t,e){if(t){if(typeof t=="string")return BP(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return BP(t,e)}}function M8e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function D8e(t){if(Array.isArray(t))return BP(t)}function BP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Z_=1e-4,eee=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},tee=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},z6=function(e,r){return function(n){var i=eee(e,r);return tee(i,n)}},L8e=function(e,r){return function(n){var i=eee(e,r),s=[].concat(I8e(i.map(function(a,o){return a*o}).slice(1)),[0]);return tee(s,n)}},q6=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],s=r[1],a=r[2],o=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,s=0,a=1,o=1;break;case"ease":i=.25,s=.1,a=.25,o=1;break;case"ease-in":i=.42,s=0,a=1,o=1;break;case"ease-out":i=.42,s=0,a=.58,o=1;break;case"ease-in-out":i=0,s=0,a=.58,o=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),d=A8e(u,4);i=d[0],s=d[1],a=d[2],o=d[3]}}}var f=z6(i,a),h=z6(s,o),p=L8e(i,a),v=function(w){return w>1?1:w<0?0:w},m=function(w){for(var y=w>1?1:w,_=y,S=0;S<8;++S){var E=f(_)-y,N=p(_);if(Math.abs(E-y)<Z_||N<Z_)return h(_);_=v(_-E/N)}return h(_)};return m.isStepper=!1,m},$8e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,s=i===void 0?8:i,a=e.dt,o=a===void 0?17:a,c=function(d,f,h){var p=-(d-f)*n,v=h*s,m=h+(p-v)*o/1e3,b=h*o/1e3+d;return Math.abs(b-f)<Z_&&Math.abs(m)<Z_?[f,0]:[b,m]};return c.isStepper=!0,c.dt=o,c},F8e=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return q6(i);case"spring":return $8e();default:if(i.split("(")[0]==="cubic-bezier")return q6(i)}return typeof i=="function"?i:null};function ky(t){"@babel/helpers - typeof";return ky=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ky(t)}function W6(t){return U8e(t)||B8e(t)||ree(t)||V8e()}function V8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function B8e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function U8e(t){if(Array.isArray(t))return zP(t)}function H6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Mn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?H6(Object(r),!0).forEach(function(n){UP(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):H6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function UP(t,e,r){return e=z8e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function z8e(t){var e=q8e(t,"string");return ky(e)==="symbol"?e:String(e)}function q8e(t,e){if(ky(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ky(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function W8e(t,e){return G8e(t)||K8e(t,e)||ree(t,e)||H8e()}function H8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ree(t,e){if(t){if(typeof t=="string")return zP(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zP(t,e)}}function zP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function K8e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function G8e(t){if(Array.isArray(t))return t}var J_=function(e,r,n){return e+(r-e)*n},qP=function(e){var r=e.from,n=e.to;return r!==n},Y8e=function t(e,r,n){var i=cv(function(s,a){if(qP(a)){var o=e(a.from,a.to,a.velocity),c=W8e(o,2),u=c[0],d=c[1];return Mn(Mn({},a),{},{from:u,velocity:d})}return a},r);return n<1?cv(function(s,a){return qP(a)?Mn(Mn({},a),{},{velocity:J_(a.velocity,i[s].velocity,n),from:J_(a.from,i[s].from,n)}):a},r):t(e,i,n-1)};const X8e=function(t,e,r,n,i){var s=T8e(t,e),a=s.reduce(function(b,w){return Mn(Mn({},b),{},UP({},w,[t[w],e[w]]))},{}),o=s.reduce(function(b,w){return Mn(Mn({},b),{},UP({},w,{from:t[w],velocity:0,to:e[w]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return cv(function(w,y){return y.from},o)},p=function(){return!Object.values(o).filter(qP).length},v=function(w){u||(u=w);var y=w-u,_=y/r.dt;o=Y8e(r,o,_),i(Mn(Mn(Mn({},t),e),h())),u=w,p()||(c=requestAnimationFrame(f))},m=function(w){d||(d=w);var y=(w-d)/n,_=cv(function(E,N){return J_.apply(void 0,W6(N).concat([r(y)]))},a);if(i(Mn(Mn(Mn({},t),e),_)),y<1)c=requestAnimationFrame(f);else{var S=cv(function(E,N){return J_.apply(void 0,W6(N).concat([r(1)]))},a);i(Mn(Mn(Mn({},t),e),S))}};return f=r.isStepper?v:m,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function qp(t){"@babel/helpers - typeof";return qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qp(t)}var Q8e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Z8e(t,e){if(t==null)return{};var r=J8e(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function J8e(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function aj(t){return nqe(t)||rqe(t)||tqe(t)||eqe()}function eqe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tqe(t,e){if(t){if(typeof t=="string")return WP(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return WP(t,e)}}function rqe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function nqe(t){if(Array.isArray(t))return WP(t)}function WP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function K6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ua(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?K6(Object(r),!0).forEach(function(n){Dg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):K6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Dg(t,e,r){return e=nee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iqe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sqe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,nee(n.key),n)}}function aqe(t,e,r){return e&&sqe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function nee(t){var e=oqe(t,"string");return qp(e)==="symbol"?e:String(e)}function oqe(t,e){if(qp(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qp(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lqe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&HP(t,e)}function HP(t,e){return HP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},HP(t,e)}function cqe(t){var e=uqe();return function(){var n=e1(t),i;if(e){var s=e1(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return KP(this,i)}}function KP(t,e){if(e&&(qp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GP(t)}function GP(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uqe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function e1(t){return e1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},e1(t)}var hu=function(t){lqe(r,t);var e=cqe(r);function r(n,i){var s;iqe(this,r),s=e.call(this,n,i);var a=s.props,o=a.isActive,c=a.attributeName,u=a.from,d=a.to,f=a.steps,h=a.children,p=a.duration;if(s.handleStyleChange=s.handleStyleChange.bind(GP(s)),s.changeStyle=s.changeStyle.bind(GP(s)),!o||p<=0)return s.state={style:{}},typeof h=="function"&&(s.state={style:d}),KP(s);if(f&&f.length)s.state={style:f[0].style};else if(u){if(typeof h=="function")return s.state={style:u},KP(s);s.state={style:c?Dg({},c,u):u}}else s.state={style:{}};return s}return aqe(r,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,a=i.canBegin;this.mounted=!0,!(!s||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,a=s.isActive,o=s.canBegin,c=s.attributeName,u=s.shouldReAnimate,d=s.to,f=s.from,h=this.state.style;if(o){if(!a){var p={style:c?Dg({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(p);return}if(!(g8e(i.to,d)&&i.canBegin&&i.isActive)){var v=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=v||u?f:i.to;if(this.state&&h){var b={style:c?Dg({},c,m):m};(c&&h[c]!==m||!c&&h!==m)&&this.setState(b)}this.runAnimation(ua(ua({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,a=i.from,o=i.to,c=i.duration,u=i.easing,d=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,p=X8e(a,o,F8e(u),c,this.changeStyle),v=function(){s.stopJSAnimation=p()};this.manager.start([h,d,v,c,f])}},{key:"runStepAnimation",value:function(i){var s=this,a=i.steps,o=i.begin,c=i.onAnimationStart,u=a[0],d=u.style,f=u.duration,h=f===void 0?0:f,p=function(m,b,w){if(w===0)return m;var y=b.duration,_=b.easing,S=_===void 0?"ease":_,E=b.style,N=b.properties,T=b.onAnimationEnd,j=w>0?a[w-1]:b,A=N||Object.keys(E);if(typeof S=="function"||S==="spring")return[].concat(aj(m),[s.runJSAnimation.bind(s,{from:j.style,to:E,duration:y,easing:S}),y]);var R=U6(A,y,S),k=ua(ua(ua({},j.style),E),{},{transition:R});return[].concat(aj(m),[k,y,T]).filter(j8e)};return this.manager.start([c].concat(aj(a.reduce(p,[d,Math.max(h,o)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=E8e());var s=i.begin,a=i.duration,o=i.attributeName,c=i.to,u=i.easing,d=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,p=i.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var m=o?Dg({},o,c):c,b=U6(Object.keys(m),a,u);v.start([d,s,ua(ua({},m),{},{transition:b}),a,f])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var o=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=Z8e(i,Q8e),u=g.Children.count(s),d=this.state.style;if(typeof s=="function")return s(d);if(!o||u===0||a<=0)return s;var f=function(p){var v=p.props,m=v.style,b=m===void 0?{}:m,w=v.className,y=g.cloneElement(p,ua(ua({},c),{},{style:ua(ua({},b),d),className:w}));return y};return u===1?f(g.Children.only(s)):B.createElement("div",null,g.Children.map(s,function(h){return f(h)}))}}]),r}(g.PureComponent);hu.displayName="Animate";hu.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};hu.propTypes={from:Gt.oneOfType([Gt.object,Gt.string]),to:Gt.oneOfType([Gt.object,Gt.string]),attributeName:Gt.string,duration:Gt.number,begin:Gt.number,easing:Gt.oneOfType([Gt.string,Gt.func]),steps:Gt.arrayOf(Gt.shape({duration:Gt.number.isRequired,style:Gt.object.isRequired,easing:Gt.oneOfType([Gt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Gt.func]),properties:Gt.arrayOf("string"),onAnimationEnd:Gt.func})),children:Gt.oneOfType([Gt.node,Gt.func]),isActive:Gt.bool,canBegin:Gt.bool,onAnimationEnd:Gt.func,shouldReAnimate:Gt.bool,onAnimationStart:Gt.func,onAnimationReStart:Gt.func};function Iy(t){"@babel/helpers - typeof";return Iy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Iy(t)}function t1(){return t1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},t1.apply(this,arguments)}function dqe(t,e){return mqe(t)||pqe(t,e)||hqe(t,e)||fqe()}function fqe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hqe(t,e){if(t){if(typeof t=="string")return G6(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return G6(t,e)}}function G6(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function pqe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function mqe(t){if(Array.isArray(t))return t}function Y6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function X6(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Y6(Object(r),!0).forEach(function(n){gqe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Y6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gqe(t,e,r){return e=vqe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vqe(t){var e=yqe(t,"string");return Iy(e)=="symbol"?e:e+""}function yqe(t,e){if(Iy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Iy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Q6=function(e,r,n,i,s){var a=Math.min(Math.abs(n)/2,Math.abs(i)/2),o=i>=0?1:-1,c=n>=0?1:-1,u=i>=0&&n>=0||i<0&&n<0?1:0,d;if(a>0&&s instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=s[h]>a?a:s[h];d="M".concat(e,",").concat(r+o*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+c*f[0],",").concat(r)),d+="L ".concat(e+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+n,",").concat(r+o*f[1])),d+="L ".concat(e+n,",").concat(r+i-o*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+n-c*f[2],",").concat(r+i)),d+="L ".concat(e+c*f[3],",").concat(r+i),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(r+i-o*f[3])),d+="Z"}else if(a>0&&s===+s&&s>0){var v=Math.min(a,s);d="M ".concat(e,",").concat(r+o*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+c*v,",").concat(r,`
            L `).concat(e+n-c*v,",").concat(r,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+n,",").concat(r+o*v,`
            L `).concat(e+n,",").concat(r+i-o*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+n-c*v,",").concat(r+i,`
            L `).concat(e+c*v,",").concat(r+i,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e,",").concat(r+i-o*v," Z")}else d="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return d},xqe=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,s=r.x,a=r.y,o=r.width,c=r.height;if(Math.abs(o)>0&&Math.abs(c)>0){var u=Math.min(s,s+o),d=Math.max(s,s+o),f=Math.min(a,a+c),h=Math.max(a,a+c);return n>=u&&n<=d&&i>=f&&i<=h}return!1},bqe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},yM=function(e){var r=X6(X6({},bqe),e),n=g.useRef(),i=g.useState(-1),s=dqe(i,2),a=s[0],o=s[1];g.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var S=n.current.getTotalLength();S&&o(S)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,p=r.className,v=r.animationEasing,m=r.animationDuration,b=r.animationBegin,w=r.isAnimationActive,y=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var _=$t("recharts-rectangle",p);return y?B.createElement(hu,{canBegin:a>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:m,animationEasing:v,isActive:y},function(S){var E=S.width,N=S.height,T=S.x,j=S.y;return B.createElement(hu,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:m,isActive:w,easing:v},B.createElement("path",t1({},_t(r,!0),{className:_,d:Q6(T,j,E,N,h),ref:n})))}):B.createElement("path",t1({},_t(r,!0),{className:_,d:Q6(c,u,d,f,h)}))},wqe=["points","className","baseLinePoints","connectNulls"];function wh(){return wh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wh.apply(this,arguments)}function _qe(t,e){if(t==null)return{};var r=Eqe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Eqe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Z6(t){return jqe(t)||Tqe(t)||Nqe(t)||Sqe()}function Sqe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nqe(t,e){if(t){if(typeof t=="string")return YP(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return YP(t,e)}}function Tqe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function jqe(t){if(Array.isArray(t))return YP(t)}function YP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var J6=function(e){return e&&e.x===+e.x&&e.y===+e.y},Cqe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){J6(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),J6(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},uv=function(e,r){var n=Cqe(e);r&&(n=[n.reduce(function(s,a){return[].concat(Z6(s),Z6(a))},[])]);var i=n.map(function(s){return s.reduce(function(a,o,c){return"".concat(a).concat(c===0?"M":"L").concat(o.x,",").concat(o.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},Aqe=function(e,r,n){var i=uv(e,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(uv(r.reverse(),n).slice(1))},Pqe=function(e){var r=e.points,n=e.className,i=e.baseLinePoints,s=e.connectNulls,a=_qe(e,wqe);if(!r||!r.length)return null;var o=$t("recharts-polygon",n);if(i&&i.length){var c=a.stroke&&a.stroke!=="none",u=Aqe(r,i,s);return B.createElement("g",{className:o},B.createElement("path",wh({},_t(a,!0),{fill:u.slice(-1)==="Z"?a.fill:"none",stroke:"none",d:u})),c?B.createElement("path",wh({},_t(a,!0),{fill:"none",d:uv(r,s)})):null,c?B.createElement("path",wh({},_t(a,!0),{fill:"none",d:uv(i,s)})):null)}var d=uv(r,s);return B.createElement("path",wh({},_t(a,!0),{fill:d.slice(-1)==="Z"?a.fill:"none",className:o,d}))};function XP(){return XP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},XP.apply(this,arguments)}var xM=function(e){var r=e.cx,n=e.cy,i=e.r,s=e.className,a=$t("recharts-dot",s);return r===+r&&n===+n&&i===+i?B.createElement("circle",XP({},_t(e,!1),E_(e),{className:a,cx:r,cy:n,r:i})):null};function Oy(t){"@babel/helpers - typeof";return Oy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oy(t)}var Rqe=["x","y","top","left","width","height","className"];function QP(){return QP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},QP.apply(this,arguments)}function eB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function kqe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eB(Object(r),!0).forEach(function(n){Iqe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Iqe(t,e,r){return e=Oqe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Oqe(t){var e=Mqe(t,"string");return Oy(e)=="symbol"?e:e+""}function Mqe(t,e){if(Oy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Oy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dqe(t,e){if(t==null)return{};var r=Lqe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Lqe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var $qe=function(e,r,n,i,s,a){return"M".concat(e,",").concat(s,"v").concat(i,"M").concat(a,",").concat(r,"h").concat(n)},Fqe=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,s=i===void 0?0:i,a=e.top,o=a===void 0?0:a,c=e.left,u=c===void 0?0:c,d=e.width,f=d===void 0?0:d,h=e.height,p=h===void 0?0:h,v=e.className,m=Dqe(e,Rqe),b=kqe({x:n,y:s,top:o,left:u,width:f,height:p},m);return!Le(n)||!Le(s)||!Le(f)||!Le(p)||!Le(o)||!Le(u)?null:B.createElement("path",QP({},_t(b,!0),{className:$t("recharts-cross",v),d:$qe(n,s,f,p,o,u)}))},Vqe=IS,Bqe=bJ,Uqe=Ou;function zqe(t,e){return t&&t.length?Vqe(t,Uqe(e),Bqe):void 0}var qqe=zqe;const Wqe=ir(qqe);var Hqe=IS,Kqe=Ou,Gqe=wJ;function Yqe(t,e){return t&&t.length?Hqe(t,Kqe(e),Gqe):void 0}var Xqe=Yqe;const Qqe=ir(Xqe);var Zqe=["cx","cy","angle","ticks","axisLine"],Jqe=["ticks","tick","angle","tickFormatter","stroke"];function Wp(t){"@babel/helpers - typeof";return Wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wp(t)}function dv(){return dv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},dv.apply(this,arguments)}function tB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Xu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tB(Object(r),!0).forEach(function(n){$S(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rB(t,e){if(t==null)return{};var r=eWe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function eWe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function tWe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nB(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,see(n.key),n)}}function rWe(t,e,r){return e&&nB(t.prototype,e),r&&nB(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function nWe(t,e,r){return e=r1(e),iWe(t,iee()?Reflect.construct(e,r||[],r1(t).constructor):e.apply(t,r))}function iWe(t,e){if(e&&(Wp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sWe(t)}function sWe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iee=function(){return!!t})()}function r1(t){return r1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},r1(t)}function aWe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ZP(t,e)}function ZP(t,e){return ZP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ZP(t,e)}function $S(t,e,r){return e=see(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function see(t){var e=oWe(t,"string");return Wp(e)=="symbol"?e:e+""}function oWe(t,e){if(Wp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var FS=function(t){function e(){return tWe(this,e),nWe(this,e,arguments)}return aWe(e,t),rWe(e,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,s=this.props,a=s.angle,o=s.cx,c=s.cy;return vr(o,c,i,a)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,s=n.cy,a=n.angle,o=n.ticks,c=Wqe(o,function(d){return d.coordinate||0}),u=Qqe(o,function(d){return d.coordinate||0});return{cx:i,cy:s,startAngle:a,endAngle:a,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,s=n.cy,a=n.angle,o=n.ticks,c=n.axisLine,u=rB(n,Zqe),d=o.reduce(function(v,m){return[Math.min(v[0],m.coordinate),Math.max(v[1],m.coordinate)]},[1/0,-1/0]),f=vr(i,s,d[0],a),h=vr(i,s,d[1],a),p=Xu(Xu(Xu({},_t(u,!1)),{},{fill:"none"},_t(c,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return B.createElement("line",dv({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var n=this,i=this.props,s=i.ticks,a=i.tick,o=i.angle,c=i.tickFormatter,u=i.stroke,d=rB(i,Jqe),f=this.getTickTextAnchor(),h=_t(d,!1),p=_t(a,!1),v=s.map(function(m,b){var w=n.getTickValueCoord(m),y=Xu(Xu(Xu(Xu({textAnchor:f,transform:"rotate(".concat(90-o,", ").concat(w.x,", ").concat(w.y,")")},h),{},{stroke:"none",fill:u},p),{},{index:b},w),{},{payload:m});return B.createElement(Zr,dv({className:$t("recharts-polar-radius-axis-tick",qJ(a)),key:"tick-".concat(m.coordinate)},vS(n.props,m,b)),e.renderTickItem(a,y,c?c(m.value,b):m.value))});return B.createElement(Zr,{className:"recharts-polar-radius-axis-ticks"},v)}},{key:"render",value:function(){var n=this.props,i=n.ticks,s=n.axisLine,a=n.tick;return!i||!i.length?null:B.createElement(Zr,{className:$t("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),a&&this.renderTicks(),Fn.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,s){var a;return B.isValidElement(n)?a=B.cloneElement(n,i):St(n)?a=n(i):a=B.createElement($p,dv({},i,{className:"recharts-polar-radius-axis-tick-value"}),s),a}}])}(g.PureComponent);$S(FS,"displayName","PolarRadiusAxis");$S(FS,"axisType","radiusAxis");$S(FS,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Hp(t){"@babel/helpers - typeof";return Hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hp(t)}function ld(){return ld=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ld.apply(this,arguments)}function iB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Qu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iB(Object(r),!0).forEach(function(n){VS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lWe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sB(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,oee(n.key),n)}}function cWe(t,e,r){return e&&sB(t.prototype,e),r&&sB(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function uWe(t,e,r){return e=n1(e),dWe(t,aee()?Reflect.construct(e,r||[],n1(t).constructor):e.apply(t,r))}function dWe(t,e){if(e&&(Hp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fWe(t)}function fWe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aee=function(){return!!t})()}function n1(t){return n1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},n1(t)}function hWe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&JP(t,e)}function JP(t,e){return JP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},JP(t,e)}function VS(t,e,r){return e=oee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oee(t){var e=pWe(t,"string");return Hp(e)=="symbol"?e:e+""}function pWe(t,e){if(Hp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mWe=Math.PI/180,gWe=1e-5,BS=function(t){function e(){return lWe(this,e),uWe(this,e,arguments)}return hWe(e,t),cWe(e,[{key:"getTickLineCoord",value:function(n){var i=this.props,s=i.cx,a=i.cy,o=i.radius,c=i.orientation,u=i.tickSize,d=u||8,f=vr(s,a,o,n.coordinate),h=vr(s,a,o+(c==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,s=Math.cos(-n.coordinate*mWe),a;return s>gWe?a=i==="outer"?"start":"end":s<-1e-5?a=i==="outer"?"end":"start":a="middle",a}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,s=n.cy,a=n.radius,o=n.axisLine,c=n.axisLineType,u=Qu(Qu({},_t(this.props,!1)),{},{fill:"none"},_t(o,!1));if(c==="circle")return B.createElement(xM,ld({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:s,r:a}));var d=this.props.ticks,f=d.map(function(h){return vr(i,s,a,h.coordinate)});return B.createElement(Pqe,ld({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,s=i.ticks,a=i.tick,o=i.tickLine,c=i.tickFormatter,u=i.stroke,d=_t(this.props,!1),f=_t(a,!1),h=Qu(Qu({},d),{},{fill:"none"},_t(o,!1)),p=s.map(function(v,m){var b=n.getTickLineCoord(v),w=n.getTickTextAnchor(v),y=Qu(Qu(Qu({textAnchor:w},d),{},{stroke:"none",fill:u},f),{},{index:m,payload:v,x:b.x2,y:b.y2});return B.createElement(Zr,ld({className:$t("recharts-polar-angle-axis-tick",qJ(a)),key:"tick-".concat(v.coordinate)},vS(n.props,v,m)),o&&B.createElement("line",ld({className:"recharts-polar-angle-axis-tick-line"},h,b)),a&&e.renderTickItem(a,y,c?c(v.value,m):v.value))});return B.createElement(Zr,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,i=n.ticks,s=n.radius,a=n.axisLine;return s<=0||!i||!i.length?null:B.createElement(Zr,{className:$t("recharts-polar-angle-axis",this.props.className)},a&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,s){var a;return B.isValidElement(n)?a=B.cloneElement(n,i):St(n)?a=n(i):a=B.createElement($p,ld({},i,{className:"recharts-polar-angle-axis-tick-value"}),s),a}}])}(g.PureComponent);VS(BS,"displayName","PolarAngleAxis");VS(BS,"axisType","angleAxis");VS(BS,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var vWe=gZ,yWe=vWe(Object.getPrototypeOf,Object),xWe=yWe,bWe=tc,wWe=xWe,_We=rc,EWe="[object Object]",SWe=Function.prototype,NWe=Object.prototype,lee=SWe.toString,TWe=NWe.hasOwnProperty,jWe=lee.call(Object);function CWe(t){if(!_We(t)||bWe(t)!=EWe)return!1;var e=wWe(t);if(e===null)return!0;var r=TWe.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&lee.call(r)==jWe}var AWe=CWe;const PWe=ir(AWe);var RWe=tc,kWe=rc,IWe="[object Boolean]";function OWe(t){return t===!0||t===!1||kWe(t)&&RWe(t)==IWe}var MWe=OWe;const DWe=ir(MWe);function My(t){"@babel/helpers - typeof";return My=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},My(t)}function i1(){return i1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},i1.apply(this,arguments)}function LWe(t,e){return BWe(t)||VWe(t,e)||FWe(t,e)||$We()}function $We(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FWe(t,e){if(t){if(typeof t=="string")return aB(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aB(t,e)}}function aB(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function VWe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function BWe(t){if(Array.isArray(t))return t}function oB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function lB(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oB(Object(r),!0).forEach(function(n){UWe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function UWe(t,e,r){return e=zWe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zWe(t){var e=qWe(t,"string");return My(e)=="symbol"?e:e+""}function qWe(t,e){if(My(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(My(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cB=function(e,r,n,i,s){var a=n-i,o;return o="M ".concat(e,",").concat(r),o+="L ".concat(e+n,",").concat(r),o+="L ".concat(e+n-a/2,",").concat(r+s),o+="L ".concat(e+n-a/2-i,",").concat(r+s),o+="L ".concat(e,",").concat(r," Z"),o},WWe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},HWe=function(e){var r=lB(lB({},WWe),e),n=g.useRef(),i=g.useState(-1),s=LWe(i,2),a=s[0],o=s[1];g.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&o(_)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,p=r.className,v=r.animationEasing,m=r.animationDuration,b=r.animationBegin,w=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var y=$t("recharts-trapezoid",p);return w?B.createElement(hu,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:m,animationEasing:v,isActive:w},function(_){var S=_.upperWidth,E=_.lowerWidth,N=_.height,T=_.x,j=_.y;return B.createElement(hu,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:m,easing:v},B.createElement("path",i1({},_t(r,!0),{className:y,d:cB(T,j,S,E,N),ref:n})))}):B.createElement("g",null,B.createElement("path",i1({},_t(r,!0),{className:y,d:cB(c,u,d,f,h)})))},KWe=["option","shapeType","propTransformer","activeClassName","isActive"];function Dy(t){"@babel/helpers - typeof";return Dy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dy(t)}function GWe(t,e){if(t==null)return{};var r=YWe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function YWe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function uB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function s1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uB(Object(r),!0).forEach(function(n){XWe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function XWe(t,e,r){return e=QWe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function QWe(t){var e=ZWe(t,"string");return Dy(e)=="symbol"?e:e+""}function ZWe(t,e){if(Dy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Dy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function JWe(t,e){return s1(s1({},e),t)}function e7e(t,e){return t==="symbols"}function dB(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return B.createElement(yM,r);case"trapezoid":return B.createElement(HWe,r);case"sector":return B.createElement(KJ,r);case"symbols":if(e7e(e))return B.createElement(OO,r);break;default:return null}}function t7e(t){return g.isValidElement(t)?t.props:t}function r7e(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?JWe:n,s=t.activeClassName,a=s===void 0?"recharts-active-shape":s,o=t.isActive,c=GWe(t,KWe),u;if(g.isValidElement(e))u=g.cloneElement(e,s1(s1({},c),t7e(e)));else if(St(e))u=e(c);else if(PWe(e)&&!DWe(e)){var d=i(e,c);u=B.createElement(dB,{shapeType:r,elementProps:d})}else{var f=c;u=B.createElement(dB,{shapeType:r,elementProps:f})}return o?B.createElement(Zr,{className:a},u):u}function US(t,e){return e!=null&&"trapezoids"in t.props}function zS(t,e){return e!=null&&"sectors"in t.props}function Ly(t,e){return e!=null&&"points"in t.props}function n7e(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,s=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&s}function i7e(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function s7e(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function a7e(t,e){var r;return US(t,e)?r=n7e:zS(t,e)?r=i7e:Ly(t,e)&&(r=s7e),r}function o7e(t,e){var r;return US(t,e)?r="trapezoids":zS(t,e)?r="sectors":Ly(t,e)&&(r="points"),r}function l7e(t,e){if(US(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(zS(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Ly(t,e)?e.payload:{}}function c7e(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=o7e(r,e),s=l7e(r,e),a=n.filter(function(c,u){var d=hM(s,c),f=r.props[i].filter(function(v){var m=a7e(r,e);return m(v,e)}),h=r.props[i].indexOf(f[f.length-1]),p=u===h;return d&&p}),o=n.indexOf(a[a.length-1]);return o}var nw;function Kp(t){"@babel/helpers - typeof";return Kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kp(t)}function _h(){return _h=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_h.apply(this,arguments)}function fB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function pr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fB(Object(r),!0).forEach(function(n){Vs(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function u7e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hB(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,uee(n.key),n)}}function d7e(t,e,r){return e&&hB(t.prototype,e),r&&hB(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function f7e(t,e,r){return e=a1(e),h7e(t,cee()?Reflect.construct(e,r||[],a1(t).constructor):e.apply(t,r))}function h7e(t,e){if(e&&(Kp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return p7e(t)}function p7e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cee=function(){return!!t})()}function a1(t){return a1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},a1(t)}function m7e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&e2(t,e)}function e2(t,e){return e2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},e2(t,e)}function Vs(t,e,r){return e=uee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uee(t){var e=g7e(t,"string");return Kp(e)=="symbol"?e:e+""}function g7e(t,e){if(Kp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Kp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Wo=function(t){function e(r){var n;return u7e(this,e),n=f7e(this,e,[r]),Vs(n,"pieRef",null),Vs(n,"sectorRefs",[]),Vs(n,"id",gS("recharts-pie-")),Vs(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),St(i)&&i()}),Vs(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),St(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return m7e(e,t),d7e(e,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var s=this.props,a=s.label,o=s.labelLine,c=s.dataKey,u=s.valueKey,d=_t(this.props,!1),f=_t(a,!1),h=_t(o,!1),p=a&&a.offsetRadius||20,v=n.map(function(m,b){var w=(m.startAngle+m.endAngle)/2,y=vr(m.cx,m.cy,m.outerRadius+p,w),_=pr(pr(pr(pr({},d),m),{},{stroke:"none"},f),{},{index:b,textAnchor:e.getTextAnchor(y.x,m.cx)},y),S=pr(pr(pr(pr({},d),m),{},{fill:"none",stroke:m.fill},h),{},{index:b,points:[vr(m.cx,m.cy,m.outerRadius,w),y]}),E=c;return Ot(c)&&Ot(u)?E="value":Ot(c)&&(E=u),B.createElement(Zr,{key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(b)},o&&e.renderLabelLineItem(o,S,"line"),e.renderLabelItem(a,_,ps(m,E)))});return B.createElement(Zr,{className:"recharts-pie-labels"},v)}},{key:"renderSectorsStatically",value:function(n){var i=this,s=this.props,a=s.activeShape,o=s.blendStroke,c=s.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=i.isActiveIndex(d),h=c&&i.hasActiveIndex()?c:null,p=f?a:h,v=pr(pr({},u),{},{stroke:o?u.fill:u.stroke,tabIndex:-1});return B.createElement(Zr,_h({ref:function(b){b&&!i.sectorRefs.includes(b)&&i.sectorRefs.push(b)},tabIndex:-1,className:"recharts-pie-sector"},vS(i.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),B.createElement(r7e,_h({option:p,isActive:f,shapeType:"sector"},v)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,s=i.sectors,a=i.isAnimationActive,o=i.animationBegin,c=i.animationDuration,u=i.animationEasing,d=i.animationId,f=this.state,h=f.prevSectors,p=f.prevIsAnimationActive;return B.createElement(hu,{begin:o,duration:c,isActive:a,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(v){var m=v.t,b=[],w=s&&s[0],y=w.startAngle;return s.forEach(function(_,S){var E=h&&h[S],N=S>0?ka(_,"paddingAngle",0):0;if(E){var T=aV(E.endAngle-E.startAngle,_.endAngle-_.startAngle),j=pr(pr({},_),{},{startAngle:y+N,endAngle:y+T(m)+N});b.push(j),y=j.endAngle}else{var A=_.endAngle,R=_.startAngle,k=aV(0,A-R),O=k(m),P=pr(pr({},_),{},{startAngle:y+N,endAngle:y+O+N});b.push(P),y=P.endAngle}}),B.createElement(Zr,null,n.renderSectorsStatically(b))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var a=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[a].focus(),i.setState({sectorToFocus:a});break}case"ArrowRight":{var o=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,s=n.isAnimationActive,a=this.state.prevSectors;return s&&i&&i.length&&(!a||!hM(a,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,s=i.hide,a=i.sectors,o=i.className,c=i.label,u=i.cx,d=i.cy,f=i.innerRadius,h=i.outerRadius,p=i.isAnimationActive,v=this.state.isAnimationFinished;if(s||!a||!a.length||!Le(u)||!Le(d)||!Le(f)||!Le(h))return null;var m=$t("recharts-pie",o);return B.createElement(Zr,{tabIndex:this.props.rootTabIndex,className:m,ref:function(w){n.pieRef=w}},this.renderSectors(),c&&this.renderLabels(a),Fn.renderCallByParent(this.props,null,!1),(!p||v)&&Vd.renderCallByParent(this.props,a,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,s){if(B.isValidElement(n))return B.cloneElement(n,i);if(St(n))return n(i);var a=$t("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return B.createElement(FP,_h({},i,{key:s,type:"linear",className:a}))}},{key:"renderLabelItem",value:function(n,i,s){if(B.isValidElement(n))return B.cloneElement(n,i);var a=s;if(St(n)&&(a=n(i),B.isValidElement(a)))return a;var o=$t("recharts-pie-label-text",typeof n!="boolean"&&!St(n)?n.className:"");return B.createElement($p,_h({},i,{alignmentBaseline:"middle",className:o}),a)}}])}(g.PureComponent);nw=Wo;Vs(Wo,"displayName","Pie");Vs(Wo,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!NS.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Vs(Wo,"parseDeltaAngle",function(t,e){var r=Ws(e-t),n=Math.min(Math.abs(e-t),360);return r*n});Vs(Wo,"getRealPieData",function(t){var e=t.data,r=t.children,n=_t(t,!1),i=Ao(r,TS);return e&&e.length?e.map(function(s,a){return pr(pr(pr({payload:s},n),s),i&&i[a]&&i[a].props)}):i&&i.length?i.map(function(s){return pr(pr({},n),s.props)}):[]});Vs(Wo,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,i=e.width,s=e.height,a=zJ(i,s),o=n+Wi(t.cx,i,i/2),c=r+Wi(t.cy,s,s/2),u=Wi(t.innerRadius,a,0),d=Wi(t.outerRadius,a,a*.8),f=t.maxRadius||Math.sqrt(i*i+s*s)/2;return{cx:o,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});Vs(Wo,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?pr(pr({},e.type.defaultProps),e.props):e.props,i=nw.getRealPieData(n);if(!i||!i.length)return null;var s=n.cornerRadius,a=n.startAngle,o=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,h=n.tooltipType,p=Math.abs(n.minAngle),v=nw.parseCoordinateOfPie(n,r),m=nw.parseDeltaAngle(a,o),b=Math.abs(m),w=u;Ot(u)&&Ot(f)?(Al(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),w="value"):Ot(u)&&(Al(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),w=f);var y=i.filter(function(j){return ps(j,w,0)!==0}).length,_=(b>=360?y:y-1)*c,S=b-y*p-_,E=i.reduce(function(j,A){var R=ps(A,w,0);return j+(Le(R)?R:0)},0),N;if(E>0){var T;N=i.map(function(j,A){var R=ps(j,w,0),k=ps(j,d,A),O=(Le(R)?R:0)/E,P;A?P=T.endAngle+Ws(m)*c*(R!==0?1:0):P=a;var D=P+Ws(m)*((R!==0?p:0)+O*S),z=(P+D)/2,M=(v.innerRadius+v.outerRadius)/2,V=[{name:k,value:R,payload:j,dataKey:w,type:h}],L=vr(v.cx,v.cy,M,z);return T=pr(pr(pr({percent:O,cornerRadius:s,name:k,tooltipPayload:V,midAngle:z,middleRadius:M,tooltipPosition:L},j),v),{},{value:ps(j,w),startAngle:P,endAngle:D,payload:j,paddingAngle:Ws(m)*c}),T})}return pr(pr({},v),{},{sectors:N,data:i})});var v7e=Math.ceil,y7e=Math.max;function x7e(t,e,r,n){for(var i=-1,s=y7e(v7e((e-t)/(r||1)),0),a=Array(s);s--;)a[n?s:++i]=t,t+=r;return a}var b7e=x7e,w7e=OZ,_7e=1/0,E7e=17976931348623157e292;function S7e(t){if(!t)return t===0?t:0;if(t=w7e(t),t===_7e||t===-1/0){var e=t<0?-1:1;return e*E7e}return t===t?t:0}var N7e=S7e,T7e=b7e,j7e=SS,oj=N7e;function C7e(t){return function(e,r,n){return n&&typeof n!="number"&&j7e(e,r,n)&&(r=n=void 0),e=oj(e),r===void 0?(r=e,e=0):r=oj(r),n=n===void 0?e<r?1:-1:oj(n),T7e(e,r,n,t)}}var A7e=C7e,P7e=A7e,R7e=P7e(),k7e=R7e;const o1=ir(k7e);function $y(t){"@babel/helpers - typeof";return $y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$y(t)}function pB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function mB(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pB(Object(r),!0).forEach(function(n){dee(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dee(t,e,r){return e=I7e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function I7e(t){var e=O7e(t,"string");return $y(e)=="symbol"?e:e+""}function O7e(t,e){if($y(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($y(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var M7e=["Webkit","Moz","O","ms"],D7e=function(e,r){var n=e.replace(/(\w)/,function(s){return s.toUpperCase()}),i=M7e.reduce(function(s,a){return mB(mB({},s),{},dee({},a+n,r))},{});return i[e]=r,i};function Gp(t){"@babel/helpers - typeof";return Gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gp(t)}function l1(){return l1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},l1.apply(this,arguments)}function gB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function lj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gB(Object(r),!0).forEach(function(n){os(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function L7e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vB(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,hee(n.key),n)}}function $7e(t,e,r){return e&&vB(t.prototype,e),r&&vB(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function F7e(t,e,r){return e=c1(e),V7e(t,fee()?Reflect.construct(e,r||[],c1(t).constructor):e.apply(t,r))}function V7e(t,e){if(e&&(Gp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return B7e(t)}function B7e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fee=function(){return!!t})()}function c1(t){return c1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},c1(t)}function U7e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&t2(t,e)}function t2(t,e){return t2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},t2(t,e)}function os(t,e,r){return e=hee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hee(t){var e=z7e(t,"string");return Gp(e)=="symbol"?e:e+""}function z7e(t,e){if(Gp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var q7e=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,s=e.x,a=e.width,o=e.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=ov().domain(o1(0,c)).range([s,s+a-o]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(i),scale:u,scaleValues:d}},yB=function(e){return e.changedTouches&&!!e.changedTouches.length},Yp=function(t){function e(r){var n;return L7e(this,e),n=F7e(this,e,[r]),os(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),os(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),os(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,s=i.endIndex,a=i.onDragEnd,o=i.startIndex;a==null||a({endIndex:s,startIndex:o})}),n.detachDragEndListener()}),os(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),os(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),os(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),os(n,"handleSlideDragStart",function(i){var s=yB(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return U7e(e,t),$7e(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,s=n.endX,a=this.state.scaleValues,o=this.props,c=o.gap,u=o.data,d=u.length-1,f=Math.min(i,s),h=Math.max(i,s),p=e.getIndexInRange(a,f),v=e.getIndexInRange(a,h);return{startIndex:p-p%c,endIndex:v===d?d:v-v%c}}},{key:"getTextOfTick",value:function(n){var i=this.props,s=i.data,a=i.tickFormatter,o=i.dataKey,c=ps(s[n],o,n);return St(a)?a(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,s=i.slideMoveStartX,a=i.startX,o=i.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,p=c.endIndex,v=c.onChange,m=n.pageX-s;m>0?m=Math.min(m,u+d-f-o,u+d-f-a):m<0&&(m=Math.max(m,u-a,u-o));var b=this.getIndex({startX:a+m,endX:o+m});(b.startIndex!==h||b.endIndex!==p)&&v&&v(b),this.setState({startX:a+m,endX:o+m,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var s=yB(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,s=i.brushMoveStartX,a=i.movingTravellerId,o=i.endX,c=i.startX,u=this.state[a],d=this.props,f=d.x,h=d.width,p=d.travellerWidth,v=d.onChange,m=d.gap,b=d.data,w={startX:this.state.startX,endX:this.state.endX},y=n.pageX-s;y>0?y=Math.min(y,f+h-p-u):y<0&&(y=Math.max(y,f-u)),w[a]=u+y;var _=this.getIndex(w),S=_.startIndex,E=_.endIndex,N=function(){var j=b.length-1;return a==="startX"&&(o>c?S%m===0:E%m===0)||o<c&&E===j||a==="endX"&&(o>c?E%m===0:S%m===0)||o>c&&E===j};this.setState(os(os({},a,u+y),"brushMoveStartX",n.pageX),function(){v&&N()&&v(_)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var s=this,a=this.state,o=a.scaleValues,c=a.startX,u=a.endX,d=this.state[i],f=o.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=o.length)){var p=o[h];i==="startX"&&p>=u||i==="endX"&&p<=c||this.setState(os({},i,p),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,s=n.y,a=n.width,o=n.height,c=n.fill,u=n.stroke;return B.createElement("rect",{stroke:u,fill:c,x:i,y:s,width:a,height:o})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,s=n.y,a=n.width,o=n.height,c=n.data,u=n.children,d=n.padding,f=g.Children.only(u);return f?B.cloneElement(f,{x:i,y:s,width:a,height:o,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,i){var s,a,o=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,p=c.ariaLabel,v=c.data,m=c.startIndex,b=c.endIndex,w=Math.max(n,this.props.x),y=lj(lj({},_t(this.props,!1)),{},{x:w,y:u,width:d,height:f}),_=p||"Min value: ".concat((s=v[m])===null||s===void 0?void 0:s.name,", Max value: ").concat((a=v[b])===null||a===void 0?void 0:a.name);return B.createElement(Zr,{tabIndex:0,role:"slider","aria-label":_,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(E){["ArrowLeft","ArrowRight"].includes(E.key)&&(E.preventDefault(),E.stopPropagation(),o.handleTravellerMoveKeyboard(E.key==="ArrowRight"?1:-1,i))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,y))}},{key:"renderSlide",value:function(n,i){var s=this.props,a=s.y,o=s.height,c=s.stroke,u=s.travellerWidth,d=Math.min(n,i)+u,f=Math.max(Math.abs(i-n)-u,0);return B.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:a,width:f,height:o})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,s=n.endIndex,a=n.y,o=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,p=5,v={pointerEvents:"none",fill:u};return B.createElement(Zr,{className:"recharts-brush-texts"},B.createElement($p,l1({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:a+o/2},v),this.getTextOfTick(i)),B.createElement($p,l1({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+p,y:a+o/2},v),this.getTextOfTick(s)))}},{key:"render",value:function(){var n=this.props,i=n.data,s=n.className,a=n.children,o=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,p=h.startX,v=h.endX,m=h.isTextActive,b=h.isSlideMoving,w=h.isTravellerMoving,y=h.isTravellerFocused;if(!i||!i.length||!Le(o)||!Le(c)||!Le(u)||!Le(d)||u<=0||d<=0)return null;var _=$t("recharts-brush",s),S=B.Children.count(a)===1,E=D7e("userSelect","none");return B.createElement(Zr,{className:_,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:E},this.renderBackground(),S&&this.renderPanorama(),this.renderSlide(p,v),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(v,"endX"),(m||b||w||y||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,s=n.y,a=n.width,o=n.height,c=n.stroke,u=Math.floor(s+o/2)-1;return B.createElement(B.Fragment,null,B.createElement("rect",{x:i,y:s,width:a,height:o,fill:c,stroke:"none"}),B.createElement("line",{x1:i+1,y1:u,x2:i+a-1,y2:u,fill:"none",stroke:"#fff"}),B.createElement("line",{x1:i+1,y1:u+2,x2:i+a-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var s;return B.isValidElement(n)?s=B.cloneElement(n,i):St(n)?s=n(i):s=e.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(n,i){var s=n.data,a=n.width,o=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(s!==i.prevData||u!==i.prevUpdateId)return lj({prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:o,prevWidth:a},s&&s.length?q7e({data:s,width:a,x:o,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||o!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([o,o+a-c]);var h=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:o,prevWidth:a,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,i){for(var s=n.length,a=0,o=s-1;o-a>1;){var c=Math.floor((a+o)/2);n[c]>i?o=c:a=c}return i>=n[o]?o:a}}])}(g.PureComponent);os(Yp,"displayName","Brush");os(Yp,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var W7e=UO;function H7e(t,e){var r;return W7e(t,function(n,i,s){return r=e(n,i,s),!r}),!!r}var K7e=H7e,G7e=lZ,Y7e=Ou,X7e=K7e,Q7e=ns,Z7e=SS;function J7e(t,e,r){var n=Q7e(t)?G7e:X7e;return r&&Z7e(t,e,r)&&(e=void 0),n(t,Y7e(e))}var eHe=J7e;const tHe=ir(eHe);var Ro=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},xB=AZ;function rHe(t,e,r){e=="__proto__"&&xB?xB(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var nHe=rHe,iHe=nHe,sHe=jZ,aHe=Ou;function oHe(t,e){var r={};return e=aHe(e),sHe(t,function(n,i,s){iHe(r,i,e(n,i,s))}),r}var lHe=oHe;const cHe=ir(lHe);function uHe(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}var dHe=uHe,fHe=UO;function hHe(t,e){var r=!0;return fHe(t,function(n,i,s){return r=!!e(n,i,s),r}),r}var pHe=hHe,mHe=dHe,gHe=pHe,vHe=Ou,yHe=ns,xHe=SS;function bHe(t,e,r){var n=yHe(t)?mHe:gHe;return r&&xHe(t,e,r)&&(e=void 0),n(t,vHe(e))}var wHe=bHe;const _He=ir(wHe);function Fy(t){"@babel/helpers - typeof";return Fy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fy(t)}function EHe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bB(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,pee(n.key),n)}}function SHe(t,e,r){return e&&bB(t.prototype,e),r&&bB(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function wB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wB(Object(r),!0).forEach(function(n){bM(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bM(t,e,r){return e=pee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pee(t){var e=NHe(t,"string");return Fy(e)=="symbol"?e:e+""}function NHe(t,e){if(Fy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mee=function(e,r){var n=e.x,i=e.y,s=r.x,a=r.y;return{x:Math.min(n,s),y:Math.min(i,a),width:Math.abs(s-n),height:Math.abs(a-i)}},THe=function(e){var r=e.x1,n=e.y1,i=e.x2,s=e.y2;return mee({x:r,y:n},{x:i,y:s})},gee=function(){function t(e){EHe(this,t),this.scale=e}return SHe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,s=n.position;if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+a}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(r)+o}default:return this.scale(r)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],s=n[n.length-1];return i<=s?r>=i&&r<=s:r>=s&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])}();bM(gee,"EPS",1e-4);var wM=function(e){var r=Object.keys(e).reduce(function(n,i){return xb(xb({},n),{},bM({},i,gee.create(e[i])))},{});return xb(xb({},r),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=s.bandAware,o=s.position;return cHe(i,function(c,u){return r[u].apply(c,{bandAware:a,position:o})})},isInRange:function(i){return _He(i,function(s,a){return r[a].isInRange(s)})}})},jHe=nRe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),vee=g.createContext(void 0),yee=g.createContext(void 0),xee=g.createContext(void 0),CHe=g.createContext({}),bee=g.createContext(void 0),AHe=g.createContext(0),PHe=g.createContext(0),_B=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,s=r.offset,a=e.clipPathId,o=e.children,c=e.width,u=e.height,d=jHe(s);return B.createElement(vee.Provider,{value:n},B.createElement(yee.Provider,{value:i},B.createElement(CHe.Provider,{value:s},B.createElement(xee.Provider,{value:d},B.createElement(bee.Provider,{value:a},B.createElement(AHe.Provider,{value:u},B.createElement(PHe.Provider,{value:c},o)))))))},RHe=function(){return g.useContext(bee)},kHe=function(e){var r=g.useContext(vee);r==null&&Up();var n=r[e];return n==null&&Up(),n},IHe=function(e){var r=g.useContext(yee);r==null&&Up();var n=r[e];return n==null&&Up(),n},OHe=function(){var e=g.useContext(xee);return e};function Xp(t){"@babel/helpers - typeof";return Xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xp(t)}function MHe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DHe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_ee(n.key),n)}}function LHe(t,e,r){return e&&DHe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function $He(t,e,r){return e=u1(e),FHe(t,wee()?Reflect.construct(e,r||[],u1(t).constructor):e.apply(t,r))}function FHe(t,e){if(e&&(Xp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VHe(t)}function VHe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wee=function(){return!!t})()}function u1(t){return u1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},u1(t)}function BHe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&r2(t,e)}function r2(t,e){return r2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},r2(t,e)}function EB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function SB(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?EB(Object(r),!0).forEach(function(n){_M(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):EB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _M(t,e,r){return e=_ee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _ee(t){var e=UHe(t,"string");return Xp(e)=="symbol"?e:e+""}function UHe(t,e){if(Xp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function zHe(t,e){return KHe(t)||HHe(t,e)||WHe(t,e)||qHe()}function qHe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WHe(t,e){if(t){if(typeof t=="string")return NB(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return NB(t,e)}}function NB(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function HHe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function KHe(t){if(Array.isArray(t))return t}function n2(){return n2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},n2.apply(this,arguments)}var GHe=function(e,r){var n;return B.isValidElement(e)?n=B.cloneElement(e,r):St(e)?n=e(r):n=B.createElement("line",n2({},r,{className:"recharts-reference-line-line"})),n},YHe=function(e,r,n,i,s,a,o,c,u){var d=s.x,f=s.y,h=s.width,p=s.height;if(n){var v=u.y,m=e.y.apply(v,{position:a});if(Ro(u,"discard")&&!e.y.isInRange(m))return null;var b=[{x:d+h,y:m},{x:d,y:m}];return c==="left"?b.reverse():b}if(r){var w=u.x,y=e.x.apply(w,{position:a});if(Ro(u,"discard")&&!e.x.isInRange(y))return null;var _=[{x:y,y:f+p},{x:y,y:f}];return o==="top"?_.reverse():_}if(i){var S=u.segment,E=S.map(function(N){return e.apply(N,{position:a})});return Ro(u,"discard")&&tHe(E,function(N){return!e.isInRange(N)})?null:E}return null};function XHe(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,s=t.yAxisId,a=t.shape,o=t.className,c=t.alwaysShow,u=RHe(),d=kHe(i),f=IHe(s),h=OHe();if(!u||!h)return null;Al(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=wM({x:d.scale,y:f.scale}),v=_n(e),m=_n(r),b=n&&n.length===2,w=YHe(p,v,m,b,h,t.position,d.orientation,f.orientation,t);if(!w)return null;var y=zHe(w,2),_=y[0],S=_.x,E=_.y,N=y[1],T=N.x,j=N.y,A=Ro(t,"hidden")?"url(#".concat(u,")"):void 0,R=SB(SB({clipPath:A},_t(t,!0)),{},{x1:S,y1:E,x2:T,y2:j});return B.createElement(Zr,{className:$t("recharts-reference-line",o)},GHe(a,R),Fn.renderCallByParent(t,THe({x1:S,y1:E,x2:T,y2:j})))}var EM=function(t){function e(){return MHe(this,e),$He(this,e,arguments)}return BHe(e,t),LHe(e,[{key:"render",value:function(){return B.createElement(XHe,this.props)}}])}(B.Component);_M(EM,"displayName","ReferenceLine");_M(EM,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function i2(){return i2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},i2.apply(this,arguments)}function Qp(t){"@babel/helpers - typeof";return Qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qp(t)}function TB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function jB(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TB(Object(r),!0).forEach(function(n){qS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function QHe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZHe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,See(n.key),n)}}function JHe(t,e,r){return e&&ZHe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function eKe(t,e,r){return e=d1(e),tKe(t,Eee()?Reflect.construct(e,r||[],d1(t).constructor):e.apply(t,r))}function tKe(t,e){if(e&&(Qp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rKe(t)}function rKe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Eee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Eee=function(){return!!t})()}function d1(t){return d1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},d1(t)}function nKe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s2(t,e)}function s2(t,e){return s2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},s2(t,e)}function qS(t,e,r){return e=See(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function See(t){var e=iKe(t,"string");return Qp(e)=="symbol"?e:e+""}function iKe(t,e){if(Qp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var sKe=function(e){var r=e.x,n=e.y,i=e.xAxis,s=e.yAxis,a=wM({x:i.scale,y:s.scale}),o=a.apply({x:r,y:n},{bandAware:!0});return Ro(e,"discard")&&!a.isInRange(o)?null:o},WS=function(t){function e(){return QHe(this,e),eKe(this,e,arguments)}return nKe(e,t),JHe(e,[{key:"render",value:function(){var n=this.props,i=n.x,s=n.y,a=n.r,o=n.alwaysShow,c=n.clipPathId,u=_n(i),d=_n(s);if(Al(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=sKe(this.props);if(!f)return null;var h=f.x,p=f.y,v=this.props,m=v.shape,b=v.className,w=Ro(this.props,"hidden")?"url(#".concat(c,")"):void 0,y=jB(jB({clipPath:w},_t(this.props,!0)),{},{cx:h,cy:p});return B.createElement(Zr,{className:$t("recharts-reference-dot",b)},e.renderDot(m,y),Fn.renderCallByParent(this.props,{x:h-a,y:p-a,width:2*a,height:2*a}))}}])}(B.Component);qS(WS,"displayName","ReferenceDot");qS(WS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});qS(WS,"renderDot",function(t,e){var r;return B.isValidElement(t)?r=B.cloneElement(t,e):St(t)?r=t(e):r=B.createElement(xM,i2({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function a2(){return a2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},a2.apply(this,arguments)}function Zp(t){"@babel/helpers - typeof";return Zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zp(t)}function CB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function AB(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CB(Object(r),!0).forEach(function(n){HS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function aKe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oKe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Tee(n.key),n)}}function lKe(t,e,r){return e&&oKe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function cKe(t,e,r){return e=f1(e),uKe(t,Nee()?Reflect.construct(e,r||[],f1(t).constructor):e.apply(t,r))}function uKe(t,e){if(e&&(Zp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dKe(t)}function dKe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Nee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Nee=function(){return!!t})()}function f1(t){return f1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},f1(t)}function fKe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&o2(t,e)}function o2(t,e){return o2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},o2(t,e)}function HS(t,e,r){return e=Tee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Tee(t){var e=hKe(t,"string");return Zp(e)=="symbol"?e:e+""}function hKe(t,e){if(Zp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var pKe=function(e,r,n,i,s){var a=s.x1,o=s.x2,c=s.y1,u=s.y2,d=s.xAxis,f=s.yAxis;if(!d||!f)return null;var h=wM({x:d.scale,y:f.scale}),p={x:e?h.x.apply(a,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},v={x:r?h.x.apply(o,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Ro(s,"discard")&&(!h.isInRange(p)||!h.isInRange(v))?null:mee(p,v)},KS=function(t){function e(){return aKe(this,e),cKe(this,e,arguments)}return fKe(e,t),lKe(e,[{key:"render",value:function(){var n=this.props,i=n.x1,s=n.x2,a=n.y1,o=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;Al(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=_n(i),h=_n(s),p=_n(a),v=_n(o),m=this.props.shape;if(!f&&!h&&!p&&!v&&!m)return null;var b=pKe(f,h,p,v,this.props);if(!b&&!m)return null;var w=Ro(this.props,"hidden")?"url(#".concat(d,")"):void 0;return B.createElement(Zr,{className:$t("recharts-reference-area",c)},e.renderRect(m,AB(AB({clipPath:w},_t(this.props,!0)),b)),Fn.renderCallByParent(this.props,b))}}])}(B.Component);HS(KS,"displayName","ReferenceArea");HS(KS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});HS(KS,"renderRect",function(t,e){var r;return B.isValidElement(t)?r=B.cloneElement(t,e):St(t)?r=t(e):r=B.createElement(yM,a2({},e,{className:"recharts-reference-area-rect"})),r});function PB(t){return yKe(t)||vKe(t)||gKe(t)||mKe()}function mKe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gKe(t,e){if(t){if(typeof t=="string")return l2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l2(t,e)}}function vKe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function yKe(t){if(Array.isArray(t))return l2(t)}function l2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var c2=function(e,r,n,i,s){var a=Ao(e,EM),o=Ao(e,WS),c=[].concat(PB(a),PB(o)),u=Ao(e,KS),d="".concat(i,"Id"),f=i[0],h=r;if(c.length&&(h=c.reduce(function(m,b){if(b.props[d]===n&&Ro(b.props,"extendDomain")&&Le(b.props[f])){var w=b.props[f];return[Math.min(m[0],w),Math.max(m[1],w)]}return m},h)),u.length){var p="".concat(f,"1"),v="".concat(f,"2");h=u.reduce(function(m,b){if(b.props[d]===n&&Ro(b.props,"extendDomain")&&Le(b.props[p])&&Le(b.props[v])){var w=b.props[p],y=b.props[v];return[Math.min(m[0],w,y),Math.max(m[1],w,y)]}return m},h)}return s&&s.length&&(h=s.reduce(function(m,b){return Le(b)?[Math.min(m[0],b),Math.max(m[1],b)]:m},h)),h},jee={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function s(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new i(d,f||c,h),v=r?r+u:u;return c._events[v]?c._events[v].fn?c._events[v]=[c._events[v],p]:c._events[v].push(p):(c._events[v]=p,c._eventsCount++),c}function a(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)e.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},o.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,v=new Array(p);h<p;h++)v[h]=f[h].fn;return v},o.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},o.prototype.emit=function(u,d,f,h,p,v){var m=r?r+u:u;if(!this._events[m])return!1;var b=this._events[m],w=arguments.length,y,_;if(b.fn){switch(b.once&&this.removeListener(u,b.fn,void 0,!0),w){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,d),!0;case 3:return b.fn.call(b.context,d,f),!0;case 4:return b.fn.call(b.context,d,f,h),!0;case 5:return b.fn.call(b.context,d,f,h,p),!0;case 6:return b.fn.call(b.context,d,f,h,p,v),!0}for(_=1,y=new Array(w-1);_<w;_++)y[_-1]=arguments[_];b.fn.apply(b.context,y)}else{var S=b.length,E;for(_=0;_<S;_++)switch(b[_].once&&this.removeListener(u,b[_].fn,void 0,!0),w){case 1:b[_].fn.call(b[_].context);break;case 2:b[_].fn.call(b[_].context,d);break;case 3:b[_].fn.call(b[_].context,d,f);break;case 4:b[_].fn.call(b[_].context,d,f,h);break;default:if(!y)for(E=1,y=new Array(w-1);E<w;E++)y[E-1]=arguments[E];b[_].fn.apply(b[_].context,y)}}return!0},o.prototype.on=function(u,d,f){return s(this,u,d,f,!1)},o.prototype.once=function(u,d,f){return s(this,u,d,f,!0)},o.prototype.removeListener=function(u,d,f,h){var p=r?r+u:u;if(!this._events[p])return this;if(!d)return a(this,p),this;var v=this._events[p];if(v.fn)v.fn===d&&(!h||v.once)&&(!f||v.context===f)&&a(this,p);else{for(var m=0,b=[],w=v.length;m<w;m++)(v[m].fn!==d||h&&!v[m].once||f&&v[m].context!==f)&&b.push(v[m]);b.length?this._events[p]=b.length===1?b[0]:b:a(this,p)}return this},o.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&a(this,d)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,t.exports=o})(jee);var xKe=jee.exports;const bKe=ir(xKe);var cj=new bKe,uj="recharts.syncMouseEvents";function Vy(t){"@babel/helpers - typeof";return Vy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vy(t)}function wKe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _Ke(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Cee(n.key),n)}}function EKe(t,e,r){return e&&_Ke(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function dj(t,e,r){return e=Cee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Cee(t){var e=SKe(t,"string");return Vy(e)=="symbol"?e:e+""}function SKe(t,e){if(Vy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var NKe=function(){function t(){wKe(this,t),dj(this,"activeIndex",0),dj(this,"coordinateList",[]),dj(this,"layout","horizontal")}return EKe(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,s=i===void 0?null:i,a=r.container,o=a===void 0?null:a,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=s??this.coordinateList)!==null&&n!==void 0?n:[],this.container=o??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,a=i.y,o=i.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=s+c+u,h=a+this.offset.top+o/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function TKe(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],i=t==null?void 0:t[1];if(n&&i&&Le(n)&&Le(i))return!0}return!1}function jKe(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function Aee(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,s=t.endAngle,a=vr(e,r,n,i),o=vr(e,r,n,s);return{points:[a,o],cx:e,cy:r,radius:n,startAngle:i,endAngle:s}}function CKe(t,e,r){var n,i,s,a;if(t==="horizontal")n=e.x,s=n,i=r.top,a=r.top+r.height;else if(t==="vertical")i=e.y,a=i,n=r.left,s=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var o=e.cx,c=e.cy,u=e.innerRadius,d=e.outerRadius,f=e.angle,h=vr(o,c,u,f),p=vr(o,c,d,f);n=h.x,i=h.y,s=p.x,a=p.y}else return Aee(e);return[{x:n,y:i},{x:s,y:a}]}function By(t){"@babel/helpers - typeof";return By=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},By(t)}function RB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function bb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RB(Object(r),!0).forEach(function(n){AKe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function AKe(t,e,r){return e=PKe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function PKe(t){var e=RKe(t,"string");return By(e)=="symbol"?e:e+""}function RKe(t,e){if(By(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(By(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kKe(t){var e,r,n=t.element,i=t.tooltipEventType,s=t.isActive,a=t.activeCoordinate,o=t.activePayload,c=t.offset,u=t.activeTooltipIndex,d=t.tooltipAxisBandSize,f=t.layout,h=t.chartName,p=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!s||!a||h!=="ScatterChart"&&i!=="axis")return null;var v,m=FP;if(h==="ScatterChart")v=a,m=Fqe;else if(h==="BarChart")v=jKe(f,a,c,d),m=yM;else if(f==="radial"){var b=Aee(a),w=b.cx,y=b.cy,_=b.radius,S=b.startAngle,E=b.endAngle;v={cx:w,cy:y,startAngle:S,endAngle:E,innerRadius:_,outerRadius:_},m=KJ}else v={points:CKe(f,a,c)},m=FP;var N=bb(bb(bb(bb({stroke:"#ccc",pointerEvents:"none"},c),v),_t(p,!1)),{},{payload:o,payloadIndex:u,className:$t("recharts-tooltip-cursor",p.className)});return g.isValidElement(p)?g.cloneElement(p,N):g.createElement(m,N)}var IKe=["item"],OKe=["children","className","width","height","style","compact","title","desc"];function Jp(t){"@babel/helpers - typeof";return Jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jp(t)}function Eh(){return Eh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Eh.apply(this,arguments)}function kB(t,e){return LKe(t)||DKe(t,e)||Ree(t,e)||MKe()}function MKe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DKe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function LKe(t){if(Array.isArray(t))return t}function IB(t,e){if(t==null)return{};var r=$Ke(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function $Ke(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function FKe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VKe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,kee(n.key),n)}}function BKe(t,e,r){return e&&VKe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function UKe(t,e,r){return e=h1(e),zKe(t,Pee()?Reflect.construct(e,r||[],h1(t).constructor):e.apply(t,r))}function zKe(t,e){if(e&&(Jp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qKe(t)}function qKe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Pee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Pee=function(){return!!t})()}function h1(t){return h1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},h1(t)}function WKe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u2(t,e)}function u2(t,e){return u2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},u2(t,e)}function em(t){return GKe(t)||KKe(t)||Ree(t)||HKe()}function HKe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ree(t,e){if(t){if(typeof t=="string")return d2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d2(t,e)}}function KKe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function GKe(t){if(Array.isArray(t))return d2(t)}function d2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function OB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function de(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OB(Object(r),!0).forEach(function(n){Je(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Je(t,e,r){return e=kee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kee(t){var e=YKe(t,"string");return Jp(e)=="symbol"?e:e+""}function YKe(t,e){if(Jp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Jp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var XKe={xAxis:["bottom","top"],yAxis:["left","right"]},QKe={width:"100%",height:"100%"},Iee={x:0,y:0};function wb(t){return t}var ZKe=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},JKe=function(e,r,n,i){var s=r.find(function(d){return d&&d.index===n});if(s){if(e==="horizontal")return{x:s.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:s.coordinate};if(e==="centric"){var a=s.coordinate,o=i.radius;return de(de(de({},i),vr(i.cx,i.cy,o,a)),{},{angle:a,radius:o})}var c=s.coordinate,u=i.angle;return de(de(de({},i),vr(i.cx,i.cy,c,u)),{},{angle:u,radius:c})}return Iee},GS=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,s=r.dataEndIndex,a=(n??[]).reduce(function(o,c){var u=c.props.data;return u&&u.length?[].concat(em(o),em(u)):o},[]);return a.length>0?a:e&&e.length&&Le(i)&&Le(s)?e.slice(i,s+1):[]};function Oee(t){return t==="number"?[0,"auto"]:void 0}var f2=function(e,r,n,i){var s=e.graphicalItems,a=e.tooltipAxis,o=GS(r,e);return n<0||!s||!s.length||n>=o.length?null:s.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(a.dataKey&&!a.allowDuplicatedCategory){var p=f===void 0?o:f;h=WA(p,a.dataKey,i)}else h=f&&f[n]||o[n];return h?[].concat(em(c),[S9e(u,h)]):c},[])},MB=function(e,r,n,i){var s=i||{x:e.chartX,y:e.chartY},a=ZKe(s,n),o=e.orderedTooltipTicks,c=e.tooltipAxis,u=e.tooltipTicks,d=l9e(a,o,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=f2(e,r,d,f),p=JKe(n,o,d,s);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},eGe=function(e,r){var n=r.axes,i=r.graphicalItems,s=r.axisType,a=r.axisIdKey,o=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.layout,f=e.children,h=e.stackOffset,p=VJ(d,s);return n.reduce(function(v,m){var b,w=m.type.defaultProps!==void 0?de(de({},m.type.defaultProps),m.props):m.props,y=w.type,_=w.dataKey,S=w.allowDataOverflow,E=w.allowDuplicatedCategory,N=w.scale,T=w.ticks,j=w.includeHidden,A=w[a];if(v[A])return v;var R=GS(e.data,{graphicalItems:i.filter(function(U){var X,ie=a in U.props?U.props[a]:(X=U.type.defaultProps)===null||X===void 0?void 0:X[a];return ie===A}),dataStartIndex:c,dataEndIndex:u}),k=R.length,O,P,D;TKe(w.domain,S,y)&&(O=IP(w.domain,null,S),p&&(y==="number"||N!=="auto")&&(D=lv(R,_,"category")));var z=Oee(y);if(!O||O.length===0){var M,V=(M=w.domain)!==null&&M!==void 0?M:z;if(_){if(O=lv(R,_,y),y==="category"&&p){var L=ZRe(O);E&&L?(P=O,O=o1(0,k)):E||(O=v6(V,O,m).reduce(function(U,X){return U.indexOf(X)>=0?U:[].concat(em(U),[X])},[]))}else if(y==="category")E?O=O.filter(function(U){return U!==""&&!Ot(U)}):O=v6(V,O,m).reduce(function(U,X){return U.indexOf(X)>=0||X===""||Ot(X)?U:[].concat(em(U),[X])},[]);else if(y==="number"){var $=h9e(R,i.filter(function(U){var X,ie,le=a in U.props?U.props[a]:(X=U.type.defaultProps)===null||X===void 0?void 0:X[a],xe="hide"in U.props?U.props.hide:(ie=U.type.defaultProps)===null||ie===void 0?void 0:ie.hide;return le===A&&(j||!xe)}),_,s,d);$&&(O=$)}p&&(y==="number"||N!=="auto")&&(D=lv(R,_,"category"))}else p?O=o1(0,k):o&&o[A]&&o[A].hasStack&&y==="number"?O=h==="expand"?[0,1]:BJ(o[A].stackGroups,c,u):O=FJ(R,i.filter(function(U){var X=a in U.props?U.props[a]:U.type.defaultProps[a],ie="hide"in U.props?U.props.hide:U.type.defaultProps.hide;return X===A&&(j||!ie)}),y,d,!0);if(y==="number")O=c2(f,O,A,s,T),V&&(O=IP(V,O,S));else if(y==="category"&&V){var G=V,q=O.every(function(U){return G.indexOf(U)>=0});q&&(O=G)}}return de(de({},v),{},Je({},A,de(de({},w),{},{axisType:s,domain:O,categoricalDomain:D,duplicateDomain:P,originalDomain:(b=w.domain)!==null&&b!==void 0?b:z,isCategorical:p,layout:d})))},{})},tGe=function(e,r){var n=r.graphicalItems,i=r.Axis,s=r.axisType,a=r.axisIdKey,o=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.layout,f=e.children,h=GS(e.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),p=h.length,v=VJ(d,s),m=-1;return n.reduce(function(b,w){var y=w.type.defaultProps!==void 0?de(de({},w.type.defaultProps),w.props):w.props,_=y[a],S=Oee("number");if(!b[_]){m++;var E;return v?E=o1(0,p):o&&o[_]&&o[_].hasStack?(E=BJ(o[_].stackGroups,c,u),E=c2(f,E,_,s)):(E=IP(S,FJ(h,n.filter(function(N){var T,j,A=a in N.props?N.props[a]:(T=N.type.defaultProps)===null||T===void 0?void 0:T[a],R="hide"in N.props?N.props.hide:(j=N.type.defaultProps)===null||j===void 0?void 0:j.hide;return A===_&&!R}),"number",d),i.defaultProps.allowDataOverflow),E=c2(f,E,_,s)),de(de({},b),{},Je({},_,de(de({axisType:s},i.defaultProps),{},{hide:!0,orientation:ka(XKe,"".concat(s,".").concat(m%2),null),domain:E,originalDomain:S,isCategorical:v,layout:d})))}return b},{})},rGe=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,s=r.AxisComp,a=r.graphicalItems,o=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.children,f="".concat(i,"Id"),h=Ao(d,s),p={};return h&&h.length?p=eGe(e,{axes:h,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:o,dataStartIndex:c,dataEndIndex:u}):a&&a.length&&(p=tGe(e,{Axis:s,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:o,dataStartIndex:c,dataEndIndex:u})),p},nGe=function(e){var r=th(e),n=Mg(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:zO(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:OP(r,n)}},DB=function(e){var r=e.children,n=e.defaultShowTooltip,i=Ls(r,Yp),s=0,a=0;return e.data&&e.data.length!==0&&(a=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!n}},iGe=function(e){return!e||!e.length?!1:e.some(function(r){var n=Cl(r&&r.type);return n&&n.indexOf("Bar")>=0})},LB=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},sGe=function(e,r){var n=e.props,i=e.graphicalItems,s=e.xAxisMap,a=s===void 0?{}:s,o=e.yAxisMap,c=o===void 0?{}:o,u=n.width,d=n.height,f=n.children,h=n.margin||{},p=Ls(f,Yp),v=Ls(f,Uh),m=Object.keys(c).reduce(function(E,N){var T=c[N],j=T.orientation;return!T.mirror&&!T.hide?de(de({},E),{},Je({},j,E[j]+T.width)):E},{left:h.left||0,right:h.right||0}),b=Object.keys(a).reduce(function(E,N){var T=a[N],j=T.orientation;return!T.mirror&&!T.hide?de(de({},E),{},Je({},j,ka(E,"".concat(j))+T.height)):E},{top:h.top||0,bottom:h.bottom||0}),w=de(de({},b),m),y=w.bottom;p&&(w.bottom+=p.props.height||Yp.defaultProps.height),v&&r&&(w=d9e(w,i,n,r));var _=u-w.left-w.right,S=d-w.top-w.bottom;return de(de({brushBottom:y},w),{},{width:Math.max(_,0),height:Math.max(S,0)})},aGe=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},oGe=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,s=i===void 0?"axis":i,a=e.validateTooltipEventTypes,o=a===void 0?["axis"]:a,c=e.axisComponents,u=e.legendContent,d=e.formatAxisMap,f=e.defaultProps,h=function(w,y){var _=y.graphicalItems,S=y.stackGroups,E=y.offset,N=y.updateId,T=y.dataStartIndex,j=y.dataEndIndex,A=w.barSize,R=w.layout,k=w.barGap,O=w.barCategoryGap,P=w.maxBarSize,D=LB(R),z=D.numericAxisName,M=D.cateAxisName,V=iGe(_),L=[];return _.forEach(function($,G){var q=GS(w.data,{graphicalItems:[$],dataStartIndex:T,dataEndIndex:j}),U=$.type.defaultProps!==void 0?de(de({},$.type.defaultProps),$.props):$.props,X=U.dataKey,ie=U.maxBarSize,le=U["".concat(z,"Id")],xe=U["".concat(M,"Id")],ce={},Q=c.reduce(function(lr,W){var te=y["".concat(W.axisType,"Map")],ue=U["".concat(W.axisType,"Id")];te&&te[ue]||W.axisType==="zAxis"||Up();var Te=te[ue];return de(de({},lr),{},Je(Je({},W.axisType,Te),"".concat(W.axisType,"Ticks"),Mg(Te)))},ce),Y=Q[M],ee=Q["".concat(M,"Ticks")],se=S&&S[le]&&S[le].hasStack&&_9e($,S[le].stackGroups),J=Cl($.type).indexOf("Bar")>=0,je=OP(Y,ee),Ae=[],ct=V&&c9e({barSize:A,stackGroups:S,totalSize:aGe(Q,M)});if(J){var fe,$e,Xe=Ot(ie)?P:ie,vt=(fe=($e=OP(Y,ee,!0))!==null&&$e!==void 0?$e:Xe)!==null&&fe!==void 0?fe:0;Ae=u9e({barGap:k,barCategoryGap:O,bandSize:vt!==je?vt:je,sizeList:ct[xe],maxBarSize:Xe}),vt!==je&&(Ae=Ae.map(function(lr){return de(de({},lr),{},{position:de(de({},lr.position),{},{offset:lr.position.offset-vt/2})})}))}var Ar=$&&$.type&&$.type.getComposedData;Ar&&L.push({props:de(de({},Ar(de(de({},Q),{},{displayedData:q,props:w,dataKey:X,item:$,bandSize:je,barPosition:Ae,offset:E,stackedData:se,layout:R,dataStartIndex:T,dataEndIndex:j}))),{},Je(Je(Je({key:$.key||"item-".concat(G)},z,Q[z]),M,Q[M]),"animationId",N)),childIndex:cke($,w.children),item:$})}),L},p=function(w,y){var _=w.props,S=w.dataStartIndex,E=w.dataEndIndex,N=w.updateId;if(!dV({props:_}))return null;var T=_.children,j=_.layout,A=_.stackOffset,R=_.data,k=_.reverseStackOrder,O=LB(j),P=O.numericAxisName,D=O.cateAxisName,z=Ao(T,n),M=b9e(R,z,"".concat(P,"Id"),"".concat(D,"Id"),A,k),V=c.reduce(function(U,X){var ie="".concat(X.axisType,"Map");return de(de({},U),{},Je({},ie,rGe(_,de(de({},X),{},{graphicalItems:z,stackGroups:X.axisType===P&&M,dataStartIndex:S,dataEndIndex:E}))))},{}),L=sGe(de(de({},V),{},{props:_,graphicalItems:z}),y==null?void 0:y.legendBBox);Object.keys(V).forEach(function(U){V[U]=d(_,V[U],L,U.replace("Map",""),r)});var $=V["".concat(D,"Map")],G=nGe($),q=h(_,de(de({},V),{},{dataStartIndex:S,dataEndIndex:E,updateId:N,graphicalItems:z,stackGroups:M,offset:L}));return de(de({formattedGraphicalItems:q,graphicalItems:z,offset:L,stackGroups:M},G),V)},v=function(b){function w(y){var _,S,E;return FKe(this,w),E=UKe(this,w,[y]),Je(E,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Je(E,"accessibilityManager",new NKe),Je(E,"handleLegendBBoxUpdate",function(N){if(N){var T=E.state,j=T.dataStartIndex,A=T.dataEndIndex,R=T.updateId;E.setState(de({legendBBox:N},p({props:E.props,dataStartIndex:j,dataEndIndex:A,updateId:R},de(de({},E.state),{},{legendBBox:N}))))}}),Je(E,"handleReceiveSyncEvent",function(N,T,j){if(E.props.syncId===N){if(j===E.eventEmitterSymbol&&typeof E.props.syncMethod!="function")return;E.applySyncEvent(T)}}),Je(E,"handleBrushChange",function(N){var T=N.startIndex,j=N.endIndex;if(T!==E.state.dataStartIndex||j!==E.state.dataEndIndex){var A=E.state.updateId;E.setState(function(){return de({dataStartIndex:T,dataEndIndex:j},p({props:E.props,dataStartIndex:T,dataEndIndex:j,updateId:A},E.state))}),E.triggerSyncEvent({dataStartIndex:T,dataEndIndex:j})}}),Je(E,"handleMouseEnter",function(N){var T=E.getMouseInfo(N);if(T){var j=de(de({},T),{},{isTooltipActive:!0});E.setState(j),E.triggerSyncEvent(j);var A=E.props.onMouseEnter;St(A)&&A(j,N)}}),Je(E,"triggeredAfterMouseMove",function(N){var T=E.getMouseInfo(N),j=T?de(de({},T),{},{isTooltipActive:!0}):{isTooltipActive:!1};E.setState(j),E.triggerSyncEvent(j);var A=E.props.onMouseMove;St(A)&&A(j,N)}),Je(E,"handleItemMouseEnter",function(N){E.setState(function(){return{isTooltipActive:!0,activeItem:N,activePayload:N.tooltipPayload,activeCoordinate:N.tooltipPosition||{x:N.cx,y:N.cy}}})}),Je(E,"handleItemMouseLeave",function(){E.setState(function(){return{isTooltipActive:!1}})}),Je(E,"handleMouseMove",function(N){N.persist(),E.throttleTriggeredAfterMouseMove(N)}),Je(E,"handleMouseLeave",function(N){E.throttleTriggeredAfterMouseMove.cancel();var T={isTooltipActive:!1};E.setState(T),E.triggerSyncEvent(T);var j=E.props.onMouseLeave;St(j)&&j(T,N)}),Je(E,"handleOuterEvent",function(N){var T=lke(N),j=ka(E.props,"".concat(T));if(T&&St(j)){var A,R;/.*touch.*/i.test(T)?R=E.getMouseInfo(N.changedTouches[0]):R=E.getMouseInfo(N),j((A=R)!==null&&A!==void 0?A:{},N)}}),Je(E,"handleClick",function(N){var T=E.getMouseInfo(N);if(T){var j=de(de({},T),{},{isTooltipActive:!0});E.setState(j),E.triggerSyncEvent(j);var A=E.props.onClick;St(A)&&A(j,N)}}),Je(E,"handleMouseDown",function(N){var T=E.props.onMouseDown;if(St(T)){var j=E.getMouseInfo(N);T(j,N)}}),Je(E,"handleMouseUp",function(N){var T=E.props.onMouseUp;if(St(T)){var j=E.getMouseInfo(N);T(j,N)}}),Je(E,"handleTouchMove",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&E.throttleTriggeredAfterMouseMove(N.changedTouches[0])}),Je(E,"handleTouchStart",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&E.handleMouseDown(N.changedTouches[0])}),Je(E,"handleTouchEnd",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&E.handleMouseUp(N.changedTouches[0])}),Je(E,"handleDoubleClick",function(N){var T=E.props.onDoubleClick;if(St(T)){var j=E.getMouseInfo(N);T(j,N)}}),Je(E,"handleContextMenu",function(N){var T=E.props.onContextMenu;if(St(T)){var j=E.getMouseInfo(N);T(j,N)}}),Je(E,"triggerSyncEvent",function(N){E.props.syncId!==void 0&&cj.emit(uj,E.props.syncId,N,E.eventEmitterSymbol)}),Je(E,"applySyncEvent",function(N){var T=E.props,j=T.layout,A=T.syncMethod,R=E.state.updateId,k=N.dataStartIndex,O=N.dataEndIndex;if(N.dataStartIndex!==void 0||N.dataEndIndex!==void 0)E.setState(de({dataStartIndex:k,dataEndIndex:O},p({props:E.props,dataStartIndex:k,dataEndIndex:O,updateId:R},E.state)));else if(N.activeTooltipIndex!==void 0){var P=N.chartX,D=N.chartY,z=N.activeTooltipIndex,M=E.state,V=M.offset,L=M.tooltipTicks;if(!V)return;if(typeof A=="function")z=A(L,N);else if(A==="value"){z=-1;for(var $=0;$<L.length;$++)if(L[$].value===N.activeLabel){z=$;break}}var G=de(de({},V),{},{x:V.left,y:V.top}),q=Math.min(P,G.x+G.width),U=Math.min(D,G.y+G.height),X=L[z]&&L[z].value,ie=f2(E.state,E.props.data,z),le=L[z]?{x:j==="horizontal"?L[z].coordinate:q,y:j==="horizontal"?U:L[z].coordinate}:Iee;E.setState(de(de({},N),{},{activeLabel:X,activeCoordinate:le,activePayload:ie,activeTooltipIndex:z}))}else E.setState(N)}),Je(E,"renderCursor",function(N){var T,j=E.state,A=j.isTooltipActive,R=j.activeCoordinate,k=j.activePayload,O=j.offset,P=j.activeTooltipIndex,D=j.tooltipAxisBandSize,z=E.getTooltipEventType(),M=(T=N.props.active)!==null&&T!==void 0?T:A,V=E.props.layout,L=N.key||"_recharts-cursor";return B.createElement(kKe,{key:L,activeCoordinate:R,activePayload:k,activeTooltipIndex:P,chartName:r,element:N,isActive:M,layout:V,offset:O,tooltipAxisBandSize:D,tooltipEventType:z})}),Je(E,"renderPolarAxis",function(N,T,j){var A=ka(N,"type.axisType"),R=ka(E.state,"".concat(A,"Map")),k=N.type.defaultProps,O=k!==void 0?de(de({},k),N.props):N.props,P=R&&R[O["".concat(A,"Id")]];return g.cloneElement(N,de(de({},P),{},{className:$t(A,P.className),key:N.key||"".concat(T,"-").concat(j),ticks:Mg(P,!0)}))}),Je(E,"renderPolarGrid",function(N){var T=N.props,j=T.radialLines,A=T.polarAngles,R=T.polarRadius,k=E.state,O=k.radiusAxisMap,P=k.angleAxisMap,D=th(O),z=th(P),M=z.cx,V=z.cy,L=z.innerRadius,$=z.outerRadius;return g.cloneElement(N,{polarAngles:Array.isArray(A)?A:Mg(z,!0).map(function(G){return G.coordinate}),polarRadius:Array.isArray(R)?R:Mg(D,!0).map(function(G){return G.coordinate}),cx:M,cy:V,innerRadius:L,outerRadius:$,key:N.key||"polar-grid",radialLines:j})}),Je(E,"renderLegend",function(){var N=E.state.formattedGraphicalItems,T=E.props,j=T.children,A=T.width,R=T.height,k=E.props.margin||{},O=A-(k.left||0)-(k.right||0),P=LJ({children:j,formattedGraphicalItems:N,legendWidth:O,legendContent:u});if(!P)return null;var D=P.item,z=IB(P,IKe);return g.cloneElement(D,de(de({},z),{},{chartWidth:A,chartHeight:R,margin:k,onBBoxUpdate:E.handleLegendBBoxUpdate}))}),Je(E,"renderTooltip",function(){var N,T=E.props,j=T.children,A=T.accessibilityLayer,R=Ls(j,va);if(!R)return null;var k=E.state,O=k.isTooltipActive,P=k.activeCoordinate,D=k.activePayload,z=k.activeLabel,M=k.offset,V=(N=R.props.active)!==null&&N!==void 0?N:O;return g.cloneElement(R,{viewBox:de(de({},M),{},{x:M.left,y:M.top}),active:V,label:z,payload:V?D:[],coordinate:P,accessibilityLayer:A})}),Je(E,"renderBrush",function(N){var T=E.props,j=T.margin,A=T.data,R=E.state,k=R.offset,O=R.dataStartIndex,P=R.dataEndIndex,D=R.updateId;return g.cloneElement(N,{key:N.key||"_recharts-brush",onChange:mb(E.handleBrushChange,N.props.onChange),data:A,x:Le(N.props.x)?N.props.x:k.left,y:Le(N.props.y)?N.props.y:k.top+k.height+k.brushBottom-(j.bottom||0),width:Le(N.props.width)?N.props.width:k.width,startIndex:O,endIndex:P,updateId:"brush-".concat(D)})}),Je(E,"renderReferenceElement",function(N,T,j){if(!N)return null;var A=E,R=A.clipPathId,k=E.state,O=k.xAxisMap,P=k.yAxisMap,D=k.offset,z=N.type.defaultProps||{},M=N.props,V=M.xAxisId,L=V===void 0?z.xAxisId:V,$=M.yAxisId,G=$===void 0?z.yAxisId:$;return g.cloneElement(N,{key:N.key||"".concat(T,"-").concat(j),xAxis:O[L],yAxis:P[G],viewBox:{x:D.left,y:D.top,width:D.width,height:D.height},clipPathId:R})}),Je(E,"renderActivePoints",function(N){var T=N.item,j=N.activePoint,A=N.basePoint,R=N.childIndex,k=N.isRange,O=[],P=T.props.key,D=T.item.type.defaultProps!==void 0?de(de({},T.item.type.defaultProps),T.item.props):T.item.props,z=D.activeDot,M=D.dataKey,V=de(de({index:R,dataKey:M,cx:j.x,cy:j.y,r:4,fill:vM(T.item),strokeWidth:2,stroke:"#fff",payload:j.payload,value:j.value},_t(z,!1)),E_(z));return O.push(w.renderActiveDot(z,V,"".concat(P,"-activePoint-").concat(R))),A?O.push(w.renderActiveDot(z,de(de({},V),{},{cx:A.x,cy:A.y}),"".concat(P,"-basePoint-").concat(R))):k&&O.push(null),O}),Je(E,"renderGraphicChild",function(N,T,j){var A=E.filterFormatItem(N,T,j);if(!A)return null;var R=E.getTooltipEventType(),k=E.state,O=k.isTooltipActive,P=k.tooltipAxis,D=k.activeTooltipIndex,z=k.activeLabel,M=E.props.children,V=Ls(M,va),L=A.props,$=L.points,G=L.isRange,q=L.baseLine,U=A.item.type.defaultProps!==void 0?de(de({},A.item.type.defaultProps),A.item.props):A.item.props,X=U.activeDot,ie=U.hide,le=U.activeBar,xe=U.activeShape,ce=!!(!ie&&O&&V&&(X||le||xe)),Q={};R!=="axis"&&V&&V.props.trigger==="click"?Q={onClick:mb(E.handleItemMouseEnter,N.props.onClick)}:R!=="axis"&&(Q={onMouseLeave:mb(E.handleItemMouseLeave,N.props.onMouseLeave),onMouseEnter:mb(E.handleItemMouseEnter,N.props.onMouseEnter)});var Y=g.cloneElement(N,de(de({},A.props),Q));function ee(W){return typeof P.dataKey=="function"?P.dataKey(W.payload):null}if(ce)if(D>=0){var se,J;if(P.dataKey&&!P.allowDuplicatedCategory){var je=typeof P.dataKey=="function"?ee:"payload.".concat(P.dataKey.toString());se=WA($,je,z),J=G&&q&&WA(q,je,z)}else se=$==null?void 0:$[D],J=G&&q&&q[D];if(xe||le){var Ae=N.props.activeIndex!==void 0?N.props.activeIndex:D;return[g.cloneElement(N,de(de(de({},A.props),Q),{},{activeIndex:Ae})),null,null]}if(!Ot(se))return[Y].concat(em(E.renderActivePoints({item:A,activePoint:se,basePoint:J,childIndex:D,isRange:G})))}else{var ct,fe=(ct=E.getItemByXY(E.state.activeCoordinate))!==null&&ct!==void 0?ct:{graphicalItem:Y},$e=fe.graphicalItem,Xe=$e.item,vt=Xe===void 0?N:Xe,Ar=$e.childIndex,lr=de(de(de({},A.props),Q),{},{activeIndex:Ar});return[g.cloneElement(vt,lr),null,null]}return G?[Y,null,null]:[Y,null]}),Je(E,"renderCustomized",function(N,T,j){return g.cloneElement(N,de(de({key:"recharts-customized-".concat(j)},E.props),E.state))}),Je(E,"renderMap",{CartesianGrid:{handler:wb,once:!0},ReferenceArea:{handler:E.renderReferenceElement},ReferenceLine:{handler:wb},ReferenceDot:{handler:E.renderReferenceElement},XAxis:{handler:wb},YAxis:{handler:wb},Brush:{handler:E.renderBrush,once:!0},Bar:{handler:E.renderGraphicChild},Line:{handler:E.renderGraphicChild},Area:{handler:E.renderGraphicChild},Radar:{handler:E.renderGraphicChild},RadialBar:{handler:E.renderGraphicChild},Scatter:{handler:E.renderGraphicChild},Pie:{handler:E.renderGraphicChild},Funnel:{handler:E.renderGraphicChild},Tooltip:{handler:E.renderCursor,once:!0},PolarGrid:{handler:E.renderPolarGrid,once:!0},PolarAngleAxis:{handler:E.renderPolarAxis},PolarRadiusAxis:{handler:E.renderPolarAxis},Customized:{handler:E.renderCustomized}}),E.clipPathId="".concat((_=y.id)!==null&&_!==void 0?_:gS("recharts"),"-clip"),E.throttleTriggeredAfterMouseMove=MZ(E.triggeredAfterMouseMove,(S=y.throttleDelay)!==null&&S!==void 0?S:1e3/60),E.state={},E}return WKe(w,b),BKe(w,[{key:"componentDidMount",value:function(){var _,S;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var _=this.props,S=_.children,E=_.data,N=_.height,T=_.layout,j=Ls(S,va);if(j){var A=j.props.defaultIndex;if(!(typeof A!="number"||A<0||A>this.state.tooltipTicks.length-1)){var R=this.state.tooltipTicks[A]&&this.state.tooltipTicks[A].value,k=f2(this.state,E,A,R),O=this.state.tooltipTicks[A].coordinate,P=(this.state.offset.top+N)/2,D=T==="horizontal",z=D?{x:O,y:P}:{y:O,x:P},M=this.state.formattedGraphicalItems.find(function(L){var $=L.item;return $.type.name==="Scatter"});M&&(z=de(de({},z),M.props.points[A].tooltipPosition),k=M.props.points[A].tooltipPayload);var V={activeTooltipIndex:A,isTooltipActive:!0,activeLabel:R,activePayload:k,activeCoordinate:z};this.setState(V),this.renderCursor(j),this.accessibilityManager.setIndex(A)}}}},{key:"getSnapshotBeforeUpdate",value:function(_,S){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==S.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==_.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==_.margin){var E,N;this.accessibilityManager.setDetails({offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0}})}return null}},{key:"componentDidUpdate",value:function(_){GA([Ls(_.children,va)],[Ls(this.props.children,va)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var _=Ls(this.props.children,va);if(_&&typeof _.props.shared=="boolean"){var S=_.props.shared?"axis":"item";return o.indexOf(S)>=0?S:s}return s}},{key:"getMouseInfo",value:function(_){if(!this.container)return null;var S=this.container,E=S.getBoundingClientRect(),N=DVe(E),T={chartX:Math.round(_.pageX-N.left),chartY:Math.round(_.pageY-N.top)},j=E.width/S.offsetWidth||1,A=this.inRange(T.chartX,T.chartY,j);if(!A)return null;var R=this.state,k=R.xAxisMap,O=R.yAxisMap,P=this.getTooltipEventType(),D=MB(this.state,this.props.data,this.props.layout,A);if(P!=="axis"&&k&&O){var z=th(k).scale,M=th(O).scale,V=z&&z.invert?z.invert(T.chartX):null,L=M&&M.invert?M.invert(T.chartY):null;return de(de({},T),{},{xValue:V,yValue:L},D)}return D?de(de({},T),D):null}},{key:"inRange",value:function(_,S){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,N=this.props.layout,T=_/E,j=S/E;if(N==="horizontal"||N==="vertical"){var A=this.state.offset,R=T>=A.left&&T<=A.left+A.width&&j>=A.top&&j<=A.top+A.height;return R?{x:T,y:j}:null}var k=this.state,O=k.angleAxisMap,P=k.radiusAxisMap;if(O&&P){var D=th(O);return b6({x:T,y:j},D)}return null}},{key:"parseEventsOfWrapper",value:function(){var _=this.props.children,S=this.getTooltipEventType(),E=Ls(_,va),N={};E&&S==="axis"&&(E.props.trigger==="click"?N={onClick:this.handleClick}:N={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var T=E_(this.props,this.handleOuterEvent);return de(de({},T),N)}},{key:"addListener",value:function(){cj.on(uj,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){cj.removeListener(uj,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(_,S,E){for(var N=this.state.formattedGraphicalItems,T=0,j=N.length;T<j;T++){var A=N[T];if(A.item===_||A.props.key===_.key||S===Cl(A.item.type)&&E===A.childIndex)return A}return null}},{key:"renderClipPath",value:function(){var _=this.clipPathId,S=this.state.offset,E=S.left,N=S.top,T=S.height,j=S.width;return B.createElement("defs",null,B.createElement("clipPath",{id:_},B.createElement("rect",{x:E,y:N,height:T,width:j})))}},{key:"getXScales",value:function(){var _=this.state.xAxisMap;return _?Object.entries(_).reduce(function(S,E){var N=kB(E,2),T=N[0],j=N[1];return de(de({},S),{},Je({},T,j.scale))},{}):null}},{key:"getYScales",value:function(){var _=this.state.yAxisMap;return _?Object.entries(_).reduce(function(S,E){var N=kB(E,2),T=N[0],j=N[1];return de(de({},S),{},Je({},T,j.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(_){var S;return(S=this.state.xAxisMap)===null||S===void 0||(S=S[_])===null||S===void 0?void 0:S.scale}},{key:"getYScaleByAxisId",value:function(_){var S;return(S=this.state.yAxisMap)===null||S===void 0||(S=S[_])===null||S===void 0?void 0:S.scale}},{key:"getItemByXY",value:function(_){var S=this.state,E=S.formattedGraphicalItems,N=S.activeItem;if(E&&E.length)for(var T=0,j=E.length;T<j;T++){var A=E[T],R=A.props,k=A.item,O=k.type.defaultProps!==void 0?de(de({},k.type.defaultProps),k.props):k.props,P=Cl(k.type);if(P==="Bar"){var D=(R.data||[]).find(function(L){return xqe(_,L)});if(D)return{graphicalItem:A,payload:D}}else if(P==="RadialBar"){var z=(R.data||[]).find(function(L){return b6(_,L)});if(z)return{graphicalItem:A,payload:z}}else if(US(A,N)||zS(A,N)||Ly(A,N)){var M=c7e({graphicalItem:A,activeTooltipItem:N,itemData:O.data}),V=O.activeIndex===void 0?M:O.activeIndex;return{graphicalItem:de(de({},A),{},{childIndex:V}),payload:Ly(A,N)?O.data[M]:A.props.data[M]}}}return null}},{key:"render",value:function(){var _=this;if(!dV(this))return null;var S=this.props,E=S.children,N=S.className,T=S.width,j=S.height,A=S.style,R=S.compact,k=S.title,O=S.desc,P=IB(S,OKe),D=_t(P,!1);if(R)return B.createElement(_B,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},B.createElement(XA,Eh({},D,{width:T,height:j,title:k,desc:O}),this.renderClipPath(),hV(E,this.renderMap)));if(this.props.accessibilityLayer){var z,M;D.tabIndex=(z=this.props.tabIndex)!==null&&z!==void 0?z:0,D.role=(M=this.props.role)!==null&&M!==void 0?M:"application",D.onKeyDown=function(L){_.accessibilityManager.keyboardEvent(L)},D.onFocus=function(){_.accessibilityManager.focus()}}var V=this.parseEventsOfWrapper();return B.createElement(_B,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},B.createElement("div",Eh({className:$t("recharts-wrapper",N),style:de({position:"relative",cursor:"default",width:T,height:j},A)},V,{ref:function($){_.container=$}}),B.createElement(XA,Eh({},D,{width:T,height:j,title:k,desc:O,style:QKe}),this.renderClipPath(),hV(E,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(g.Component);Je(v,"displayName",r),Je(v,"defaultProps",de({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Je(v,"getDerivedStateFromProps",function(b,w){var y=b.dataKey,_=b.data,S=b.children,E=b.width,N=b.height,T=b.layout,j=b.stackOffset,A=b.margin,R=w.dataStartIndex,k=w.dataEndIndex;if(w.updateId===void 0){var O=DB(b);return de(de(de({},O),{},{updateId:0},p(de(de({props:b},O),{},{updateId:0}),w)),{},{prevDataKey:y,prevData:_,prevWidth:E,prevHeight:N,prevLayout:T,prevStackOffset:j,prevMargin:A,prevChildren:S})}if(y!==w.prevDataKey||_!==w.prevData||E!==w.prevWidth||N!==w.prevHeight||T!==w.prevLayout||j!==w.prevStackOffset||!HA(A,w.prevMargin)){var P=DB(b),D={chartX:w.chartX,chartY:w.chartY,isTooltipActive:w.isTooltipActive},z=de(de({},MB(w,_,T)),{},{updateId:w.updateId+1}),M=de(de(de({},P),D),z);return de(de(de({},M),p(de({props:b},M),w)),{},{prevDataKey:y,prevData:_,prevWidth:E,prevHeight:N,prevLayout:T,prevStackOffset:j,prevMargin:A,prevChildren:S})}if(!GA(S,w.prevChildren)){var V,L,$,G,q=Ls(S,Yp),U=q&&(V=(L=q.props)===null||L===void 0?void 0:L.startIndex)!==null&&V!==void 0?V:R,X=q&&($=(G=q.props)===null||G===void 0?void 0:G.endIndex)!==null&&$!==void 0?$:k,ie=U!==R||X!==k,le=!Ot(_),xe=le&&!ie?w.updateId:w.updateId+1;return de(de({updateId:xe},p(de(de({props:b},w),{},{updateId:xe,dataStartIndex:U,dataEndIndex:X}),w)),{},{prevChildren:S,dataStartIndex:U,dataEndIndex:X})}return null}),Je(v,"renderActiveDot",function(b,w,y){var _;return g.isValidElement(b)?_=g.cloneElement(b,w):St(b)?_=b(w):_=B.createElement(xM,w),B.createElement(Zr,{className:"recharts-active-dot",key:y},_)});var m=g.forwardRef(function(w,y){return B.createElement(v,Eh({},w,{ref:y}))});return m.displayName=v.displayName,m},Mee=oGe({chartName:"PieChart",GraphicalChild:Wo,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:BS},{axisType:"radiusAxis",AxisComp:FS}],formatAxisMap:I9e,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const fj=({data:t,title:e,darkMode:r=!1})=>{const[n,i]=g.useState(!1),s=t.filter(o=>o.value>0),a=s.length>0;return g.useEffect(()=>{const o=setTimeout(()=>{i(!0)},300);return()=>clearTimeout(o)},[]),l.jsxs(tt,{className:"bg-white border border-gray-100 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 relative group overflow-hidden h-[420px]",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),l.jsx(qt,{className:"pb-0 text-center",children:l.jsx(Wt,{className:"text-xl font-bold",children:e})}),l.jsxs(mt,{className:"flex flex-col justify-center items-center h-[350px]",children:[l.jsx("div",{className:"h-64 w-full flex justify-center items-center",children:n&&l.jsx(DZ,{width:"100%",height:"100%",children:l.jsxs(Mee,{children:[l.jsx(Wo,{data:s,cx:"50%",cy:"50%",labelLine:!1,outerRadius:80,innerRadius:60,fill:"#8884d8",dataKey:"value",label:({percent:o})=>a?`${(o*100).toFixed(0)}%`:"",paddingAngle:2,children:s.map((o,c)=>l.jsx(TS,{fill:o.color,stroke:"#fff",strokeWidth:2},`cell-${c}`))}),l.jsx(va,{formatter:(o,c)=>[o,c],contentStyle:{backgroundColor:r?"#1f2937":"#fff",border:r?"1px solid #374151":"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"},itemStyle:{color:r?"#e5e7eb":"#374151"}})]})})}),l.jsxs("div",{className:"mt-2 px-2 text-sm w-full",children:[!a&&l.jsx("p",{className:"text-center text-gray-500",children:"Não há dados disponíveis para exibir"}),a&&l.jsx("ul",{className:"flex flex-col gap-2 justify-center items-center",children:s.map((o,c)=>l.jsxs("li",{className:"flex items-center gap-2 w-full justify-center",children:[l.jsx("span",{className:"inline-block w-3 h-3 rounded-full",style:{backgroundColor:o.color}}),l.jsxs("span",{className:r?"text-gray-300":"text-gray-600",children:[o.name," (",o.value,")"]})]},c))})]})]})]})},lGe=({data:t,title:e,darkMode:r=!1})=>{const[n,i]=g.useState(!1),s=t.filter(u=>u.requestCount>0),a=s.length>0,o=["#eab308","#22c55e","#3b82f6","#8b5cf6","#ec4899"],c=s.map((u,d)=>({...u,color:o[d%o.length]}));return g.useEffect(()=>{const u=setTimeout(()=>{i(!0)},300);return()=>clearTimeout(u)},[]),l.jsxs(tt,{className:"bg-white border border-gray-100 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 relative group overflow-hidden h-[420px]",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),l.jsx(qt,{className:"pb-0 text-center",children:l.jsx(Wt,{className:"text-xl font-bold",children:e})}),l.jsxs(mt,{className:"flex flex-col justify-center items-center h-[350px]",children:[l.jsx("div",{className:"h-64 w-full flex justify-center items-center",children:n&&l.jsx(DZ,{width:"100%",height:"100%",children:l.jsxs(Mee,{children:[l.jsx(Wo,{data:c,cx:"50%",cy:"50%",labelLine:!1,outerRadius:80,innerRadius:60,fill:"#8884d8",dataKey:"requestCount",nameKey:"userName",label:({percent:u})=>a?`${(u*100).toFixed(0)}%`:"",paddingAngle:2,children:c.map((u,d)=>l.jsx(TS,{fill:u.color,stroke:"#fff",strokeWidth:2},`cell-${d}`))}),l.jsx(va,{formatter:(u,d)=>[u,d],contentStyle:{backgroundColor:r?"#1f2937":"#fff",border:r?"1px solid #374151":"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"},itemStyle:{color:r?"#e5e7eb":"#374151"}})]})})}),l.jsxs("div",{className:"mt-2 px-2 text-sm w-full",children:[!a&&l.jsx("p",{className:"text-center text-gray-500",children:"Não há dados de usuários disponíveis"}),a&&l.jsx("ul",{className:"flex flex-col gap-2 justify-center items-center",children:c.map((u,d)=>l.jsxs("li",{className:"flex items-center gap-2 w-full justify-center",children:[l.jsx("span",{className:"inline-block w-3 h-3 rounded-full",style:{backgroundColor:u.color}}),l.jsxs("span",{className:r?"text-gray-300":"text-gray-600",children:[u.userName," (",u.requestCount,")"]})]},d))})]})]})]})};function Dee({requestStatusData:t=[],equipmentTypeData:e=[],requestTypeData:r=[],topUsersData:n=[],requests:i=[],hideOtherCharts:s=!1,darkMode:a=!1,chartWrapperClass:o="",headerClass:c=""}){const u=e.length>0&&e.some(v=>v.value>0),d=r.length>0&&r.some(v=>v.value>0),f=t.length>0&&t.some(v=>v.value>0),h=n.length>0&&n.some(v=>v.requestCount>0),p=u||d||f||h;return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:ge("grid grid-cols-1 lg:grid-cols-2 gap-6",o),children:[f&&l.jsx(fj,{data:t,title:"Status das Solicitações",darkMode:a}),d&&l.jsx(fj,{data:r,title:"Tipos de Solicitações",darkMode:a})]}),l.jsxs("div",{className:ge("grid grid-cols-1 lg:grid-cols-2 gap-6",o),children:[u&&l.jsx(fj,{data:e,title:"Tipos de Equipamentos",darkMode:a}),h&&l.jsx(lGe,{data:n,title:"Usuários Mais Ativos",darkMode:a})]}),!p&&l.jsx("div",{className:"col-span-2 bg-white border border-gray-100 rounded-2xl shadow-lg p-8 text-center",children:l.jsx("p",{className:"text-lg text-gray-500",children:"Não há dados suficientes para exibir os gráficos. Adicione equipamentos ou faça solicitações para visualizar as estatísticas."})})]})}function Lee({isLoading:t,isError:e}){return t?l.jsx("div",{className:"flex justify-center items-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):e?l.jsx("div",{className:"text-center text-destructive p-4 border border-destructive rounded-md",children:"Erro ao carregar dados. Tente novamente mais tarde."}):null}const YS=on(Ue,"avisos"),$ee=async(t,e)=>{try{const n=`${Date.now()}_${t.name}`,i=`avisos/${e}/${n}`,s=Sl(Nl,i);return await mI(s,t),{url:await Tp(s),path:i}}catch(r){throw console.error("Error uploading image:",r),r}},Fee=async t=>{try{if(t){const e=Sl(Nl,t);await gI(e)}}catch(e){console.error("Error deleting image:",e)}},cGe=async t=>{try{const e={type:t.type,title:t.title,content:t.content??"",imageUrl:"",imagePath:"",priority:t.priority,isActive:t.isActive,createdBy:t.createdBy,createdAt:Tt.now(),expiresAt:t.expiresAt?Tt.fromDate(t.expiresAt):null,updatedAt:null,updatedBy:null},r=await cu(YS,e);if(t.imageFile&&t.type==="image"){const{url:n,path:i}=await $ee(t.imageFile,r.id);await Rn(r,{imageUrl:n,imagePath:i})}return r.id}catch(e){throw console.error("Error creating notice:",e),e}},uGe=async(t,e)=>{try{const r=bt(Ue,"avisos",t),n={updatedAt:Tt.now(),updatedBy:e.updatedBy};if(e.title!==void 0&&(n.title=e.title),e.type!==void 0&&(n.type=e.type),e.content!==void 0&&(n.content=e.content??""),e.priority!==void 0&&(n.priority=e.priority),e.isActive!==void 0&&(n.isActive=e.isActive),e.expiresAt!==void 0&&e.content!==void 0&&(n.content=e.content??""),e.title!==void 0&&(n.title=e.title),e.priority!==void 0&&(n.priority=e.priority),e.expiresAt!==void 0&&(n.expiresAt=e.expiresAt?Tt.fromDate(e.expiresAt):null),n.expiresAt=e.expiresAt?Tt.fromDate(e.expiresAt):null,e.imageFile&&e.type==="image"){const i=await ea($a(YS,vs("__name__","==",t)));if(!i.empty){const o=i.docs[0].data();o.imagePath&&await Fee(o.imagePath)}const{url:s,path:a}=await $ee(e.imageFile,t);n.imageUrl=s,n.imagePath=a}await Rn(r,n)}catch(r){throw console.error("Error updating notice:",r),r}},dGe=async t=>{try{const e=bt(Ue,"avisos",t),r=await ea($a(YS,vs("__name__","==",t)));if(!r.empty){const n=r.docs[0].data();n.imagePath&&await Fee(n.imagePath)}await Sf(e)}catch(e){throw console.error("Error deleting notice:",e),e}},fGe=t=>{const e=$a(YS,vs("isActive","==",!0),o_("priority","desc"),o_("createdAt","desc"));return aI(e,r=>{const n=r.docs.map(i=>{var a,o,c;const s=i.data();return{id:i.id,...s,createdAt:((a=s.createdAt)==null?void 0:a.toDate())||new Date,expiresAt:((o=s.expiresAt)==null?void 0:o.toDate())||void 0,updatedAt:((c=s.updatedAt)==null?void 0:c.toDate())||void 0}});t(n)},r=>{console.error("Error in notices subscription:",r)})},hGe=(t,e=800,r=600,n=.8)=>new Promise(i=>{const s=document.createElement("canvas"),a=s.getContext("2d"),o=new Image;o.onload=()=>{let{width:c,height:u}=o;c>u?c>e&&(u=u*e/c,c=e):u>r&&(c=c*r/u,u=r),s.width=c,s.height=u,a==null||a.drawImage(o,0,0,c,u),s.toBlob(d=>{if(d){const f=new File([d],t.name,{type:t.type,lastModified:Date.now()});i(f)}else i(t)},t.type,n)},o.src=URL.createObjectURL(t)}),pGe=t=>["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(t.type)?t.size>10485760?{isValid:!1,error:"A imagem deve ter no máximo 10MB"}:{isValid:!0}:{isValid:!1,error:"Por favor, selecione um arquivo de imagem válido (JPEG, PNG, GIF ou WebP)"},mGe=t=>new Promise((e,r)=>{const n=new FileReader;n.onload=i=>{var s;(s=i.target)!=null&&s.result?e(i.target.result):r(new Error("Erro ao gerar preview da imagem"))},n.onerror=()=>r(new Error("Erro ao ler arquivo")),n.readAsDataURL(t)}),gGe=`
  .line-clamp-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
`,Vee=({className:t=""})=>{const{currentUser:e,isSuperAdmin:r,userPermissions:n}=zr(),i=r||n["notice-board-edit"],[s,a]=g.useState([]),[o,c]=g.useState(!1),[u,d]=g.useState(!1),[f,h]=g.useState(null),[p,v]=g.useState(!1),[m,b]=g.useState(null),[w,y]=g.useState(null),_=g.useRef(null);g.useEffect(()=>{if(!document.querySelector("#line-clamp-styles")){const D=document.createElement("style");D.id="line-clamp-styles",D.textContent=gGe,document.head.appendChild(D)}},[]),g.useEffect(()=>{let D;return D=fGe(z=>{a(z)}),()=>{D&&D()}},[]);const[S,E]=g.useState({type:"text",title:"",content:"",priority:"medium",isActive:!0}),N=async()=>{if(!(!e||!S.title)){v(!0);try{await cGe({type:S.type||"text",title:S.title,content:S.content??"",imageFile:S.imageFile,priority:S.priority||"medium",expiresAt:S.expiresAt,isActive:!0,createdBy:e.email||"admin"}),k()}catch(D){console.error("Erro ao criar aviso:",D)}finally{v(!1)}}},T=D=>{h(D),E({...D,expiresAt:D.expiresAt?new Date(D.expiresAt):void 0}),d(!0)},j=async()=>{if(!(!f||!e)){v(!0);try{await uGe(f.id,{...S,imageFile:S.imageFile,updatedBy:e.email||"admin"}),k()}catch(D){console.error("Erro ao atualizar aviso:",D)}finally{v(!1)}}},A=async D=>{if(e)try{await dGe(D)}catch(z){console.error("Erro ao excluir aviso:",z)}},R=async D=>{var V;const z=(V=D.target.files)==null?void 0:V[0];if(!z)return;const M=pGe(z);if(!M.isValid){alert(M.error);return}try{v(!0);const L=await hGe(z,800,600,.8),$=await mGe(L);E(G=>({...G,imageFile:L})),b($)}catch(L){console.error("Erro ao processar imagem:",L),alert("Erro ao processar a imagem. Tente novamente.")}finally{v(!1)}},k=()=>{h(null),E({type:"text",title:"",content:"",priority:"medium",isActive:!0}),d(!1),b(null),_.current&&(_.current.value="")},O=D=>{switch(D){case"high":return"bg-red-100 text-red-800 border-red-200";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"low":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},P=D=>{switch(D){case"high":return l.jsx(VN,{className:"w-4 h-4"});case"medium":return l.jsx(_i,{className:"w-4 h-4"});default:return null}};return l.jsxs("div",{className:ge("w-full bg-gradient-to-br from-white via-purple-50 to-gray-50 rounded-3xl shadow-2xl border-2 p-7 mb-8 transform transition-all duration-300 hover:shadow-3xl hover:-translate-y-1",t),children:[i&&l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h2",{className:"text-2xl font-extrabold bg-gradient-to-r from-eccos-purple to-sidebar bg-clip-text text-transparent flex items-center gap-2 mb-4",children:"Quadro de Avisos"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(oe,{onClick:()=>c(!o),variant:"outline",size:"sm",className:"border-eccos-purple text-eccos-purple hover:bg-eccos-purple hover:text-white",children:[l.jsx(Iv,{className:"w-4 h-4 mr-1"}),o?"Finalizar":"Gerenciar"]}),s.length<4&&l.jsxs(oe,{onClick:()=>d(!0),size:"sm",className:"bg-eccos-purple hover:bg-sidebar text-white",children:[l.jsx(Ow,{className:"w-4 h-4 mr-1"}),"Adicionar"]})]})]}),s.length>0?l.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:s.map(D=>l.jsxs(tt,{className:"bg-white border border-gray-100 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 relative group overflow-hidden cursor-pointer",onClick:()=>y(D),children:[i&&o&&l.jsxs("div",{className:"absolute top-3 left-3 z-10 flex gap-1",children:[l.jsx(oe,{onClick:z=>{z.stopPropagation(),T(D)},size:"sm",variant:"outline",className:"w-8 h-8 p-0 bg-white/90 hover:bg-white border-gray-300",children:l.jsx(Iv,{className:"w-3 h-3"})}),l.jsx(oe,{onClick:z=>{z.stopPropagation(),A(D.id)},size:"sm",variant:"outline",className:"w-8 h-8 p-0 bg-white/90 hover:bg-red-50 border-gray-300 hover:border-red-300 hover:text-red-600",title:"Excluir permanentemente",children:l.jsx(Ll,{className:"w-3 h-3"})})]}),l.jsxs(mt,{className:"p-0",children:[l.jsx("div",{className:"px-4 pt-4 flex justify-end",children:l.jsx(_e,{className:`${O(D.priority)} border text-xs`,children:l.jsxs("span",{className:"flex items-center gap-1",children:[P(D.priority),D.priority==="high"?"Urgente":D.priority==="medium"?"Importante":"Normal"]})})}),D.type==="image"&&D.imageUrl&&l.jsx("div",{className:"relative w-full h-48 rounded-t-2xl overflow-hidden bg-gray-100",children:l.jsx("img",{src:D.imageUrl,alt:D.title,className:"w-full h-full object-contain bg-white",onError:z=>{const M=z.target;M.style.display="none"}})}),l.jsxs("div",{className:"p-4",children:[l.jsx("h3",{className:"font-semibold text-gray-800 mb-2 text-sm leading-tight",children:D.title}),D.content&&l.jsx("p",{className:"text-gray-600 text-xs leading-relaxed line-clamp-3",children:D.content}),l.jsx("div",{className:"mt-3 pt-2 border-t border-gray-100",children:l.jsx("span",{className:"text-xs text-gray-500",children:new Date(D.createdAt).toLocaleDateString("pt-BR")})})]})]})]},D.id))}):l.jsx(tt,{className:"bg-gray-50 border border-gray-200 rounded-2xl",children:l.jsxs(mt,{className:"p-8 text-center",children:[l.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 rounded-full bg-gray-200 text-gray-500 mb-4",children:l.jsx(VN,{className:"w-6 h-6"})}),l.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Nenhum aviso ativo"}),l.jsx("p",{className:"text-gray-600 mb-4",children:i?"Adicione avisos importantes para que os usuários fiquem informados.":"Não há avisos no momento. Por favor, verifique mais tarde."}),i&&l.jsxs(oe,{onClick:()=>d(!0),className:"bg-eccos-purple hover:bg-sidebar text-white",children:[l.jsx(Ow,{className:"w-4 h-4 mr-1"}),"Adicionar Primeiro Aviso"]})]})}),i&&u&&l.jsx(tt,{className:"bg-white border border-gray-200 rounded-2xl shadow-lg mb-6",children:l.jsxs(mt,{className:"p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:f?"Editar Aviso":"Novo Aviso"}),l.jsx(oe,{onClick:k,variant:"ghost",size:"sm",children:l.jsx(xo,{className:"w-4 h-4"})})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo de Aviso"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(oe,{onClick:()=>E(D=>({...D,type:"text",imageFile:void 0})),variant:S.type==="text"?"default":"outline",size:"sm",className:S.type==="text"?"bg-eccos-purple hover:bg-sidebar":"",children:[l.jsx(Xae,{className:"w-4 h-4 mr-1"})," Texto"]}),l.jsxs(oe,{onClick:()=>E(D=>({...D,type:"image"})),variant:S.type==="image"?"default":"outline",size:"sm",className:S.type==="image"?"bg-eccos-purple hover:bg-sidebar":"",children:[l.jsx(jR,{className:"w-4 h-4 mr-1"})," Imagem"]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Título"}),l.jsx("input",{type:"text",value:S.title||"",onChange:D=>E(z=>({...z,title:D.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-eccos-purple focus:border-transparent",placeholder:"Digite o título do aviso"})]}),S.type==="image"&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Imagem"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("input",{ref:_,type:"file",accept:"image/*",onChange:R,className:"hidden"}),l.jsxs(oe,{type:"button",onClick:()=>{var D;return(D=_.current)==null?void 0:D.click()},variant:"outline",size:"sm",className:"flex items-center gap-2",disabled:p,children:[l.jsx(_8,{className:"w-4 h-4"}),p?"Processando...":"Selecionar Imagem"]}),S.imageFile&&l.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[l.jsx(WL,{className:"w-4 h-4"}),l.jsx("span",{children:S.imageFile.name}),l.jsx(oe,{type:"button",onClick:()=>{E(D=>({...D,imageFile:void 0})),b(null),_.current&&(_.current.value="")},variant:"ghost",size:"sm",className:"w-6 h-6 p-0 text-gray-400 hover:text-red-600",children:l.jsx(xo,{className:"w-3 h-3"})})]}),f&&f.imageUrl&&!S.imageFile&&l.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[l.jsx(WL,{className:"w-4 h-4"}),l.jsx("span",{children:"Imagem atual"})]})]}),m&&l.jsx("div",{className:"border border-gray-200 rounded-lg p-2",children:l.jsx("img",{src:m,alt:"Preview",className:"w-full h-32 object-cover rounded-md"})}),f&&f.imageUrl&&!m&&l.jsxs("div",{className:"border border-gray-200 rounded-lg p-2",children:[l.jsx("img",{src:f.imageUrl,alt:"Imagem atual",className:"w-full h-32 object-cover rounded-md"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Imagem atual"})]}),l.jsx("p",{className:"text-xs text-gray-500",children:"Formatos aceitos: JPEG, PNG, GIF, WebP. Tamanho máximo: 10MB (será otimizada automaticamente)"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Conteúdo"}),l.jsx("textarea",{value:S.content||"",onChange:D=>E(z=>({...z,content:D.target.value})),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-eccos-purple focus:border-transparent resize-none",placeholder:"Digite o conteúdo do aviso"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prioridade"}),l.jsx("div",{className:"flex gap-2",children:[{value:"low",label:"Normal",color:"bg-blue-600 hover:bg-blue-700"},{value:"medium",label:"Importante",color:"bg-yellow-600 hover:bg-yellow-700"},{value:"high",label:"Urgente",color:"bg-red-600 hover:bg-red-700"}].map(D=>l.jsx(oe,{onClick:()=>E(z=>({...z,priority:D.value})),variant:S.priority===D.value?"default":"outline",size:"sm",className:S.priority===D.value?D.color:"",children:D.label},D.value))})]}),l.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t border-gray-100",children:[l.jsx(oe,{onClick:k,variant:"outline",disabled:p,children:"Cancelar"}),l.jsx(oe,{onClick:f?j:N,className:"bg-eccos-purple hover:bg-sidebar text-white",disabled:!S.title||p,children:p?l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Enviando..."]}):`${f?"Atualizar":"Adicionar"} Aviso`})]})]})]})}),w&&l.jsx(ts,{open:!0,onOpenChange:()=>y(null),children:l.jsxs(Ii,{className:"max-w-4xl max-h-[95vh] p-0 overflow-hidden gap-0",children:[l.jsxs(fY,{children:[l.jsx(Oi,{children:w.title}),l.jsx(As,{children:w.content||"Sem conteúdo disponível."})]}),l.jsxs("div",{className:"flex flex-col max-h-[95vh] overflow-hidden",children:[l.jsxs("div",{className:"sticky top-0 z-20 bg-white border-b border-gray-200 px-6 py-4 flex justify-between items-start gap-4",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsxs("div",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-sm font-medium border ${w.priority==="high"?"bg-red-50 text-red-700 border-red-200":w.priority==="medium"?"bg-yellow-50 text-yellow-700 border-yellow-200":"bg-blue-50 text-blue-700 border-blue-200"}`,children:[w.priority==="high"&&l.jsx(VN,{className:"w-4 h-4"}),w.priority==="medium"&&l.jsx(_i,{className:"w-4 h-4"}),w.priority==="low"&&l.jsx(_i,{className:"w-4 h-4"}),w.priority==="high"?"Urgente":w.priority==="medium"?"Importante":"Normal"]}),l.jsx("div",{className:"inline-flex items-center gap-1.5 px-2 py-1 rounded-md text-xs font-medium bg-gray-100 text-gray-600",children:w.type==="image"?"🖼️ Imagem":"📝 Texto"})]}),l.jsx("h1",{className:"text-xl md:text-2xl font-bold text-gray-900 leading-tight pr-4",children:w.title})]}),l.jsx("button",{onClick:()=>y(null),className:"flex-shrink-0 p-2 rounded-full hover:bg-gray-100 transition-colors duration-200 group","aria-label":"Fechar modal",children:l.jsx(xo,{className:"w-5 h-5 text-gray-500 group-hover:text-gray-700"})})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto",children:[w.type==="image"&&w.imageUrl&&l.jsx("div",{className:"bg-gray-50 border-b border-gray-200",children:l.jsx("div",{className:"max-w-4xl mx-auto",children:l.jsx("img",{src:w.imageUrl,alt:w.title,className:"w-full max-h-[60vh] object-contain bg-white",onError:D=>{const M=D.target.parentElement;M&&(M.innerHTML=`
                              <div class="flex items-center justify-center h-64 bg-gray-100 text-gray-500">
                                <div class="text-center">
                                  <div class="text-4xl mb-2">🖼️</div>
                                  <p>Imagem não pôde ser carregada</p>
                                </div>
                              </div>
                            `)}})})}),l.jsxs("div",{className:"px-6 py-6",children:[w.content&&l.jsx("div",{className:"mb-8",children:l.jsx("div",{className:"prose prose-lg max-w-none",children:l.jsx("p",{className:"text-gray-700 leading-relaxed whitespace-pre-line text-base md:text-lg",children:w.content})})}),l.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[l.jsx("h3",{className:"text-sm font-semibold text-gray-900 uppercase tracking-wide mb-4",children:"Informações do Aviso"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{className:"flex items-start gap-3 p-4 bg-gray-50 rounded-lg",children:[l.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:l.jsx(_i,{className:"w-4 h-4 text-blue-600"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"font-medium text-gray-900",children:"Publicado em"}),l.jsx("p",{className:"text-gray-600 mt-1",children:new Date(w.createdAt).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})})]})]}),l.jsxs("div",{className:"flex items-start gap-3 p-4 bg-gray-50 rounded-lg",children:[l.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:l.jsx(Id,{className:"w-4 h-4 text-green-600"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"font-medium text-gray-900",children:"Criado por"}),l.jsx("p",{className:"text-gray-600 mt-1 truncate",children:w.createdBy||"Sistema"})]})]}),w.updatedAt&&l.jsxs("div",{className:"flex items-start gap-3 p-4 bg-gray-50 rounded-lg",children:[l.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center",children:l.jsx(X1,{className:"w-4 h-4 text-orange-600"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"font-medium text-gray-900",children:"Atualizado em"}),l.jsx("p",{className:"text-gray-600 mt-1",children:new Date(w.updatedAt).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}),w.updatedBy&&l.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["por ",w.updatedBy]})]})]}),w.expiresAt&&l.jsxs("div",{className:"flex items-start gap-3 p-4 bg-gray-50 rounded-lg",children:[l.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-red-100 rounded-full flex items-center justify-center",children:l.jsx(Mw,{className:"w-4 h-4 text-red-600"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"font-medium text-gray-900",children:"Expira em"}),l.jsx("p",{className:"text-gray-600 mt-1",children:new Date(w.expiresAt).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"})}),new Date(w.expiresAt)<new Date&&l.jsx("p",{className:"text-xs text-red-600 font-medium mt-1",children:"Este aviso expirou"})]})]})]})]})]})]})]})]})})]})};var iw=(t=>(t.pending="pending",t.approved="approved",t.rejected="rejected",t["in-progress"]="in-progress",t.completed="completed",t))(iw||{});const Bee=()=>{const{currentUser:t}=zr(),e=bf(),r=v=>{v.preventDefault(),v.stopPropagation(),e("/minhas-solicitacoes")},n=v=>m=>{m.preventDefault(),m.stopPropagation(),e(`/nova-solicitacao/${v}`)},i=v=>{try{if(!v)return null;const m=y=>y instanceof Tt?y.toDate():y!=null&&y.seconds?new Date(y.seconds*1e3):y instanceof Date?y:new Date(y);let b=(v.status||"").toLowerCase().trim();return b={hprongress:"in-progress",inprogress:"in-progress","in progress":"in-progress","em andamento":"in-progress",pendente:"pending",aguardando:"pending",aprovada:"approved",aprovado:"approved",rejeitada:"rejected",rejeitado:"rejected",negado:"rejected",denied:"rejected",concluida:"completed",concluído:"completed",finalizado:"completed",done:"completed"}[b]||b,Object.values(iw).includes(b)||(b="pending"),{id:v.id||`temp-${Math.random().toString(36).substring(2,11)}`,type:(v.type||"").toLowerCase().trim(),status:b,createdAt:m(v.createdAt),userName:v.userName||"Usuário não identificado",userEmail:(v.userEmail||"").toLowerCase(),userId:v.userId||v.uid,location:v.location,category:v.category,description:v.description,deviceInfo:v.deviceInfo,priority:v.priority,unit:v.unit,date:v.date?m(v.date):void 0,endTime:v.endTime,equipmentIds:Array.isArray(v.equipmentIds)?v.equipmentIds:[],purpose:v.purpose,startTime:v.startTime,itemName:v.itemName,justification:v.justification,quantity:Number(v.quantity)||0,unitPrice:Number(v.unitPrice)||0,urgency:v.urgency}}catch(m){return console.error("Erro ao converter solicitação:",m,v),null}},{data:s=[],isLoading:a,isError:o,refetch:c}=Xi({queryKey:["userRequests",t==null?void 0:t.uid],queryFn:async()=>{if(!t)return[];try{return(await pAe(t.uid,t.email)).map(m=>i(m)).filter(Boolean)}catch(v){throw v}},enabled:!!t});g.useEffect(()=>{const v=new IntersectionObserver(b=>{b.forEach(w=>{w.isIntersecting&&w.target.classList.add("visible")})},{threshold:.1}),m=document.querySelectorAll(".fade-up");return m.forEach(b=>v.observe(b)),()=>{m.forEach(b=>v.unobserve(b)),v.disconnect()}},[]);const u={pending:"Pendentes",approved:"Aprovadas",rejected:"Reprovadas","in-progress":"Em Progresso",completed:"Concluídas"},d=Object.values(iw).reduce((v,m)=>(v[m]=s.filter(b=>b.status===m).length,v),{}),f=s.reduce((v,m)=>(v[m.type]=(v[m.type]||0)+1,v),{}),h=[{name:"Pendentes",value:d.pending,color:"#eab308"},{name:"Aprovadas",value:d.approved,color:"#22c55e"},{name:"Em Progresso",value:d["in-progress"],color:"#3b82f6"}],p=[{name:"Reservas",value:f.reservation||0,color:"#3b82f6"},{name:"Compras",value:f.purchase||0,color:"#8b5cf6"},{name:"Suporte",value:f.support||0,color:"#ec4899"}];return l.jsx(cn,{children:l.jsxs("div",{className:"min-h-screen bg-white relative",children:[l.jsxs("div",{className:"absolute inset-0 -z-10",children:[l.jsx("div",{className:"absolute left-1/4 top-1/4 h-96 w-96 rounded-full bg-sidebar blur-3xl opacity-5"}),l.jsx("div",{className:"absolute right-1/4 bottom-1/4 h-80 w-80 rounded-full bg-eccos-purple blur-3xl opacity-5"})]}),l.jsxs("div",{className:"relative z-10 p-6 md:p-12",children:[l.jsx("div",{className:"mb-8 fade-up",children:l.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2 bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:[l.jsx(Z1,{className:"text-eccos-purple",size:35}),"Dashboard"]})}),l.jsx("div",{className:"fade-up mb-8",children:l.jsx(Vee,{})}),l.jsx(Lee,{isLoading:a,isError:o}),!a&&!o&&l.jsx(l.Fragment,{children:s.length===0?l.jsxs("div",{className:"p-8 bg-white border border-gray-100 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 text-center fade-up",children:[l.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-eccos-purple/10 text-eccos-purple mb-4",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:l.jsx("path",{d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),l.jsx("h3",{className:"text-2xl font-bold mb-2 bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:"Nenhuma solicitação encontrada"}),l.jsx("p",{className:"text-gray-600 mb-6 max-w-md mx-auto leading-relaxed",children:"Parece que você ainda não fez nenhuma solicitação. Escolha o tipo de solicitação abaixo para começar!"}),l.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-3",children:[l.jsxs(oe,{type:"button",onClick:n("reserva"),className:"inline-flex items-center justify-center gap-2 px-4 py-2.5 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-all shadow-md hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 min-w-[160px] cursor-pointer",children:[l.jsx("span",{className:"flex items-center justify-center w-5 h-5",children:l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),l.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),l.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),l.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]})}),"Reserva"]}),l.jsxs(oe,{type:"button",onClick:n("compra"),className:"inline-flex items-center justify-center gap-2 px-4 py-2.5 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition-all shadow-md hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 min-w-[160px] cursor-pointer",children:[l.jsx("span",{className:"flex items-center justify-center w-5 h-5",children:l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("circle",{cx:"9",cy:"21",r:"1"}),l.jsx("circle",{cx:"20",cy:"21",r:"1"}),l.jsx("path",{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.74a2 2 0 0 0 2-1.61L23 6H6"})]})}),"Compra"]}),l.jsxs(oe,{type:"button",onClick:n("suporte"),className:"inline-flex items-center justify-center gap-2 px-4 py-2.5 bg-pink-600 hover:bg-pink-700 text-white rounded-lg transition-all shadow-md hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-pink-500 focus:ring-offset-2 min-w-[160px] cursor-pointer",children:[l.jsx("span",{className:"flex items-center justify-center w-5 h-5",children:l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("circle",{cx:"12",cy:"12",r:"10"}),l.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),l.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]})}),"Suporte"]})]})]}):l.jsxs("div",{className:"space-y-8 fade-up",children:[l.jsx("div",{className:"grid gap-4 grid-cols-2 sm:grid-cols-2 lg:grid-cols-4",children:Object.values(iw).map(v=>l.jsxs(tt,{className:"bg-white border border-gray-100 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 relative group overflow-hidden cursor-pointer",onClick:r,role:"button",tabIndex:0,onKeyDown:m=>{(m.key==="Enter"||m.key===" ")&&(m.preventDefault(),r(m))},children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none"}),l.jsx(qt,{className:"pb-2",children:l.jsx(Wt,{className:"text-sm font-medium text-gray-600",children:u[v]})}),l.jsxs(mt,{children:[l.jsx("div",{className:"text-2xl font-bold bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:d[v]}),l.jsx(_e,{variant:"outline",className:"mt-2 border-eccos-purple text-eccos-purple",children:"Solicitações"})]})]},v))}),l.jsx("div",{children:l.jsx(Dee,{requestStatusData:h,requestTypeData:p,chartWrapperClass:"bg-white border border-gray-100 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300",headerClass:"text-lg font-semibold text-gray-600",hideOtherCharts:!0,darkMode:!1})})]})})]}),l.jsx("footer",{className:"relative z-10 bg-gray-50 py-10 px-4 md:px-12 fade-up",children:l.jsx("div",{className:"max-w-6xl mx-auto",children:l.jsx("div",{className:"text-center",children:l.jsx("p",{className:"text-gray-500 text-sm",children:"© 2025 Colégio ECCOS - Todos os direitos reservados"})})})})]})})},Uee=()=>{const{currentUser:t,userPermissions:e,isSuperAdmin:r}=zr(),n=bf(),i=r||e.dashboard,s=e.userdashboard;if(!i&&!s)return l.jsx(cn,{children:l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsxs("div",{className:"text-center p-8 bg-white rounded-lg shadow-lg",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Acesso negado"}),l.jsx("p",{className:"text-gray-600",children:"Você não tem permissão para acessar esta página."})]})})});if(!i&&s)return l.jsx(Bee,{});const{data:a=[],isLoading:o,isError:c,refetch:u}=Xi({queryKey:["adminAllRequests"],queryFn:()=>Nm(!0),enabled:i,retry:2}),{data:d=[],isLoading:f,isError:h,refetch:p}=Xi({queryKey:["adminAllUsers"],queryFn:YE,enabled:i,retry:2}),{data:v=[],isLoading:m,isError:b,refetch:w}=Xi({queryKey:["adminAllEquipment"],queryFn:wQ,enabled:i,retry:2});g.useEffect(()=>{i&&!o&&!c&&a.length===0&&u(),i&&!f&&!h&&d.length===0&&p(),i&&!m&&!b&&v.length===0&&w()},[i,a.length,o,c,d.length,f,h,v.length,m,b]),g.useEffect(()=>{const $=new IntersectionObserver(G=>{G.forEach(q=>{q.isIntersecting&&q.target.classList.add("visible")})},{threshold:.1});return document.querySelectorAll(".fade-up").forEach(G=>$.observe(G)),()=>$.disconnect()},[]);const y=o||f||m,_=c||h||b,S=a.length>0&&d.length>0&&v.length>0,E=d.filter($=>!$.blocked).length,N=a.filter($=>$.status==="pending").length,T=a.filter($=>$.status==="approved").length,j=a.filter($=>$.status==="in-progress").length,A=v.filter($=>$.type==="Chromebook").length,R=v.filter($=>$.type==="iPad").length,k=a.filter($=>$.type==="reservation").length,O=a.filter($=>$.type==="purchase").length,P=a.filter($=>$.type==="support").length,D=[{name:"Pendentes",value:N,color:"#eab308"},{name:"Aprovadas",value:T,color:"#22c55e"},{name:"Em Progresso",value:j,color:"#3b82f6"}],z=[{name:"Chromebooks",value:A,color:"#3b82f6"},{name:"iPads",value:R,color:"#8b5cf6"}],M=[{name:"Reservas",value:k,color:"#3b82f6"},{name:"Compras",value:O,color:"#8b5cf6"},{name:"Suporte",value:P,color:"#ec4899"}],V=a.reduce(($,G)=>{const q=G.userId||"unknown";return $[q]||($[q]={userId:q,userName:G.userName||"Usuário Desconhecido",requestCount:0}),$[q].requestCount++,$},{}),L=Object.values(V).sort(($,G)=>G.requestCount-$.requestCount).slice(0,5).map($=>({userId:$.userId,userName:$.userName,requestCount:$.requestCount}));return l.jsx(cn,{children:l.jsxs("div",{className:"min-h-screen bg-white overflow-hidden relative",children:[l.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[l.jsx("div",{className:"absolute left-1/4 top-1/4 h-96 w-96 rounded-full bg-sidebar blur-3xl opacity-5"}),l.jsx("div",{className:"absolute right-1/4 bottom-1/4 h-80 w-80 rounded-full bg-eccos-purple blur-3xl opacity-5"})]}),l.jsxs("div",{className:"relative z-10 space-y-8 p-6 md:p-12 fade-up",children:[l.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2 bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:[l.jsx(Z1,{className:"text-eccos-purple",size:35}),"Dashboard Administrativo"]}),l.jsx("div",{className:"fade-up",children:l.jsx(Vee,{})}),l.jsx(Lee,{isLoading:y,isError:_}),!y&&!_&&a.length===0?l.jsxs("div",{className:"p-8 bg-white border border-gray-100 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 text-center fade-up",children:[l.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-eccos-purple/10 text-eccos-purple mb-4",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:l.jsx("path",{d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),l.jsx("h3",{className:"text-2xl font-bold mb-2 bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:"Nenhuma solicitação no sistema"}),l.jsx("p",{className:"text-gray-600 mb-6 max-w-md mx-auto leading-relaxed",children:"O sistema ainda não possui solicitações cadastradas. Como administrador, você pode gerenciar todas as solicitações que forem criadas pelos usuários."}),l.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-3",children:[l.jsxs(oe,{onClick:()=>n("/gerenciar-solicitacoes"),className:"inline-flex items-center justify-center gap-2 px-4 py-2.5 bg-eccos-purple hover:bg-sidebar text-white rounded-lg transition-all shadow-md hover:shadow-lg focus:outline-none min-w-[200px]",children:[l.jsx("span",{className:"flex items-center justify-center w-5 h-5",children:l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M9 12l2 2 4-4"}),l.jsx("path",{d:"M21 12c-1 0-3-1-3-3s2-3 3-3 3 1 3 3-2 3-3 3"}),l.jsx("path",{d:"M3 12c1 0 3-1 3-3s-2-3-3-3-3 1-3 3 2 3 3 3"}),l.jsx("path",{d:"M21 12c-1 0-3 1-3 3s2 3 3 3 3-1 3-3-2-3-3-3"}),l.jsx("path",{d:"M3 12c1 0 3 1 3 3s-2 3-3 3-3-1-3-3 2-3 3-3"})]})}),"Gerenciar Solicitações"]}),l.jsxs(oe,{onClick:()=>n("/usuarios"),className:"inline-flex items-center justify-center gap-2 px-4 py-2.5 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-all shadow-md hover:shadow-lg focus:outline-none min-w-[200px]",children:[l.jsx("span",{className:"flex items-center justify-center w-5 h-5",children:l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),l.jsx("circle",{cx:"9",cy:"7",r:"4"}),l.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),l.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})}),"Gerenciar Usuários"]}),l.jsxs(oe,{onClick:()=>n("/equipamentos"),className:"inline-flex items-center justify-center gap-2 px-4 py-2.5 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition-all shadow-md hover:shadow-lg focus:outline-none min-w-[200px]",children:[l.jsx("span",{className:"flex items-center justify-center w-5 h-5",children:l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",ry:"2"}),l.jsx("line",{x1:"8",y1:"21",x2:"16",y2:"21"}),l.jsx("line",{x1:"12",y1:"17",x2:"12",y2:"21"})]})}),"Gerenciar Equipamentos"]})]})]}):!y&&!_&&S&&l.jsxs("div",{className:"space-y-8 fade-up",children:[l.jsxs("div",{className:"grid gap-4 grid-cols-2 sm:grid-cols-2 lg:grid-cols-4",children:[l.jsxs(tt,{className:"bg-white border border-gray-100 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 relative group overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),l.jsx(qt,{className:"pb-2",children:l.jsx(Wt,{className:"text-sm font-medium text-gray-600",children:"Usuários Ativos"})}),l.jsxs(mt,{children:[l.jsx("div",{className:"text-2xl font-bold bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:E}),l.jsx(_e,{variant:"outline",className:"mt-2 border-eccos-purple text-eccos-purple",children:"Contas"})]})]}),l.jsxs(tt,{className:"bg-white border border-gray-100 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 relative group overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),l.jsx(qt,{className:"pb-2",children:l.jsx(Wt,{className:"text-sm font-medium text-gray-600",children:"Solicitações Pendentes"})}),l.jsxs(mt,{children:[l.jsx("div",{className:"text-2xl font-bold bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:N}),l.jsx(_e,{variant:"outline",className:"mt-2 border-eccos-purple text-eccos-purple",children:"Pendências"})]})]}),l.jsxs(tt,{className:"bg-white border border-gray-100 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 relative group overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),l.jsx(qt,{className:"pb-2",children:l.jsx(Wt,{className:"text-sm font-medium text-gray-600",children:"Solicitações Aprovadas"})}),l.jsxs(mt,{children:[l.jsx("div",{className:"text-2xl font-bold bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:T}),l.jsx(_e,{variant:"outline",className:"mt-2 border-eccos-purple text-eccos-purple",children:"Concluídas"})]})]}),l.jsxs(tt,{className:"bg-white border border-gray-100 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 relative group overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),l.jsx(qt,{className:"pb-2",children:l.jsx(Wt,{className:"text-sm font-medium text-gray-600",children:"Em Progresso"})}),l.jsxs(mt,{children:[l.jsx("div",{className:"text-2xl font-bold bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:j}),l.jsx(_e,{variant:"outline",className:"mt-2 border-eccos-purple text-eccos-purple",children:"Processando"})]})]})]}),l.jsx("div",{className:"fade-up",children:l.jsx(Dee,{requestStatusData:D,equipmentTypeData:z,requestTypeData:M,topUsersData:L,requests:a})})]}),!y&&!_&&!S&&a.length>0&&l.jsxs("div",{className:"bg-white border border-gray-100 rounded-2xl shadow-lg p-8 text-center",children:[l.jsx("p",{className:"text-lg text-gray-500 mb-4",children:"Não há dados suficientes para exibir o dashboard completo."}),l.jsx(oe,{onClick:()=>{u(),p(),w()},className:"bg-eccos-purple hover:bg-sidebar text-white",children:"Recarregar dados"})]})]}),l.jsx("footer",{className:"relative z-10 bg-gray-50 py-10 px-4 md:px-12 fade-up",children:l.jsx("div",{className:"max-w-6xl mx-auto",children:l.jsx("div",{className:"text-center",children:l.jsx("p",{className:"text-gray-500 text-sm",children:"© 2025 Colégio ECCOS - Todos os direitos reservados"})})})})]})})},vGe=()=>l.jsxs("div",{className:"min-h-screen bg-white overflow-hidden",children:[l.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[l.jsx(yi.div,{initial:{opacity:0,scale:.8},animate:{opacity:.05,scale:1},transition:{duration:1.5},className:"absolute left-1/4 top-1/4 h-96 w-96 rounded-full bg-sidebar blur-3xl"}),l.jsx(yi.div,{initial:{opacity:0,scale:.8},animate:{opacity:.05,scale:1},transition:{duration:1.5,delay:.3},className:"absolute right-1/4 bottom-1/4 h-80 w-80 rounded-full bg-eccos-purple blur-3xl"})]}),l.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[...Array(10)].map((t,e)=>l.jsx(yi.div,{initial:{x:Math.random()*window.innerWidth,y:Math.random()*window.innerHeight,opacity:0},animate:{y:[Math.random()*window.innerHeight,Math.random()*window.innerHeight],opacity:[0,.3,0]},transition:{repeat:1/0,duration:15+Math.random()*10,ease:"easeInOut",delay:e*1.5},className:`absolute h-${Math.floor(Math.random()*6)+4} w-${Math.floor(Math.random()*6)+4} rounded-full bg-${e%2===0?"sidebar":"eccos-purple"} blur-lg`},e))}),l.jsx(yi.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"relative z-10 flex flex-col items-center justify-center min-h-screen px-4",children:l.jsxs("div",{className:"w-full max-w-md mx-auto text-center space-y-8",children:[l.jsx("div",{className:"bg-gray-100 p-6 rounded-full w-fit mx-auto",children:l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-sidebar",children:[l.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),l.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"}),l.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"15"})]})}),l.jsx("h1",{className:"text-4xl md:text-5xl font-bold bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:"Acesso Não Autorizado"}),l.jsx("p",{className:"text-gray-700 text-lg max-w-lg mx-auto",children:"Você não tem permissão para acessar esta página. Se acredita que isso é um erro, entre em contato com o administrador do sistema."}),l.jsx(oe,{asChild:!0,className:"bg-gradient-to-r from-sidebar to-eccos-purple hover:from-sidebar/90 hover:to-eccos-purple/90 text-white font-medium py-3 px-6 rounded-xl shadow-md transition-all duration-300 hover:shadow-lg",children:l.jsx(Xd,{to:"/",children:"Voltar ao Início"})})]})})]}),yGe=()=>{const t=Ji();return g.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),l.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),l.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},$u=g.forwardRef(({className:t,...e},r)=>l.jsx("div",{className:"relative w-full overflow-auto",children:l.jsx("table",{ref:r,className:ge("w-full caption-bottom text-sm",t),...e})}));$u.displayName="Table";const Fu=g.forwardRef(({className:t,...e},r)=>l.jsx("thead",{ref:r,className:ge("[&_tr]:border-b",t),...e}));Fu.displayName="TableHeader";const Vu=g.forwardRef(({className:t,...e},r)=>l.jsx("tbody",{ref:r,className:ge("[&_tr:last-child]:border-0",t),...e}));Vu.displayName="TableBody";const xGe=g.forwardRef(({className:t,...e},r)=>l.jsx("tfoot",{ref:r,className:ge("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));xGe.displayName="TableFooter";const Un=g.forwardRef(({className:t,...e},r)=>l.jsx("tr",{ref:r,className:ge("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));Un.displayName="TableRow";const dr=g.forwardRef(({className:t,...e},r)=>l.jsx("th",{ref:r,className:ge("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));dr.displayName="TableHead";const tr=g.forwardRef(({className:t,...e},r)=>l.jsx("td",{ref:r,className:ge("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));tr.displayName="TableCell";const bGe=g.forwardRef(({className:t,...e},r)=>l.jsx("caption",{ref:r,className:ge("mt-4 text-sm text-muted-foreground",t),...e}));bGe.displayName="TableCaption";const wGe=({request:t,isOpen:e,onOpenChange:r,onMessageSent:n})=>{const{currentUser:i}=zr(),[s,a]=g.useState(""),[o,c]=g.useState([]),[u,d]=g.useState(!0),[f,h]=g.useState(null),[p,v]=g.useState(0),[m,b]=g.useState(null),[w,y]=g.useState(""),_=g.useRef(null),S=g.useRef(null);g.useEffect(()=>{if(!t||!e)return;const M=aI(bt(Ue,t.collectionName,t.id),V=>{if(V.exists()){const L=V.data();c(L.messages||[]),d(!1)}});return()=>M()},[t,e]),g.useEffect(()=>{var M;(M=S.current)==null||M.scrollIntoView({behavior:"smooth"})},[o]),g.useEffect(()=>{t&&e&&i&&xQ(t.id,t.collectionName,i.uid,!1)},[t,e,i]);const E=M=>{var L;const V=(L=M.target.files)==null?void 0:L[0];if(V){if(V.size>10*1024*1024){Ke.error("Arquivo muito grande. Máximo 10MB permitido.");return}h(V)}},N=()=>{h(null),_.current&&(_.current.value="")},T=async()=>{if(!(!t||!s.trim()&&!f))try{d(!0);let M;f&&(v(0),M=await mQ(f,t.id),v(100)),await gQ(t.id,s||(f?`Arquivo enviado: ${f.name}`:""),!1,t.collectionName,(i==null?void 0:i.displayName)||"Usuário",i.uid,M),a(""),h(null),v(0),_.current&&(_.current.value=""),Ke.success("Mensagem enviada"),n()}catch(M){Ke.error("Erro ao enviar mensagem"),console.error("Error:",M)}finally{d(!1)}},j=M=>{b(M.id),y(M.message)},A=()=>{b(null),y("")},R=async M=>{if(!(!t||!w.trim()))try{await vQ(t.id,t.collectionName,M,w,(i==null?void 0:i.uid)||""),b(null),y(""),Ke.success("Mensagem editada")}catch(V){Ke.error("Erro ao editar mensagem"),console.error("Error:",V)}},k=async M=>{if(t)try{await yQ(t.id,t.collectionName,M,(i==null?void 0:i.uid)||""),Ke.success("Mensagem apagada")}catch(V){Ke.error("Erro ao apagar mensagem"),console.error("Error:",V)}},O=M=>i&&M.userId===i.uid&&!M.isDeleted,P=M=>{if(M===0)return"0 Bytes";const V=1024,L=["Bytes","KB","MB","GB"],$=Math.floor(Math.log(M)/Math.log(V));return parseFloat((M/Math.pow(V,$)).toFixed(2))+" "+L[$]},D=M=>M.startsWith("image/")?l.jsx(jR,{className:"h-4 w-4"}):l.jsx(Ti,{className:"h-4 w-4"}),z=M=>{if(!M.isAdmin){if(M.read&&M.readBy&&M.readBy.length>0)return l.jsx(Y1,{className:"h-4 w-4 text-blue-500"});if(M.delivered)return l.jsx(vf,{className:"h-4 w-4 text-gray-400"})}return null};return l.jsx(ts,{open:e,onOpenChange:r,children:l.jsxs(Ii,{className:"max-w-2xl",children:[l.jsx(rs,{children:l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs("div",{children:[l.jsxs(Oi,{className:"flex items-center gap-2",children:["Chat da Solicitação",(t==null?void 0:t.hasUnreadMessages)&&l.jsx(_e,{variant:"destructive",className:"text-xs",children:"Nova mensagem"})]}),t&&l.jsxs(As,{children:[_Ge(t.type)," -"," ",Dt(new Date(t.createdAt.toMillis()),"dd/MM/yyyy",{locale:Pn})]})]})})}),l.jsxs("div",{className:"space-y-4",children:[u?l.jsx("div",{className:"flex justify-center items-center h-32",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary"})}):l.jsxs("div",{className:"space-y-4 max-h-[400px] overflow-y-auto p-2 border rounded-md",children:[o.length>0?o.map((M,V)=>l.jsxs("div",{className:`relative group p-3 rounded-lg ${M.isDeleted?"bg-gray-100 text-gray-500 italic":M.isAdmin?"bg-primary text-primary-foreground ml-8":"bg-muted mr-8"}`,children:[O(M)&&l.jsx("div",{className:"absolute top-1 right-1 opacity-0 group-hover:opacity-100 transition-opacity",children:l.jsxs(ys,{children:[l.jsx(xs,{asChild:!0,children:l.jsx(oe,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",children:l.jsx(m8,{className:"h-3 w-3"})})}),l.jsxs(qi,{children:[l.jsxs(jp,{onClick:()=>j(M),children:[l.jsx(x8,{className:"h-3 w-3 mr-2"})," Editar"]}),l.jsxs(jp,{onClick:()=>k(M.id),className:"text-red-600",children:[l.jsx(Ll,{className:"h-3 w-3 mr-2"})," Apagar"]})]})]})}),l.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[l.jsx("span",{className:"font-medium",children:M.userName}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("span",{children:Dt(new Date(M.timestamp.toMillis()),"dd/MM HH:mm",{locale:Pn})}),z(M)]})]}),M.attachment&&!M.isDeleted&&l.jsxs("div",{className:"mb-2 p-2 bg-black/5 rounded border border-black/10",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[D(M.attachment.type),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium truncate",children:M.attachment.name}),l.jsx("p",{className:"text-xs opacity-75",children:P(M.attachment.size)})]}),l.jsx(oe,{size:"sm",variant:"ghost",onClick:()=>window.open(M.attachment.url,"_blank"),className:"h-8 w-8 p-0",children:l.jsx(Q1,{className:"h-3 w-3"})})]}),M.attachment.type.startsWith("image/")&&l.jsx("div",{className:"mt-2",children:l.jsx("img",{src:M.attachment.url,alt:M.attachment.name,className:"max-w-full h-auto rounded cursor-pointer",style:{maxHeight:"200px"},onClick:()=>window.open(M.attachment.url,"_blank")})})]}),m===M.id?l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ba,{value:w,onChange:L=>y(L.target.value),className:"min-h-[60px] resize-none",placeholder:"Edite sua mensagem..."}),l.jsxs("div",{className:"flex gap-2 justify-end",children:[l.jsxs(oe,{size:"sm",variant:"outline",onClick:A,children:[l.jsx(om,{className:"h-3 w-3 mr-1"})," Cancelar"]}),l.jsxs(oe,{size:"sm",onClick:()=>R(M.id),children:[l.jsx(CR,{className:"h-3 w-3 mr-1"})," Salvar"]})]})]}):M.message&&l.jsx("p",{children:M.message})]},M.id||V)):l.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Nenhuma mensagem ainda"}),l.jsx("div",{ref:S})]}),f&&l.jsxs("div",{className:"flex items-center gap-2 p-2 bg-muted rounded border",children:[D(f.type),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium truncate",children:f.name}),l.jsx("p",{className:"text-xs text-muted-foreground",children:P(f.size)})]}),l.jsx(oe,{size:"sm",variant:"ghost",onClick:N,className:"h-8 w-8 p-0",children:l.jsx(xo,{className:"h-4 w-4"})})]}),p>0&&p<100&&l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:l.jsx("div",{className:"bg-primary h-2 rounded-full transition-all duration-300",style:{width:`${p}%`}})}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("div",{className:"flex-1 space-y-2",children:l.jsx(Ba,{placeholder:"Digite sua mensagem...",value:s,onChange:M=>a(M.target.value),disabled:u,rows:2})}),l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx("input",{ref:_,type:"file",onChange:E,className:"hidden",accept:"*/*"}),l.jsx(oe,{variant:"outline",size:"sm",onClick:()=>{var M;return(M=_.current)==null?void 0:M.click()},disabled:u,className:"flex-shrink-0",children:l.jsx(y8,{className:"h-4 w-4"})}),l.jsx(oe,{onClick:T,className:"flex-shrink-0",disabled:u||!s.trim()&&!f,children:l.jsx(b8,{className:"h-4 w-4"})})]})]})]})]})})},_Ge=t=>{switch(t){case"reservation":return"Reserva";case"purchase":return"Compra";case"support":return"Suporte";default:return t}},hj=t=>{switch(t){case"reservation":return l.jsx(_i,{className:"h-4 w-4 text-blue-500"});case"purchase":return l.jsx(yo,{className:"h-4 w-4 text-purple-500"});case"support":return l.jsx(Pa,{className:"h-4 w-4 text-pink-500"});default:return l.jsx(_i,{className:"h-4 w-4"})}},pj=t=>{switch(t){case"pending":return l.jsxs(_e,{className:"bg-amber-50 text-amber-600 border-amber-100",children:[l.jsx(X1,{className:"h-4 w-4 mr-1 hidden sm:inline-block"}),"Pendente"]});case"approved":return l.jsxs(_e,{className:"bg-green-50 text-green-600 border-green-100",children:[l.jsx(pp,{className:"h-4 w-4 mr-1 hidden sm:inline-block"}),"Aprovada"]});case"rejected":return l.jsxs(_e,{variant:"destructive",children:[l.jsx(om,{className:"h-4 w-4 mr-1 hidden sm:inline-block"}),"Reprovada"]});case"in-progress":return l.jsxs(_e,{className:"bg-blue-50 text-blue-600 border-blue-100",children:[l.jsx(kv,{className:"h-4 w-4 mr-1 hidden sm:inline-block"}),"Em Andamento"]});case"completed":return l.jsxs(_e,{className:"bg-slate-100 text-slate-600 border-slate-200",children:[l.jsx(pp,{className:"h-4 w-4 mr-1 hidden sm:inline-block"}),"Concluída"]});case"canceled":return l.jsxs(_e,{className:"bg-red-50 text-red-600 border-red-100",children:[l.jsx(Mw,{className:"h-4 w-4 mr-1 hidden sm:inline-block"}),"Cancelada"]});default:return l.jsxs(_e,{variant:"outline",children:[l.jsx(Mw,{className:"h-4 w-4 mr-1 hidden sm:inline-block"}),"Desconhecido"]})}},mj=t=>{switch(t){case"reservation":return"Reserva";case"purchase":return"Compra";case"support":return"Suporte";default:return"Desconhecido"}},$B=t=>{if(!t)return l.jsx(_e,{variant:"outline",children:"Não especificado"});const e={labels:{critical:"Crítica",high:"Alta",medium:"Média",low:"Baixa"},colors:{critical:"bg-red-100 text-red-600 border-red-200",high:"bg-orange-100 text-orange-600 border-orange-200",medium:"bg-amber-100 text-amber-600 border-amber-200",low:"bg-green-100 text-green-600 border-green-200"}},r=t.toLowerCase();return l.jsx(_e,{className:ge("border",e.colors[r]),children:e.labels[r]||t})},EGe=()=>{const t=bf(),{currentUser:e}=zr(),[r,n]=g.useState(""),[i,s]=g.useState(["reservation","purchase","support"]),[a,o]=g.useState(["pending","approved","rejected","in-progress","completed"]),[c,u]=g.useState(["Manutenção","Tecnologia","Compra Pedagógica","Compra Administrativa","Compra Infraestrutura"]),[d,f]=g.useState(null),[h,p]=g.useState(!1),[v,m]=g.useState(!1),[b,w]=g.useState(null),[y,_]=g.useState({ipads:0,chromebooks:0,others:0}),[S,E]=g.useState({}),[N,T]=g.useState(!1),[j,A]=g.useState({}),[R,k]=g.useState(()=>{const Q=typeof window<"u"?localStorage.getItem("viewedRequests"):null;return Q?new Set(JSON.parse(Q)):new Set}),[O,P]=g.useState(!1),[D,z]=g.useState(null),{data:M=[],isLoading:V,isError:L,refetch:$}=Xi({queryKey:["userRequests",e==null?void 0:e.email],queryFn:()=>Nm(!1),staleTime:1e3*60*5}),G=g.useMemo(()=>M.filter(Q=>Q.userEmail===(e==null?void 0:e.email)).filter(Q=>Q.status!=="canceled"),[M,e==null?void 0:e.email]),q=g.useMemo(()=>G.filter(Q=>{var ee,se,J,je,Ae;const Y=r.toLowerCase();return(((ee=Q.userName)==null?void 0:ee.toLowerCase().includes(Y))||((se=Q.userEmail)==null?void 0:se.toLowerCase().includes(Y))||((J=Q.purpose)==null?void 0:J.toLowerCase().includes(Y))||((je=Q.itemName)==null?void 0:je.toLowerCase().includes(Y))||((Ae=Q.location)==null?void 0:Ae.toLowerCase().includes(Y)))&&i.includes(Q.type)&&a.includes(Q.status)&&(Q.type==="support"&&c.includes(Q.tipo)||Q.type==="purchase"&&c.includes(Q.tipo)||Q.type==="reservation")}),[G,r,i,a,c]);g.useEffect(()=>{(async()=>{const Y=M.filter(ee=>ee.type==="reservation"&&ee.equipmentIds).flatMap(ee=>ee.equipmentIds).filter((ee,se,J)=>J.indexOf(ee)===se);if(Y.length>0)try{const ee=await Promise.all(Y.map(J=>Zs(bt(Ue,"equipment",J)))),se={...S};ee.forEach((J,je)=>{J.exists()&&(se[Y[je]]={type:J.data().type})}),E(se)}catch(ee){console.error("Error pre-fetching equipment:",ee)}})()},[M]),g.useEffect(()=>{(()=>{const Y={};G.forEach(ee=>{var J;const se=(J=ee.messages)==null?void 0:J.filter(je=>je.isAdmin&&!R.has(`${ee.id}-${je.timestamp.toMillis()}`)).length;se>0&&(Y[ee.id]=se)}),A(Y)})()},[G,R]);const U=g.useCallback(async(Q=[])=>{const Y={ipads:0,chromebooks:0,others:0},ee=[];if(Q.forEach(se=>{if(S[se]){const J=S[se].type.toLowerCase();J.includes("ipad")?Y.ipads++:J.includes("chromebook")?Y.chromebooks++:Y.others++}else ee.push(se)}),ee.length>0)try{const se=await Promise.all(ee.map(je=>Zs(bt(Ue,"equipment",je)))),J={...S};se.forEach((je,Ae)=>{if(je.exists()){const ct=je.data();J[ee[Ae]]={type:ct.type};const fe=ct.type.toLowerCase();fe.includes("ipad")?Y.ipads++:fe.includes("chromebook")?Y.chromebooks++:Y.others++}}),E(J)}catch(se){console.error("Error fetching equipment:",se)}return Y},[S]),X=g.useCallback(async Q=>{T(!0);try{const Y=await lf(Q.id,Q.collectionName);if(f(Y),k(ee=>{const se=new Set(ee);return se.add(Q.id),localStorage.setItem("viewedRequests",JSON.stringify(Array.from(se))),se}),A(ee=>{const se={...ee};return delete se[Q.id],se}),Y.type==="reservation"&&Y.equipmentIds){const ee=await U(Y.equipmentIds);_(ee)}p(!0)}catch(Y){Ke.error("Erro ao carregar detalhes"),console.error("Error:",Y)}finally{T(!1)}},[U]),ie=async Q=>{try{const Y=await lf(Q.id,Q.collectionName);z(Y),k(ee=>{var J;const se=new Set(ee);return(J=Y.messages)==null||J.forEach(je=>{je.isAdmin&&se.add(`${Y.id}-${je.timestamp.toMillis()}`)}),localStorage.setItem("viewedRequests",JSON.stringify(Array.from(se))),se}),A(ee=>{const se={...ee};return delete se[Q.id],se}),P(!0)}catch(Y){Ke.error("Erro ao abrir chat"),console.error("Error:",Y)}},le=Q=>{w({id:Q.id,collectionName:Q.collectionName,userEmail:Q.userEmail}),m(!0)},xe=async()=>{if(b)try{const Q=bt(Ue,b.collectionName,b.id);await Rn(Q,{status:"canceled"}),await ty({title:"Solicitação Cancelada",message:"Sua solicitação foi cancelada.",link:"minhas-solicitacoes",createdAt:new Date,readBy:[],recipients:[b.userEmail],isBatch:!1}),Ke.success("Solicitação cancelada"),m(!1),w(null),h&&p(!1),$()}catch(Q){Ke.error("Erro ao cancelar"),console.error("Error:",Q)}},ce=()=>{const{ipads:Q,chromebooks:Y,others:ee}=y,se=[];return Q>0&&se.push(l.jsxs("li",{className:"text-sm",children:[Q," iPad",Q!==1?"s":""]},"ipads")),Y>0&&se.push(l.jsxs("li",{className:"text-sm",children:[Y," Chromebook",Y!==1?"s":""]},"chromebooks")),ee>0&&se.push(l.jsxs("li",{className:"text-sm",children:[ee," Outro equipamento",ee!==1?"s":""]},"others")),se.length>0?se:l.jsx("li",{className:"text-sm",children:"Nenhum equipamento selecionado"})};return l.jsx(cn,{children:l.jsxs("div",{className:"min-h-screen bg-white overflow-hidden relative",children:[l.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[l.jsx("div",{className:"absolute left-1/4 top-1/4 h-96 w-96 rounded-full bg-sidebar blur-3xl opacity-5"}),l.jsx("div",{className:"absolute right-1/4 bottom-1/4 h-80 w-80 rounded-full bg-eccos-purple blur-3xl opacity-5"})]}),l.jsxs("div",{className:"relative z-10 space-y-8 p-6 md:p-12 fade-up",children:[l.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2 bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:[l.jsx(Ti,{className:"text-eccos-purple",size:35}),"Minhas Solicitações"]}),l.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[l.jsxs("div",{className:"relative flex-1 max-w-md",children:[l.jsx(yf,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),l.jsx(or,{placeholder:"Pesquisar por nome, email, finalidade ou local...",value:r,onChange:Q=>n(Q.target.value),className:"pl-10 rounded-xl border-gray-200 focus-visible:ring-eccos-purple"})]}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsxs(ys,{children:[l.jsx(xs,{asChild:!0,children:l.jsxs(oe,{variant:"outline",className:"flex items-center gap-2 border-gray-200 hover:bg-gray-50",children:[l.jsx(wl,{className:"h-4 w-4 text-eccos-purple"}),"Categoria",l.jsx(qs,{className:"h-4 w-4"})]})}),l.jsx(qi,{align:"end",className:"bg-background",children:["reservation","purchase","support"].map(Q=>l.jsxs(Ta,{checked:i.includes(Q),onCheckedChange:Y=>{s(Y?[...i,Q]:i.filter(ee=>ee!==Q))},className:"flex items-center gap-2",children:[hj(Q),mj(Q)]},Q))})]}),l.jsxs(ys,{children:[l.jsx(xs,{asChild:!0,children:l.jsxs(oe,{variant:"outline",className:"flex items-center gap-2 border-gray-200 hover:bg-gray-50",children:[l.jsx(wl,{className:"h-4 w-4 text-eccos-purple"}),"Status",l.jsx(qs,{className:"h-4 w-4"})]})}),l.jsx(qi,{align:"end",className:"bg-background",children:["pending","approved","rejected","in-progress","completed"].map(Q=>l.jsx(Ta,{checked:a.includes(Q),onCheckedChange:Y=>{o(Y?[...a,Q]:a.filter(ee=>ee!==Q))},children:pj(Q)},Q))})]}),l.jsxs(ys,{children:[l.jsx(xs,{asChild:!0,children:l.jsxs(oe,{variant:"outline",className:"flex items-center gap-2 border-gray-200 hover:bg-gray-50",children:[l.jsx(wl,{className:"h-4 w-4 text-eccos-purple"}),"Tipo",l.jsx(qs,{className:"h-4 w-4"})]})}),l.jsx(qi,{align:"end",className:"bg-background",children:["Compra Pedagógica","Compra Administrativa","Compra Infraestrutura","Manutenção","Tecnologia"].map(Q=>l.jsx(Ta,{checked:c.includes(Q),onCheckedChange:Y=>{u(Y?[...c,Q]:c.filter(ee=>ee!==Q))},children:Q},Q))})]})]})]}),V?l.jsx("div",{className:"flex justify-center items-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-eccos-purple"})}):L?l.jsx("div",{className:"text-center text-destructive p-4 border border-destructive rounded-md bg-red-50",children:"Erro ao carregar solicitações"}):q.length===0?l.jsxs("div",{className:"p-8 bg-white border border-gray-100 rounded-2xl shadow-lg text-center",children:[l.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-eccos-purple/10 text-eccos-purple mb-4",children:l.jsx(Ti,{className:"h-8 w-8"})}),l.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Nenhuma solicitação encontrada"}),l.jsx("p",{className:"text-gray-600 mb-6 max-w-md mx-auto",children:"Parece que você ainda não fez nenhuma solicitação. Escolha o tipo de solicitação abaixo para começar!"}),l.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-3",children:[l.jsx(oe,{onClick:()=>t("/nova-solicitacao/reserva"),className:"bg-eccos-purple hover:bg-sidebar text-white",children:"Nova Reserva"}),l.jsx(oe,{onClick:()=>t("/nova-solicitacao/compra"),className:"bg-purple-600 hover:bg-purple-700 text-white",children:"Nova Compra"}),l.jsx(oe,{onClick:()=>t("/nova-solicitacao/suporte"),className:"bg-pink-600 hover:bg-pink-700 text-white",children:"Novo Suporte"})]})]}):l.jsx("div",{className:"rounded-md border border-gray-100 overflow-hidden bg-white shadow-lg hover:shadow-xl transition-all duration-300",children:l.jsxs($u,{children:[l.jsx(Fu,{className:"bg-gray-50",children:l.jsxs(Un,{children:[l.jsx(dr,{className:"text-center font-medium text-gray-600 w-[35%]",children:"Tipo"}),l.jsx(dr,{className:"text-center font-medium text-gray-600 w-[35%]",children:"Status"}),l.jsx(dr,{className:"text-center font-medium text-gray-600 w-[30%]",children:"Ações"})]})}),l.jsx(Vu,{children:q.map(Q=>l.jsxs(Un,{className:"hover:bg-gray-50 transition-colors",children:[l.jsx(tr,{className:"text-center align-middle",children:l.jsxs("div",{className:"flex items-center justify-center gap-2",children:[hj(Q.type),l.jsx("span",{className:"font-medium",children:mj(Q.type)})]})}),l.jsx(tr,{className:"text-center align-middle",children:l.jsx("div",{className:"flex justify-center",children:pj(Q.status)})}),l.jsx(tr,{className:"text-center align-middle",children:l.jsxs("div",{className:"flex justify-center items-center space-x-2",children:[l.jsx(oe,{variant:"ghost",size:"icon",className:"h-8 w-8 text-gray-600 hover:bg-gray-100",onClick:()=>X(Q),title:"Detalhes",children:l.jsx(zae,{className:"h-4 w-4"})}),l.jsxs(oe,{variant:"ghost",size:"icon",className:"h-8 w-8 text-gray-600 hover:bg-gray-100 relative",onClick:()=>ie(Q),title:"Chat",children:[l.jsx(J1,{className:"h-4 w-4"}),j[Q.id]>0&&l.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:j[Q.id]})]})]})})]},`${Q.collectionName}-${Q.id}`))})]})}),l.jsx(ts,{open:h,onOpenChange:p,children:l.jsx(Ii,{className:"max-w-full sm:max-w-3xl border-gray-100 shadow-xl p-4",children:N?l.jsx("div",{className:"flex justify-center items-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-eccos-purple"})}):d?l.jsxs(l.Fragment,{children:[l.jsxs(rs,{children:[l.jsxs(Oi,{className:"flex items-center gap-2",children:[hj(d.type),l.jsxs("span",{className:"bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:[mj(d.type)," -"," ",d.userName||d.userEmail]})]}),l.jsx(As,{asChild:!0,children:l.jsxs("div",{className:"px-1 flex items-center justify-between text-gray-500 text-xs sm:text-sm",children:[l.jsx("div",{children:Dt(new Date(d.createdAt.toMillis()),"dd 'de' MMMM 'de' yyyy 'às' HH:mm",{locale:Pn})}),l.jsx("div",{children:pj(d.status)})]})})]}),l.jsx("div",{className:"space-y-6 py-4",children:l.jsxs("div",{className:"space-y-4 border-b pb-4",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-800",children:"Detalhes da Solicitação"}),d.type==="reservation"&&l.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-500",children:"Data"}),l.jsx("p",{className:"text-xs sm:text-sm text-gray-700",children:Dt(new Date(d.date.toMillis()),"dd/MM/yyyy",{locale:Pn})})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-500",children:"Horário"}),l.jsxs("p",{className:"text-xs sm:text-sm text-gray-700",children:[d.startTime," - ",d.endTime]})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-500",children:"Local"}),l.jsx("p",{className:"text-xs sm:text-sm text-gray-700",children:d.location})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-500",children:"Finalidade"}),l.jsx("p",{className:"text-xs sm:text-sm text-gray-700",children:d.purpose})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-500",children:"Equipamentos"}),l.jsx("ul",{className:"list-disc pl-5 text-xs sm:text-sm text-gray-700",children:ce()})]})]}),d.type==="purchase"&&l.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-500",children:"Item Solicitado"}),l.jsx("p",{className:"text-xs sm:text-sm text-gray-700",children:d.itemName})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-500",children:"Quantidade"}),l.jsx("p",{className:"text-xs sm:text-sm text-gray-700",children:d.quantity})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-500",children:"Valor Unitário"}),l.jsx("p",{className:"text-xs sm:text-sm text-gray-700",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(d.unitPrice||0)})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-500",children:"Valor Total"}),l.jsx("div",{className:"bg-eccos-purple/10 p-2 rounded-md",children:l.jsx("p",{className:"text-sm font-semibold text-eccos-purple",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format((d.quantity||0)*(d.unitPrice||0))})})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-500",children:"Urgência"}),l.jsx("div",{className:"flex items-center gap-2",children:$B(d.urgency)})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-500",children:"Justificativa"}),l.jsx("p",{className:"text-xs sm:text-sm text-gray-700",children:d.justification})]})]}),d.type==="support"&&l.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-500",children:"Tipo"}),l.jsx("p",{className:"text-xs sm:text-sm text-gray-700",children:d.tipo})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-500",children:"Unidade"}),l.jsx("p",{className:"text-xs sm:text-sm text-gray-700",children:d.unit})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-500",children:"Localização"}),l.jsx("p",{className:"text-xs sm:text-sm text-gray-700",children:d.location})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-500",children:"Categoria"}),l.jsx("p",{className:"text-xs sm:text-sm text-gray-700",children:d.category})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-500",children:"Prioridade"}),l.jsx("div",{className:"flex items-center gap-2",children:$B(d.priority)})]}),d.deviceInfo&&l.jsxs("div",{children:[l.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-500",children:"Identificação do Equipamento"}),l.jsx("p",{className:"text-xs sm:text-sm text-gray-700",children:d.deviceInfo})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-500",children:"Descrição"}),l.jsx("div",{className:"max-h-[200px] overflow-y-auto rounded-md bg-gray-50 p-3",children:l.jsx("pre",{className:"whitespace-pre-wrap font-sans text-xs sm:text-sm text-gray-700",children:d.description||"Nenhuma descrição fornecida"})})]})]})]})}),l.jsx(ju,{className:"gap-2",children:l.jsxs(oe,{variant:"destructive",onClick:()=>le(d),disabled:(d==null?void 0:d.status)==="canceled",className:"w-full sm:w-auto",children:[l.jsx(Ll,{className:"h-4 w-4 mr-2"})," Cancelar Solicitação"]})})]}):l.jsx("div",{className:"text-center p-4 text-destructive",children:"Nenhuma solicitação selecionada"})})}),l.jsx(wGe,{request:D,isOpen:O,onOpenChange:P,onMessageSent:$}),l.jsx(Cu,{open:v,onOpenChange:m,children:l.jsxs(Zl,{className:"border-gray-100",children:[l.jsx(Jl,{children:l.jsx(ec,{className:"text-gray-800",children:"Confirmar cancelamento"})}),l.jsx("div",{className:"py-4 text-gray-600",children:"Tem certeza que deseja cancelar esta solicitação?"}),l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx(Ru,{className:"border-gray-200 text-gray-700",children:"Voltar"}),l.jsx(Pu,{onClick:xe,className:"bg-red-600 hover:bg-red-700 text-white",children:"Confirmar Cancelamento"})]})]})})]})]})})},SM=({request:t,isOpen:e,onOpenChange:r,onMessageSent:n})=>{const{currentUser:i}=zr(),[s,a]=g.useState(""),[o,c]=g.useState([]),[u,d]=g.useState(!0),[f,h]=g.useState(null),[p,v]=g.useState(0),[m,b]=g.useState(null),[w,y]=g.useState(""),_=g.useRef(null),S=g.useRef(null);g.useEffect(()=>{if(!t||!e)return;const M=aI(bt(Ue,t.collectionName,t.id),V=>{if(V.exists()){const L=V.data();c(L.messages||[]),d(!1)}});return()=>M()},[t,e]),g.useEffect(()=>{var M;(M=S.current)==null||M.scrollIntoView({behavior:"smooth"})},[o]),g.useEffect(()=>{t&&e&&i&&xQ(t.id,t.collectionName,i.uid,!0)},[t,e,i]);const E=M=>{var L;const V=(L=M.target.files)==null?void 0:L[0];if(V){if(V.size>10*1024*1024){Ke.error("Arquivo muito grande. Máximo 10MB permitido.");return}h(V)}},N=()=>{h(null),_.current&&(_.current.value="")},T=async()=>{if(!(!t||!s.trim()&&!f||!i))try{d(!0);let M;f&&(v(0),M=await mQ(f,t.id),v(100)),await gQ(t.id,s||(f?`Arquivo enviado: ${f.name}`:""),!0,t.collectionName,(i==null?void 0:i.displayName)||"Administrador",i.uid,M),a(""),h(null),v(0),_.current&&(_.current.value=""),Ke.success("Mensagem enviada"),n()}catch(M){Ke.error("Erro ao enviar mensagem"),console.error("Error:",M)}finally{d(!1)}},j=async M=>{if(!(!t||!w.trim()))try{await vQ(t.id,t.collectionName,M,w,(i==null?void 0:i.uid)||""),b(null),y(""),Ke.success("Mensagem editada")}catch(V){Ke.error("Erro ao editar mensagem"),console.error("Error:",V)}},A=async M=>{if(t)try{await yQ(t.id,t.collectionName,M,(i==null?void 0:i.uid)||""),Ke.success("Mensagem apagada")}catch(V){Ke.error("Erro ao apagar mensagem"),console.error("Error:",V)}},R=M=>{b(M.id),y(M.message)},k=()=>{b(null),y("")},O=M=>i&&M.userId===i.uid&&!M.isDeleted,P=M=>{if(M===0)return"0 Bytes";const V=1024,L=["Bytes","KB","MB","GB"],$=Math.floor(Math.log(M)/Math.log(V));return parseFloat((M/Math.pow(V,$)).toFixed(2))+" "+L[$]},D=M=>M.startsWith("image/")?l.jsx(jR,{className:"h-4 w-4"}):l.jsx(Ti,{className:"h-4 w-4"}),z=M=>{if(M.isAdmin){if(M.read&&M.readBy&&M.readBy.length>0)return l.jsx(Y1,{className:"h-4 w-4 text-blue-500"});if(M.delivered)return l.jsx(vf,{className:"h-4 w-4 text-gray-400"})}return null};return l.jsx(ts,{open:e,onOpenChange:r,children:l.jsxs(Ii,{className:"max-w-2xl",children:[l.jsx(rs,{children:l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs("div",{children:[l.jsxs(Oi,{className:"flex items-center gap-2",children:["Chat da Solicitação",(t==null?void 0:t.hasUnreadMessages)&&l.jsx(_e,{variant:"destructive",className:"text-xs",children:"Nova mensagem"})]}),t&&l.jsxs(As,{children:[SGe(t.type)," - ",t.userName||t.userEmail," - ",Dt(new Date(t.createdAt.toMillis()),"dd/MM/yyyy",{locale:Pn})]})]})})}),l.jsxs("div",{className:"space-y-4",children:[u?l.jsx("div",{className:"flex justify-center items-center h-32",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary"})}):l.jsxs("div",{className:"space-y-4 max-h-[400px] overflow-y-auto p-2 border rounded-md",children:[o.length>0?o.map((M,V)=>l.jsxs("div",{className:`relative group p-3 rounded-lg ${M.isDeleted?"bg-gray-100 text-gray-500 italic":M.isAdmin?"bg-primary text-primary-foreground ml-8":"bg-muted mr-8"}`,children:[O(M)&&l.jsx("div",{className:"absolute top-1 right-1 opacity-0 group-hover:opacity-100 transition-opacity",children:l.jsxs(ys,{children:[l.jsx(xs,{asChild:!0,children:l.jsx(oe,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",children:l.jsx(m8,{className:"h-3 w-3"})})}),l.jsxs(qi,{children:[l.jsxs(jp,{onClick:()=>R(M),children:[l.jsx(x8,{className:"h-3 w-3 mr-2"}),"Editar"]}),l.jsxs(jp,{onClick:()=>A(M.id),className:"text-red-600",children:[l.jsx(Ll,{className:"h-3 w-3 mr-2"}),"Apagar"]})]})]})}),l.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[l.jsxs("span",{className:"font-medium",children:[M.userName,M.isEdited&&!M.isDeleted&&l.jsx("span",{className:"ml-2 text-xs opacity-70",children:"(Editada)"})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsxs("span",{children:[Dt(new Date(M.timestamp.toMillis()),"dd/MM HH:mm",{locale:Pn}),M.isEdited&&M.editedAt&&l.jsxs("span",{className:"ml-1 text-xs opacity-70",children:["(editada ",Dt(new Date(M.editedAt.toMillis()),"dd/MM HH:mm",{locale:Pn}),")"]})]}),z(M)]})]}),M.attachment&&!M.isDeleted&&l.jsxs("div",{className:"mb-2 p-2 bg-white/10 rounded border border-white/20",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[D(M.attachment.type),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium truncate",children:M.attachment.name}),l.jsx("p",{className:"text-xs opacity-75",children:P(M.attachment.size)})]}),l.jsx(oe,{size:"sm",variant:"ghost",onClick:()=>window.open(M.attachment.url,"_blank"),className:"h-8 w-8 p-0",children:l.jsx(Q1,{className:"h-3 w-3"})})]}),M.attachment.type.startsWith("image/")&&l.jsx("div",{className:"mt-2",children:l.jsx("img",{src:M.attachment.url,alt:M.attachment.name,className:"max-w-full h-auto rounded cursor-pointer",style:{maxHeight:"200px"},onClick:()=>window.open(M.attachment.url,"_blank")})})]}),m===M.id?l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ba,{value:w,onChange:L=>y(L.target.value),className:"min-h-[60px] resize-none",placeholder:"Edite sua mensagem..."}),l.jsxs("div",{className:"flex gap-2 justify-end",children:[l.jsxs(oe,{size:"sm",variant:"outline",onClick:k,children:[l.jsx(om,{className:"h-3 w-3 mr-1"}),"Cancelar"]}),l.jsxs(oe,{size:"sm",onClick:()=>j(M.id),disabled:!w.trim(),children:[l.jsx(CR,{className:"h-3 w-3 mr-1"}),"Salvar"]})]})]}):M.message&&l.jsx("p",{className:M.isDeleted?"text-gray-500 italic":"",children:M.message})]},M.id||V)):l.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Nenhuma mensagem ainda"}),l.jsx("div",{ref:S})]}),f&&l.jsxs("div",{className:"flex items-center gap-2 p-2 bg-muted rounded border",children:[D(f.type),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium truncate",children:f.name}),l.jsx("p",{className:"text-xs text-muted-foreground",children:P(f.size)})]}),l.jsx(oe,{size:"sm",variant:"ghost",onClick:N,className:"h-8 w-8 p-0",children:l.jsx(xo,{className:"h-4 w-4"})})]}),p>0&&p<100&&l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:l.jsx("div",{className:"bg-primary h-2 rounded-full transition-all duration-300",style:{width:`${p}%`}})}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("div",{className:"flex-1 space-y-2",children:l.jsx(Ba,{placeholder:"Digite sua mensagem...",value:s,onChange:M=>a(M.target.value),className:"resize-none",disabled:u,rows:2})}),l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx("input",{ref:_,type:"file",onChange:E,className:"hidden",accept:"*/*"}),l.jsx(oe,{variant:"outline",size:"sm",onClick:()=>{var M;return(M=_.current)==null?void 0:M.click()},disabled:u,className:"flex-shrink-0",children:l.jsx(y8,{className:"h-4 w-4"})}),l.jsx(oe,{onClick:T,className:"flex-shrink-0",disabled:u||!s.trim()&&!f,children:l.jsx(b8,{className:"h-4 w-4"})})]})]})]})]})})},SGe=t=>{switch(t){case"reservation":return"Reserva";case"purchase":return"Compra";case"support":return"Suporte";default:return t}},_b=t=>{switch(t){case"pending":return l.jsx(_e,{variant:"outline",className:"border-yellow-500 text-yellow-600",children:"Pendente"});case"approved":return l.jsx(_e,{className:"bg-green-500 text-white",children:"Aprovada"});case"rejected":return l.jsx(_e,{variant:"destructive",children:"Reprovada"});case"in-progress":return l.jsx(_e,{className:"bg-blue-500 text-white",children:"Em Andamento"});case"completed":return l.jsx(_e,{className:"bg-slate-500 text-white",children:"Concluída"});case"canceled":return l.jsx(_e,{className:"bg-amber-500 text-white",children:"Cancelada"});default:return l.jsx(_e,{variant:"outline",children:"Desconhecido"})}},NGe=()=>{var G;const t=wu(),{currentUser:e}=zr(),[r,n]=g.useState(""),[i,s]=g.useState(null),[a,o]=g.useState(!1),[c,u]=g.useState("pending"),[d,f]=g.useState(!1),[h,p]=g.useState(null),[v,m]=g.useState(!1),[b,w]=g.useState(null),[y,_]=g.useState({}),[S,E]=g.useState(()=>{const q=typeof window<"u"?localStorage.getItem("financeViewedRequests"):null;return q?new Set(JSON.parse(q)):new Set}),N=["Compra Pedagógica","Compra Administrativa","Compra Infraestrutura"],[T,j]=g.useState(N),{data:A=[],isLoading:R}=Xi({queryKey:["allRequests"],queryFn:()=>Nm()});g.useEffect(()=>{(()=>{const U={};A.forEach(X=>{const le=(X.messages||[]).filter(xe=>!xe.isAdmin&&!S.has(`${X.id}-${xe.timestamp.toMillis()}`)).length;le>0&&(U[X.id]=le)}),_(U)})()},[A,S]);const k=async q=>{try{const U=await lf(q.id,q.collectionName);w(U),E(X=>{const ie=new Set(X);return(U.messages||[]).forEach(le=>{le.isAdmin||ie.add(`${U.id}-${le.timestamp.toMillis()}`)}),localStorage.setItem("financeViewedRequests",JSON.stringify(Array.from(ie))),ie}),_(X=>{const ie={...X};return delete ie[U.id],ie}),m(!0)}catch(U){Ke.error("Erro ao abrir chat"),console.error("Error:",U)}},O=async()=>{if(!(!i||!c))try{const q=bt(Ue,i.collectionName,i.id);await Rn(q,{status:c}),await ty({title:"Alteração de Status",message:`Status da sua solicitação de compra foi alterado para: ${c}`,link:"minhas-solicitacoes",createdAt:new Date,readBy:[],recipients:[i.userEmail],isBatch:!1}),Ke.success("Status atualizado"),t.invalidateQueries({queryKey:["allRequests"]}),s({...i,status:c})}catch(q){Ke.error("Erro ao atualizar"),console.error("Error:",q)}},P=q=>{p({id:q.id,collectionName:q.collectionName}),f(!0)},D=async()=>{if(h)try{await bQ(h.id,h.collectionName),Ke.success("Excluído com sucesso"),f(!1),p(null),a&&o(!1),t.invalidateQueries({queryKey:["allRequests"]})}catch(q){Ke.error("Erro ao excluir"),console.error("Error:",q)}},z=A.filter(q=>q.type==="purchase").filter(q=>{var X,ie,le;const U=r.toLowerCase();return(((X=q.userName)==null?void 0:X.toLowerCase().includes(U))||((ie=q.userEmail)==null?void 0:ie.toLowerCase().includes(U))||((le=q.itemName)==null?void 0:le.toLowerCase().includes(U)))&&T.includes(q.tipo)}),M=z.length,V=z.filter(q=>q.status==="pending").length,L=z.filter(q=>q.status==="approved").length,$=z.reduce((q,U)=>q+(U.quantity||0)*(U.unitPrice||0),0);return l.jsx(cn,{children:l.jsxs("div",{className:"min-h-screen bg-white relative overflow-hidden",children:[l.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[l.jsx("div",{className:"absolute left-1/4 top-1/4 h-96 w-96 rounded-full bg-sidebar blur-3xl opacity-5"}),l.jsx("div",{className:"absolute right-1/4 bottom-1/4 h-80 w-80 rounded-full bg-eccos-purple blur-3xl opacity-5"})]}),l.jsxs("div",{className:"relative z-10 space-y-8 p-6 md:p-12",children:[l.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2 bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:[l.jsx(yo,{className:"text-eccos-purple",size:35}),"Solicitações de Compra"]}),R?l.jsx("div",{className:"flex justify-center items-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-eccos-purple"})}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"grid gap-4 grid-cols-2 sm:grid-cols-2 lg:grid-cols-4",children:[l.jsxs(tt,{className:"bg-white border border-gray-100 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300",children:[l.jsx(qt,{className:"pb-2",children:l.jsx(Wt,{className:"text-sm font-medium text-gray-600",children:"Total de Solicitações"})}),l.jsxs(mt,{children:[l.jsx("div",{className:"text-2xl font-bold bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:M}),l.jsx(_e,{variant:"outline",className:"mt-2 border-eccos-purple text-eccos-purple",children:"Total"})]})]}),l.jsxs(tt,{className:"bg-white border border-gray-100 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300",children:[l.jsx(qt,{className:"pb-2",children:l.jsx(Wt,{className:"text-sm font-medium text-gray-600",children:"Pendentes"})}),l.jsxs(mt,{children:[l.jsx("div",{className:"text-2xl font-bold bg-gradient-to-r from-yellow-500 to-yellow-600 bg-clip-text text-transparent",children:V}),l.jsxs(_e,{variant:"outline",className:"mt-2 border-yellow-500 text-yellow-500",children:[l.jsx(X1,{className:"h-3 w-3 mr-1"}),"Aguardando"]})]})]}),l.jsxs(tt,{className:"bg-white border border-gray-100 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300",children:[l.jsx(qt,{className:"pb-2",children:l.jsx(Wt,{className:"text-sm font-medium text-gray-600",children:"Aprovadas"})}),l.jsxs(mt,{children:[l.jsx("div",{className:"text-2xl font-bold bg-gradient-to-r from-green-500 to-green-600 bg-clip-text text-transparent",children:L}),l.jsxs(_e,{variant:"outline",className:"mt-2 border-green-500 text-green-500",children:[l.jsx($ae,{className:"h-3 w-3 mr-1"}),"Aprovadas"]})]})]}),l.jsxs(tt,{className:"bg-white border border-gray-100 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300",children:[l.jsx(qt,{className:"pb-2",children:l.jsx(Wt,{className:"text-sm font-medium text-gray-600",children:"Valor Total"})}),l.jsxs(mt,{children:[l.jsx("div",{className:"text-2xl font-bold bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",notation:"compact"}).format($)}),l.jsxs(_e,{variant:"outline",className:"mt-2 border-eccos-purple text-eccos-purple",children:[l.jsx(Bae,{className:"h-3 w-3 mr-1"}),"Total"]})]})]})]}),l.jsx(tt,{className:"bg-white border border-gray-100 rounded-2xl shadow-lg",children:l.jsx(mt,{className:"p-6",children:l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[l.jsxs("div",{className:"relative flex-1 max-w-md",children:[l.jsx(yf,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),l.jsx(or,{placeholder:"Pesquisar por nome, email ou item...",value:r,onChange:q=>n(q.target.value),className:"pl-10 h-12 rounded-xl border-gray-200 focus:border-eccos-purple"})]}),l.jsxs(ys,{children:[l.jsx(xs,{asChild:!0,children:l.jsxs(oe,{variant:"outline",className:"flex items-center gap-2 h-12 rounded-xl border-gray-200 px-6",children:[l.jsx(wl,{className:"h-4 w-4"})," Tipo (",T.length,")"]})}),l.jsx(qi,{align:"end",className:"bg-background rounded-xl",children:N.map(q=>l.jsx(Ta,{checked:T.includes(q),onCheckedChange:U=>{j(U?[...T,q]:T.filter(X=>X!==q))},children:q},q))})]})]})})}),z.length===0?l.jsx(tt,{className:"bg-white border border-gray-100 rounded-2xl shadow-lg",children:l.jsx(mt,{className:"p-12",children:l.jsxs("div",{className:"text-center text-muted-foreground",children:[l.jsx(yo,{className:"h-16 w-16 mx-auto mb-4 text-gray-300"}),l.jsx("p",{className:"text-lg",children:"Nenhuma solicitação de compra encontrada"}),l.jsx("p",{className:"text-sm",children:"Tente ajustar os filtros para ver mais resultados"})]})})}):l.jsx(tt,{className:"bg-white border border-gray-100 rounded-2xl shadow-lg overflow-hidden",children:l.jsx(mt,{className:"p-0",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs($u,{children:[l.jsx(Fu,{children:l.jsxs(Un,{className:"border-gray-100",children:[l.jsx(dr,{className:"font-semibold text-gray-700",children:"Solicitante"}),l.jsx(dr,{className:"font-semibold text-gray-700 hidden md:table-cell",children:"Item"}),l.jsx(dr,{className:"font-semibold text-gray-700",children:"Status"}),l.jsx(dr,{className:"font-semibold text-gray-700 hidden lg:table-cell",children:"Valor Total"}),l.jsx(dr,{className:"font-semibold text-gray-700",children:"Ações"})]})}),l.jsx(Vu,{children:z.map(q=>l.jsxs(Un,{className:"border-gray-100 hover:bg-gray-50/50 transition-colors",children:[l.jsx(tr,{className:"font-medium",children:q.userName}),l.jsx(tr,{className:"hidden md:table-cell",children:q.itemName}),l.jsx(tr,{children:_b(q.status)}),l.jsx(tr,{className:"font-semibold hidden lg:table-cell",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format((q.quantity||0)*(q.unitPrice||0))}),l.jsx(tr,{children:l.jsxs("div",{className:"flex gap-2",children:[l.jsx(oe,{variant:"ghost",size:"icon",className:"h-9 w-9 rounded-xl hover:bg-eccos-purple/10 hover:text-eccos-purple",onClick:()=>{s(q),o(!0)},children:l.jsx(kd,{className:"h-4 w-4"})}),l.jsxs(oe,{variant:"ghost",size:"icon",className:"h-9 w-9 rounded-xl hover:bg-blue-50 hover:text-blue-600 relative",onClick:()=>k(q),children:[l.jsx(J1,{className:"h-4 w-4"}),y[q.id]>0&&l.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:y[q.id]})]}),l.jsx(oe,{variant:"ghost",size:"icon",className:"h-9 w-9 rounded-xl hover:bg-red-50 hover:text-red-600",onClick:()=>P(q),children:l.jsx(Ll,{className:"h-4 w-4"})})]})})]},q.id))})]})})})})]}),l.jsx(ts,{open:a,onOpenChange:o,children:l.jsx(Ii,{className:"max-w-3xl bg-white border border-gray-100 max-h-[90vh] overflow-y-auto rounded-2xl",children:i&&l.jsxs(l.Fragment,{children:[l.jsxs(rs,{children:[l.jsxs(Oi,{className:"flex items-center gap-2",children:[l.jsx(yo,{className:"h-5 w-5 text-purple-500"}),l.jsxs("span",{className:"bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:["Solicitação de Compra - ",i.userName||i.userEmail]})]}),l.jsx(As,{asChild:!0,children:l.jsxs("div",{className:"flex items-center justify-between text-gray-500 px-1",children:[l.jsx("div",{children:Dt(i.createdAt.toDate(),"dd/MM/yyyy HH:mm",{locale:Pn})}),l.jsx("div",{children:_b(i.status)})]})})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto space-y-6 py-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Tipo"}),l.jsx("p",{className:"font-medium",children:i.tipo||"Não especificado"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Solicitante"}),l.jsx("p",{className:"font-medium",children:i.userName})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Item"}),l.jsx("p",{className:"font-medium break-words",children:i.itemName})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Quantidade"}),l.jsx("p",{className:"font-medium",children:i.quantity})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Valor Unitário"}),l.jsx("p",{className:"font-medium",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(i.unitPrice||0)})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Valor Total"}),l.jsx("p",{className:"font-bold text-lg bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format((i.quantity||0)*(i.unitPrice||0))})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Justificativa"}),l.jsx("div",{className:"bg-gray-50 p-4 rounded-xl",children:l.jsx("p",{className:"whitespace-pre-wrap break-words",children:i.justification})})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs(ys,{children:[l.jsx(xs,{asChild:!0,children:l.jsxs(oe,{variant:"outline",className:"flex items-center gap-2",children:["Alterar Status",l.jsx(qs,{className:"h-4 w-4"})]})}),l.jsx(qi,{children:["pending","approved","rejected","in-progress","completed","canceled"].map(q=>l.jsx(Ta,{checked:c===q,onCheckedChange:()=>u(q),children:_b(q)},q))})]}),l.jsx(oe,{onClick:O,disabled:!c||c===i.status,className:"bg-gradient-to-r from-sidebar to-eccos-purple hover:from-eccos-purple hover:to-sidebar text-white",children:"Salvar"})]}),l.jsxs("div",{className:"space-y-4 pt-4 border-t border-gray-100",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-800",children:"Histórico"}),l.jsx("div",{className:"space-y-2",children:((G=i.history)==null?void 0:G.map((q,U)=>l.jsxs("div",{className:"flex items-center gap-3 p-2 bg-gray-50 rounded",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:Dt(q.timestamp.toDate(),"dd/MM/yyyy HH:mm",{locale:Pn})}),l.jsx("p",{className:"text-sm text-gray-500",children:q.message})]}),_b(q.status)]},U)))||l.jsx("p",{className:"text-gray-500 text-sm",children:"Nenhum histórico registrado"})})]})]}),l.jsx(ju,{className:"pt-4 border-t border-gray-100 gap-2",children:l.jsxs(oe,{variant:"destructive",onClick:()=>P(i),className:"w-full sm:w-auto",children:[l.jsx(Ll,{className:"h-4 w-4 mr-2"}),"Excluir Solicitação"]})})]})})}),l.jsx(SM,{request:b,isOpen:v,onOpenChange:m,onMessageSent:()=>t.invalidateQueries({queryKey:["allRequests"]})}),l.jsx(Cu,{open:d,onOpenChange:f,children:l.jsxs(Zl,{className:"rounded-2xl",children:[l.jsxs(Jl,{children:[l.jsx(ec,{children:"Confirmar exclusão"}),l.jsx(Au,{children:"Tem certeza que deseja excluir permanentemente esta solicitação? Esta ação não pode ser desfeita."})]}),l.jsxs(_m,{children:[l.jsx(Ru,{className:"rounded-xl",children:"Cancelar"}),l.jsx(Pu,{onClick:D,className:"rounded-xl bg-red-600 hover:bg-red-700",children:"Confirmar Exclusão"})]})]})})]}),l.jsx("footer",{className:"relative z-10 bg-gray-50 py-10 px-4 md:px-12",children:l.jsx("div",{className:"max-w-6xl mx-auto text-center",children:l.jsx("p",{className:"text-gray-500 text-sm",children:"© 2025 Colégio ECCOS - Todos os direitos reservados"})})})]})})};function FB(t,[e,r]){return Math.min(r,Math.max(e,t))}function p1(t){const e=TGe(t),r=g.forwardRef((n,i)=>{const{children:s,...a}=n,o=g.Children.toArray(s),c=o.find(CGe);if(c){const u=c.props.children,d=o.map(f=>f===c?g.Children.count(u)>1?g.Children.only(null):g.isValidElement(u)?u.props.children:null:f);return l.jsx(e,{...a,ref:i,children:g.isValidElement(u)?g.cloneElement(u,void 0,d):null})}return l.jsx(e,{...a,ref:i,children:s})});return r.displayName=`${t}.Slot`,r}function TGe(t){const e=g.forwardRef((r,n)=>{const{children:i,...s}=r;if(g.isValidElement(i)){const a=PGe(i),o=AGe(s,i.props);return i.type!==g.Fragment&&(o.ref=n?Io(n,a):a),g.cloneElement(i,o)}return g.Children.count(i)>1?g.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var jGe=Symbol("radix.slottable");function CGe(t){return g.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===jGe}function AGe(t,e){const r={...e};for(const n in e){const i=t[n],s=e[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...o)=>{const c=s(...o);return i(...o),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...t,...r}}function PGe(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function RGe(t){const e=t+"CollectionProvider",[r,n]=fi(e),[i,s]=r(e,{collectionRef:{current:null},itemMap:new Map}),a=m=>{const{scope:b,children:w}=m,y=B.useRef(null),_=B.useRef(new Map).current;return l.jsx(i,{scope:b,itemMap:_,collectionRef:y,children:w})};a.displayName=e;const o=t+"CollectionSlot",c=p1(o),u=B.forwardRef((m,b)=>{const{scope:w,children:y}=m,_=s(o,w),S=rt(b,_.collectionRef);return l.jsx(c,{ref:S,children:y})});u.displayName=o;const d=t+"CollectionItemSlot",f="data-radix-collection-item",h=p1(d),p=B.forwardRef((m,b)=>{const{scope:w,children:y,..._}=m,S=B.useRef(null),E=rt(b,S),N=s(d,w);return B.useEffect(()=>(N.itemMap.set(S,{ref:S,..._}),()=>void N.itemMap.delete(S))),l.jsx(h,{[f]:"",ref:E,children:y})});p.displayName=d;function v(m){const b=s(t+"CollectionConsumer",m);return B.useCallback(()=>{const y=b.collectionRef.current;if(!y)return[];const _=Array.from(y.querySelectorAll(`[${f}]`));return Array.from(b.itemMap.values()).sort((N,T)=>_.indexOf(N.ref.current)-_.indexOf(T.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:a,Slot:u,ItemSlot:p},v,n]}var kGe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],un=kGe.reduce((t,e)=>{const r=p1(`Primitive.${e}`),n=g.forwardRef((i,s)=>{const{asChild:a,...o}=i,c=a?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(c,{...o,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function IGe(t,e){t&&Bo.flushSync(()=>t.dispatchEvent(e))}var OGe="DismissableLayer",h2="dismissableLayer.update",MGe="dismissableLayer.pointerDownOutside",DGe="dismissableLayer.focusOutside",VB,zee=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),qee=g.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:a,onDismiss:o,...c}=t,u=g.useContext(zee),[d,f]=g.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=g.useState({}),v=rt(e,T=>f(T)),m=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),w=m.indexOf(b),y=d?m.indexOf(d):-1,_=u.layersWithOutsidePointerEventsDisabled.size>0,S=y>=w,E=FGe(T=>{const j=T.target,A=[...u.branches].some(R=>R.contains(j));!S||A||(i==null||i(T),a==null||a(T),T.defaultPrevented||o==null||o())},h),N=VGe(T=>{const j=T.target;[...u.branches].some(R=>R.contains(j))||(s==null||s(T),a==null||a(T),T.defaultPrevented||o==null||o())},h);return wR(T=>{y===u.layers.size-1&&(n==null||n(T),!T.defaultPrevented&&o&&(T.preventDefault(),o()))},h),g.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(VB=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),BB(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=VB)}},[d,h,r,u]),g.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),BB())},[d,u]),g.useEffect(()=>{const T=()=>p({});return document.addEventListener(h2,T),()=>document.removeEventListener(h2,T)},[]),l.jsx(un.div,{...c,ref:v,style:{pointerEvents:_?S?"auto":"none":void 0,...t.style},onFocusCapture:Se(t.onFocusCapture,N.onFocusCapture),onBlurCapture:Se(t.onBlurCapture,N.onBlurCapture),onPointerDownCapture:Se(t.onPointerDownCapture,E.onPointerDownCapture)})});qee.displayName=OGe;var LGe="DismissableLayerBranch",$Ge=g.forwardRef((t,e)=>{const r=g.useContext(zee),n=g.useRef(null),i=rt(e,n);return g.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),l.jsx(un.div,{...t,ref:i})});$Ge.displayName=LGe;function FGe(t,e=globalThis==null?void 0:globalThis.document){const r=Or(t),n=g.useRef(!1),i=g.useRef(()=>{});return g.useEffect(()=>{const s=o=>{if(o.target&&!n.current){let c=function(){Wee(MGe,r,u,{discrete:!0})};const u={originalEvent:o};o.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}else e.removeEventListener("click",i.current);n.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function VGe(t,e=globalThis==null?void 0:globalThis.document){const r=Or(t),n=g.useRef(!1);return g.useEffect(()=>{const i=s=>{s.target&&!n.current&&Wee(DGe,r,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function BB(){const t=new CustomEvent(h2);document.dispatchEvent(t)}function Wee(t,e,r,{discrete:n}){const i=r.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?IGe(i,s):i.dispatchEvent(s)}var gj="focusScope.autoFocusOnMount",vj="focusScope.autoFocusOnUnmount",UB={bubbles:!1,cancelable:!0},BGe="FocusScope",Hee=g.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...a}=t,[o,c]=g.useState(null),u=Or(i),d=Or(s),f=g.useRef(null),h=rt(e,m=>c(m)),p=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(n){let m=function(_){if(p.paused||!o)return;const S=_.target;o.contains(S)?f.current=S:vc(f.current,{select:!0})},b=function(_){if(p.paused||!o)return;const S=_.relatedTarget;S!==null&&(o.contains(S)||vc(f.current,{select:!0}))},w=function(_){if(document.activeElement===document.body)for(const E of _)E.removedNodes.length>0&&vc(o)};document.addEventListener("focusin",m),document.addEventListener("focusout",b);const y=new MutationObserver(w);return o&&y.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",b),y.disconnect()}}},[n,o,p.paused]),g.useEffect(()=>{if(o){qB.add(p);const m=document.activeElement;if(!o.contains(m)){const w=new CustomEvent(gj,UB);o.addEventListener(gj,u),o.dispatchEvent(w),w.defaultPrevented||(UGe(KGe(Kee(o)),{select:!0}),document.activeElement===m&&vc(o))}return()=>{o.removeEventListener(gj,u),setTimeout(()=>{const w=new CustomEvent(vj,UB);o.addEventListener(vj,d),o.dispatchEvent(w),w.defaultPrevented||vc(m??document.body,{select:!0}),o.removeEventListener(vj,d),qB.remove(p)},0)}}},[o,u,d,p]);const v=g.useCallback(m=>{if(!r&&!n||p.paused)return;const b=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,w=document.activeElement;if(b&&w){const y=m.currentTarget,[_,S]=zGe(y);_&&S?!m.shiftKey&&w===S?(m.preventDefault(),r&&vc(_,{select:!0})):m.shiftKey&&w===_&&(m.preventDefault(),r&&vc(S,{select:!0})):w===y&&m.preventDefault()}},[r,n,p.paused]);return l.jsx(un.div,{tabIndex:-1,...a,ref:h,onKeyDown:v})});Hee.displayName=BGe;function UGe(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(vc(n,{select:e}),document.activeElement!==r)return}function zGe(t){const e=Kee(t),r=zB(e,t),n=zB(e.reverse(),t);return[r,n]}function Kee(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function zB(t,e){for(const r of t)if(!qGe(r,{upTo:e}))return r}function qGe(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function WGe(t){return t instanceof HTMLInputElement&&"select"in t}function vc(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&WGe(t)&&e&&t.select()}}var qB=HGe();function HGe(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=WB(t,e),t.unshift(e)},remove(e){var r;t=WB(t,e),(r=t[0])==null||r.resume()}}}function WB(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function KGe(t){return t.filter(e=>e.tagName!=="A")}var GGe="Arrow",Gee=g.forwardRef((t,e)=>{const{children:r,width:n=10,height:i=5,...s}=t;return l.jsx(un.svg,{...s,ref:e,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});Gee.displayName=GGe;var YGe=Gee,NM="Popper",[Yee,Xee]=fi(NM),[XGe,Qee]=Yee(NM),Zee=t=>{const{__scopePopper:e,children:r}=t,[n,i]=g.useState(null);return l.jsx(XGe,{scope:e,anchor:n,onAnchorChange:i,children:r})};Zee.displayName=NM;var Jee="PopperAnchor",ete=g.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...i}=t,s=Qee(Jee,r),a=g.useRef(null),o=rt(e,a);return g.useEffect(()=>{s.onAnchorChange((n==null?void 0:n.current)||a.current)}),n?null:l.jsx(un.div,{...i,ref:o})});ete.displayName=Jee;var TM="PopperContent",[QGe,ZGe]=Yee(TM),tte=g.forwardRef((t,e)=>{var ce,Q,Y,ee,se,J;const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:s="center",alignOffset:a=0,arrowPadding:o=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:v,...m}=t,b=Qee(TM,r),[w,y]=g.useState(null),_=rt(e,je=>y(je)),[S,E]=g.useState(null),N=nE(S),T=(N==null?void 0:N.width)??0,j=(N==null?void 0:N.height)??0,A=n+(s!=="center"?"-"+s:""),R=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},k=Array.isArray(u)?u:[u],O=k.length>0,P={padding:R,boundary:k.filter(eYe),altBoundary:O},{refs:D,floatingStyles:z,placement:M,isPositioned:V,middlewareData:L}=VR({strategy:"fixed",placement:A,whileElementsMounted:(...je)=>FR(...je,{animationFrame:p==="always"}),elements:{reference:b.anchor},middleware:[BR({mainAxis:i+j,alignmentAxis:a}),c&&UR({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?zR():void 0,...P}),c&&qR({...P}),WR({...P,apply:({elements:je,rects:Ae,availableWidth:ct,availableHeight:fe})=>{const{width:$e,height:Xe}=Ae.reference,vt=je.floating.style;vt.setProperty("--radix-popper-available-width",`${ct}px`),vt.setProperty("--radix-popper-available-height",`${fe}px`),vt.setProperty("--radix-popper-anchor-width",`${$e}px`),vt.setProperty("--radix-popper-anchor-height",`${Xe}px`)}}),S&&KR({element:S,padding:o}),tYe({arrowWidth:T,arrowHeight:j}),h&&HR({strategy:"referenceHidden",...P})]}),[$,G]=ite(M),q=Or(v);Br(()=>{V&&(q==null||q())},[V,q]);const U=(ce=L.arrow)==null?void 0:ce.x,X=(Q=L.arrow)==null?void 0:Q.y,ie=((Y=L.arrow)==null?void 0:Y.centerOffset)!==0,[le,xe]=g.useState();return Br(()=>{w&&xe(window.getComputedStyle(w).zIndex)},[w]),l.jsx("div",{ref:D.setFloating,"data-radix-popper-content-wrapper":"",style:{...z,transform:V?z.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:le,"--radix-popper-transform-origin":[(ee=L.transformOrigin)==null?void 0:ee.x,(se=L.transformOrigin)==null?void 0:se.y].join(" "),...((J=L.hide)==null?void 0:J.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:l.jsx(QGe,{scope:r,placedSide:$,onArrowChange:E,arrowX:U,arrowY:X,shouldHideArrow:ie,children:l.jsx(un.div,{"data-side":$,"data-align":G,...m,ref:_,style:{...m.style,animation:V?void 0:"none"}})})})});tte.displayName=TM;var rte="PopperArrow",JGe={top:"bottom",right:"left",bottom:"top",left:"right"},nte=g.forwardRef(function(e,r){const{__scopePopper:n,...i}=e,s=ZGe(rte,n),a=JGe[s.placedSide];return l.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:l.jsx(YGe,{...i,ref:r,style:{...i.style,display:"block"}})})});nte.displayName=rte;function eYe(t){return t!==null}var tYe=t=>({name:"transformOrigin",options:t,fn(e){var b,w,y;const{placement:r,rects:n,middlewareData:i}=e,a=((b=i.arrow)==null?void 0:b.centerOffset)!==0,o=a?0:t.arrowWidth,c=a?0:t.arrowHeight,[u,d]=ite(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((w=i.arrow)==null?void 0:w.x)??0)+o/2,p=(((y=i.arrow)==null?void 0:y.y)??0)+c/2;let v="",m="";return u==="bottom"?(v=a?f:`${h}px`,m=`${-c}px`):u==="top"?(v=a?f:`${h}px`,m=`${n.floating.height+c}px`):u==="right"?(v=`${-c}px`,m=a?f:`${p}px`):u==="left"&&(v=`${n.floating.width+c}px`,m=a?f:`${p}px`),{data:{x:v,y:m}}}});function ite(t){const[e,r="center"]=t.split("-");return[e,r]}var rYe=Zee,nYe=ete,iYe=tte,sYe=nte,aYe="Portal",ste=g.forwardRef((t,e)=>{var o;const{container:r,...n}=t,[i,s]=g.useState(!1);Br(()=>s(!0),[]);const a=r||i&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return a?W1.createPortal(l.jsx(un.div,{...n,ref:e}),a):null});ste.displayName=aYe;function ate(t){const e=g.useRef({value:t,previous:t});return g.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var ote=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),oYe="VisuallyHidden",lYe=g.forwardRef((t,e)=>l.jsx(un.span,{...t,ref:e,style:{...ote,...t.style}}));lYe.displayName=oYe;var cYe=[" ","Enter","ArrowUp","ArrowDown"],uYe=[" ","Enter"],uf="Select",[XS,QS,dYe]=RGe(uf),[Lm,bet]=fi(uf,[dYe,Xee]),ZS=Xee(),[fYe,Bu]=Lm(uf),[hYe,pYe]=Lm(uf),lte=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:i,onOpenChange:s,value:a,defaultValue:o,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:p,form:v}=t,m=ZS(e),[b,w]=g.useState(null),[y,_]=g.useState(null),[S,E]=g.useState(!1),N=OE(u),[T,j]=Dl({prop:n,defaultProp:i??!1,onChange:s,caller:uf}),[A,R]=Dl({prop:a,defaultProp:o,onChange:c,caller:uf}),k=g.useRef(null),O=b?v||!!b.closest("form"):!0,[P,D]=g.useState(new Set),z=Array.from(P).map(M=>M.props.value).join(";");return l.jsx(rYe,{...m,children:l.jsxs(fYe,{required:p,scope:e,trigger:b,onTriggerChange:w,valueNode:y,onValueNodeChange:_,valueNodeHasChildren:S,onValueNodeHasChildrenChange:E,contentId:qn(),value:A,onValueChange:R,open:T,onOpenChange:j,dir:N,triggerPointerDownPosRef:k,disabled:h,children:[l.jsx(XS.Provider,{scope:e,children:l.jsx(hYe,{scope:t.__scopeSelect,onNativeOptionAdd:g.useCallback(M=>{D(V=>new Set(V).add(M))},[]),onNativeOptionRemove:g.useCallback(M=>{D(V=>{const L=new Set(V);return L.delete(M),L})},[]),children:r})}),O?l.jsxs(Ite,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:A,onChange:M=>R(M.target.value),disabled:h,form:v,children:[A===void 0?l.jsx("option",{value:""}):null,Array.from(P)]},z):null]})})};lte.displayName=uf;var cte="SelectTrigger",ute=g.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...i}=t,s=ZS(r),a=Bu(cte,r),o=a.disabled||n,c=rt(e,a.onTriggerChange),u=QS(r),d=g.useRef("touch"),[f,h,p]=Mte(m=>{const b=u().filter(_=>!_.disabled),w=b.find(_=>_.value===a.value),y=Dte(b,m,w);y!==void 0&&a.onValueChange(y.value)}),v=m=>{o||(a.onOpenChange(!0),p()),m&&(a.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return l.jsx(nYe,{asChild:!0,...s,children:l.jsx(un.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":Ote(a.value)?"":void 0,...i,ref:c,onClick:Se(i.onClick,m=>{m.currentTarget.focus(),d.current!=="mouse"&&v(m)}),onPointerDown:Se(i.onPointerDown,m=>{d.current=m.pointerType;const b=m.target;b.hasPointerCapture(m.pointerId)&&b.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(v(m),m.preventDefault())}),onKeyDown:Se(i.onKeyDown,m=>{const b=f.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&h(m.key),!(b&&m.key===" ")&&cYe.includes(m.key)&&(v(),m.preventDefault())})})})});ute.displayName=cte;var dte="SelectValue",fte=g.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,children:s,placeholder:a="",...o}=t,c=Bu(dte,r),{onValueNodeHasChildrenChange:u}=c,d=s!==void 0,f=rt(e,c.onValueNodeChange);return Br(()=>{u(d)},[u,d]),l.jsx(un.span,{...o,ref:f,style:{pointerEvents:"none"},children:Ote(c.value)?l.jsx(l.Fragment,{children:a}):s})});fte.displayName=dte;var mYe="SelectIcon",hte=g.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...i}=t;return l.jsx(un.span,{"aria-hidden":!0,...i,ref:e,children:n||"▼"})});hte.displayName=mYe;var gYe="SelectPortal",pte=t=>l.jsx(ste,{asChild:!0,...t});pte.displayName=gYe;var df="SelectContent",mte=g.forwardRef((t,e)=>{const r=Bu(df,t.__scopeSelect),[n,i]=g.useState();if(Br(()=>{i(new DocumentFragment)},[]),!r.open){const s=n;return s?Bo.createPortal(l.jsx(gte,{scope:t.__scopeSelect,children:l.jsx(XS.Slot,{scope:t.__scopeSelect,children:l.jsx("div",{children:t.children})})}),s):null}return l.jsx(vte,{...t,ref:e})});mte.displayName=df;var fa=10,[gte,Uu]=Lm(df),vYe="SelectContentImpl",yYe=p1("SelectContent.RemoveScroll"),vte=g.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:a,side:o,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:v,hideWhenDetached:m,avoidCollisions:b,...w}=t,y=Bu(df,r),[_,S]=g.useState(null),[E,N]=g.useState(null),T=rt(e,ce=>S(ce)),[j,A]=g.useState(null),[R,k]=g.useState(null),O=QS(r),[P,D]=g.useState(!1),z=g.useRef(!1);g.useEffect(()=>{if(_)return LE(_)},[_]),ME();const M=g.useCallback(ce=>{const[Q,...Y]=O().map(J=>J.ref.current),[ee]=Y.slice(-1),se=document.activeElement;for(const J of ce)if(J===se||(J==null||J.scrollIntoView({block:"nearest"}),J===Q&&E&&(E.scrollTop=0),J===ee&&E&&(E.scrollTop=E.scrollHeight),J==null||J.focus(),document.activeElement!==se))return},[O,E]),V=g.useCallback(()=>M([j,_]),[M,j,_]);g.useEffect(()=>{P&&V()},[P,V]);const{onOpenChange:L,triggerPointerDownPosRef:$}=y;g.useEffect(()=>{if(_){let ce={x:0,y:0};const Q=ee=>{var se,J;ce={x:Math.abs(Math.round(ee.pageX)-(((se=$.current)==null?void 0:se.x)??0)),y:Math.abs(Math.round(ee.pageY)-(((J=$.current)==null?void 0:J.y)??0))}},Y=ee=>{ce.x<=10&&ce.y<=10?ee.preventDefault():_.contains(ee.target)||L(!1),document.removeEventListener("pointermove",Q),$.current=null};return $.current!==null&&(document.addEventListener("pointermove",Q),document.addEventListener("pointerup",Y,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Q),document.removeEventListener("pointerup",Y,{capture:!0})}}},[_,L,$]),g.useEffect(()=>{const ce=()=>L(!1);return window.addEventListener("blur",ce),window.addEventListener("resize",ce),()=>{window.removeEventListener("blur",ce),window.removeEventListener("resize",ce)}},[L]);const[G,q]=Mte(ce=>{const Q=O().filter(se=>!se.disabled),Y=Q.find(se=>se.ref.current===document.activeElement),ee=Dte(Q,ce,Y);ee&&setTimeout(()=>ee.ref.current.focus())}),U=g.useCallback((ce,Q,Y)=>{const ee=!z.current&&!Y;(y.value!==void 0&&y.value===Q||ee)&&(A(ce),ee&&(z.current=!0))},[y.value]),X=g.useCallback(()=>_==null?void 0:_.focus(),[_]),ie=g.useCallback((ce,Q,Y)=>{const ee=!z.current&&!Y;(y.value!==void 0&&y.value===Q||ee)&&k(ce)},[y.value]),le=n==="popper"?p2:yte,xe=le===p2?{side:o,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:v,hideWhenDetached:m,avoidCollisions:b}:{};return l.jsx(gte,{scope:r,content:_,viewport:E,onViewportChange:N,itemRefCallback:U,selectedItem:j,onItemLeave:X,itemTextRefCallback:ie,focusSelectedItem:V,selectedItemText:R,position:n,isPositioned:P,searchRef:G,children:l.jsx(D0,{as:yYe,allowPinchZoom:!0,children:l.jsx(Hee,{asChild:!0,trapped:y.open,onMountAutoFocus:ce=>{ce.preventDefault()},onUnmountAutoFocus:Se(i,ce=>{var Q;(Q=y.trigger)==null||Q.focus({preventScroll:!0}),ce.preventDefault()}),children:l.jsx(qee,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:ce=>ce.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:l.jsx(le,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:ce=>ce.preventDefault(),...w,...xe,onPlaced:()=>D(!0),ref:T,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:Se(w.onKeyDown,ce=>{const Q=ce.ctrlKey||ce.altKey||ce.metaKey;if(ce.key==="Tab"&&ce.preventDefault(),!Q&&ce.key.length===1&&q(ce.key),["ArrowUp","ArrowDown","Home","End"].includes(ce.key)){let ee=O().filter(se=>!se.disabled).map(se=>se.ref.current);if(["ArrowUp","End"].includes(ce.key)&&(ee=ee.slice().reverse()),["ArrowUp","ArrowDown"].includes(ce.key)){const se=ce.target,J=ee.indexOf(se);ee=ee.slice(J+1)}setTimeout(()=>M(ee)),ce.preventDefault()}})})})})})})});vte.displayName=vYe;var xYe="SelectItemAlignedPosition",yte=g.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...i}=t,s=Bu(df,r),a=Uu(df,r),[o,c]=g.useState(null),[u,d]=g.useState(null),f=rt(e,T=>d(T)),h=QS(r),p=g.useRef(!1),v=g.useRef(!0),{viewport:m,selectedItem:b,selectedItemText:w,focusSelectedItem:y}=a,_=g.useCallback(()=>{if(s.trigger&&s.valueNode&&o&&u&&m&&b&&w){const T=s.trigger.getBoundingClientRect(),j=u.getBoundingClientRect(),A=s.valueNode.getBoundingClientRect(),R=w.getBoundingClientRect();if(s.dir!=="rtl"){const se=R.left-j.left,J=A.left-se,je=T.left-J,Ae=T.width+je,ct=Math.max(Ae,j.width),fe=window.innerWidth-fa,$e=FB(J,[fa,Math.max(fa,fe-ct)]);o.style.minWidth=Ae+"px",o.style.left=$e+"px"}else{const se=j.right-R.right,J=window.innerWidth-A.right-se,je=window.innerWidth-T.right-J,Ae=T.width+je,ct=Math.max(Ae,j.width),fe=window.innerWidth-fa,$e=FB(J,[fa,Math.max(fa,fe-ct)]);o.style.minWidth=Ae+"px",o.style.right=$e+"px"}const k=h(),O=window.innerHeight-fa*2,P=m.scrollHeight,D=window.getComputedStyle(u),z=parseInt(D.borderTopWidth,10),M=parseInt(D.paddingTop,10),V=parseInt(D.borderBottomWidth,10),L=parseInt(D.paddingBottom,10),$=z+M+P+L+V,G=Math.min(b.offsetHeight*5,$),q=window.getComputedStyle(m),U=parseInt(q.paddingTop,10),X=parseInt(q.paddingBottom,10),ie=T.top+T.height/2-fa,le=O-ie,xe=b.offsetHeight/2,ce=b.offsetTop+xe,Q=z+M+ce,Y=$-Q;if(Q<=ie){const se=k.length>0&&b===k[k.length-1].ref.current;o.style.bottom="0px";const J=u.clientHeight-m.offsetTop-m.offsetHeight,je=Math.max(le,xe+(se?X:0)+J+V),Ae=Q+je;o.style.height=Ae+"px"}else{const se=k.length>0&&b===k[0].ref.current;o.style.top="0px";const je=Math.max(ie,z+m.offsetTop+(se?U:0)+xe)+Y;o.style.height=je+"px",m.scrollTop=Q-ie+m.offsetTop}o.style.margin=`${fa}px 0`,o.style.minHeight=G+"px",o.style.maxHeight=O+"px",n==null||n(),requestAnimationFrame(()=>p.current=!0)}},[h,s.trigger,s.valueNode,o,u,m,b,w,s.dir,n]);Br(()=>_(),[_]);const[S,E]=g.useState();Br(()=>{u&&E(window.getComputedStyle(u).zIndex)},[u]);const N=g.useCallback(T=>{T&&v.current===!0&&(_(),y==null||y(),v.current=!1)},[_,y]);return l.jsx(wYe,{scope:r,contentWrapper:o,shouldExpandOnScrollRef:p,onScrollButtonChange:N,children:l.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:l.jsx(un.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});yte.displayName=xYe;var bYe="SelectPopperPosition",p2=g.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=fa,...s}=t,a=ZS(r);return l.jsx(iYe,{...a,...s,ref:e,align:n,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});p2.displayName=bYe;var[wYe,jM]=Lm(df,{}),m2="SelectViewport",xte=g.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...i}=t,s=Uu(m2,r),a=jM(m2,r),o=rt(e,s.onViewportChange),c=g.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),l.jsx(XS.Slot,{scope:r,children:l.jsx(un.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Se(i.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=a;if(h!=null&&h.current&&f){const p=Math.abs(c.current-d.scrollTop);if(p>0){const v=window.innerHeight-fa*2,m=parseFloat(f.style.minHeight),b=parseFloat(f.style.height),w=Math.max(m,b);if(w<v){const y=w+p,_=Math.min(v,y),S=y-_;f.style.height=_+"px",f.style.bottom==="0px"&&(d.scrollTop=S>0?S:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});xte.displayName=m2;var bte="SelectGroup",[_Ye,EYe]=Lm(bte),wte=g.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=qn();return l.jsx(_Ye,{scope:r,id:i,children:l.jsx(un.div,{role:"group","aria-labelledby":i,...n,ref:e})})});wte.displayName=bte;var _te="SelectLabel",Ete=g.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=EYe(_te,r);return l.jsx(un.div,{id:i.id,...n,ref:e})});Ete.displayName=_te;var m1="SelectItem",[SYe,Ste]=Lm(m1),Nte=g.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:s,...a}=t,o=Bu(m1,r),c=Uu(m1,r),u=o.value===n,[d,f]=g.useState(s??""),[h,p]=g.useState(!1),v=rt(e,y=>{var _;return(_=c.itemRefCallback)==null?void 0:_.call(c,y,n,i)}),m=qn(),b=g.useRef("touch"),w=()=>{i||(o.onValueChange(n),o.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(SYe,{scope:r,value:n,disabled:i,textId:m,isSelected:u,onItemTextChange:g.useCallback(y=>{f(_=>_||((y==null?void 0:y.textContent)??"").trim())},[]),children:l.jsx(XS.ItemSlot,{scope:r,value:n,disabled:i,textValue:d,children:l.jsx(un.div,{role:"option","aria-labelledby":m,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...a,ref:v,onFocus:Se(a.onFocus,()=>p(!0)),onBlur:Se(a.onBlur,()=>p(!1)),onClick:Se(a.onClick,()=>{b.current!=="mouse"&&w()}),onPointerUp:Se(a.onPointerUp,()=>{b.current==="mouse"&&w()}),onPointerDown:Se(a.onPointerDown,y=>{b.current=y.pointerType}),onPointerMove:Se(a.onPointerMove,y=>{var _;b.current=y.pointerType,i?(_=c.onItemLeave)==null||_.call(c):b.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Se(a.onPointerLeave,y=>{var _;y.currentTarget===document.activeElement&&((_=c.onItemLeave)==null||_.call(c))}),onKeyDown:Se(a.onKeyDown,y=>{var S;((S=c.searchRef)==null?void 0:S.current)!==""&&y.key===" "||(uYe.includes(y.key)&&w(),y.key===" "&&y.preventDefault())})})})})});Nte.displayName=m1;var Lg="SelectItemText",Tte=g.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,...s}=t,a=Bu(Lg,r),o=Uu(Lg,r),c=Ste(Lg,r),u=pYe(Lg,r),[d,f]=g.useState(null),h=rt(e,w=>f(w),c.onItemTextChange,w=>{var y;return(y=o.itemTextRefCallback)==null?void 0:y.call(o,w,c.value,c.disabled)}),p=d==null?void 0:d.textContent,v=g.useMemo(()=>l.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:m,onNativeOptionRemove:b}=u;return Br(()=>(m(v),()=>b(v)),[m,b,v]),l.jsxs(l.Fragment,{children:[l.jsx(un.span,{id:c.textId,...s,ref:h}),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?Bo.createPortal(s.children,a.valueNode):null]})});Tte.displayName=Lg;var jte="SelectItemIndicator",Cte=g.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return Ste(jte,r).isSelected?l.jsx(un.span,{"aria-hidden":!0,...n,ref:e}):null});Cte.displayName=jte;var g2="SelectScrollUpButton",Ate=g.forwardRef((t,e)=>{const r=Uu(g2,t.__scopeSelect),n=jM(g2,t.__scopeSelect),[i,s]=g.useState(!1),a=rt(e,n.onScrollButtonChange);return Br(()=>{if(r.viewport&&r.isPositioned){let o=function(){const u=c.scrollTop>0;s(u)};const c=r.viewport;return o(),c.addEventListener("scroll",o),()=>c.removeEventListener("scroll",o)}},[r.viewport,r.isPositioned]),i?l.jsx(Rte,{...t,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:c}=r;o&&c&&(o.scrollTop=o.scrollTop-c.offsetHeight)}}):null});Ate.displayName=g2;var v2="SelectScrollDownButton",Pte=g.forwardRef((t,e)=>{const r=Uu(v2,t.__scopeSelect),n=jM(v2,t.__scopeSelect),[i,s]=g.useState(!1),a=rt(e,n.onScrollButtonChange);return Br(()=>{if(r.viewport&&r.isPositioned){let o=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;s(d)};const c=r.viewport;return o(),c.addEventListener("scroll",o),()=>c.removeEventListener("scroll",o)}},[r.viewport,r.isPositioned]),i?l.jsx(Rte,{...t,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:c}=r;o&&c&&(o.scrollTop=o.scrollTop+c.offsetHeight)}}):null});Pte.displayName=v2;var Rte=g.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=t,s=Uu("SelectScrollButton",r),a=g.useRef(null),o=QS(r),c=g.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return g.useEffect(()=>()=>c(),[c]),Br(()=>{var d;const u=o().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[o]),l.jsx(un.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Se(i.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(n,50))}),onPointerMove:Se(i.onPointerMove,()=>{var u;(u=s.onItemLeave)==null||u.call(s),a.current===null&&(a.current=window.setInterval(n,50))}),onPointerLeave:Se(i.onPointerLeave,()=>{c()})})}),NYe="SelectSeparator",kte=g.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return l.jsx(un.div,{"aria-hidden":!0,...n,ref:e})});kte.displayName=NYe;var y2="SelectArrow",TYe=g.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=ZS(r),s=Bu(y2,r),a=Uu(y2,r);return s.open&&a.position==="popper"?l.jsx(sYe,{...i,...n,ref:e}):null});TYe.displayName=y2;var jYe="SelectBubbleInput",Ite=g.forwardRef(({__scopeSelect:t,value:e,...r},n)=>{const i=g.useRef(null),s=rt(n,i),a=ate(e);return g.useEffect(()=>{const o=i.current;if(!o)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==e&&d){const f=new Event("change",{bubbles:!0});d.call(o,e),o.dispatchEvent(f)}},[a,e]),l.jsx(un.select,{...r,style:{...ote,...r.style},ref:s,defaultValue:e})});Ite.displayName=jYe;function Ote(t){return t===""||t===void 0}function Mte(t){const e=Or(t),r=g.useRef(""),n=g.useRef(0),i=g.useCallback(a=>{const o=r.current+a;e(o),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(o)},[e]),s=g.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return g.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,s]}function Dte(t,e,r){const i=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,s=r?t.indexOf(r):-1;let a=CYe(t,Math.max(s,0));i.length===1&&(a=a.filter(u=>u!==r));const c=a.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==r?c:void 0}function CYe(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var AYe=lte,Lte=ute,PYe=fte,RYe=hte,kYe=pte,$te=mte,IYe=xte,OYe=wte,Fte=Ete,Vte=Nte,MYe=Tte,DYe=Cte,Bte=Ate,Ute=Pte,zte=kte;const _a=AYe,LYe=OYe,Ea=PYe,Bs=g.forwardRef(({className:t,children:e,...r},n)=>l.jsxs(Lte,{ref:n,className:ge("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[e,l.jsx(RYe,{asChild:!0,children:l.jsx(qs,{className:"h-4 w-4 opacity-50"})})]}));Bs.displayName=Lte.displayName;const qte=g.forwardRef(({className:t,...e},r)=>l.jsx(Bte,{ref:r,className:ge("flex cursor-default items-center justify-center py-1",t),...e,children:l.jsx(h8,{className:"h-4 w-4"})}));qte.displayName=Bte.displayName;const Wte=g.forwardRef(({className:t,...e},r)=>l.jsx(Ute,{ref:r,className:ge("flex cursor-default items-center justify-center py-1",t),...e,children:l.jsx(qs,{className:"h-4 w-4"})}));Wte.displayName=Ute.displayName;const Us=g.forwardRef(({className:t,children:e,position:r="popper",...n},i)=>l.jsx(kYe,{children:l.jsxs($te,{ref:i,className:ge("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[l.jsx(qte,{}),l.jsx(IYe,{className:ge("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),l.jsx(Wte,{})]})}));Us.displayName=$te.displayName;const Hte=g.forwardRef(({className:t,...e},r)=>l.jsx(Fte,{ref:r,className:ge("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));Hte.displayName=Fte.displayName;const Xt=g.forwardRef(({className:t,children:e,...r},n)=>l.jsxs(Vte,{ref:n,className:ge("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(DYe,{children:l.jsx(vf,{className:"h-4 w-4"})})}),l.jsx(MYe,{children:e})]}));Xt.displayName=Vte.displayName;const $Ye=g.forwardRef(({className:t,...e},r)=>l.jsx(zte,{ref:r,className:ge("-mx-1 my-1 h-px bg-muted",t),...e}));$Ye.displayName=zte.displayName;const FYe=["Chromebook","iPad"];function VYe({open:t,onOpenChange:e,onEquipmentAdded:r}){const[n,i]=g.useState(!1),[s,a]=g.useState([{}]),{toast:o}=qa(),c=()=>{a([{}])},u=async()=>{i(!0);try{const h=s.map(p=>({...p,type:p.type,name:p.name||"Sem nome"}));await vAe(h),o({title:"Sucesso",description:"Equipamentos adicionados com sucesso!"}),r(),c(),e(!1)}catch{o({title:"Erro",description:"Falha ao adicionar equipamentos",variant:"destructive"})}finally{i(!1)}},d=()=>{a([...s,{}])},f=(h,p,v)=>{const m=[...s];m[h]={...m[h],[p]:v},a(m)};return l.jsx(ts,{open:t,onOpenChange:e,children:l.jsxs(Ii,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[l.jsxs(rs,{children:[l.jsx(Oi,{children:"Adicionar Equipamentos"}),l.jsx(As,{children:"Preencha os detalhes dos novos equipamentos. Você pode adicionar vários de uma vez."})]}),l.jsxs("div",{className:"space-y-4",children:[s.map((h,p)=>l.jsxs("div",{className:"space-y-4 border p-4 rounded-lg",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(ur,{htmlFor:`name-${p}`,children:"Nome *"}),l.jsx(or,{id:`name-${p}`,value:h.name||"",onChange:v=>f(p,"name",v.target.value)})]}),l.jsxs("div",{children:[l.jsx(ur,{htmlFor:`type-${p}`,children:"Tipo *"}),l.jsxs(_a,{value:h.type||"",onValueChange:v=>f(p,"type",v),children:[l.jsx(Bs,{children:l.jsx(Ea,{placeholder:"Selecione o tipo"})}),l.jsx(Us,{children:FYe.map(v=>l.jsx(Xt,{value:v,children:v},v))})]})]})]}),l.jsx("div",{className:"grid grid-cols-2 gap-4"})]},p)),l.jsxs(oe,{type:"button",variant:"outline",onClick:d,className:"w-full",children:[l.jsx(Ow,{className:"mr-2 h-4 w-4"}),"Adicionar outro equipamento"]})]}),l.jsx(ju,{children:l.jsxs(oe,{onClick:u,disabled:n,children:[n&&l.jsx(v8,{className:"mr-2 h-4 w-4 animate-spin"}),"Salvar equipamentos"]})})]})})}var JS="Checkbox",[BYe,wet]=fi(JS),[UYe,CM]=BYe(JS);function zYe(t){const{__scopeCheckbox:e,checked:r,children:n,defaultChecked:i,disabled:s,form:a,name:o,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=t,[h,p]=Dl({prop:r,defaultProp:i??!1,onChange:c,caller:JS}),[v,m]=g.useState(null),[b,w]=g.useState(null),y=g.useRef(!1),_=v?!!a||!!v.closest("form"):!0,S={checked:h,disabled:s,setChecked:p,control:v,setControl:m,name:o,form:a,value:d,hasConsumerStoppedPropagationRef:y,required:u,defaultChecked:Jc(i)?!1:i,isFormControl:_,bubbleInput:b,setBubbleInput:w};return l.jsx(UYe,{scope:e,...S,children:qYe(f)?f(S):n})}var Kte="CheckboxTrigger",Gte=g.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:r,...n},i)=>{const{control:s,value:a,disabled:o,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:h,isFormControl:p,bubbleInput:v}=CM(Kte,t),m=rt(i,d),b=g.useRef(c);return g.useEffect(()=>{const w=s==null?void 0:s.form;if(w){const y=()=>f(b.current);return w.addEventListener("reset",y),()=>w.removeEventListener("reset",y)}},[s,f]),l.jsx(ht.button,{type:"button",role:"checkbox","aria-checked":Jc(c)?"mixed":c,"aria-required":u,"data-state":Jte(c),"data-disabled":o?"":void 0,disabled:o,value:a,...n,ref:m,onKeyDown:Se(e,w=>{w.key==="Enter"&&w.preventDefault()}),onClick:Se(r,w=>{f(y=>Jc(y)?!0:!y),v&&p&&(h.current=w.isPropagationStopped(),h.current||w.stopPropagation())})})});Gte.displayName=Kte;var AM=g.forwardRef((t,e)=>{const{__scopeCheckbox:r,name:n,checked:i,defaultChecked:s,required:a,disabled:o,value:c,onCheckedChange:u,form:d,...f}=t;return l.jsx(zYe,{__scopeCheckbox:r,checked:i,defaultChecked:s,disabled:o,required:a,onCheckedChange:u,name:n,form:d,value:c,internal_do_not_use_render:({isFormControl:h})=>l.jsxs(l.Fragment,{children:[l.jsx(Gte,{...f,ref:e,__scopeCheckbox:r}),h&&l.jsx(Zte,{__scopeCheckbox:r})]})})});AM.displayName=JS;var Yte="CheckboxIndicator",Xte=g.forwardRef((t,e)=>{const{__scopeCheckbox:r,forceMount:n,...i}=t,s=CM(Yte,r);return l.jsx(Zi,{present:n||Jc(s.checked)||s.checked===!0,children:l.jsx(ht.span,{"data-state":Jte(s.checked),"data-disabled":s.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});Xte.displayName=Yte;var Qte="CheckboxBubbleInput",Zte=g.forwardRef(({__scopeCheckbox:t,...e},r)=>{const{control:n,hasConsumerStoppedPropagationRef:i,checked:s,defaultChecked:a,required:o,disabled:c,name:u,value:d,form:f,bubbleInput:h,setBubbleInput:p}=CM(Qte,t),v=rt(r,p),m=ate(s),b=nE(n);g.useEffect(()=>{const y=h;if(!y)return;const _=window.HTMLInputElement.prototype,E=Object.getOwnPropertyDescriptor(_,"checked").set,N=!i.current;if(m!==s&&E){const T=new Event("click",{bubbles:N});y.indeterminate=Jc(s),E.call(y,Jc(s)?!1:s),y.dispatchEvent(T)}},[h,m,s,i]);const w=g.useRef(Jc(s)?!1:s);return l.jsx(ht.input,{type:"checkbox","aria-hidden":!0,defaultChecked:a??w.current,required:o,disabled:c,name:u,value:d,form:f,...e,tabIndex:-1,ref:v,style:{...e.style,...b,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});Zte.displayName=Qte;function qYe(t){return typeof t=="function"}function Jc(t){return t==="indeterminate"}function Jte(t){return Jc(t)?"indeterminate":t?"checked":"unchecked"}const x2=g.forwardRef(({className:t,...e},r)=>{const n=g.useCallback(i=>{},[]);return l.jsx(AM,{ref:r,className:ge("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),onClick:n,...e,children:l.jsx(Xte,{className:ge("flex items-center justify-center text-current"),children:l.jsx(vf,{className:"h-4 w-4"})})})});x2.displayName=AM.displayName;function WYe(){const[t,e]=g.useState([]),[r,n]=g.useState([]),[i,s]=g.useState(!0),[a,o]=g.useState(!1),[c,u]=g.useState([]),[d,f]=g.useState("all"),{toast:h}=qa(),p=async()=>{s(!0);try{const S=await yAe();e(S),n(S)}catch{h({title:"Erro",description:"Não foi possível carregar a lista de equipamentos.",variant:"destructive"})}finally{s(!1)}};g.useEffect(()=>{p()},[]),g.useEffect(()=>{n(d==="all"?t:t.filter(S=>S.type===d)),u([])},[d,t]),g.useEffect(()=>{const S=new IntersectionObserver(E=>{E.forEach(N=>{N.isIntersecting&&N.target.classList.add("visible")})},{threshold:.1});return document.querySelectorAll(".fade-up").forEach(E=>S.observe(E)),()=>S.disconnect()},[]);const v=()=>{c.length===r.length?u([]):u(r.map(S=>S.id))},m=async()=>{if(c.length!==0)try{await xAe(c),h({title:"Sucesso",description:`${c.length} equipamentos excluídos com sucesso.`}),p(),u([])}catch{h({title:"Erro",description:"Falha ao excluir equipamentos",variant:"destructive"})}},b=async S=>{try{await bAe(S),h({title:"Sucesso",description:"Equipamento excluído com sucesso."}),p()}catch{h({title:"Erro",description:"Falha ao excluir equipamento",variant:"destructive"})}},w=S=>S==="Chromebook"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300":S==="iPad"?"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-300":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300",y=t.filter(S=>S.type==="Chromebook").length,_=t.filter(S=>S.type==="iPad").length;return t.length-y-_,l.jsx(cn,{children:l.jsxs("div",{className:"min-h-screen bg-white overflow-hidden relative",children:[l.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[l.jsx("div",{className:"absolute left-1/4 top-1/4 h-96 w-96 rounded-full bg-sidebar blur-3xl opacity-5"}),l.jsx("div",{className:"absolute right-1/4 bottom-1/4 h-80 w-80 rounded-full bg-eccos-purple blur-3xl opacity-5"})]}),l.jsxs("div",{className:"relative z-10 space-y-8 p-6 md:p-12 fade-up",children:[l.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2 bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:[l.jsx(Iw,{className:"text-eccos-purple",size:35}),"Gestão de Equipamentos"]}),l.jsx("p",{className:"text-muted-foreground mt-2 text-sm md:text-base",children:"Gerencie os equipamentos disponíveis para empréstimo."}),l.jsxs("div",{className:"grid gap-4 grid-cols-2 max-[400px]:grid-cols-1 lg:grid-cols-3 fade-up",children:[l.jsxs(tt,{className:`bg-white border border-gray-100 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 relative group overflow-hidden ${d==="Chromebook"?"ring-2 ring-blue-400":""}`,onClick:()=>f(d==="Chromebook"?"all":"Chromebook"),role:"button",tabIndex:0,children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),l.jsxs(mt,{className:"pt-6",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-2",children:"Chromebooks"}),l.jsx("div",{className:"text-2xl font-bold bg-gradient-to-r from-sidebar to-eccos-blue bg-clip-text text-transparent",children:y}),l.jsx(_e,{variant:"outline",className:"mt-2 border-eccos-blue text-eccos-blue",children:"Disponíveis"}),d==="Chromebook"&&l.jsx(_e,{className:"ml-2 mt-2 bg-blue-100 text-blue-800",children:"Filtro Ativo"})]})]}),l.jsxs(tt,{className:`bg-white border border-gray-100 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 relative group overflow-hidden ${d==="iPad"?"ring-2 ring-purple-400":""}`,onClick:()=>f(d==="iPad"?"all":"iPad"),role:"button",tabIndex:0,children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),l.jsxs(mt,{className:"pt-6",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-2",children:"iPads"}),l.jsx("div",{className:"text-2xl font-bold bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:_}),l.jsx(_e,{variant:"outline",className:"mt-2 border-eccos-purple text-eccos-purple",children:"Disponíveis"}),d==="iPad"&&l.jsx(_e,{className:"ml-2 mt-2 bg-purple-100 text-purple-800",children:"Filtro Ativo"})]})]}),l.jsxs(tt,{className:`bg-white border border-gray-100 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 relative group overflow-hidden ${d==="all"?"ring-2 ring-green-400":""}`,onClick:()=>f("all"),role:"button",tabIndex:0,children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),l.jsxs(mt,{className:"pt-6",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-2",children:"Total de Equipamentos"}),l.jsx("div",{className:"text-2xl font-bold bg-gradient-to-r from-sidebar to-eccos-blue bg-clip-text text-transparent",children:t.length}),l.jsx(_e,{variant:"outline",className:"mt-2 border-green-500 text-green-500",children:"Cadastrados"}),d==="all"&&l.jsx(_e,{className:"ml-2 mt-2 bg-green-100 text-green-800",children:"Todos Visíveis"})]})]})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 fade-up",children:[l.jsx("div",{className:"flex gap-2 items-center",children:l.jsx(tt,{className:"bg-white border border-gray-100 rounded-2xl shadow-md",children:l.jsxs(mt,{className:"py-2 px-3 flex items-center gap-2",children:[l.jsx(wl,{size:16,className:"text-gray-500"}),l.jsxs(_a,{value:d,onValueChange:f,children:[l.jsx(Bs,{className:"w-[180px] border-0 p-0 h-8 focus:ring-0",children:l.jsx(Ea,{placeholder:"Filtrar por tipo"})}),l.jsx(Us,{children:l.jsxs(LYe,{children:[l.jsx(Hte,{children:"Tipo de Equipamento"}),l.jsx(Xt,{value:"all",children:"Todos"}),l.jsx(Xt,{value:"Chromebook",children:"Chromebook"}),l.jsx(Xt,{value:"iPad",children:"iPad"}),l.jsx(Xt,{value:"Outros",children:"Outros"})]})})]})]})})}),l.jsxs("div",{className:"flex gap-2",children:[c.length>0&&l.jsxs(oe,{variant:"destructive",onClick:m,className:"flex items-center gap-2",children:[l.jsx(_C,{className:"h-4 w-4"}),"Excluir (",c.length,")"]}),l.jsx(oe,{className:"bg-eccos-purple hover:bg-sidebar text-white transition-colors duration-300",onClick:()=>o(!0),children:"Adicionar Equipamentos"})]})]}),l.jsx("div",{className:"space-y-4 fade-up",children:i?l.jsx("div",{className:"flex justify-center items-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-eccos-purple"})}):r.length===0?l.jsxs(tt,{className:"bg-white border border-gray-100 rounded-2xl shadow-lg p-8 text-center",children:[l.jsx("p",{className:"text-lg text-gray-500 mb-4",children:t.length>0?`Nenhum equipamento do tipo "${d}" encontrado.`:"Nenhum equipamento cadastrado para empréstimo."}),l.jsx(oe,{onClick:()=>d!=="all"?f("all"):o(!0),className:"bg-eccos-purple hover:bg-sidebar text-white",children:d!=="all"?"Mostrar Todos":"Adicionar Equipamentos"})]}):l.jsx(tt,{className:"bg-white border border-gray-100 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 overflow-hidden",children:l.jsxs($u,{children:[l.jsx(Fu,{children:l.jsxs(Un,{className:"bg-accent/10 hover:bg-accent/10",children:[l.jsx(dr,{className:"w-[40px]",children:l.jsx(x2,{checked:c.length===r.length&&r.length>0,onCheckedChange:v})}),l.jsx(dr,{className:"text-center align-middle w-[25%]",children:"Tipo"}),l.jsx(dr,{className:"text-center align-middle w-[55%]",children:"Nome"}),l.jsx(dr,{className:"text-center align-middle w-[20%]",children:"Ações"})]})}),l.jsx(Vu,{children:r.map(S=>l.jsxs(Un,{className:"hover:bg-accent/20 border-t-0",children:[l.jsx(tr,{children:l.jsx(x2,{checked:c.includes(S.id),onCheckedChange:E=>{u(N=>E?[...N,S.id]:N.filter(T=>T!==S.id))}})}),l.jsx(tr,{className:"text-center align-middle",children:l.jsx(_e,{className:`px-2 py-1 rounded-full text-xs font-medium ${w(S.type)}`,children:S.type})}),l.jsx(tr,{className:"text-center align-middle font-medium truncate max-w-[180px]",children:S.name}),l.jsx(tr,{className:"text-center align-middle",children:l.jsx("div",{className:"flex justify-center items-center space-x-1",children:l.jsx(oe,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive hover:text-destructive/90 hover:bg-destructive/10",onClick:()=>b(S.id),title:"Excluir",children:l.jsx(_C,{className:"h-4 w-4"})})})})]},S.id))})]})})}),l.jsx(VYe,{open:a,onOpenChange:o,onEquipmentAdded:p}),l.jsx("footer",{className:"bg-gray-50 py-8 px-4 md:px-8 rounded-xl mt-12 fade-up",children:l.jsx("div",{className:"max-w-6xl mx-auto",children:l.jsx("div",{className:"text-center",children:l.jsx("p",{className:"text-gray-500 text-sm",children:"© 2025 Colégio ECCOS - Todos os direitos reservados"})})})})]})]})})}var st=function(){return st=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},st.apply(this,arguments)};function HYe(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function ere(t,e,r){for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))}function tx(t){return t.mode==="multiple"}function rx(t){return t.mode==="range"}function eN(t){return t.mode==="single"}var KYe={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function GYe(t,e){return Dt(t,"LLLL y",e)}function YYe(t,e){return Dt(t,"d",e)}function XYe(t,e){return Dt(t,"LLLL",e)}function QYe(t){return"".concat(t)}function ZYe(t,e){return Dt(t,"cccccc",e)}function JYe(t,e){return Dt(t,"yyyy",e)}var eXe=Object.freeze({__proto__:null,formatCaption:GYe,formatDay:YYe,formatMonthCaption:XYe,formatWeekNumber:QYe,formatWeekdayName:ZYe,formatYearCaption:JYe}),tXe=function(t,e,r){return Dt(t,"do MMMM (EEEE)",r)},rXe=function(){return"Month: "},nXe=function(){return"Go to next month"},iXe=function(){return"Go to previous month"},sXe=function(t,e){return Dt(t,"cccc",e)},aXe=function(t){return"Week n. ".concat(t)},oXe=function(){return"Year: "},lXe=Object.freeze({__proto__:null,labelDay:tXe,labelMonthDropdown:rXe,labelNext:nXe,labelPrevious:iXe,labelWeekNumber:aXe,labelWeekday:sXe,labelYearDropdown:oXe});function cXe(){var t="buttons",e=KYe,r=LG,n={},i={},s=1,a={},o=new Date;return{captionLayout:t,classNames:e,formatters:eXe,labels:lXe,locale:r,modifiersClassNames:n,modifiers:i,numberOfMonths:s,styles:a,today:o,mode:"default"}}function uXe(t){var e=t.fromYear,r=t.toYear,n=t.fromMonth,i=t.toMonth,s=t.fromDate,a=t.toDate;return n?s=Qi(n):e&&(s=new Date(e,0,1)),i?a=MI(i):r&&(a=new Date(r,11,31)),{fromDate:s?Ap(s):void 0,toDate:a?Ap(a):void 0}}var tre=g.createContext(void 0);function dXe(t){var e,r=t.initialProps,n=cXe(),i=uXe(r),s=i.fromDate,a=i.toDate,o=(e=r.captionLayout)!==null&&e!==void 0?e:n.captionLayout;o!=="buttons"&&(!s||!a)&&(o="buttons");var c;(eN(r)||tx(r)||rx(r))&&(c=r.onSelect);var u=st(st(st({},n),r),{captionLayout:o,classNames:st(st({},n.classNames),r.classNames),components:st({},r.components),formatters:st(st({},n.formatters),r.formatters),fromDate:s,labels:st(st({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:st(st({},n.modifiers),r.modifiers),modifiersClassNames:st(st({},n.modifiersClassNames),r.modifiersClassNames),onSelect:c,styles:st(st({},n.styles),r.styles),toDate:a});return l.jsx(tre.Provider,{value:u,children:t.children})}function yr(){var t=g.useContext(tre);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function rre(t){var e=yr(),r=e.locale,n=e.classNames,i=e.styles,s=e.formatters.formatCaption;return l.jsx("div",{className:n.caption_label,style:i.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:s(t.displayMonth,{locale:r})})}function fXe(t){return l.jsx("svg",st({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:l.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function nre(t){var e,r,n=t.onChange,i=t.value,s=t.children,a=t.caption,o=t.className,c=t.style,u=yr(),d=(r=(e=u.components)===null||e===void 0?void 0:e.IconDropdown)!==null&&r!==void 0?r:fXe;return l.jsxs("div",{className:o,style:c,children:[l.jsx("span",{className:u.classNames.vhidden,children:t["aria-label"]}),l.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:i,onChange:n,children:s}),l.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[a,l.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function hXe(t){var e,r=yr(),n=r.fromDate,i=r.toDate,s=r.styles,a=r.locale,o=r.formatters.formatMonthCaption,c=r.classNames,u=r.components,d=r.labels.labelMonthDropdown;if(!n)return l.jsx(l.Fragment,{});if(!i)return l.jsx(l.Fragment,{});var f=[];if(oEe(n,i))for(var h=Qi(n),p=n.getMonth();p<=i.getMonth();p++)f.push(ET(h,p));else for(var h=Qi(new Date),p=0;p<=11;p++)f.push(ET(h,p));var v=function(b){var w=Number(b.target.value),y=ET(Qi(t.displayMonth),w);t.onChange(y)},m=(e=u==null?void 0:u.Dropdown)!==null&&e!==void 0?e:nre;return l.jsx(m,{name:"months","aria-label":d(),className:c.dropdown_month,style:s.dropdown_month,onChange:v,value:t.displayMonth.getMonth(),caption:o(t.displayMonth,{locale:a}),children:f.map(function(b){return l.jsx("option",{value:b.getMonth(),children:o(b,{locale:a})},b.getMonth())})})}function pXe(t){var e,r=t.displayMonth,n=yr(),i=n.fromDate,s=n.toDate,a=n.locale,o=n.styles,c=n.classNames,u=n.components,d=n.formatters.formatYearCaption,f=n.labels.labelYearDropdown,h=[];if(!i)return l.jsx(l.Fragment,{});if(!s)return l.jsx(l.Fragment,{});for(var p=i.getFullYear(),v=s.getFullYear(),m=p;m<=v;m++)h.push(RF(OG(new Date),m));var b=function(y){var _=RF(Qi(r),Number(y.target.value));t.onChange(_)},w=(e=u==null?void 0:u.Dropdown)!==null&&e!==void 0?e:nre;return l.jsx(w,{name:"years","aria-label":f(),className:c.dropdown_year,style:o.dropdown_year,onChange:b,value:r.getFullYear(),caption:d(r,{locale:a}),children:h.map(function(y){return l.jsx("option",{value:y.getFullYear(),children:d(y,{locale:a})},y.getFullYear())})})}function mXe(t,e){var r=g.useState(t),n=r[0],i=r[1],s=e===void 0?n:e;return[s,i]}function gXe(t){var e=t.month,r=t.defaultMonth,n=t.today,i=e||r||n||new Date,s=t.toDate,a=t.fromDate,o=t.numberOfMonths,c=o===void 0?1:o;if(s&&ry(s,i)<0){var u=-1*(c-1);i=Fa(s,u)}return a&&ry(i,a)<0&&(i=a),Qi(i)}function vXe(){var t=yr(),e=gXe(t),r=mXe(e,t.month),n=r[0],i=r[1],s=function(a){var o;if(!t.disableNavigation){var c=Qi(a);i(c),(o=t.onMonthChange)===null||o===void 0||o.call(t,c)}};return[n,s]}function yXe(t,e){for(var r=e.reverseMonths,n=e.numberOfMonths,i=Qi(t),s=Qi(Fa(i,n)),a=ry(s,i),o=[],c=0;c<a;c++){var u=Fa(i,c);o.push(u)}return r&&(o=o.reverse()),o}function xXe(t,e){if(!e.disableNavigation){var r=e.toDate,n=e.pagedNavigation,i=e.numberOfMonths,s=i===void 0?1:i,a=n?s:1,o=Qi(t);if(!r)return Fa(o,a);var c=ry(r,t);if(!(c<s))return Fa(o,a)}}function bXe(t,e){if(!e.disableNavigation){var r=e.fromDate,n=e.pagedNavigation,i=e.numberOfMonths,s=i===void 0?1:i,a=n?s:1,o=Qi(t);if(!r)return Fa(o,-a);var c=ry(o,r);if(!(c<=0))return Fa(o,-a)}}var ire=g.createContext(void 0);function wXe(t){var e=yr(),r=vXe(),n=r[0],i=r[1],s=yXe(n,e),a=xXe(n,e),o=bXe(n,e),c=function(f){return s.some(function(h){return LI(f,h)})},u=function(f,h){c(f)||(h&&UG(f,h)?i(Fa(f,1+e.numberOfMonths*-1)):i(f))},d={currentMonth:n,displayMonths:s,goToMonth:i,goToDate:u,previousMonth:o,nextMonth:a,isDateDisplayed:c};return l.jsx(ire.Provider,{value:d,children:t.children})}function nx(){var t=g.useContext(ire);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function HB(t){var e,r=yr(),n=r.classNames,i=r.styles,s=r.components,a=nx().goToMonth,o=function(d){a(Fa(d,t.displayIndex?-t.displayIndex:0))},c=(e=s==null?void 0:s.CaptionLabel)!==null&&e!==void 0?e:rre,u=l.jsx(c,{id:t.id,displayMonth:t.displayMonth});return l.jsxs("div",{className:n.caption_dropdowns,style:i.caption_dropdowns,children:[l.jsx("div",{className:n.vhidden,children:u}),l.jsx(hXe,{onChange:o,displayMonth:t.displayMonth}),l.jsx(pXe,{onChange:o,displayMonth:t.displayMonth})]})}function _Xe(t){return l.jsx("svg",st({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:l.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function EXe(t){return l.jsx("svg",st({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:l.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var g1=g.forwardRef(function(t,e){var r=yr(),n=r.classNames,i=r.styles,s=[n.button_reset,n.button];t.className&&s.push(t.className);var a=s.join(" "),o=st(st({},i.button_reset),i.button);return t.style&&Object.assign(o,t.style),l.jsx("button",st({},t,{ref:e,type:"button",className:a,style:o}))});function SXe(t){var e,r,n=yr(),i=n.dir,s=n.locale,a=n.classNames,o=n.styles,c=n.labels,u=c.labelPrevious,d=c.labelNext,f=n.components;if(!t.nextMonth&&!t.previousMonth)return l.jsx(l.Fragment,{});var h=u(t.previousMonth,{locale:s}),p=[a.nav_button,a.nav_button_previous].join(" "),v=d(t.nextMonth,{locale:s}),m=[a.nav_button,a.nav_button_next].join(" "),b=(e=f==null?void 0:f.IconRight)!==null&&e!==void 0?e:EXe,w=(r=f==null?void 0:f.IconLeft)!==null&&r!==void 0?r:_Xe;return l.jsxs("div",{className:a.nav,style:o.nav,children:[!t.hidePrevious&&l.jsx(g1,{name:"previous-month","aria-label":h,className:p,style:o.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:i==="rtl"?l.jsx(b,{className:a.nav_icon,style:o.nav_icon}):l.jsx(w,{className:a.nav_icon,style:o.nav_icon})}),!t.hideNext&&l.jsx(g1,{name:"next-month","aria-label":v,className:m,style:o.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:i==="rtl"?l.jsx(w,{className:a.nav_icon,style:o.nav_icon}):l.jsx(b,{className:a.nav_icon,style:o.nav_icon})})]})}function KB(t){var e=yr().numberOfMonths,r=nx(),n=r.previousMonth,i=r.nextMonth,s=r.goToMonth,a=r.displayMonths,o=a.findIndex(function(v){return LI(t.displayMonth,v)}),c=o===0,u=o===a.length-1,d=e>1&&(c||!u),f=e>1&&(u||!c),h=function(){n&&s(n)},p=function(){i&&s(i)};return l.jsx(SXe,{displayMonth:t.displayMonth,hideNext:d,hidePrevious:f,nextMonth:i,previousMonth:n,onPreviousClick:h,onNextClick:p})}function NXe(t){var e,r=yr(),n=r.classNames,i=r.disableNavigation,s=r.styles,a=r.captionLayout,o=r.components,c=(e=o==null?void 0:o.CaptionLabel)!==null&&e!==void 0?e:rre,u;return i?u=l.jsx(c,{id:t.id,displayMonth:t.displayMonth}):a==="dropdown"?u=l.jsx(HB,{displayMonth:t.displayMonth,id:t.id}):a==="dropdown-buttons"?u=l.jsxs(l.Fragment,{children:[l.jsx(HB,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),l.jsx(KB,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):u=l.jsxs(l.Fragment,{children:[l.jsx(c,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),l.jsx(KB,{displayMonth:t.displayMonth,id:t.id})]}),l.jsx("div",{className:n.caption,style:s.caption,children:u})}function TXe(t){var e=yr(),r=e.footer,n=e.styles,i=e.classNames.tfoot;return r?l.jsx("tfoot",{className:i,style:n.tfoot,children:l.jsx("tr",{children:l.jsx("td",{colSpan:8,children:r})})}):l.jsx(l.Fragment,{})}function jXe(t,e,r){for(var n=r?sf(new Date):Va(new Date,{locale:t,weekStartsOn:e}),i=[],s=0;s<7;s++){var a=Cn(n,s);i.push(a)}return i}function CXe(){var t=yr(),e=t.classNames,r=t.styles,n=t.showWeekNumber,i=t.locale,s=t.weekStartsOn,a=t.ISOWeek,o=t.formatters.formatWeekdayName,c=t.labels.labelWeekday,u=jXe(i,s,a);return l.jsxs("tr",{style:r.head_row,className:e.head_row,children:[n&&l.jsx("td",{style:r.head_cell,className:e.head_cell}),u.map(function(d,f){return l.jsx("th",{scope:"col",className:e.head_cell,style:r.head_cell,"aria-label":c(d,{locale:i}),children:o(d,{locale:i})},f)})]})}function AXe(){var t,e=yr(),r=e.classNames,n=e.styles,i=e.components,s=(t=i==null?void 0:i.HeadRow)!==null&&t!==void 0?t:CXe;return l.jsx("thead",{style:n.head,className:r.head,children:l.jsx(s,{})})}function PXe(t){var e=yr(),r=e.locale,n=e.formatters.formatDay;return l.jsx(l.Fragment,{children:n(t.date,{locale:r})})}var PM=g.createContext(void 0);function RXe(t){if(!tx(t.initialProps)){var e={selected:void 0,modifiers:{disabled:[]}};return l.jsx(PM.Provider,{value:e,children:t.children})}return l.jsx(kXe,{initialProps:t.initialProps,children:t.children})}function kXe(t){var e=t.initialProps,r=t.children,n=e.selected,i=e.min,s=e.max,a=function(u,d,f){var h,p;(h=e.onDayClick)===null||h===void 0||h.call(e,u,d,f);var v=!!(d.selected&&i&&(n==null?void 0:n.length)===i);if(!v){var m=!!(!d.selected&&s&&(n==null?void 0:n.length)===s);if(!m){var b=n?ere([],n):[];if(d.selected){var w=b.findIndex(function(y){return wn(u,y)});b.splice(w,1)}else b.push(u);(p=e.onSelect)===null||p===void 0||p.call(e,b,u,d,f)}}},o={disabled:[]};n&&o.disabled.push(function(u){var d=s&&n.length>s-1,f=n.some(function(h){return wn(h,u)});return!!(d&&!f)});var c={selected:n,onDayClick:a,modifiers:o};return l.jsx(PM.Provider,{value:c,children:r})}function RM(){var t=g.useContext(PM);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function IXe(t,e){var r=e||{},n=r.from,i=r.to;return n&&i?wn(i,t)&&wn(n,t)?void 0:wn(i,t)?{from:i,to:void 0}:wn(n,t)?void 0:NA(n,t)?{from:t,to:i}:{from:n,to:t}:i?NA(t,i)?{from:i,to:t}:{from:t,to:i}:n?UG(t,n)?{from:t,to:n}:{from:n,to:t}:{from:t,to:void 0}}var kM=g.createContext(void 0);function OXe(t){if(!rx(t.initialProps)){var e={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return l.jsx(kM.Provider,{value:e,children:t.children})}return l.jsx(MXe,{initialProps:t.initialProps,children:t.children})}function MXe(t){var e=t.initialProps,r=t.children,n=e.selected,i=n||{},s=i.from,a=i.to,o=e.min,c=e.max,u=function(p,v,m){var b,w;(b=e.onDayClick)===null||b===void 0||b.call(e,p,v,m);var y=IXe(p,n);(w=e.onSelect)===null||w===void 0||w.call(e,y,p,v,m)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(s?(d.range_start=[s],a?(d.range_end=[a],wn(s,a)||(d.range_middle=[{after:s,before:a}])):d.range_end=[s]):a&&(d.range_start=[a],d.range_end=[a]),o&&(s&&!a&&d.disabled.push({after:_T(s,o-1),before:Cn(s,o-1)}),s&&a&&d.disabled.push({after:s,before:Cn(s,o-1)}),!s&&a&&d.disabled.push({after:_T(a,o-1),before:Cn(a,o-1)})),c){if(s&&!a&&(d.disabled.push({before:Cn(s,-c+1)}),d.disabled.push({after:Cn(s,c-1)})),s&&a){var f=ho(a,s)+1,h=c-f;d.disabled.push({before:_T(s,h)}),d.disabled.push({after:Cn(a,h)})}!s&&a&&(d.disabled.push({before:Cn(a,-c+1)}),d.disabled.push({after:Cn(a,c-1)}))}return l.jsx(kM.Provider,{value:{selected:n,onDayClick:u,modifiers:d},children:r})}function IM(){var t=g.useContext(kM);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function sw(t){return Array.isArray(t)?ere([],t):t!==void 0?[t]:[]}function DXe(t){var e={};return Object.entries(t).forEach(function(r){var n=r[0],i=r[1];e[n]=sw(i)}),e}var Ua;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(Ua||(Ua={}));var LXe=Ua.Selected,Jo=Ua.Disabled,$Xe=Ua.Hidden,FXe=Ua.Today,yj=Ua.RangeEnd,xj=Ua.RangeMiddle,bj=Ua.RangeStart,VXe=Ua.Outside;function BXe(t,e,r){var n,i=(n={},n[LXe]=sw(t.selected),n[Jo]=sw(t.disabled),n[$Xe]=sw(t.hidden),n[FXe]=[t.today],n[yj]=[],n[xj]=[],n[bj]=[],n[VXe]=[],n);return t.fromDate&&i[Jo].push({before:t.fromDate}),t.toDate&&i[Jo].push({after:t.toDate}),tx(t)?i[Jo]=i[Jo].concat(e.modifiers[Jo]):rx(t)&&(i[Jo]=i[Jo].concat(r.modifiers[Jo]),i[bj]=r.modifiers[bj],i[xj]=r.modifiers[xj],i[yj]=r.modifiers[yj]),i}var sre=g.createContext(void 0);function UXe(t){var e=yr(),r=RM(),n=IM(),i=BXe(e,r,n),s=DXe(e.modifiers),a=st(st({},i),s);return l.jsx(sre.Provider,{value:a,children:t.children})}function are(){var t=g.useContext(sre);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function zXe(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function qXe(t){return!!(t&&typeof t=="object"&&"from"in t)}function WXe(t){return!!(t&&typeof t=="object"&&"after"in t)}function HXe(t){return!!(t&&typeof t=="object"&&"before"in t)}function KXe(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function GXe(t,e){var r,n=e.from,i=e.to;if(n&&i){var s=ho(i,n)<0;s&&(r=[i,n],n=r[0],i=r[1]);var a=ho(t,n)>=0&&ho(i,t)>=0;return a}return i?wn(i,t):n?wn(n,t):!1}function YXe(t){return OI(t)}function XXe(t){return Array.isArray(t)&&t.every(OI)}function QXe(t,e){return e.some(function(r){if(typeof r=="boolean")return r;if(YXe(r))return wn(t,r);if(XXe(r))return r.includes(t);if(qXe(r))return GXe(t,r);if(KXe(r))return r.dayOfWeek.includes(t.getDay());if(zXe(r)){var n=ho(r.before,t),i=ho(r.after,t),s=n>0,a=i<0,o=NA(r.before,r.after);return o?a&&s:s||a}return WXe(r)?ho(t,r.after)>0:HXe(r)?ho(r.before,t)>0:typeof r=="function"?r(t):!1})}function OM(t,e,r){var n=Object.keys(e).reduce(function(s,a){var o=e[a];return QXe(t,o)&&s.push(a),s},[]),i={};return n.forEach(function(s){return i[s]=!0}),r&&!LI(t,r)&&(i.outside=!0),i}function ZXe(t,e){for(var r=Qi(t[0]),n=MI(t[t.length-1]),i,s,a=r;a<=n;){var o=OM(a,e),c=!o.disabled&&!o.hidden;if(!c){a=Cn(a,1);continue}if(o.selected)return a;o.today&&!s&&(s=a),i||(i=a),a=Cn(a,1)}return s||i}var JXe=365;function ore(t,e){var r=e.moveBy,n=e.direction,i=e.context,s=e.modifiers,a=e.retry,o=a===void 0?{count:0,lastFocused:t}:a,c=i.weekStartsOn,u=i.fromDate,d=i.toDate,f=i.locale,h={day:Cn,week:SA,month:Fa,year:i1e,startOfWeek:function(b){return i.ISOWeek?sf(b):Va(b,{locale:f,weekStartsOn:c})},endOfWeek:function(b){return i.ISOWeek?MG(b):DI(b,{locale:f,weekStartsOn:c})}},p=h[r](t,n==="after"?1:-1);n==="before"&&u?p=s1e([u,p]):n==="after"&&d&&(p=a1e([d,p]));var v=!0;if(s){var m=OM(p,s);v=!m.disabled&&!m.hidden}return v?p:o.count>JXe?o.lastFocused:ore(p,{moveBy:r,direction:n,context:i,modifiers:s,retry:st(st({},o),{count:o.count+1})})}var lre=g.createContext(void 0);function eQe(t){var e=nx(),r=are(),n=g.useState(),i=n[0],s=n[1],a=g.useState(),o=a[0],c=a[1],u=ZXe(e.displayMonths,r),d=i??(o&&e.isDateDisplayed(o))?o:u,f=function(){c(i),s(void 0)},h=function(b){s(b)},p=yr(),v=function(b,w){if(i){var y=ore(i,{moveBy:b,direction:w,context:p,modifiers:r});wn(i,y)||(e.goToDate(y,i),h(y))}},m={focusedDay:i,focusTarget:d,blur:f,focus:h,focusDayAfter:function(){return v("day","after")},focusDayBefore:function(){return v("day","before")},focusWeekAfter:function(){return v("week","after")},focusWeekBefore:function(){return v("week","before")},focusMonthBefore:function(){return v("month","before")},focusMonthAfter:function(){return v("month","after")},focusYearBefore:function(){return v("year","before")},focusYearAfter:function(){return v("year","after")},focusStartOfWeek:function(){return v("startOfWeek","before")},focusEndOfWeek:function(){return v("endOfWeek","after")}};return l.jsx(lre.Provider,{value:m,children:t.children})}function MM(){var t=g.useContext(lre);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function tQe(t,e){var r=are(),n=OM(t,r,e);return n}var DM=g.createContext(void 0);function rQe(t){if(!eN(t.initialProps)){var e={selected:void 0};return l.jsx(DM.Provider,{value:e,children:t.children})}return l.jsx(nQe,{initialProps:t.initialProps,children:t.children})}function nQe(t){var e=t.initialProps,r=t.children,n=function(s,a,o){var c,u,d;if((c=e.onDayClick)===null||c===void 0||c.call(e,s,a,o),a.selected&&!e.required){(u=e.onSelect)===null||u===void 0||u.call(e,void 0,s,a,o);return}(d=e.onSelect)===null||d===void 0||d.call(e,s,s,a,o)},i={selected:e.selected,onDayClick:n};return l.jsx(DM.Provider,{value:i,children:r})}function cre(){var t=g.useContext(DM);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function iQe(t,e){var r=yr(),n=cre(),i=RM(),s=IM(),a=MM(),o=a.focusDayAfter,c=a.focusDayBefore,u=a.focusWeekAfter,d=a.focusWeekBefore,f=a.blur,h=a.focus,p=a.focusMonthBefore,v=a.focusMonthAfter,m=a.focusYearBefore,b=a.focusYearAfter,w=a.focusStartOfWeek,y=a.focusEndOfWeek,_=function(V){var L,$,G,q;eN(r)?(L=n.onDayClick)===null||L===void 0||L.call(n,t,e,V):tx(r)?($=i.onDayClick)===null||$===void 0||$.call(i,t,e,V):rx(r)?(G=s.onDayClick)===null||G===void 0||G.call(s,t,e,V):(q=r.onDayClick)===null||q===void 0||q.call(r,t,e,V)},S=function(V){var L;h(t),(L=r.onDayFocus)===null||L===void 0||L.call(r,t,e,V)},E=function(V){var L;f(),(L=r.onDayBlur)===null||L===void 0||L.call(r,t,e,V)},N=function(V){var L;(L=r.onDayMouseEnter)===null||L===void 0||L.call(r,t,e,V)},T=function(V){var L;(L=r.onDayMouseLeave)===null||L===void 0||L.call(r,t,e,V)},j=function(V){var L;(L=r.onDayPointerEnter)===null||L===void 0||L.call(r,t,e,V)},A=function(V){var L;(L=r.onDayPointerLeave)===null||L===void 0||L.call(r,t,e,V)},R=function(V){var L;(L=r.onDayTouchCancel)===null||L===void 0||L.call(r,t,e,V)},k=function(V){var L;(L=r.onDayTouchEnd)===null||L===void 0||L.call(r,t,e,V)},O=function(V){var L;(L=r.onDayTouchMove)===null||L===void 0||L.call(r,t,e,V)},P=function(V){var L;(L=r.onDayTouchStart)===null||L===void 0||L.call(r,t,e,V)},D=function(V){var L;(L=r.onDayKeyUp)===null||L===void 0||L.call(r,t,e,V)},z=function(V){var L;switch(V.key){case"ArrowLeft":V.preventDefault(),V.stopPropagation(),r.dir==="rtl"?o():c();break;case"ArrowRight":V.preventDefault(),V.stopPropagation(),r.dir==="rtl"?c():o();break;case"ArrowDown":V.preventDefault(),V.stopPropagation(),u();break;case"ArrowUp":V.preventDefault(),V.stopPropagation(),d();break;case"PageUp":V.preventDefault(),V.stopPropagation(),V.shiftKey?m():p();break;case"PageDown":V.preventDefault(),V.stopPropagation(),V.shiftKey?b():v();break;case"Home":V.preventDefault(),V.stopPropagation(),w();break;case"End":V.preventDefault(),V.stopPropagation(),y();break}(L=r.onDayKeyDown)===null||L===void 0||L.call(r,t,e,V)},M={onClick:_,onFocus:S,onBlur:E,onKeyDown:z,onKeyUp:D,onMouseEnter:N,onMouseLeave:T,onPointerEnter:j,onPointerLeave:A,onTouchCancel:R,onTouchEnd:k,onTouchMove:O,onTouchStart:P};return M}function sQe(){var t=yr(),e=cre(),r=RM(),n=IM(),i=eN(t)?e.selected:tx(t)?r.selected:rx(t)?n.selected:void 0;return i}function aQe(t){return Object.values(Ua).includes(t)}function oQe(t,e){var r=[t.classNames.day];return Object.keys(e).forEach(function(n){var i=t.modifiersClassNames[n];if(i)r.push(i);else if(aQe(n)){var s=t.classNames["day_".concat(n)];s&&r.push(s)}}),r}function lQe(t,e){var r=st({},t.styles.day);return Object.keys(e).forEach(function(n){var i;r=st(st({},r),(i=t.modifiersStyles)===null||i===void 0?void 0:i[n])}),r}function cQe(t,e,r){var n,i,s,a=yr(),o=MM(),c=tQe(t,e),u=iQe(t,c),d=sQe(),f=!!(a.onDayClick||a.mode!=="default");g.useEffect(function(){var N;c.outside||o.focusedDay&&f&&wn(o.focusedDay,t)&&((N=r.current)===null||N===void 0||N.focus())},[o.focusedDay,t,r,f,c.outside]);var h=oQe(a,c).join(" "),p=lQe(a,c),v=!!(c.outside&&!a.showOutsideDays||c.hidden),m=(s=(i=a.components)===null||i===void 0?void 0:i.DayContent)!==null&&s!==void 0?s:PXe,b=l.jsx(m,{date:t,displayMonth:e,activeModifiers:c}),w={style:p,className:h,children:b,role:"gridcell"},y=o.focusTarget&&wn(o.focusTarget,t)&&!c.outside,_=o.focusedDay&&wn(o.focusedDay,t),S=st(st(st({},w),(n={disabled:c.disabled,role:"gridcell"},n["aria-selected"]=c.selected,n.tabIndex=_||y?0:-1,n)),u),E={isButton:f,isHidden:v,activeModifiers:c,selectedDays:d,buttonProps:S,divProps:w};return E}function uQe(t){var e=g.useRef(null),r=cQe(t.date,t.displayMonth,e);return r.isHidden?l.jsx("div",{role:"gridcell"}):r.isButton?l.jsx(g1,st({name:"day",ref:e},r.buttonProps)):l.jsx("div",st({},r.divProps))}function dQe(t){var e=t.number,r=t.dates,n=yr(),i=n.onWeekNumberClick,s=n.styles,a=n.classNames,o=n.locale,c=n.labels.labelWeekNumber,u=n.formatters.formatWeekNumber,d=u(Number(e),{locale:o});if(!i)return l.jsx("span",{className:a.weeknumber,style:s.weeknumber,children:d});var f=c(Number(e),{locale:o}),h=function(p){i(e,r,p)};return l.jsx(g1,{name:"week-number","aria-label":f,className:a.weeknumber,style:s.weeknumber,onClick:h,children:d})}function fQe(t){var e,r,n=yr(),i=n.styles,s=n.classNames,a=n.showWeekNumber,o=n.components,c=(e=o==null?void 0:o.Day)!==null&&e!==void 0?e:uQe,u=(r=o==null?void 0:o.WeekNumber)!==null&&r!==void 0?r:dQe,d;return a&&(d=l.jsx("td",{className:s.cell,style:i.cell,children:l.jsx(u,{number:t.weekNumber,dates:t.dates})})),l.jsxs("tr",{className:s.row,style:i.row,children:[d,t.dates.map(function(f){return l.jsx("td",{className:s.cell,style:i.cell,role:"presentation",children:l.jsx(c,{displayMonth:t.displayMonth,date:f})},iEe(f))})]})}function GB(t,e,r){for(var n=r!=null&&r.ISOWeek?MG(e):DI(e,r),i=r!=null&&r.ISOWeek?sf(t):Va(t,r),s=ho(n,i),a=[],o=0;o<=s;o++)a.push(Cn(i,o));var c=a.reduce(function(u,d){var f=r!=null&&r.ISOWeek?$G(d):VG(d,r),h=u.find(function(p){return p.weekNumber===f});return h?(h.dates.push(d),u):(u.push({weekNumber:f,dates:[d]}),u)},[]);return c}function hQe(t,e){var r=GB(Qi(t),MI(t),e);if(e!=null&&e.useFixedWeeks){var n=aEe(t,e);if(n<6){var i=r[r.length-1],s=i.dates[i.dates.length-1],a=SA(s,6-n),o=GB(SA(s,1),a,e);r.push.apply(r,o)}}return r}function pQe(t){var e,r,n,i=yr(),s=i.locale,a=i.classNames,o=i.styles,c=i.hideHead,u=i.fixedWeeks,d=i.components,f=i.weekStartsOn,h=i.firstWeekContainsDate,p=i.ISOWeek,v=hQe(t.displayMonth,{useFixedWeeks:!!u,ISOWeek:p,locale:s,weekStartsOn:f,firstWeekContainsDate:h}),m=(e=d==null?void 0:d.Head)!==null&&e!==void 0?e:AXe,b=(r=d==null?void 0:d.Row)!==null&&r!==void 0?r:fQe,w=(n=d==null?void 0:d.Footer)!==null&&n!==void 0?n:TXe;return l.jsxs("table",{id:t.id,className:a.table,style:o.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!c&&l.jsx(m,{}),l.jsx("tbody",{className:a.tbody,style:o.tbody,children:v.map(function(y){return l.jsx(b,{displayMonth:t.displayMonth,dates:y.dates,weekNumber:y.weekNumber},y.weekNumber)})}),l.jsx(w,{displayMonth:t.displayMonth})]})}function mQe(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var gQe=mQe()?g.useLayoutEffect:g.useEffect,wj=!1,vQe=0;function YB(){return"react-day-picker-".concat(++vQe)}function yQe(t){var e,r=t??(wj?YB():null),n=g.useState(r),i=n[0],s=n[1];return gQe(function(){i===null&&s(YB())},[]),g.useEffect(function(){wj===!1&&(wj=!0)},[]),(e=t??i)!==null&&e!==void 0?e:void 0}function xQe(t){var e,r,n=yr(),i=n.dir,s=n.classNames,a=n.styles,o=n.components,c=nx().displayMonths,u=yQe(n.id?"".concat(n.id,"-").concat(t.displayIndex):void 0),d=n.id?"".concat(n.id,"-grid-").concat(t.displayIndex):void 0,f=[s.month],h=a.month,p=t.displayIndex===0,v=t.displayIndex===c.length-1,m=!p&&!v;i==="rtl"&&(e=[p,v],v=e[0],p=e[1]),p&&(f.push(s.caption_start),h=st(st({},h),a.caption_start)),v&&(f.push(s.caption_end),h=st(st({},h),a.caption_end)),m&&(f.push(s.caption_between),h=st(st({},h),a.caption_between));var b=(r=o==null?void 0:o.Caption)!==null&&r!==void 0?r:NXe;return l.jsxs("div",{className:f.join(" "),style:h,children:[l.jsx(b,{id:u,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),l.jsx(pQe,{id:d,"aria-labelledby":u,displayMonth:t.displayMonth})]},t.displayIndex)}function bQe(t){var e=yr(),r=e.classNames,n=e.styles;return l.jsx("div",{className:r.months,style:n.months,children:t.children})}function wQe(t){var e,r,n=t.initialProps,i=yr(),s=MM(),a=nx(),o=g.useState(!1),c=o[0],u=o[1];g.useEffect(function(){i.initialFocus&&s.focusTarget&&(c||(s.focus(s.focusTarget),u(!0)))},[i.initialFocus,c,s.focus,s.focusTarget,s]);var d=[i.classNames.root,i.className];i.numberOfMonths>1&&d.push(i.classNames.multiple_months),i.showWeekNumber&&d.push(i.classNames.with_weeknumber);var f=st(st({},i.styles.root),i.style),h=Object.keys(n).filter(function(v){return v.startsWith("data-")}).reduce(function(v,m){var b;return st(st({},v),(b={},b[m]=n[m],b))},{}),p=(r=(e=n.components)===null||e===void 0?void 0:e.Months)!==null&&r!==void 0?r:bQe;return l.jsx("div",st({className:d.join(" "),style:f,dir:i.dir,id:i.id,nonce:n.nonce,title:n.title,lang:n.lang},h,{children:l.jsx(p,{children:a.displayMonths.map(function(v,m){return l.jsx(xQe,{displayIndex:m,displayMonth:v},m)})})}))}function _Qe(t){var e=t.children,r=HYe(t,["children"]);return l.jsx(dXe,{initialProps:r,children:l.jsx(wXe,{children:l.jsx(rQe,{initialProps:r,children:l.jsx(RXe,{initialProps:r,children:l.jsx(OXe,{initialProps:r,children:l.jsx(UXe,{children:l.jsx(eQe,{children:e})})})})})})})}function EQe(t){return l.jsx(_Qe,st({},t,{children:l.jsx(wQe,{initialProps:t})}))}function v1({className:t,classNames:e,showOutsideDays:r=!0,modifiersStyles:n,...i}){return l.jsx(EQe,{showOutsideDays:r,className:ge("p-1 sm:p-2 w-full h-full rounded-xl border border-gray-200 bg-white shadow-sm",t),modifiersStyles:{available:{border:"2px solid #22c55e",borderRadius:"999px",backgroundColor:"rgba(34, 197, 94, 0.1)"},selectedAdd:{backgroundColor:"rgba(59, 130, 246, 0.1)",borderRadius:"999px"},selectedRemove:{backgroundColor:"rgba(239, 68, 68, 0.1)",borderRadius:"999px"},today:{fontWeight:"600",color:"#6b7280",outline:"2px solid #e5e7eb"},...n},classNames:{caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm sm:text-base font-semibold text-gray-800 text-center flex-grow truncate px-2",nav:"absolute left-0 right-0 top-0 bottom-0 pointer-events-none flex justify-between items-center px-2",nav_button:ge(Jv({variant:"outline"}),"h-7 w-7 sm:h-8 sm:w-8 p-0 opacity-70 hover:opacity-100 rounded-md z-10 pointer-events-auto"),table:"w-full border-collapse space-y-1 mt-2",head_row:"grid grid-cols-7 gap-px w-full",head_cell:"text-gray-500 text-xs font-medium uppercase tracking-wider py-1 sm:py-2",row:"grid grid-cols-7 gap-px w-full mt-1",cell:"h-10 w-10 p-0 text-center relative flex items-center justify-center sm:h-9 sm:w-9",day:ge(Jv({variant:"ghost"}),"h-10 w-10 p-0 font-normal hover:bg-gray-100 rounded-full transition-colors text-sm sm:h-9 sm:w-9 sm:text-xs"),day_selected:"bg-eccos-purple text-white hover:bg-eccos-purple/90 rounded-full",day_today:"bg-gray-100 text-gray-900 font-semibold rounded-full",day_outside:"text-gray-400 opacity-50",day_disabled:"text-gray-400 opacity-50 cursor-not-allowed",day_range_middle:"aria-selected:bg-gray-100 aria-selected:text-gray-900 rounded-none",...e},components:{IconLeft:()=>l.jsx(kw,{className:"h-3 w-3 sm:h-4 sm:w-4 text-gray-600"}),IconRight:()=>l.jsx(Rv,{className:"h-3 w-3 sm:h-4 sm:w-4 text-gray-600"}),DayContent:({date:s})=>{const a=wn(s,new Date);return l.jsx("div",{className:"relative w-full h-full flex items-center justify-center",children:l.jsx("span",{className:ge(a?"font-bold text-gray-900":"text-gray-700","text-xs sm:text-sm"),children:s.getDate()})})}},...i})}v1.displayName="Calendar";const LM="availability",ure=async()=>{try{return(await ea(on(Ue,LM))).docs.map(e=>{const r=e.data(),n=r.date instanceof Tt?r.date.toDate():new Date(r.date);return new Date(n.setHours(0,0,0,0))}).filter(e=>!isNaN(e.getTime()))}catch{throw new Error("Erro ao buscar datas disponíveis")}},SQe=async t=>{try{await Promise.all(t.map(async e=>{const r=new Date(e.setHours(0,0,0,0)),n=dre(r);await vA(bt(Ue,LM,n),{id:n,date:Tt.fromDate(r)})}))}catch{throw new Error("Erro ao adicionar datas")}},XB=async t=>{try{await Promise.all(t.map(async e=>{const r=new Date(e.setHours(0,0,0,0)),n=dre(r);await Sf(bt(Ue,LM,n))}))}catch{throw new Error("Erro ao remover datas")}},dre=t=>{const e=t.getFullYear(),r=String(t.getMonth()+1).padStart(2,"0"),n=String(t.getDate()).padStart(2,"0");return`${e}-${r}-${n}`},aw=t=>{const e=new Date;return e.setHours(0,0,0,0),t<e},NQe=()=>l.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none bg-blue-100 rounded-full",children:l.jsx(vf,{className:"h-8 w-8 text-blue-600 stroke-[3]"})}),TQe=()=>l.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none bg-red-100 rounded-full",children:l.jsx(xo,{className:"h-8 w-8 text-red-600 stroke-[3]"})}),QB={availableDate:{border:"2px solid #22c55e",backgroundColor:"rgba(34, 197, 94, 0.1)",borderRadius:"50%"},selectedAdd:{backgroundColor:"rgba(59, 130, 246, 0.1)",borderRadius:"50%"},selectedRemove:{backgroundColor:"rgba(239, 68, 68, 0.1)",borderRadius:"50%"},today:{color:"#9ca3af",opacity:"0.5",pointerEvents:"none"}};function jQe(){const[t,e]=g.useState([]),[r,n]=g.useState([]),[i,s]=g.useState([]),[a,o]=g.useState({add:!1,remove:!1,initial:!0}),[c,u]=g.useState("add"),{toast:d}=qa(),f=new Date;f.setHours(0,0,0,0);const[h,p]=g.useState(new Date);g.useEffect(()=>{(async()=>{try{const D=await ure(),z=D.filter(M=>aw(M));z.length>0?(await XB(z),e(D.filter(M=>!aw(M)))):e(D)}catch{v("Erro ao carregar datas disponíveis")}finally{o(D=>({...D,initial:!1}))}})()},[]);const v=P=>{d({title:"Erro",description:P,variant:"destructive"})},m=P=>{d({title:"Sucesso",description:P,className:"bg-green-500 text-foreground"})},b=async()=>{if(r.length!==0){o(P=>({...P,add:!0}));try{await SQe(r),e(P=>[...P,...r]),n([]),m("Datas adicionadas com sucesso!")}catch{v("Erro ao adicionar datas")}finally{o(P=>({...P,add:!1}))}}},w=async()=>{if(i.length!==0){o(P=>({...P,remove:!0}));try{await XB(i),e(P=>P.filter(D=>!i.some(z=>z.toISOString()===D.toISOString()))),s([]),m("Datas removidas com sucesso!")}catch{v("Erro ao remover datas")}finally{o(P=>({...P,remove:!1}))}}},y=P=>t.some(D=>wn(D,P)),_=P=>r.some(D=>wn(D,P)),S=P=>i.some(D=>wn(D,P)),E=P=>wn(P,f),N=P=>P.length>0?P.map(D=>Dt(D,"dd 'de' MMMM 'de' yyyy",{locale:Pn})).join(", "):"Nenhuma data selecionada",T=()=>{const P=new Date(h);P.setMonth(P.getMonth()-1),p(P)},j=()=>{const P=new Date(h);P.setMonth(P.getMonth()+1),p(P)},A=t.length,R=t.filter(P=>P.getMonth()===h.getMonth()&&P.getFullYear()===h.getFullYear()).length,k=r.length,O=i.length;return l.jsx(cn,{children:l.jsxs("div",{className:"min-h-screen bg-white relative overflow-hidden",children:[l.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[l.jsx("div",{className:"absolute left-1/4 top-1/4 h-96 w-96 rounded-full bg-sidebar blur-3xl opacity-5"}),l.jsx("div",{className:"absolute right-1/4 bottom-1/4 h-80 w-80 rounded-full bg-eccos-purple blur-3xl opacity-5"})]}),l.jsxs("div",{className:"relative z-10 space-y-8 p-4 md:p-6 lg:p-12",children:[l.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold flex items-center gap-2 bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:[l.jsx(_i,{className:"text-eccos-purple",size:30}),"Gerenciamento de Disponibilidade"]}),a.initial&&l.jsx("div",{className:"flex justify-center items-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-eccos-purple"})}),!a.initial&&l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"grid gap-4 grid-cols-2 sm:grid-cols-2 lg:grid-cols-4",children:[l.jsxs(tt,{className:"bg-white border border-gray-100 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300",children:[l.jsx(qt,{className:"pb-2",children:l.jsx(Wt,{className:"text-sm font-medium text-gray-600",children:"Total de Datas Disponíveis"})}),l.jsxs(mt,{children:[l.jsx("div",{className:"text-2xl font-bold bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:A}),l.jsx(_e,{variant:"outline",className:"mt-2 border-eccos-purple text-eccos-purple",children:"Datas"})]})]}),l.jsxs(tt,{className:"bg-white border border-gray-100 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300",children:[l.jsx(qt,{className:"pb-2",children:l.jsx(Wt,{className:"text-sm font-medium text-gray-600",children:"Disponíveis Este Mês"})}),l.jsxs(mt,{children:[l.jsx("div",{className:"text-2xl font-bold bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:R}),l.jsx(_e,{variant:"outline",className:"mt-2 border-eccos-purple text-eccos-purple",children:"Este Mês"})]})]}),l.jsxs(tt,{className:"bg-white border border-gray-100 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300",children:[l.jsx(qt,{className:"pb-2",children:l.jsx(Wt,{className:"text-sm font-medium text-gray-600",children:c==="add"?"Selecionadas p/ Adicionar":"Modo Adicionar"})}),l.jsxs(mt,{children:[l.jsx("div",{className:"text-2xl font-bold bg-gradient-to-r from-blue-500 to-blue-600 bg-clip-text text-transparent",children:k}),l.jsx(_e,{variant:"outline",className:"mt-2 border-blue-500 text-blue-500",children:"Para Adicionar"})]})]}),l.jsxs(tt,{className:"bg-white border border-gray-100 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300",children:[l.jsx(qt,{className:"pb-2",children:l.jsx(Wt,{className:"text-sm font-medium text-gray-600",children:c==="remove"?"Selecionadas p/ Remover":"Modo Remover"})}),l.jsxs(mt,{children:[l.jsx("div",{className:"text-2xl font-bold bg-gradient-to-r from-red-500 to-red-600 bg-clip-text text-transparent",children:O}),l.jsx(_e,{variant:"outline",className:"mt-2 border-red-500 text-red-500",children:"Para Remover"})]})]})]}),l.jsxs(m_,{value:c,onValueChange:u,className:"w-full",children:[l.jsxs(ny,{className:"grid grid-cols-2 w-full bg-white border border-gray-100 rounded-2xl shadow-lg p-1 h-14",children:[l.jsxs(ba,{value:"add",className:"rounded-xl data-[state=active]:bg-gradient-to-r data-[state=active]:from-sidebar data-[state=active]:to-eccos-purple data-[state=active]:text-white h-12 transition-all duration-300",children:[l.jsx(UL,{className:"h-4 w-4 mr-2"}),"Adicionar"]}),l.jsxs(ba,{value:"remove",className:"rounded-xl data-[state=active]:bg-gradient-to-r data-[state=active]:from-sidebar data-[state=active]:to-eccos-purple data-[state=active]:text-white h-12 transition-all duration-300",children:[l.jsx(zL,{className:"h-4 w-4 mr-2"}),"Remover"]})]}),l.jsx(af,{value:"add",className:"mt-6",children:l.jsx(tt,{className:"bg-white border border-gray-100 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300",children:l.jsxs(mt,{className:"p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx(oe,{variant:"outline",size:"icon",onClick:T,className:"h-8 w-8",children:l.jsx(kw,{className:"h-4 w-4"})}),l.jsx("h3",{className:"text-sm font-medium",children:Dt(h,"MMMM yyyy",{locale:Pn})}),l.jsx(oe,{variant:"outline",size:"icon",onClick:j,className:"h-8 w-8",children:l.jsx(Rv,{className:"h-4 w-4"})})]}),l.jsx(v1,{mode:"multiple",selected:r,onSelect:n,month:h,onMonthChange:p,disabled:P=>aw(P)||y(P),modifiers:{available:P=>y(P),today:P=>E(P),selectedAdd:P=>_(P)},modifiersStyles:QB,className:"border-0 max-w-full sm:max-w-[320px] mx-auto",components:{DayContent:P=>{const{date:D}=P,z=D.getDate();return l.jsxs("div",{className:"relative w-full h-full flex items-center justify-center",children:[l.jsx("span",{className:_(D)?"opacity-0":"",children:z}),_(D)&&l.jsx(NQe,{})]})}}}),l.jsx("div",{className:"mt-6 space-y-4",children:l.jsxs("div",{className:"bg-blue-50 p-4 rounded-2xl",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[l.jsx(UL,{className:"h-5 w-5 text-blue-600"}),l.jsx("h3",{className:"font-medium text-blue-600",children:"Datas para Adicionar"})]}),l.jsx("p",{className:"text-xs sm:text-sm text-blue-600 mb-4 max-h-20 overflow-y-auto",children:N(r)}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[l.jsx(oe,{onClick:()=>n([]),variant:"outline",className:"flex-1 h-12 rounded-xl border-eccos-purple text-eccos-purple hover:bg-eccos-purple/10",children:"Limpar Seleção"}),l.jsx(oe,{onClick:b,disabled:a.add||r.length===0,className:"flex-1 h-12 rounded-xl bg-gradient-to-r from-sidebar to-eccos-purple hover:from-eccos-purple hover:to-sidebar text-white",children:a.add?"Salvando...":"Confirmar Adição"})]})]})})]})})}),l.jsx(af,{value:"remove",className:"mt-6",children:l.jsx(tt,{className:"bg-white border border-gray-100 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300",children:l.jsxs(mt,{className:"p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx(oe,{variant:"outline",size:"icon",onClick:T,className:"h-8 w-8",children:l.jsx(kw,{className:"h-4 w-4"})}),l.jsx("h3",{className:"text-sm font-medium",children:Dt(h,"MMMM yyyy",{locale:Pn})}),l.jsx(oe,{variant:"outline",size:"icon",onClick:j,className:"h-8 w-8",children:l.jsx(Rv,{className:"h-4 w-4"})})]}),l.jsx(v1,{mode:"multiple",selected:i,onSelect:s,month:h,onMonthChange:p,disabled:P=>!y(P),modifiers:{available:P=>y(P),today:P=>E(P),selectedRemove:P=>S(P)},modifiersStyles:QB,className:"border-0 max-w-full sm:max-w-[320px] mx-auto",components:{DayContent:P=>{const{date:D}=P,z=D.getDate();return l.jsxs("div",{className:"relative w-full h-full flex items-center justify-center",children:[l.jsx("span",{className:S(D)?"opacity-0":"",children:z}),S(D)&&l.jsx(TQe,{})]})}}}),l.jsx("div",{className:"mt-6 space-y-4",children:l.jsxs("div",{className:"bg-red-50 p-4 rounded-2xl",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[l.jsx(zL,{className:"h-5 w-5 text-red-600"}),l.jsx("h3",{className:"font-medium text-red-600",children:"Datas para Remover"})]}),l.jsx("p",{className:"text-xs sm:text-sm text-red-600 mb-4 max-h-20 overflow-y-auto",children:N(i)}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[l.jsx(oe,{onClick:()=>s([]),variant:"outline",className:"flex-1 h-12 rounded-xl border-red-600 text-red-600 hover:bg-red-50",children:"Limpar Seleção"}),l.jsx(oe,{onClick:w,disabled:a.remove||i.length===0,className:"flex-1 h-12 rounded-xl bg-red-600 hover:bg-red-700 text-white",children:a.remove?"Removendo...":"Confirmar Remoção"})]})]})})]})})})]})]})]}),l.jsx("footer",{className:"relative z-10 bg-gray-50 py-10 px-4 md:px-12",children:l.jsx("div",{className:"max-w-6xl mx-auto text-center",children:l.jsx("p",{className:"text-gray-500 text-sm",children:"© 2025 Colégio ECCOS - Todos os direitos reservados"})})})]})})}const CQe=[{value:"user",label:"Usuário Padrão"},{value:"financeiro",label:"Financeiro"},{value:"operacional",label:"Manutenção"},{value:"admin",label:"Administrador"}],AQe=({open:t,onOpenChange:e,user:r,onSuccess:n})=>{const[i,s]=g.useState((r==null?void 0:r.role)||"user"),[a,o]=g.useState(!1),c=async()=>{if(!(!r||!i)){o(!0);try{await xSe(r.uid,i),n(),e(!1)}catch(u){console.error("Error changing role:",u)}finally{o(!1)}}};return l.jsx(ts,{open:t,onOpenChange:e,children:l.jsxs(Ii,{children:[l.jsxs(rs,{children:[l.jsx(Oi,{children:"Alterar Função do Usuário"}),l.jsxs(As,{children:["Selecione a nova função para ",r==null?void 0:r.displayName]})]}),l.jsx("div",{className:"grid gap-4 py-4",children:l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(ur,{htmlFor:"role",className:"text-right",children:"Nova Função"}),l.jsxs(_a,{value:i,onValueChange:u=>s(u),disabled:a,children:[l.jsx(Bs,{className:"col-span-3",children:l.jsx(Ea,{placeholder:"Selecione uma função"})}),l.jsx(Us,{children:CQe.map(u=>l.jsx(Xt,{value:u.value,children:u.label},u.value))})]})]})}),l.jsxs(ju,{children:[l.jsx(oe,{type:"button",variant:"outline",onClick:()=>e(!1),disabled:a,children:"Cancelar"}),l.jsx(oe,{type:"button",onClick:c,disabled:a||!i,children:a?"Salvando...":"Confirmar Alteração"})]})]})})};function PQe({open:t,onOpenChange:e,user:r,onSuccess:n}){const{toast:i}=qa();if(!r)return null;const s=r.blocked===!0,a=async()=>{try{await ySe(r.uid,!s),i({title:"Sucesso",description:`Usuário ${s?"desbloqueado":"bloqueado"} com sucesso.`}),n(),e(!1)}catch(o){console.error("Error toggling user block status:",o),i({title:"Erro",description:o.message||"Ocorreu um erro ao alterar o status do usuário.",variant:"destructive"})}};return l.jsx(Cu,{open:t,onOpenChange:e,children:l.jsxs(Zl,{children:[l.jsxs(Jl,{children:[l.jsx(ec,{children:s?"Desbloquear usuário":"Bloquear usuário"}),l.jsx(Au,{children:s?l.jsxs(l.Fragment,{children:["Tem certeza que deseja desbloquear ",l.jsx("strong",{children:r.displayName}),"?",l.jsx("br",{}),l.jsx("br",{}),"O usuário poderá acessar o sistema novamente após esta ação."]}):l.jsxs(l.Fragment,{children:["Tem certeza que deseja bloquear ",l.jsx("strong",{children:r.displayName}),"?",l.jsx("br",{}),l.jsx("br",{}),"O usuário não poderá acessar o sistema enquanto estiver bloqueado."]})})]}),l.jsxs(_m,{children:[l.jsx(Ru,{children:"Cancelar"}),l.jsx(Pu,{onClick:a,className:ge(s?"bg-green-600 hover:bg-green-700":"bg-destructive hover:bg-destructive/90"),children:s?"Desbloquear":"Bloquear"})]})]})})}const RQe=({user:t,onRoleChange:e,onBlock:r})=>{const{currentUser:n,isSuperAdmin:i}=zr(),s=u=>{if(u.pendingRoleChange)return l.jsx(_e,{className:"bg-yellow-500 text-foreground",children:l.jsx("span",{className:"animate-pulse",children:"Pendente"})});switch(u.role){case"superadmin":return l.jsxs(_e,{className:"bg-purple-500 text-foreground",children:[l.jsx(w8,{className:"mr-1 h-4 w-4"}),"Super Admin"]});case"admin":return l.jsx(_e,{className:"bg-blue-500 text-foreground",children:"Admin"});case"financeiro":return l.jsx(_e,{className:"bg-green-500 text-foreground",children:"Financeiro"});case"operacional":return l.jsx(_e,{className:"bg-orange-500 text-foreground",children:"Manutenção"});default:return l.jsx(_e,{variant:"outline",children:"Usuário"})}},a=u=>{if(!u)return"Nunca acessou";const d=new Date(u);return isNaN(d.getTime())?"Data inválida":d.toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})},o=u=>u.email==="suporte@colegioeccos.com.br"||(n==null?void 0:n.uid)===u.uid?!1:!!i,c=u=>(n==null?void 0:n.uid)===u.uid?!1:!!(i&&u.role!=="superadmin"||(n==null?void 0:n.role)==="admin"&&["user","financeiro","operacional"].includes(u.role));return l.jsxs(Ii,{className:"max-w-md",children:[l.jsx(rs,{children:l.jsxs(Oi,{className:"flex items-center gap-2",children:[l.jsx(Id,{className:"h-5 w-5 text-eccos-purple"}),"Detalhes do Usuário"]})}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Id,{className:"h-4 w-4 text-gray-500"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Nome"}),l.jsx("p",{className:"text-sm text-gray-900",children:t.displayName})]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Wae,{className:"h-4 w-4 text-gray-500"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Email"}),l.jsx("p",{className:"text-sm text-gray-900",children:t.email})]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(AR,{className:"h-4 w-4 text-gray-500"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Função"}),l.jsx("div",{className:"mt-1",children:s(t)})]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(_i,{className:"h-4 w-4 text-gray-500"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Último Acesso"}),l.jsx("p",{className:"text-sm text-gray-900",children:a(t.lastActive)})]})]})]}),t.blocked&&l.jsxs("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(HL,{className:"h-4 w-4 text-red-600"}),l.jsx("span",{className:"text-sm font-medium text-red-800",children:"Usuário Bloqueado"})]}),l.jsx("p",{className:"text-xs text-red-600 mt-1",children:"Este usuário não pode acessar o sistema"})]}),t.role!=="superadmin"&&l.jsxs("div",{className:"space-y-3 pt-4 border-t",children:[l.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Ações"}),l.jsxs("div",{className:"flex flex-col gap-2",children:[o(t)&&l.jsxs(oe,{variant:"outline",onClick:()=>e(t),className:"justify-start h-9",children:[l.jsx(Iv,{className:"mr-2 h-4 w-4"}),"Alterar Função"]}),c(t)&&l.jsx(oe,{variant:"outline",onClick:()=>r(t),className:ge("justify-start h-9",t.blocked?"text-green-600 hover:bg-green-50 hover:text-green-700 hover:border-green-300":"text-red-600 hover:bg-red-50 hover:text-red-700 hover:border-red-300"),children:t.blocked?l.jsxs(l.Fragment,{children:[l.jsx(qae,{className:"mr-2 h-4 w-4"}),"Desbloquear Usuário"]}):l.jsxs(l.Fragment,{children:[l.jsx(HL,{className:"mr-2 h-4 w-4"}),"Bloquear Usuário"]})})]})]})]})]})},kQe=()=>{const{currentUser:t,isSuperAdmin:e}=zr();qa();const[r,n]=g.useState(""),[i,s]=g.useState([]),[a,o]=g.useState(null),[c,u]=g.useState(!1),[d,f]=g.useState(!1),{data:h=[],refetch:p,isLoading:v}=Xi({queryKey:["users"],queryFn:YE}),m=E=>{o(E),u(!0)},b=E=>{o(E),f(!0)};g.useEffect(()=>{const E=r.toLowerCase(),N=h.filter(T=>E===""?!0:T.displayName.toLowerCase().includes(E)||T.email.toLowerCase().includes(E)||T.role.toLowerCase().includes(E)).sort((T,j)=>{const A={superadmin:0,admin:1,financeiro:2,operacional:3,user:4},R=(A[T.role]??5)-(A[j.role]??5);return R!==0?R:T.displayName.localeCompare(j.displayName)});s(N)},[h,r]),g.useEffect(()=>{const E=new IntersectionObserver(N=>{N.forEach(T=>{T.isIntersecting&&T.target.classList.add("visible")})},{threshold:.1});return document.querySelectorAll(".fade-up").forEach(N=>E.observe(N)),()=>E.disconnect()},[]);const w=E=>{if(E.pendingRoleChange)return l.jsx(_e,{className:"bg-yellow-500 text-foreground",children:l.jsx("span",{className:"animate-pulse",children:"Pendente"})});switch(E.role){case"superadmin":return l.jsxs(_e,{className:"bg-purple-500 text-foreground",children:[l.jsx(w8,{className:"mr-1 h-4 w-4 hidden sm:inline-block"}),"Super Admin"]});case"admin":return l.jsx(_e,{className:"bg-blue-500 text-foreground",children:"Admin"});case"financeiro":return l.jsx(_e,{className:"bg-green-500 text-foreground",children:"Financeiro"});case"operacional":return l.jsx(_e,{className:"bg-orange-500 text-foreground",children:"Manutenção"});default:return l.jsx(_e,{variant:"outline",children:"Usuário"})}},y=h.filter(E=>!E.blocked).length,_=h.filter(E=>E.blocked).length,S=h.filter(E=>["admin","superadmin"].includes(E.role)).length;return h.filter(E=>E.role==="operacional").length,l.jsxs(cn,{children:[l.jsxs("div",{className:"min-h-screen bg-white overflow-hidden relative",children:[l.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[l.jsx("div",{className:"absolute left-1/4 top-1/4 h-96 w-96 rounded-full bg-sidebar blur-3xl opacity-5"}),l.jsx("div",{className:"absolute right-1/4 bottom-1/4 h-80 w-80 rounded-full bg-eccos-purple blur-3xl opacity-5"})]}),l.jsxs("div",{className:"relative z-10 space-y-8 p-4 sm:p-6 md:p-12 fade-up",children:[l.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold flex items-center gap-2 bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:[l.jsx(Ov,{className:"text-eccos-purple",size:28}),l.jsx("span",{className:"hidden sm:inline",children:"Gestão de Usuários"}),l.jsx("span",{className:"sm:hidden",children:"Usuários"})]}),l.jsxs("div",{className:"space-y-6 sm:space-y-8 fade-up",children:[l.jsxs("div",{className:"grid gap-3 sm:gap-4 grid-cols-2 lg:grid-cols-3",children:[l.jsxs(tt,{className:"bg-white border border-gray-100 rounded-xl sm:rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 relative group overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),l.jsxs("div",{className:"p-3 sm:p-6",children:[l.jsx("h3",{className:"text-xs sm:text-sm font-medium text-gray-600 mb-2",children:"Usuários Ativos"}),l.jsx("div",{className:"text-xl sm:text-2xl font-bold bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:y}),l.jsx(_e,{variant:"outline",className:"mt-1 sm:mt-2 border-eccos-purple text-eccos-purple text-xs",children:"Contas"})]})]}),l.jsxs(tt,{className:"bg-white border border-gray-100 rounded-xl sm:rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 relative group overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),l.jsxs("div",{className:"p-3 sm:p-6",children:[l.jsx("h3",{className:"text-xs sm:text-sm font-medium text-gray-600 mb-2",children:"Usuários Bloqueados"}),l.jsx("div",{className:"text-xl sm:text-2xl font-bold bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:_}),l.jsx(_e,{variant:"outline",className:"mt-1 sm:mt-2 border-red-500 text-red-500 text-xs",children:"Restrito"})]})]}),l.jsxs(tt,{className:"bg-white border border-gray-100 rounded-xl sm:rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 relative group overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),l.jsxs("div",{className:"p-3 sm:p-6",children:[l.jsx("h3",{className:"text-xs sm:text-sm font-medium text-gray-600 mb-2",children:"Administradores"}),l.jsx("div",{className:"text-xl sm:text-2xl font-bold bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:S}),l.jsx(_e,{variant:"outline",className:"mt-1 sm:mt-2 border-blue-500 text-blue-500 text-xs",children:"Gestão"})]})]})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 fade-up",children:[l.jsxs("div",{className:"relative flex-1 max-w-full sm:max-w-md",children:[l.jsx(yf,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),l.jsx(or,{placeholder:"Filtrar usuários...",value:r,onChange:E=>n(E.target.value),className:"pl-10 rounded-xl border-gray-200 focus-visible:ring-eccos-purple"})]}),l.jsxs("p",{className:"text-muted-foreground text-sm",children:[h.length," registros encontrados"]})]}),l.jsx("div",{className:"rounded-xl sm:rounded-2xl border-0 overflow-hidden bg-white shadow-lg hover:shadow-xl transition-all duration-300 fade-up",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs($u,{children:[l.jsx(Fu,{className:"bg-gray-50",children:l.jsxs(Un,{children:[l.jsx(dr,{className:"text-center align-middle font-medium text-gray-700 text-sm px-4",children:"Nome"}),l.jsx(dr,{className:"text-center align-middle font-medium text-gray-700 text-sm px-4",children:"Função"}),l.jsx(dr,{className:"text-center align-middle font-medium text-gray-700 text-sm px-4",children:"Detalhes"})]})}),l.jsx(Vu,{children:v?l.jsx(Un,{children:l.jsx(tr,{colSpan:3,className:"h-24 text-center",children:l.jsxs("div",{className:"flex justify-center items-center space-x-2",children:[l.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-eccos-purple"}),l.jsx("span",{className:"text-muted-foreground text-sm",children:"Carregando usuários..."})]})})}):i.length===0?l.jsx(Un,{children:l.jsx(tr,{colSpan:3,className:"h-24 text-center text-muted-foreground",children:"Nenhum usuário encontrado"})}):i.map(E=>l.jsxs(Un,{className:"group transition-all duration-200 hover:bg-gray-50 border-b border-gray-100",children:[l.jsx(tr,{className:"text-center align-middle px-4 py-4",children:l.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[l.jsx("span",{className:"font-medium text-sm",children:E.displayName}),E.blocked&&l.jsx(_e,{variant:"destructive",className:"text-xs",children:"Bloqueado"})]})}),l.jsx(tr,{className:"text-center align-middle px-4 py-4",children:w(E)}),l.jsx(tr,{className:"text-center align-middle px-4 py-4",children:l.jsxs(ts,{children:[l.jsx(uY,{asChild:!0,children:l.jsx(oe,{variant:"outline",size:"sm",className:"hover:bg-eccos-purple/10 hover:text-eccos-purple hover:border-eccos-purple",children:l.jsx(kd,{className:"h-4 w-4 mr-2"})})}),l.jsx(RQe,{user:E,onRoleChange:m,onBlock:b})]})})]},E.uid))})]})})})]}),l.jsx("footer",{className:"relative z-10 bg-gray-50 py-6 sm:py-10 px-4 md:px-12 mt-8 sm:mt-12 fade-up rounded-lg",children:l.jsx("div",{className:"max-w-6xl mx-auto",children:l.jsx("div",{className:"text-center",children:l.jsx("p",{className:"text-gray-500 text-xs sm:text-sm",children:"© 2025 Colégio ECCOS - Todos os direitos reservados"})})})})]})]}),l.jsx(AQe,{open:c,onOpenChange:u,user:a,onSuccess:p}),l.jsx(PQe,{open:d,onOpenChange:f,user:a,onSuccess:p})]})},IQe=t=>{if(!t)return l.jsx(_e,{variant:"outline",children:"Não especificado"});const e={labels:{critical:"Crítica",high:"Alta",medium:"Média",low:"Baixa"},colors:{critical:"bg-red-100 text-red-600 border-red-200",high:"bg-orange-100 text-orange-600 border-orange-200",medium:"bg-amber-100 text-amber-600 border-amber-200",low:"bg-green-100 text-green-600 border-green-200"}},r=t.toLowerCase();return l.jsx(_e,{className:ge("border",e.colors[r]),children:e.labels[r]||t})},_j=t=>{switch(t){case"reservation":return l.jsx(_i,{className:"h-4 w-4 text-blue-500"});case"purchase":return l.jsx(yo,{className:"h-4 w-4 text-purple-500"});case"support":return l.jsx(Pa,{className:"h-4 w-4 text-pink-500"});default:return l.jsx(g8,{className:"h-4 w-4 text-gray-500"})}},vg=t=>{switch(t){case"pending":return l.jsxs(_e,{className:"bg-amber-50 text-amber-600 border-amber-100",children:[l.jsx(X1,{className:"h-4 w-4 mr-1 hidden sm:inline-block"}),"Pendente"]});case"approved":return l.jsxs(_e,{className:"bg-green-50 text-green-600 border-green-100",children:[l.jsx(pp,{className:"h-4 w-4 mr-1 hidden sm:inline-block"}),"Aprovada"]});case"rejected":return l.jsxs(_e,{variant:"destructive",children:[l.jsx(om,{className:"h-4 w-4 mr-1 hidden sm:inline-block"}),"Reprovada"]});case"in-progress":return l.jsxs(_e,{className:"bg-blue-50 text-blue-600 border-blue-100",children:[l.jsx(kv,{className:"h-4 w-4 mr-1 hidden sm:inline-block"}),"Em Andamento"]});case"completed":return l.jsxs(_e,{className:"bg-slate-100 text-slate-600 border-slate-200",children:[l.jsx(pp,{className:"h-4 w-4 mr-1 hidden sm:inline-block"}),"Concluída"]});default:return l.jsxs(_e,{variant:"outline",children:[l.jsx(Mw,{className:"h-4 w-4 mr-1 hidden sm:inline-block"}),"Desconhecido"]})}},Ej=t=>{switch(t){case"reservation":return"Reserva";case"purchase":return"Compra";case"support":return"Suporte";default:return"Desconhecido"}},OQe=()=>{var Ae,ct;const t=wu(),{currentUser:e,isAdmin:r}=zr(),[n,i]=g.useState(!1),[s,a]=g.useState(""),[o,c]=g.useState(["reservation","purchase","support"]),[u,d]=g.useState(["pending","approved","in-progress"]),[f,h]=g.useState(["Manutenção","Tecnologia","Compra Pedagógica","Compra Administrativa","Compra Infraestrutura"]),[p,v]=g.useState([]),[m,b]=g.useState(),w=g.useRef(new Map),[y,_]=g.useState(null),[S,E]=g.useState(!1),[N,T]=g.useState(!1),[j,A]=g.useState({}),[R,k]=g.useState(()=>{const fe=localStorage.getItem("adminViewedRequests");return fe?new Set(JSON.parse(fe)):new Set}),[O,P]=g.useState(!1),[D,z]=g.useState(null),[M,V]=g.useState(!1),[L,$]=g.useState(null);g.useEffect(()=>{y&&b(y.status)},[y]);const{data:G=[],isLoading:q,isError:U,refetch:X}=Xi({queryKey:["allRequests",n],queryFn:()=>Nm(n),enabled:r});g.useEffect(()=>{(()=>{const $e={};G.forEach(Xe=>{const Ar=(Xe.messages||[]).filter(lr=>!lr.isAdmin&&!R.has(`${Xe.id}-${lr.timestamp.toMillis()}`)).length;Ar>0&&($e[Xe.id]=Ar)}),A($e)})()},[G,R]);const ie=async(fe=[])=>{try{return(await Promise.all(fe.map(async Xe=>{if(w.current.has(Xe))return w.current.get(Xe);const vt=bt(Ue,"equipment",Xe),Ar=await Zs(vt);return Ar.exists()&&w.current.set(Xe,Ar.data()),Ar.data()}))).filter(Boolean).map(Xe=>(Xe==null?void 0:Xe.name)||"Equipamento desconhecido")}catch($e){return console.error("Error getting equipment details:",$e),[]}},le=async fe=>{try{T(!0);const $e=await lf(fe.id,fe.collectionName);let Xe=[];$e.type==="reservation"&&$e.equipmentIds&&(Xe=await ie($e.equipmentIds)),_($e),v(Xe),E(!0)}catch{Ke.error("Erro ao carregar detalhes")}finally{T(!1)}},xe=async fe=>{try{const $e=await lf(fe.id,fe.collectionName);z($e);const Xe=new Set(R);($e.messages||[]).forEach(vt=>{vt.isAdmin||Xe.add(`${$e.id}-${vt.timestamp.toMillis()}`)}),localStorage.setItem("adminViewedRequests",JSON.stringify(Array.from(Xe))),k(Xe),A(vt=>({...vt,[$e.id]:0})),P(!0)}catch{Ke.error("Erro ao abrir chat")}},ce=fe=>{$(fe),V(!0)},Q=async()=>{if(L)try{await Sf(bt(Ue,L.collectionName,L.id)),await ty({title:"Solicitação Excluída",message:"Sua solicitação foi excluída pelo administrador.",link:"minhas-solicitacoes",recipients:[L.userEmail],createdAt:void 0,readBy:[],isBatch:!1}),X(),E(!1),t.invalidateQueries({queryKey:["notifications"]})}catch{Ke.error("Erro ao excluir solicitação")}finally{V(!1),$(null)}},Y=async()=>{if(!(!y||!m))try{await Rn(bt(Ue,y.collectionName,y.id),{status:m,history:Xv({status:m,message:`Status alterado por ${(e==null?void 0:e.displayName)||(e==null?void 0:e.email)}`,timestamp:Tt.now()})}),await ty({title:"Status Atualizado",message:`Sua solicitação teve o status alterado para ${m}.`,link:"minhas-solicitacoes",recipients:[y.userEmail],createdAt:void 0,readBy:[],isBatch:!1}),X(),Ke.success("Status atualizado com sucesso")}catch{Ke.error("Erro ao atualizar status")}},ee=G.filter(fe=>fe.status==="pending").length,se=G.filter(fe=>fe.status==="approved").length,J=G.filter(fe=>fe.status==="in-progress").length,je=G.filter(fe=>{var Xe,vt,Ar,lr,W;const $e=s.toLowerCase();return(((Xe=fe.userName)==null?void 0:Xe.toLowerCase().includes($e))||((vt=fe.userEmail)==null?void 0:vt.toLowerCase().includes($e))||((Ar=fe.purpose)==null?void 0:Ar.toLowerCase().includes($e))||((lr=fe.itemName)==null?void 0:lr.toLowerCase().includes($e))||((W=fe.location)==null?void 0:W.toLowerCase().includes($e)))&&o.includes(fe.type)&&u.includes(fe.status)&&(r||fe.status!=="canceled")&&(fe.type==="support"&&f.includes(fe.tipo)||fe.type==="purchase"&&f.includes(fe.tipo)||fe.type==="reservation")});return l.jsx(cn,{children:l.jsxs("div",{className:"min-h-screen bg-white overflow-hidden relative",children:[l.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2 bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:[l.jsx(Pa,{className:"text-eccos-purple",size:35}),"Gerenciamento de Solicitações"]}),l.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[l.jsx("div",{className:"absolute left-1/4 top-1/4 h-96 w-96 rounded-full bg-sidebar blur-3xl opacity-5"}),l.jsx("div",{className:"absolute right-1/4 bottom-1/4 h-80 w-80 rounded-full bg-eccos-purple blur-3xl opacity-5"})]}),l.jsxs("div",{className:"relative z-10 space-y-8 p-6 md:p-12",children:[l.jsxs("div",{className:"grid gap-4 grid-cols-2 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3",children:[l.jsxs(tt,{className:"bg-white border border-gray-100 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300",children:[l.jsx(qt,{className:"pb-2",children:l.jsx(Wt,{className:"text-sm font-medium text-gray-600",children:"Pendentes"})}),l.jsxs(mt,{children:[l.jsx("div",{className:"text-2xl font-bold text-sidebar",children:ee}),l.jsx(_e,{variant:"outline",className:"mt-2 border-sidebar text-sidebar",children:"Pendências"})]})]}),l.jsxs(tt,{className:"bg-white border border-gray-100 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300",children:[l.jsx(qt,{className:"pb-2",children:l.jsx(Wt,{className:"text-sm font-medium text-gray-600",children:"Aprovadas"})}),l.jsxs(mt,{children:[l.jsx("div",{className:"text-2xl font-bold text-sidebar",children:se}),l.jsx(_e,{variant:"outline",className:"mt-2 border-sidebar text-sidebar",children:"Concluídas"})]})]}),l.jsxs(tt,{className:"bg-white border border-gray-100 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300",children:[l.jsx(qt,{className:"pb-2",children:l.jsx(Wt,{className:"text-sm font-medium text-gray-600",children:"Em Progresso"})}),l.jsxs(mt,{children:[l.jsx("div",{className:"text-2xl font-bold text-sidebar",children:J}),l.jsx(_e,{variant:"outline",className:"mt-2 border-sidebar text-sidebar",children:"Processando"})]})]})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[l.jsxs("div",{className:"relative flex-1 max-w-md",children:[l.jsx(yf,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),l.jsx(or,{placeholder:"Pesquisar por nome, email, finalidade ou local...",value:s,onChange:fe=>a(fe.target.value),className:"pl-10 rounded-lg border-gray-200 focus:border-eccos-purple"})]}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsxs(ys,{children:[l.jsx(xs,{asChild:!0,children:l.jsxs(oe,{variant:"outline",className:"flex items-center gap-2 border-gray-200 hover:bg-gray-50 text-gray-700",children:[l.jsx(wl,{className:"h-4 w-4 text-eccos-purple"}),"Categoria",l.jsx(qs,{className:"h-4 w-4"})]})}),l.jsx(qi,{align:"end",className:"bg-white border border-gray-100",children:["reservation","purchase","support"].map(fe=>l.jsxs(Ta,{checked:o.includes(fe),onCheckedChange:$e=>{c($e?[...o,fe]:o.filter(Xe=>Xe!==fe))},className:"flex items-center gap-2 hover:bg-gray-50",children:[_j(fe),Ej(fe)]},fe))})]}),l.jsxs(ys,{children:[l.jsx(xs,{asChild:!0,children:l.jsxs(oe,{variant:"outline",className:"flex items-center gap-2 border-gray-200 hover:bg-gray-50 text-gray-700",children:[l.jsx(wl,{className:"h-4 w-4 text-eccos-purple"}),"Status",l.jsx(qs,{className:"h-4 w-4"})]})}),l.jsx(qi,{align:"end",className:"bg-white border border-gray-100",children:["pending","approved","rejected","in-progress","completed"].map(fe=>l.jsx(Ta,{checked:u.includes(fe),onCheckedChange:$e=>{d($e?[...u,fe]:u.filter(Xe=>Xe!==fe))},className:"hover:bg-gray-50",children:vg(fe)},fe))})]}),l.jsxs(ys,{children:[l.jsx(xs,{asChild:!0,children:l.jsxs(oe,{variant:"outline",className:"flex items-center gap-2 border-gray-200 hover:bg-gray-50 text-gray-700",children:[l.jsx(wl,{className:"h-4 w-4 text-eccos-purple"}),"Tipo",l.jsx(qs,{className:"h-4 w-4"})]})}),l.jsx(qi,{align:"end",className:"bg-white border border-gray-100",children:["Compra Pedagógica","Compra Administrativa","Compra Infraestrutura","Manutenção","Tecnologia"].map(fe=>l.jsx(Ta,{checked:f.includes(fe),onCheckedChange:$e=>{h($e?[...f,fe]:f.filter(Xe=>Xe!==fe))},className:"hover:bg-gray-50",children:fe},fe))})]}),l.jsx(oe,{variant:"outline",onClick:()=>{i(!n),c(["reservation","purchase","support"]),d(r?["pending","approved","rejected","in-progress","completed","canceled"]:["pending","approved","in-progress","completed"]),h(["Manutenção","Tecnologia","Compra Pedagógica","Compra Administrativa","Compra Infraestrutura"])},className:"flex items-center gap-2 border-gray-200 hover:bg-gray-50 text-gray-700",children:n?l.jsxs(l.Fragment,{children:[l.jsx(kd,{className:"h-4 w-4"}),"Ocultar Finalizadas"]}):l.jsxs(l.Fragment,{children:[l.jsx(kd,{className:"h-4 w-4"}),"Mostrar Todas"]})})]})]}),q?l.jsx("div",{className:"flex justify-center items-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-eccos-purple"})}):U?l.jsx("div",{className:"text-center text-red-500 p-4 border border-red-200 rounded-xl bg-red-50",children:"Erro ao carregar solicitações"}):je.length===0?l.jsx("div",{className:"text-center text-gray-500 p-8 border border-dashed rounded-xl bg-gray-50",children:"Nenhuma solicitação encontrada"}):l.jsx("div",{className:"rounded-lg border border-gray-100 overflow-hidden bg-white shadow-sm",children:l.jsxs($u,{children:[l.jsx(Fu,{className:"bg-gray-50",children:l.jsxs(Un,{children:[l.jsx(dr,{className:"text-center font-medium text-gray-600 w-[20%]",children:"Tipo"}),l.jsx(dr,{className:"text-center font-medium text-gray-600 w-[25%]",children:"Usuário"}),l.jsx(dr,{className:"text-center font-medium text-gray-600 w-[25%]",children:"Status"}),l.jsx(dr,{className:"text-center font-medium text-gray-600 w-[30%]",children:"Ações"})]})}),l.jsx(Vu,{children:je.map(fe=>l.jsxs(Un,{className:"hover:bg-gray-50",children:[l.jsx(tr,{className:"text-center align-middle p-2 md:p-4",children:l.jsxs("div",{className:"flex items-center justify-center",children:[_j(fe.type),l.jsx("span",{className:"font-medium hidden md:inline ml-2",children:Ej(fe.type)})]})}),l.jsx(tr,{className:"text-center align-middle",children:fe.userName}),l.jsx(tr,{className:"text-center align-middle",children:l.jsx("div",{className:"flex justify-center",children:vg(fe.status)})}),l.jsx(tr,{className:"text-center align-middle",children:l.jsxs("div",{className:"flex justify-center items-center gap-2",children:[l.jsx(oe,{variant:"ghost",size:"icon",className:"h-8 w-8 text-gray-600 hover:bg-gray-100",onClick:()=>le(fe),title:"Detalhes",children:l.jsx(kd,{className:"h-4 w-4"})}),l.jsxs(oe,{variant:"ghost",size:"icon",className:"h-8 w-8 relative text-gray-600 hover:bg-gray-100",onClick:()=>xe(fe),title:"Chat",children:[l.jsx(J1,{className:"h-4 w-4"}),j[fe.id]>0&&l.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:j[fe.id]})]})]})})]},`${fe.collectionName}-${fe.id}`))})]})}),l.jsx(ts,{open:S,onOpenChange:E,children:l.jsx(Ii,{className:"max-w-3xl bg-white border border-gray-100 max-h-[90vh] overflow-y-auto",children:N?l.jsx("div",{className:"flex justify-center items-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-eccos-purple"})}):y?l.jsxs(l.Fragment,{children:[l.jsxs(rs,{children:[l.jsxs(Oi,{className:"flex items-center gap-2",children:[_j(y.type),l.jsxs("span",{className:"bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:[Ej(y.type)," - ",y.userName||y.userEmail]})]}),l.jsx(As,{asChild:!0,children:l.jsxs("div",{className:"flex items-center justify-between text-gray-500 px-1",children:[l.jsx("div",{children:Dt(y.createdAt.toDate(),"dd/MM/yyyy HH:mm")}),l.jsx("div",{children:vg(y.status)})]})})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto space-y-6 py-4",children:[y.type==="reservation"&&l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Data"}),l.jsx("p",{className:"text-gray-700",children:Dt(y.date.toDate(),"dd/MM/yyyy")})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Horário"}),l.jsxs("p",{className:"text-gray-700",children:[y.startTime," - ",y.endTime]})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Finalidade"}),l.jsx("p",{className:"text-gray-700",children:y.purpose})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Local"}),l.jsx("p",{className:"text-gray-700",children:y.location})]}),l.jsxs("div",{className:"col-span-2",children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Equipamentos"}),l.jsx("ul",{className:"list-disc pl-5 text-gray-700",children:p.map((fe,$e)=>l.jsx("li",{children:fe},$e))})]})]}),y.type==="purchase"&&l.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Item"}),l.jsx("p",{className:"text-gray-700",children:y.itemName})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Quantidade"}),l.jsx("p",{className:"text-gray-700",children:y.quantity})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Valor Unitário"}),l.jsx("p",{className:"text-gray-700",children:(Ae=y.unitPrice)==null?void 0:Ae.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Valor Total"}),l.jsx("div",{className:"bg-eccos-purple/10 p-2 rounded-md",children:l.jsx("p",{className:"text-lg font-semibold text-eccos-purple",children:(y.quantity*y.unitPrice).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})})]})]}),y.type==="support"&&l.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Tipo"}),l.jsx("p",{className:"text-gray-700",children:y.tipo})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Unidade"}),l.jsx("p",{className:"text-gray-700",children:y.unit})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Localização"}),l.jsx("p",{className:"text-gray-700",children:y.location})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Categoria"}),l.jsx("p",{className:"text-gray-700",children:y.category})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Prioridade"}),l.jsx("p",{className:"text-gray-700",children:IQe(y.priority)})]}),y.deviceInfo&&l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Identificação do Equipamento"}),l.jsx("p",{className:"text-gray-700",children:y.deviceInfo})]}),l.jsxs("div",{className:"col-span-full",children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Descrição"}),l.jsx("pre",{className:"whitespace-pre-wrap font-sans text-gray-700",children:y.description})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs(ys,{children:[l.jsx(xs,{asChild:!0,children:l.jsxs(oe,{variant:"outline",className:"flex items-center gap-2",children:["Alterar Status",l.jsx(qs,{className:"h-4 w-4"})]})}),l.jsx(qi,{children:["pending","approved","rejected","in-progress","completed"].map(fe=>l.jsx(Ta,{checked:m===fe,onCheckedChange:()=>b(fe),children:vg(fe)},fe))})]}),l.jsx(oe,{onClick:Y,disabled:!m||m===y.status,children:"Salvar"})]}),l.jsxs("div",{className:"space-y-4 pt-4 border-t border-gray-100",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-800",children:"Histórico"}),l.jsx("div",{className:"space-y-2",children:((ct=y.history)==null?void 0:ct.map((fe,$e)=>l.jsxs("div",{className:"flex items-center gap-3 p-2 bg-gray-50 rounded",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:Dt(fe.timestamp.toDate(),"dd/MM/yyyy HH:mm")}),l.jsx("p",{className:"text-sm text-gray-500",children:fe.message})]}),vg(fe.status)]},$e)))||l.jsx("p",{className:"text-gray-500 text-sm",children:"Nenhum histórico registrado"})})]})]}),l.jsx(ju,{className:"pt-4 border-t border-gray-100 gap-2",children:l.jsxs(oe,{variant:"destructive",onClick:()=>ce(y),children:[l.jsx(Ll,{className:"h-4 w-4 mr-2"}),"Excluir Solicitação"]})})]}):l.jsx("div",{className:"text-center p-4 text-red-500",children:"Nenhuma solicitação selecionada"})})}),l.jsx(Cu,{open:M,onOpenChange:V,children:l.jsxs(Zl,{className:"bg-white border border-gray-100",children:[l.jsxs(Jl,{children:[l.jsx(ec,{className:"text-gray-800",children:"Confirmar exclusão"}),l.jsx(Au,{className:"text-gray-600",children:"Tem certeza que deseja excluir permanentemente esta solicitação?"})]}),l.jsxs(_m,{children:[l.jsx(Ru,{className:"border-gray-200 text-gray-700",children:"Cancelar"}),l.jsx(Pu,{onClick:Q,className:"bg-red-600 hover:bg-red-700 text-white",children:"Confirmar Exclusão"})]})]})}),l.jsx(SM,{request:D,isOpen:O,onOpenChange:P,onMessageSent:X})]})]})})};var ix=t=>t.type==="checkbox",bd=t=>t instanceof Date,wi=t=>t==null;const fre=t=>typeof t=="object";var ln=t=>!wi(t)&&!Array.isArray(t)&&fre(t)&&!bd(t),hre=t=>ln(t)&&t.target?ix(t.target)?t.target.checked:t.target.value:t,MQe=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,pre=(t,e)=>t.has(MQe(e)),DQe=t=>{const e=t.constructor&&t.constructor.prototype;return ln(e)&&e.hasOwnProperty("isPrototypeOf")},$M=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function On(t){let e;const r=Array.isArray(t),n=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!($M&&(t instanceof Blob||n))&&(r||ln(t)))if(e=r?[]:{},!r&&!DQe(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=On(t[i]));else return t;return e}var tN=t=>Array.isArray(t)?t.filter(Boolean):[],tn=t=>t===void 0,Ce=(t,e,r)=>{if(!e||!ln(t))return r;const n=tN(e.split(/[,[\].]+?/)).reduce((i,s)=>wi(i)?i:i[s],t);return tn(n)||n===t?tn(t[e])?r:t[e]:n},ds=t=>typeof t=="boolean",FM=t=>/^\w*$/.test(t),mre=t=>tN(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Yt=(t,e,r)=>{let n=-1;const i=FM(e)?[e]:mre(e),s=i.length,a=s-1;for(;++n<s;){const o=i[n];let c=r;if(n!==a){const u=t[o];c=ln(u)||Array.isArray(u)?u:isNaN(+i[n+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;t[o]=c,t=t[o]}};const y1={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Sa={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},el={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},gre=B.createContext(null),rN=()=>B.useContext(gre),LQe=t=>{const{children:e,...r}=t;return B.createElement(gre.Provider,{value:r},e)};var vre=(t,e,r,n=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const a=s;return e._proxyFormState[a]!==Sa.all&&(e._proxyFormState[a]=!n||Sa.all),r&&(r[a]=!0),t[a]}});return i};const VM=typeof window<"u"?g.useLayoutEffect:g.useEffect;function $Qe(t){const e=rN(),{control:r=e.control,disabled:n,name:i,exact:s}=t||{},[a,o]=B.useState(r._formState),c=B.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return VM(()=>r._subscribe({name:i,formState:c.current,exact:s,callback:u=>{!n&&o({...r._formState,...u})}}),[i,n,s]),B.useEffect(()=>{c.current.isValid&&r._setValid(!0)},[r]),B.useMemo(()=>vre(a,r,c.current,!1),[a,r])}var mo=t=>typeof t=="string",yre=(t,e,r,n,i)=>mo(t)?(n&&e.watch.add(t),Ce(r,t,i)):Array.isArray(t)?t.map(s=>(n&&e.watch.add(s),Ce(r,s))):(n&&(e.watchAll=!0),r);function FQe(t){const e=rN(),{control:r=e.control,name:n,defaultValue:i,disabled:s,exact:a}=t||{},o=B.useRef(i),[c,u]=B.useState(r._getWatch(n,o.current));return VM(()=>r._subscribe({name:n,formState:{values:!0},exact:a,callback:d=>!s&&u(yre(n,r._names,d.values||r._formValues,!1,o.current))}),[n,r,s,a]),B.useEffect(()=>r._removeUnmounted()),c}function VQe(t){const e=rN(),{name:r,disabled:n,control:i=e.control,shouldUnregister:s}=t,a=pre(i._names.array,r),o=FQe({control:i,name:r,defaultValue:Ce(i._formValues,r,Ce(i._defaultValues,r,t.defaultValue)),exact:!0}),c=$Qe({control:i,name:r,exact:!0}),u=B.useRef(t),d=B.useRef(i.register(r,{...t.rules,value:o,...ds(t.disabled)?{disabled:t.disabled}:{}})),f=B.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Ce(c.errors,r)},isDirty:{enumerable:!0,get:()=>!!Ce(c.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!Ce(c.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!Ce(c.validatingFields,r)},error:{enumerable:!0,get:()=>Ce(c.errors,r)}}),[c,r]),h=B.useCallback(b=>d.current.onChange({target:{value:hre(b),name:r},type:y1.CHANGE}),[r]),p=B.useCallback(()=>d.current.onBlur({target:{value:Ce(i._formValues,r),name:r},type:y1.BLUR}),[r,i._formValues]),v=B.useCallback(b=>{const w=Ce(i._fields,r);w&&b&&(w._f.ref={focus:()=>b.focus(),select:()=>b.select(),setCustomValidity:y=>b.setCustomValidity(y),reportValidity:()=>b.reportValidity()})},[i._fields,r]),m=B.useMemo(()=>({name:r,value:o,...ds(n)||c.disabled?{disabled:c.disabled||n}:{},onChange:h,onBlur:p,ref:v}),[r,n,c.disabled,h,p,v,o]);return B.useEffect(()=>{const b=i._options.shouldUnregister||s;i.register(r,{...u.current.rules,...ds(u.current.disabled)?{disabled:u.current.disabled}:{}});const w=(y,_)=>{const S=Ce(i._fields,y);S&&S._f&&(S._f.mount=_)};if(w(r,!0),b){const y=On(Ce(i._options.defaultValues,r));Yt(i._defaultValues,r,y),tn(Ce(i._formValues,r))&&Yt(i._formValues,r,y)}return!a&&i.register(r),()=>{(a?b&&!i._state.action:b)?i.unregister(r):w(r,!1)}},[r,i,a,s]),B.useEffect(()=>{i._setDisabledField({disabled:n,name:r})},[n,r,i]),B.useMemo(()=>({field:m,formState:c,fieldState:f}),[m,c,f])}const BQe=t=>t.render(VQe(t));var xre=(t,e,r,n,i)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:i||!0}}:{},fv=t=>Array.isArray(t)?t:[t],ZB=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}},b2=t=>wi(t)||!fre(t);function jc(t,e){if(b2(t)||b2(e))return t===e;if(bd(t)&&bd(e))return t.getTime()===e.getTime();const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(const i of r){const s=t[i];if(!n.includes(i))return!1;if(i!=="ref"){const a=e[i];if(bd(s)&&bd(a)||ln(s)&&ln(a)||Array.isArray(s)&&Array.isArray(a)?!jc(s,a):s!==a)return!1}}return!0}var xi=t=>ln(t)&&!Object.keys(t).length,BM=t=>t.type==="file",Na=t=>typeof t=="function",x1=t=>{if(!$M)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},bre=t=>t.type==="select-multiple",UM=t=>t.type==="radio",UQe=t=>UM(t)||ix(t),Sj=t=>x1(t)&&t.isConnected;function zQe(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=tn(t)?n++:t[e[n++]];return t}function qQe(t){for(const e in t)if(t.hasOwnProperty(e)&&!tn(t[e]))return!1;return!0}function vn(t,e){const r=Array.isArray(e)?e:FM(e)?[e]:mre(e),n=r.length===1?t:zQe(t,r),i=r.length-1,s=r[i];return n&&delete n[s],i!==0&&(ln(n)&&xi(n)||Array.isArray(n)&&qQe(n))&&vn(t,r.slice(0,-1)),t}var wre=t=>{for(const e in t)if(Na(t[e]))return!0;return!1};function b1(t,e={}){const r=Array.isArray(t);if(ln(t)||r)for(const n in t)Array.isArray(t[n])||ln(t[n])&&!wre(t[n])?(e[n]=Array.isArray(t[n])?[]:{},b1(t[n],e[n])):wi(t[n])||(e[n]=!0);return e}function _re(t,e,r){const n=Array.isArray(t);if(ln(t)||n)for(const i in t)Array.isArray(t[i])||ln(t[i])&&!wre(t[i])?tn(e)||b2(r[i])?r[i]=Array.isArray(t[i])?b1(t[i],[]):{...b1(t[i])}:_re(t[i],wi(e)?{}:e[i],r[i]):r[i]=!jc(t[i],e[i]);return r}var yg=(t,e)=>_re(t,e,b1(e));const JB={value:!1,isValid:!1},eU={value:!0,isValid:!0};var Ere=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!tn(t[0].attributes.value)?tn(t[0].value)||t[0].value===""?eU:{value:t[0].value,isValid:!0}:eU:JB}return JB},Sre=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>tn(t)?t:e?t===""?NaN:t&&+t:r&&mo(t)?new Date(t):n?n(t):t;const tU={isValid:!1,value:null};var Nre=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,tU):tU;function rU(t){const e=t.ref;return BM(e)?e.files:UM(e)?Nre(t.refs).value:bre(e)?[...e.selectedOptions].map(({value:r})=>r):ix(e)?Ere(t.refs).value:Sre(tn(e.value)?t.ref.value:e.value,t)}var WQe=(t,e,r,n)=>{const i={};for(const s of t){const a=Ce(e,s);a&&Yt(i,s,a._f)}return{criteriaMode:r,names:[...t],fields:i,shouldUseNativeValidation:n}},w1=t=>t instanceof RegExp,xg=t=>tn(t)?t:w1(t)?t.source:ln(t)?w1(t.value)?t.value.source:t.value:t,nU=t=>({isOnSubmit:!t||t===Sa.onSubmit,isOnBlur:t===Sa.onBlur,isOnChange:t===Sa.onChange,isOnAll:t===Sa.all,isOnTouch:t===Sa.onTouched});const iU="AsyncFunction";var HQe=t=>!!t&&!!t.validate&&!!(Na(t.validate)&&t.validate.constructor.name===iU||ln(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===iU)),KQe=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),sU=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const hv=(t,e,r,n)=>{for(const i of r||Object.keys(t)){const s=Ce(t,i);if(s){const{_f:a,...o}=s;if(a){if(a.refs&&a.refs[0]&&e(a.refs[0],i)&&!n)return!0;if(a.ref&&e(a.ref,a.name)&&!n)return!0;if(hv(o,e))break}else if(ln(o)&&hv(o,e))break}}};function aU(t,e,r){const n=Ce(t,r);if(n||FM(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const s=i.join("."),a=Ce(e,s),o=Ce(t,s);if(a&&!Array.isArray(a)&&r!==s)return{name:r};if(o&&o.type)return{name:s,error:o};i.pop()}return{name:r}}var GQe=(t,e,r,n)=>{r(t);const{name:i,...s}=t;return xi(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(a=>e[a]===(!n||Sa.all))},YQe=(t,e,r)=>!t||!e||t===e||fv(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n))),XQe=(t,e,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(e||t):(r?n.isOnBlur:i.isOnBlur)?!t:(r?n.isOnChange:i.isOnChange)?t:!0,QQe=(t,e)=>!tN(Ce(t,e)).length&&vn(t,e),ZQe=(t,e,r)=>{const n=fv(Ce(t,r));return Yt(n,"root",e[r]),Yt(t,r,n),t},ow=t=>mo(t);function oU(t,e,r="validate"){if(ow(t)||Array.isArray(t)&&t.every(ow)||ds(t)&&!t)return{type:r,message:ow(t)?t:"",ref:e}}var Gf=t=>ln(t)&&!w1(t)?t:{value:t,message:""},lU=async(t,e,r,n,i,s)=>{const{ref:a,refs:o,required:c,maxLength:u,minLength:d,min:f,max:h,pattern:p,validate:v,name:m,valueAsNumber:b,mount:w}=t._f,y=Ce(r,m);if(!w||e.has(m))return{};const _=o?o[0]:a,S=O=>{i&&_.reportValidity&&(_.setCustomValidity(ds(O)?"":O||""),_.reportValidity())},E={},N=UM(a),T=ix(a),j=N||T,A=(b||BM(a))&&tn(a.value)&&tn(y)||x1(a)&&a.value===""||y===""||Array.isArray(y)&&!y.length,R=xre.bind(null,m,n,E),k=(O,P,D,z=el.maxLength,M=el.minLength)=>{const V=O?P:D;E[m]={type:O?z:M,message:V,ref:a,...R(O?z:M,V)}};if(s?!Array.isArray(y)||!y.length:c&&(!j&&(A||wi(y))||ds(y)&&!y||T&&!Ere(o).isValid||N&&!Nre(o).isValid)){const{value:O,message:P}=ow(c)?{value:!!c,message:c}:Gf(c);if(O&&(E[m]={type:el.required,message:P,ref:_,...R(el.required,P)},!n))return S(P),E}if(!A&&(!wi(f)||!wi(h))){let O,P;const D=Gf(h),z=Gf(f);if(!wi(y)&&!isNaN(y)){const M=a.valueAsNumber||y&&+y;wi(D.value)||(O=M>D.value),wi(z.value)||(P=M<z.value)}else{const M=a.valueAsDate||new Date(y),V=G=>new Date(new Date().toDateString()+" "+G),L=a.type=="time",$=a.type=="week";mo(D.value)&&y&&(O=L?V(y)>V(D.value):$?y>D.value:M>new Date(D.value)),mo(z.value)&&y&&(P=L?V(y)<V(z.value):$?y<z.value:M<new Date(z.value))}if((O||P)&&(k(!!O,D.message,z.message,el.max,el.min),!n))return S(E[m].message),E}if((u||d)&&!A&&(mo(y)||s&&Array.isArray(y))){const O=Gf(u),P=Gf(d),D=!wi(O.value)&&y.length>+O.value,z=!wi(P.value)&&y.length<+P.value;if((D||z)&&(k(D,O.message,P.message),!n))return S(E[m].message),E}if(p&&!A&&mo(y)){const{value:O,message:P}=Gf(p);if(w1(O)&&!y.match(O)&&(E[m]={type:el.pattern,message:P,ref:a,...R(el.pattern,P)},!n))return S(P),E}if(v){if(Na(v)){const O=await v(y,r),P=oU(O,_);if(P&&(E[m]={...P,...R(el.validate,P.message)},!n))return S(P.message),E}else if(ln(v)){let O={};for(const P in v){if(!xi(O)&&!n)break;const D=oU(await v[P](y,r),_,P);D&&(O={...D,...R(P,D.message)},S(D.message),n&&(E[m]=O))}if(!xi(O)&&(E[m]={ref:_,...O},!n))return E}}return S(!0),E};const JQe={mode:Sa.onSubmit,reValidateMode:Sa.onChange,shouldFocusError:!0};function eZe(t={}){let e={...JQe,...t},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Na(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const n={};let i=ln(e.defaultValues)||ln(e.values)?On(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:On(i),a={action:!1,mount:!1,watch:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const h={array:ZB(),state:ZB()},p=nU(e.mode),v=nU(e.reValidateMode),m=e.criteriaMode===Sa.all,b=W=>te=>{clearTimeout(u),u=setTimeout(W,te)},w=async W=>{if(!e.disabled&&(d.isValid||f.isValid||W)){const te=e.resolver?xi((await A()).errors):await k(n,!0);te!==r.isValid&&h.state.next({isValid:te})}},y=(W,te)=>{!e.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((W||Array.from(o.mount)).forEach(ue=>{ue&&(te?Yt(r.validatingFields,ue,te):vn(r.validatingFields,ue))}),h.state.next({validatingFields:r.validatingFields,isValidating:!xi(r.validatingFields)}))},_=(W,te=[],ue,Te,pe=!0,he=!0)=>{if(Te&&ue&&!e.disabled){if(a.action=!0,he&&Array.isArray(Ce(n,W))){const Re=ue(Ce(n,W),Te.argA,Te.argB);pe&&Yt(n,W,Re)}if(he&&Array.isArray(Ce(r.errors,W))){const Re=ue(Ce(r.errors,W),Te.argA,Te.argB);pe&&Yt(r.errors,W,Re),QQe(r.errors,W)}if((d.touchedFields||f.touchedFields)&&he&&Array.isArray(Ce(r.touchedFields,W))){const Re=ue(Ce(r.touchedFields,W),Te.argA,Te.argB);pe&&Yt(r.touchedFields,W,Re)}(d.dirtyFields||f.dirtyFields)&&(r.dirtyFields=yg(i,s)),h.state.next({name:W,isDirty:P(W,te),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Yt(s,W,te)},S=(W,te)=>{Yt(r.errors,W,te),h.state.next({errors:r.errors})},E=W=>{r.errors=W,h.state.next({errors:r.errors,isValid:!1})},N=(W,te,ue,Te)=>{const pe=Ce(n,W);if(pe){const he=Ce(s,W,tn(ue)?Ce(i,W):ue);tn(he)||Te&&Te.defaultChecked||te?Yt(s,W,te?he:rU(pe._f)):M(W,he),a.mount&&w()}},T=(W,te,ue,Te,pe)=>{let he=!1,Re=!1;const yt={name:W};if(!e.disabled){if(!ue||Te){(d.isDirty||f.isDirty)&&(Re=r.isDirty,r.isDirty=yt.isDirty=P(),he=Re!==yt.isDirty);const Ht=jc(Ce(i,W),te);Re=!!Ce(r.dirtyFields,W),Ht?vn(r.dirtyFields,W):Yt(r.dirtyFields,W,!0),yt.dirtyFields=r.dirtyFields,he=he||(d.dirtyFields||f.dirtyFields)&&Re!==!Ht}if(ue){const Ht=Ce(r.touchedFields,W);Ht||(Yt(r.touchedFields,W,ue),yt.touchedFields=r.touchedFields,he=he||(d.touchedFields||f.touchedFields)&&Ht!==ue)}he&&pe&&h.state.next(yt)}return he?yt:{}},j=(W,te,ue,Te)=>{const pe=Ce(r.errors,W),he=(d.isValid||f.isValid)&&ds(te)&&r.isValid!==te;if(e.delayError&&ue?(c=b(()=>S(W,ue)),c(e.delayError)):(clearTimeout(u),c=null,ue?Yt(r.errors,W,ue):vn(r.errors,W)),(ue?!jc(pe,ue):pe)||!xi(Te)||he){const Re={...Te,...he&&ds(te)?{isValid:te}:{},errors:r.errors,name:W};r={...r,...Re},h.state.next(Re)}},A=async W=>{y(W,!0);const te=await e.resolver(s,e.context,WQe(W||o.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return y(W),te},R=async W=>{const{errors:te}=await A(W);if(W)for(const ue of W){const Te=Ce(te,ue);Te?Yt(r.errors,ue,Te):vn(r.errors,ue)}else r.errors=te;return te},k=async(W,te,ue={valid:!0})=>{for(const Te in W){const pe=W[Te];if(pe){const{_f:he,...Re}=pe;if(he){const yt=o.array.has(he.name),Ht=pe._f&&HQe(pe._f);Ht&&d.validatingFields&&y([Te],!0);const Zt=await lU(pe,o.disabled,s,m,e.shouldUseNativeValidation&&!te,yt);if(Ht&&d.validatingFields&&y([Te]),Zt[he.name]&&(ue.valid=!1,te))break;!te&&(Ce(Zt,he.name)?yt?ZQe(r.errors,Zt,he.name):Yt(r.errors,he.name,Zt[he.name]):vn(r.errors,he.name))}!xi(Re)&&await k(Re,te,ue)}}return ue.valid},O=()=>{for(const W of o.unMount){const te=Ce(n,W);te&&(te._f.refs?te._f.refs.every(ue=>!Sj(ue)):!Sj(te._f.ref))&&Y(W)}o.unMount=new Set},P=(W,te)=>!e.disabled&&(W&&te&&Yt(s,W,te),!jc(U(),i)),D=(W,te,ue)=>yre(W,o,{...a.mount?s:tn(te)?i:mo(W)?{[W]:te}:te},ue,te),z=W=>tN(Ce(a.mount?s:i,W,e.shouldUnregister?Ce(i,W,[]):[])),M=(W,te,ue={})=>{const Te=Ce(n,W);let pe=te;if(Te){const he=Te._f;he&&(!he.disabled&&Yt(s,W,Sre(te,he)),pe=x1(he.ref)&&wi(te)?"":te,bre(he.ref)?[...he.ref.options].forEach(Re=>Re.selected=pe.includes(Re.value)):he.refs?ix(he.ref)?he.refs.length>1?he.refs.forEach(Re=>(!Re.defaultChecked||!Re.disabled)&&(Re.checked=Array.isArray(pe)?!!pe.find(yt=>yt===Re.value):pe===Re.value)):he.refs[0]&&(he.refs[0].checked=!!pe):he.refs.forEach(Re=>Re.checked=Re.value===pe):BM(he.ref)?he.ref.value="":(he.ref.value=pe,he.ref.type||h.state.next({name:W,values:On(s)})))}(ue.shouldDirty||ue.shouldTouch)&&T(W,pe,ue.shouldTouch,ue.shouldDirty,!0),ue.shouldValidate&&q(W)},V=(W,te,ue)=>{for(const Te in te){const pe=te[Te],he=`${W}.${Te}`,Re=Ce(n,he);(o.array.has(W)||ln(pe)||Re&&!Re._f)&&!bd(pe)?V(he,pe,ue):M(he,pe,ue)}},L=(W,te,ue={})=>{const Te=Ce(n,W),pe=o.array.has(W),he=On(te);Yt(s,W,he),pe?(h.array.next({name:W,values:On(s)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&ue.shouldDirty&&h.state.next({name:W,dirtyFields:yg(i,s),isDirty:P(W,he)})):Te&&!Te._f&&!wi(he)?V(W,he,ue):M(W,he,ue),sU(W,o)&&h.state.next({...r}),h.state.next({name:a.mount?W:void 0,values:On(s)})},$=async W=>{a.mount=!0;const te=W.target;let ue=te.name,Te=!0;const pe=Ce(n,ue),he=Re=>{Te=Number.isNaN(Re)||bd(Re)&&isNaN(Re.getTime())||jc(Re,Ce(s,ue,Re))};if(pe){let Re,yt;const Ht=te.type?rU(pe._f):hre(W),Zt=W.type===y1.BLUR||W.type===y1.FOCUS_OUT,is=!KQe(pe._f)&&!e.resolver&&!Ce(r.errors,ue)&&!pe._f.deps||XQe(Zt,Ce(r.touchedFields,ue),r.isSubmitted,v,p),ss=sU(ue,o,Zt);Yt(s,ue,Ht),Zt?(pe._f.onBlur&&pe._f.onBlur(W),c&&c(0)):pe._f.onChange&&pe._f.onChange(W);const Gn=T(ue,Ht,Zt),Ya=!xi(Gn)||ss;if(!Zt&&h.state.next({name:ue,type:W.type,values:On(s)}),is)return(d.isValid||f.isValid)&&(e.mode==="onBlur"?Zt&&w():Zt||w()),Ya&&h.state.next({name:ue,...ss?{}:Gn});if(!Zt&&ss&&h.state.next({...r}),e.resolver){const{errors:Mi}=await A([ue]);if(he(Ht),Te){const Xa=aU(r.errors,n,ue),na=aU(Mi,n,Xa.name||ue);Re=na.error,ue=na.name,yt=xi(Mi)}}else y([ue],!0),Re=(await lU(pe,o.disabled,s,m,e.shouldUseNativeValidation))[ue],y([ue]),he(Ht),Te&&(Re?yt=!1:(d.isValid||f.isValid)&&(yt=await k(n,!0)));Te&&(pe._f.deps&&q(pe._f.deps),j(ue,yt,Re,Gn))}},G=(W,te)=>{if(Ce(r.errors,te)&&W.focus)return W.focus(),1},q=async(W,te={})=>{let ue,Te;const pe=fv(W);if(e.resolver){const he=await R(tn(W)?W:pe);ue=xi(he),Te=W?!pe.some(Re=>Ce(he,Re)):ue}else W?(Te=(await Promise.all(pe.map(async he=>{const Re=Ce(n,he);return await k(Re&&Re._f?{[he]:Re}:Re)}))).every(Boolean),!(!Te&&!r.isValid)&&w()):Te=ue=await k(n);return h.state.next({...!mo(W)||(d.isValid||f.isValid)&&ue!==r.isValid?{}:{name:W},...e.resolver||!W?{isValid:ue}:{},errors:r.errors}),te.shouldFocus&&!Te&&hv(n,G,W?pe:o.mount),Te},U=W=>{const te={...a.mount?s:i};return tn(W)?te:mo(W)?Ce(te,W):W.map(ue=>Ce(te,ue))},X=(W,te)=>({invalid:!!Ce((te||r).errors,W),isDirty:!!Ce((te||r).dirtyFields,W),error:Ce((te||r).errors,W),isValidating:!!Ce(r.validatingFields,W),isTouched:!!Ce((te||r).touchedFields,W)}),ie=W=>{W&&fv(W).forEach(te=>vn(r.errors,te)),h.state.next({errors:W?r.errors:{}})},le=(W,te,ue)=>{const Te=(Ce(n,W,{_f:{}})._f||{}).ref,pe=Ce(r.errors,W)||{},{ref:he,message:Re,type:yt,...Ht}=pe;Yt(r.errors,W,{...Ht,...te,ref:Te}),h.state.next({name:W,errors:r.errors,isValid:!1}),ue&&ue.shouldFocus&&Te&&Te.focus&&Te.focus()},xe=(W,te)=>Na(W)?h.state.subscribe({next:ue=>W(D(void 0,te),ue)}):D(W,te,!0),ce=W=>h.state.subscribe({next:te=>{YQe(W.name,te.name,W.exact)&&GQe(te,W.formState||d,vt,W.reRenderRoot)&&W.callback({values:{...s},...r,...te})}}).unsubscribe,Q=W=>(a.mount=!0,f={...f,...W.formState},ce({...W,formState:f})),Y=(W,te={})=>{for(const ue of W?fv(W):o.mount)o.mount.delete(ue),o.array.delete(ue),te.keepValue||(vn(n,ue),vn(s,ue)),!te.keepError&&vn(r.errors,ue),!te.keepDirty&&vn(r.dirtyFields,ue),!te.keepTouched&&vn(r.touchedFields,ue),!te.keepIsValidating&&vn(r.validatingFields,ue),!e.shouldUnregister&&!te.keepDefaultValue&&vn(i,ue);h.state.next({values:On(s)}),h.state.next({...r,...te.keepDirty?{isDirty:P()}:{}}),!te.keepIsValid&&w()},ee=({disabled:W,name:te})=>{(ds(W)&&a.mount||W||o.disabled.has(te))&&(W?o.disabled.add(te):o.disabled.delete(te))},se=(W,te={})=>{let ue=Ce(n,W);const Te=ds(te.disabled)||ds(e.disabled);return Yt(n,W,{...ue||{},_f:{...ue&&ue._f?ue._f:{ref:{name:W}},name:W,mount:!0,...te}}),o.mount.add(W),ue?ee({disabled:ds(te.disabled)?te.disabled:e.disabled,name:W}):N(W,!0,te.value),{...Te?{disabled:te.disabled||e.disabled}:{},...e.progressive?{required:!!te.required,min:xg(te.min),max:xg(te.max),minLength:xg(te.minLength),maxLength:xg(te.maxLength),pattern:xg(te.pattern)}:{},name:W,onChange:$,onBlur:$,ref:pe=>{if(pe){se(W,te),ue=Ce(n,W);const he=tn(pe.value)&&pe.querySelectorAll&&pe.querySelectorAll("input,select,textarea")[0]||pe,Re=UQe(he),yt=ue._f.refs||[];if(Re?yt.find(Ht=>Ht===he):he===ue._f.ref)return;Yt(n,W,{_f:{...ue._f,...Re?{refs:[...yt.filter(Sj),he,...Array.isArray(Ce(i,W))?[{}]:[]],ref:{type:he.type,name:W}}:{ref:he}}}),N(W,!1,void 0,he)}else ue=Ce(n,W,{}),ue._f&&(ue._f.mount=!1),(e.shouldUnregister||te.shouldUnregister)&&!(pre(o.array,W)&&a.action)&&o.unMount.add(W)}}},J=()=>e.shouldFocusError&&hv(n,G,o.mount),je=W=>{ds(W)&&(h.state.next({disabled:W}),hv(n,(te,ue)=>{const Te=Ce(n,ue);Te&&(te.disabled=Te._f.disabled||W,Array.isArray(Te._f.refs)&&Te._f.refs.forEach(pe=>{pe.disabled=Te._f.disabled||W}))},0,!1))},Ae=(W,te)=>async ue=>{let Te;ue&&(ue.preventDefault&&ue.preventDefault(),ue.persist&&ue.persist());let pe=On(s);if(h.state.next({isSubmitting:!0}),e.resolver){const{errors:he,values:Re}=await A();r.errors=he,pe=Re}else await k(n);if(o.disabled.size)for(const he of o.disabled)Yt(pe,he,void 0);if(vn(r.errors,"root"),xi(r.errors)){h.state.next({errors:{}});try{await W(pe,ue)}catch(he){Te=he}}else te&&await te({...r.errors},ue),J(),setTimeout(J);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:xi(r.errors)&&!Te,submitCount:r.submitCount+1,errors:r.errors}),Te)throw Te},ct=(W,te={})=>{Ce(n,W)&&(tn(te.defaultValue)?L(W,On(Ce(i,W))):(L(W,te.defaultValue),Yt(i,W,On(te.defaultValue))),te.keepTouched||vn(r.touchedFields,W),te.keepDirty||(vn(r.dirtyFields,W),r.isDirty=te.defaultValue?P(W,On(Ce(i,W))):P()),te.keepError||(vn(r.errors,W),d.isValid&&w()),h.state.next({...r}))},fe=(W,te={})=>{const ue=W?On(W):i,Te=On(ue),pe=xi(W),he=pe?i:Te;if(te.keepDefaultValues||(i=ue),!te.keepValues){if(te.keepDirtyValues){const Re=new Set([...o.mount,...Object.keys(yg(i,s))]);for(const yt of Array.from(Re))Ce(r.dirtyFields,yt)?Yt(he,yt,Ce(s,yt)):L(yt,Ce(he,yt))}else{if($M&&tn(W))for(const Re of o.mount){const yt=Ce(n,Re);if(yt&&yt._f){const Ht=Array.isArray(yt._f.refs)?yt._f.refs[0]:yt._f.ref;if(x1(Ht)){const Zt=Ht.closest("form");if(Zt){Zt.reset();break}}}}for(const Re of o.mount)L(Re,Ce(he,Re))}s=On(he),h.array.next({values:{...he}}),h.state.next({values:{...he}})}o={mount:te.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!d.isValid||!!te.keepIsValid||!!te.keepDirtyValues,a.watch=!!e.shouldUnregister,h.state.next({submitCount:te.keepSubmitCount?r.submitCount:0,isDirty:pe?!1:te.keepDirty?r.isDirty:!!(te.keepDefaultValues&&!jc(W,i)),isSubmitted:te.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:pe?{}:te.keepDirtyValues?te.keepDefaultValues&&s?yg(i,s):r.dirtyFields:te.keepDefaultValues&&W?yg(i,W):te.keepDirty?r.dirtyFields:{},touchedFields:te.keepTouched?r.touchedFields:{},errors:te.keepErrors?r.errors:{},isSubmitSuccessful:te.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},$e=(W,te)=>fe(Na(W)?W(s):W,te),Xe=(W,te={})=>{const ue=Ce(n,W),Te=ue&&ue._f;if(Te){const pe=Te.refs?Te.refs[0]:Te.ref;pe.focus&&(pe.focus(),te.shouldSelect&&Na(pe.select)&&pe.select())}},vt=W=>{r={...r,...W}},lr={control:{register:se,unregister:Y,getFieldState:X,handleSubmit:Ae,setError:le,_subscribe:ce,_runSchema:A,_getWatch:D,_getDirty:P,_setValid:w,_setFieldArray:_,_setDisabledField:ee,_setErrors:E,_getFieldArray:z,_reset:fe,_resetDefaultValues:()=>Na(e.defaultValues)&&e.defaultValues().then(W=>{$e(W,e.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:O,_disableForm:je,_subjects:h,_proxyFormState:d,get _fields(){return n},get _formValues(){return s},get _state(){return a},set _state(W){a=W},get _defaultValues(){return i},get _names(){return o},set _names(W){o=W},get _formState(){return r},get _options(){return e},set _options(W){e={...e,...W}}},subscribe:Q,trigger:q,register:se,handleSubmit:Ae,watch:xe,setValue:L,getValues:U,reset:$e,resetField:ct,clearErrors:ie,unregister:Y,setError:le,setFocus:Xe,getFieldState:X};return{...lr,formControl:lr}}function zM(t={}){const e=B.useRef(void 0),r=B.useRef(void 0),[n,i]=B.useState({isDirty:!1,isValidating:!1,isLoading:Na(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Na(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...t.formControl?t.formControl:eZe(t),formState:n},t.formControl&&t.defaultValues&&!Na(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions));const s=e.current.control;return s._options=t,VM(()=>{const a=s._subscribe({formState:s._proxyFormState,callback:()=>i({...s._formState}),reRenderRoot:!0});return i(o=>({...o,isReady:!0})),s._formState.isReady=!0,a},[s]),B.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),B.useEffect(()=>{t.mode&&(s._options.mode=t.mode),t.reValidateMode&&(s._options.reValidateMode=t.reValidateMode),t.errors&&!xi(t.errors)&&s._setErrors(t.errors)},[s,t.errors,t.mode,t.reValidateMode]),B.useEffect(()=>{t.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,t.shouldUnregister]),B.useEffect(()=>{if(s._proxyFormState.isDirty){const a=s._getDirty();a!==n.isDirty&&s._subjects.state.next({isDirty:a})}},[s,n.isDirty]),B.useEffect(()=>{t.values&&!jc(t.values,r.current)?(s._reset(t.values,s._options.resetOptions),r.current=t.values,i(a=>({...a}))):s._resetDefaultValues()},[s,t.values]),B.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),e.current.formState=vre(n,s),e.current}var Lt;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function r(i){throw new Error}t.assertNever=r,t.arrayToEnum=i=>{const s={};for(const a of i)s[a]=a;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(o=>typeof i[i[o]]!="number"),a={};for(const o of s)a[o]=i[o];return t.objectValues(a)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const a in i)Object.prototype.hasOwnProperty.call(i,a)&&s.push(a);return s},t.find=(i,s)=>{for(const a of i)if(s(a))return a},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function n(i,s=" | "){return i.map(a=>typeof a=="string"?`'${a}'`:a).join(s)}t.joinValues=n,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(Lt||(Lt={}));var w2;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(w2||(w2={}));const De=Lt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),al=t=>{switch(typeof t){case"undefined":return De.undefined;case"string":return De.string;case"number":return isNaN(t)?De.nan:De.number;case"boolean":return De.boolean;case"function":return De.function;case"bigint":return De.bigint;case"symbol":return De.symbol;case"object":return Array.isArray(t)?De.array:t===null?De.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?De.promise:typeof Map<"u"&&t instanceof Map?De.map:typeof Set<"u"&&t instanceof Set?De.set:typeof Date<"u"&&t instanceof Date?De.date:De.object;default:return De.unknown}},be=Lt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),tZe=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class Es extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(s){return s.message},n={_errors:[]},i=s=>{for(const a of s.issues)if(a.code==="invalid_union")a.unionErrors.map(i);else if(a.code==="invalid_return_type")i(a.returnTypeError);else if(a.code==="invalid_arguments")i(a.argumentsError);else if(a.path.length===0)n._errors.push(r(a));else{let o=n,c=0;for(;c<a.path.length;){const u=a.path[c];c===a.path.length-1?(o[u]=o[u]||{_errors:[]},o[u]._errors.push(r(a))):o[u]=o[u]||{_errors:[]},o=o[u],c++}}};return i(this),n}static assert(e){if(!(e instanceof Es))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Lt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const i of this.issues)i.path.length>0?(r[i.path[0]]=r[i.path[0]]||[],r[i.path[0]].push(e(i))):n.push(e(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Es.create=t=>new Es(t);const tm=(t,e)=>{let r;switch(t.code){case be.invalid_type:t.received===De.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case be.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,Lt.jsonStringifyReplacer)}`;break;case be.unrecognized_keys:r=`Unrecognized key(s) in object: ${Lt.joinValues(t.keys,", ")}`;break;case be.invalid_union:r="Invalid input";break;case be.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Lt.joinValues(t.options)}`;break;case be.invalid_enum_value:r=`Invalid enum value. Expected ${Lt.joinValues(t.options)}, received '${t.received}'`;break;case be.invalid_arguments:r="Invalid function arguments";break;case be.invalid_return_type:r="Invalid function return type";break;case be.invalid_date:r="Invalid date";break;case be.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:Lt.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case be.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case be.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case be.custom:r="Invalid input";break;case be.invalid_intersection_types:r="Intersection results could not be merged";break;case be.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case be.not_finite:r="Number must be finite";break;default:r=e.defaultError,Lt.assertNever(t)}return{message:r}};let Tre=tm;function rZe(t){Tre=t}function _1(){return Tre}const E1=t=>{const{data:e,path:r,errorMaps:n,issueData:i}=t,s=[...r,...i.path||[]],a={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let o="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)o=u(a,{data:e,defaultError:o}).message;return{...i,path:s,message:o}},nZe=[];function Pe(t,e){const r=_1(),n=E1({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===tm?void 0:tm].filter(i=>!!i)});t.common.issues.push(n)}class di{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const i of r){if(i.status==="aborted")return at;i.status==="dirty"&&e.dirty(),n.push(i.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const i of r){const s=await i.key,a=await i.value;n.push({key:s,value:a})}return di.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const i of r){const{key:s,value:a}=i;if(s.status==="aborted"||a.status==="aborted")return at;s.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof a.value<"u"||i.alwaysSet)&&(n[s.value]=a.value)}return{status:e.value,value:n}}}const at=Object.freeze({status:"aborted"}),Sh=t=>({status:"dirty",value:t}),Ai=t=>({status:"valid",value:t}),_2=t=>t.status==="aborted",E2=t=>t.status==="dirty",ff=t=>t.status==="valid",Uy=t=>typeof Promise<"u"&&t instanceof Promise;function S1(t,e,r,n){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function jre(t,e,r,n,i){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,r),r}var We;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(We||(We={}));var $g,Fg;class Fo{constructor(e,r,n,i){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const cU=(t,e)=>{if(ff(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Es(t.common.issues);return this._error=r,this._error}}};function gt(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:i}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(a,o)=>{var c,u;const{message:d}=t;return a.code==="invalid_enum_value"?{message:d??o.defaultError}:typeof o.data>"u"?{message:(c=d??n)!==null&&c!==void 0?c:o.defaultError}:a.code!=="invalid_type"?{message:o.defaultError}:{message:(u=d??r)!==null&&u!==void 0?u:o.defaultError}},description:i}}class Et{get description(){return this._def.description}_getType(e){return al(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:al(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new di,ctx:{common:e.parent.common,data:e.data,parsedType:al(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(Uy(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){var n;const i={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:al(e)},s=this._parseSync({data:e,path:i.path,parent:i});return cU(i,s)}"~validate"(e){var r,n;const i={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:al(e)};if(!this["~standard"].async)try{const s=this._parseSync({data:e,path:[],parent:i});return ff(s)?{value:s.value}:{issues:i.common.issues}}catch(s){!((n=(r=s==null?void 0:s.message)===null||r===void 0?void 0:r.toLowerCase())===null||n===void 0)&&n.includes("encountered")&&(this["~standard"].async=!0),i.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:i}).then(s=>ff(s)?{value:s.value}:{issues:i.common.issues})}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:al(e)},i=this._parse({data:e,path:n.path,parent:n}),s=await(Uy(i)?i:Promise.resolve(i));return cU(n,s)}refine(e,r){const n=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,s)=>{const a=e(i),o=()=>s.addIssue({code:be.custom,...n(i)});return typeof Promise<"u"&&a instanceof Promise?a.then(c=>c?!0:(o(),!1)):a?!0:(o(),!1)})}refinement(e,r){return this._refinement((n,i)=>e(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(e){return new za({schema:this,typeName:it.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return ko.create(this,this._def)}nullable(){return vu.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ia.create(this)}promise(){return nm.create(this,this._def)}or(e){return Hy.create([this,e],this._def)}and(e){return Ky.create(this,e,this._def)}transform(e){return new za({...gt(this._def),schema:this,typeName:it.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new Zy({...gt(this._def),innerType:this,defaultValue:r,typeName:it.ZodDefault})}brand(){return new qM({typeName:it.ZodBranded,type:this,...gt(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new Jy({...gt(this._def),innerType:this,catchValue:r,typeName:it.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return sx.create(this,e)}readonly(){return e0.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const iZe=/^c[^\s-]{8,}$/i,sZe=/^[0-9a-z]+$/,aZe=/^[0-9A-HJKMNP-TV-Z]{26}$/i,oZe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,lZe=/^[a-z0-9_-]{21}$/i,cZe=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,uZe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,dZe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,fZe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Nj;const hZe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,pZe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,mZe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,gZe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,vZe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,yZe=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Cre="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",xZe=new RegExp(`^${Cre}$`);function Are(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const r=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${r}`}function bZe(t){return new RegExp(`^${Are(t)}$`)}function Pre(t){let e=`${Cre}T${Are(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function wZe(t,e){return!!((e==="v4"||!e)&&hZe.test(t)||(e==="v6"||!e)&&mZe.test(t))}function _Ze(t,e){if(!cZe.test(t))return!1;try{const[r]=t.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),i=JSON.parse(atob(n));return!(typeof i!="object"||i===null||!i.typ||!i.alg||e&&i.alg!==e)}catch{return!1}}function EZe(t,e){return!!((e==="v4"||!e)&&pZe.test(t)||(e==="v6"||!e)&&gZe.test(t))}class ja extends Et{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==De.string){const s=this._getOrReturnCtx(e);return Pe(s,{code:be.invalid_type,expected:De.string,received:s.parsedType}),at}const n=new di;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),Pe(i,{code:be.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),Pe(i,{code:be.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="length"){const a=e.data.length>s.value,o=e.data.length<s.value;(a||o)&&(i=this._getOrReturnCtx(e,i),a?Pe(i,{code:be.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):o&&Pe(i,{code:be.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),n.dirty())}else if(s.kind==="email")dZe.test(e.data)||(i=this._getOrReturnCtx(e,i),Pe(i,{validation:"email",code:be.invalid_string,message:s.message}),n.dirty());else if(s.kind==="emoji")Nj||(Nj=new RegExp(fZe,"u")),Nj.test(e.data)||(i=this._getOrReturnCtx(e,i),Pe(i,{validation:"emoji",code:be.invalid_string,message:s.message}),n.dirty());else if(s.kind==="uuid")oZe.test(e.data)||(i=this._getOrReturnCtx(e,i),Pe(i,{validation:"uuid",code:be.invalid_string,message:s.message}),n.dirty());else if(s.kind==="nanoid")lZe.test(e.data)||(i=this._getOrReturnCtx(e,i),Pe(i,{validation:"nanoid",code:be.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid")iZe.test(e.data)||(i=this._getOrReturnCtx(e,i),Pe(i,{validation:"cuid",code:be.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid2")sZe.test(e.data)||(i=this._getOrReturnCtx(e,i),Pe(i,{validation:"cuid2",code:be.invalid_string,message:s.message}),n.dirty());else if(s.kind==="ulid")aZe.test(e.data)||(i=this._getOrReturnCtx(e,i),Pe(i,{validation:"ulid",code:be.invalid_string,message:s.message}),n.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),Pe(i,{validation:"url",code:be.invalid_string,message:s.message}),n.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),Pe(i,{validation:"regex",code:be.invalid_string,message:s.message}),n.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),Pe(i,{code:be.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),n.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),Pe(i,{code:be.invalid_string,validation:{startsWith:s.value},message:s.message}),n.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),Pe(i,{code:be.invalid_string,validation:{endsWith:s.value},message:s.message}),n.dirty()):s.kind==="datetime"?Pre(s).test(e.data)||(i=this._getOrReturnCtx(e,i),Pe(i,{code:be.invalid_string,validation:"datetime",message:s.message}),n.dirty()):s.kind==="date"?xZe.test(e.data)||(i=this._getOrReturnCtx(e,i),Pe(i,{code:be.invalid_string,validation:"date",message:s.message}),n.dirty()):s.kind==="time"?bZe(s).test(e.data)||(i=this._getOrReturnCtx(e,i),Pe(i,{code:be.invalid_string,validation:"time",message:s.message}),n.dirty()):s.kind==="duration"?uZe.test(e.data)||(i=this._getOrReturnCtx(e,i),Pe(i,{validation:"duration",code:be.invalid_string,message:s.message}),n.dirty()):s.kind==="ip"?wZe(e.data,s.version)||(i=this._getOrReturnCtx(e,i),Pe(i,{validation:"ip",code:be.invalid_string,message:s.message}),n.dirty()):s.kind==="jwt"?_Ze(e.data,s.alg)||(i=this._getOrReturnCtx(e,i),Pe(i,{validation:"jwt",code:be.invalid_string,message:s.message}),n.dirty()):s.kind==="cidr"?EZe(e.data,s.version)||(i=this._getOrReturnCtx(e,i),Pe(i,{validation:"cidr",code:be.invalid_string,message:s.message}),n.dirty()):s.kind==="base64"?vZe.test(e.data)||(i=this._getOrReturnCtx(e,i),Pe(i,{validation:"base64",code:be.invalid_string,message:s.message}),n.dirty()):s.kind==="base64url"?yZe.test(e.data)||(i=this._getOrReturnCtx(e,i),Pe(i,{validation:"base64url",code:be.invalid_string,message:s.message}),n.dirty()):Lt.assertNever(s);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(i=>e.test(i),{validation:r,code:be.invalid_string,...We.errToObj(n)})}_addCheck(e){return new ja({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...We.errToObj(e)})}url(e){return this._addCheck({kind:"url",...We.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...We.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...We.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...We.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...We.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...We.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...We.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...We.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...We.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...We.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...We.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...We.errToObj(e)})}datetime(e){var r,n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(r=e==null?void 0:e.offset)!==null&&r!==void 0?r:!1,local:(n=e==null?void 0:e.local)!==null&&n!==void 0?n:!1,...We.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...We.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...We.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...We.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...We.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...We.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...We.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...We.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...We.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...We.errToObj(r)})}nonempty(e){return this.min(1,We.errToObj(e))}trim(){return new ja({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ja({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ja({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}ja.create=t=>{var e;return new ja({checks:[],typeName:it.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...gt(t)})};function SZe(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,i=r>n?r:n,s=parseInt(t.toFixed(i).replace(".","")),a=parseInt(e.toFixed(i).replace(".",""));return s%a/Math.pow(10,i)}class pu extends Et{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==De.number){const s=this._getOrReturnCtx(e);return Pe(s,{code:be.invalid_type,expected:De.number,received:s.parsedType}),at}let n;const i=new di;for(const s of this._def.checks)s.kind==="int"?Lt.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),Pe(n,{code:be.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(n=this._getOrReturnCtx(e,n),Pe(n,{code:be.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(n=this._getOrReturnCtx(e,n),Pe(n,{code:be.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?SZe(e.data,s.value)!==0&&(n=this._getOrReturnCtx(e,n),Pe(n,{code:be.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),Pe(n,{code:be.not_finite,message:s.message}),i.dirty()):Lt.assertNever(s);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,We.toString(r))}gt(e,r){return this.setLimit("min",e,!1,We.toString(r))}lte(e,r){return this.setLimit("max",e,!0,We.toString(r))}lt(e,r){return this.setLimit("max",e,!1,We.toString(r))}setLimit(e,r,n,i){return new pu({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:We.toString(i)}]})}_addCheck(e){return new pu({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:We.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:We.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:We.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:We.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:We.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:We.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:We.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:We.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:We.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Lt.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}pu.create=t=>new pu({checks:[],typeName:it.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...gt(t)});class mu extends Et{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==De.bigint)return this._getInvalidInput(e);let n;const i=new di;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(n=this._getOrReturnCtx(e,n),Pe(n,{code:be.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(n=this._getOrReturnCtx(e,n),Pe(n,{code:be.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),Pe(n,{code:be.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):Lt.assertNever(s);return{status:i.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return Pe(r,{code:be.invalid_type,expected:De.bigint,received:r.parsedType}),at}gte(e,r){return this.setLimit("min",e,!0,We.toString(r))}gt(e,r){return this.setLimit("min",e,!1,We.toString(r))}lte(e,r){return this.setLimit("max",e,!0,We.toString(r))}lt(e,r){return this.setLimit("max",e,!1,We.toString(r))}setLimit(e,r,n,i){return new mu({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:We.toString(i)}]})}_addCheck(e){return new mu({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:We.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:We.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:We.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:We.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:We.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}mu.create=t=>{var e;return new mu({checks:[],typeName:it.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...gt(t)})};class zy extends Et{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==De.boolean){const n=this._getOrReturnCtx(e);return Pe(n,{code:be.invalid_type,expected:De.boolean,received:n.parsedType}),at}return Ai(e.data)}}zy.create=t=>new zy({typeName:it.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...gt(t)});class hf extends Et{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==De.date){const s=this._getOrReturnCtx(e);return Pe(s,{code:be.invalid_type,expected:De.date,received:s.parsedType}),at}if(isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return Pe(s,{code:be.invalid_date}),at}const n=new di;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),Pe(i,{code:be.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),n.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),Pe(i,{code:be.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),n.dirty()):Lt.assertNever(s);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new hf({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:We.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:We.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}hf.create=t=>new hf({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:it.ZodDate,...gt(t)});class N1 extends Et{_parse(e){if(this._getType(e)!==De.symbol){const n=this._getOrReturnCtx(e);return Pe(n,{code:be.invalid_type,expected:De.symbol,received:n.parsedType}),at}return Ai(e.data)}}N1.create=t=>new N1({typeName:it.ZodSymbol,...gt(t)});class qy extends Et{_parse(e){if(this._getType(e)!==De.undefined){const n=this._getOrReturnCtx(e);return Pe(n,{code:be.invalid_type,expected:De.undefined,received:n.parsedType}),at}return Ai(e.data)}}qy.create=t=>new qy({typeName:it.ZodUndefined,...gt(t)});class Wy extends Et{_parse(e){if(this._getType(e)!==De.null){const n=this._getOrReturnCtx(e);return Pe(n,{code:be.invalid_type,expected:De.null,received:n.parsedType}),at}return Ai(e.data)}}Wy.create=t=>new Wy({typeName:it.ZodNull,...gt(t)});class rm extends Et{constructor(){super(...arguments),this._any=!0}_parse(e){return Ai(e.data)}}rm.create=t=>new rm({typeName:it.ZodAny,...gt(t)});class Bd extends Et{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Ai(e.data)}}Bd.create=t=>new Bd({typeName:it.ZodUnknown,...gt(t)});class Gl extends Et{_parse(e){const r=this._getOrReturnCtx(e);return Pe(r,{code:be.invalid_type,expected:De.never,received:r.parsedType}),at}}Gl.create=t=>new Gl({typeName:it.ZodNever,...gt(t)});class T1 extends Et{_parse(e){if(this._getType(e)!==De.undefined){const n=this._getOrReturnCtx(e);return Pe(n,{code:be.invalid_type,expected:De.void,received:n.parsedType}),at}return Ai(e.data)}}T1.create=t=>new T1({typeName:it.ZodVoid,...gt(t)});class Ia extends Et{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),i=this._def;if(r.parsedType!==De.array)return Pe(r,{code:be.invalid_type,expected:De.array,received:r.parsedType}),at;if(i.exactLength!==null){const a=r.data.length>i.exactLength.value,o=r.data.length<i.exactLength.value;(a||o)&&(Pe(r,{code:a?be.too_big:be.too_small,minimum:o?i.exactLength.value:void 0,maximum:a?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(Pe(r,{code:be.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(Pe(r,{code:be.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((a,o)=>i.type._parseAsync(new Fo(r,a,r.path,o)))).then(a=>di.mergeArray(n,a));const s=[...r.data].map((a,o)=>i.type._parseSync(new Fo(r,a,r.path,o)));return di.mergeArray(n,s)}get element(){return this._def.type}min(e,r){return new Ia({...this._def,minLength:{value:e,message:We.toString(r)}})}max(e,r){return new Ia({...this._def,maxLength:{value:e,message:We.toString(r)}})}length(e,r){return new Ia({...this._def,exactLength:{value:e,message:We.toString(r)}})}nonempty(e){return this.min(1,e)}}Ia.create=(t,e)=>new Ia({type:t,minLength:null,maxLength:null,exactLength:null,typeName:it.ZodArray,...gt(e)});function rh(t){if(t instanceof Dr){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=ko.create(rh(n))}return new Dr({...t._def,shape:()=>e})}else return t instanceof Ia?new Ia({...t._def,type:rh(t.element)}):t instanceof ko?ko.create(rh(t.unwrap())):t instanceof vu?vu.create(rh(t.unwrap())):t instanceof Vo?Vo.create(t.items.map(e=>rh(e))):t}class Dr extends Et{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=Lt.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==De.object){const u=this._getOrReturnCtx(e);return Pe(u,{code:be.invalid_type,expected:De.object,received:u.parsedType}),at}const{status:n,ctx:i}=this._processInputParams(e),{shape:s,keys:a}=this._getCached(),o=[];if(!(this._def.catchall instanceof Gl&&this._def.unknownKeys==="strip"))for(const u in i.data)a.includes(u)||o.push(u);const c=[];for(const u of a){const d=s[u],f=i.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new Fo(i,f,i.path,u)),alwaysSet:u in i.data})}if(this._def.catchall instanceof Gl){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of o)c.push({key:{status:"valid",value:d},value:{status:"valid",value:i.data[d]}});else if(u==="strict")o.length>0&&(Pe(i,{code:be.unrecognized_keys,keys:o}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of o){const f=i.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new Fo(i,f,i.path,d)),alwaysSet:d in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,h=await d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>di.mergeObjectSync(n,u)):di.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(e){return We.errToObj,new Dr({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var i,s,a,o;const c=(a=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,r,n).message)!==null&&a!==void 0?a:n.defaultError;return r.code==="unrecognized_keys"?{message:(o=We.errToObj(e).message)!==null&&o!==void 0?o:c}:{message:c}}}:{}})}strip(){return new Dr({...this._def,unknownKeys:"strip"})}passthrough(){return new Dr({...this._def,unknownKeys:"passthrough"})}extend(e){return new Dr({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Dr({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:it.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new Dr({...this._def,catchall:e})}pick(e){const r={};return Lt.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new Dr({...this._def,shape:()=>r})}omit(e){const r={};return Lt.objectKeys(this.shape).forEach(n=>{e[n]||(r[n]=this.shape[n])}),new Dr({...this._def,shape:()=>r})}deepPartial(){return rh(this)}partial(e){const r={};return Lt.objectKeys(this.shape).forEach(n=>{const i=this.shape[n];e&&!e[n]?r[n]=i:r[n]=i.optional()}),new Dr({...this._def,shape:()=>r})}required(e){const r={};return Lt.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])r[n]=this.shape[n];else{let s=this.shape[n];for(;s instanceof ko;)s=s._def.innerType;r[n]=s}}),new Dr({...this._def,shape:()=>r})}keyof(){return Rre(Lt.objectKeys(this.shape))}}Dr.create=(t,e)=>new Dr({shape:()=>t,unknownKeys:"strip",catchall:Gl.create(),typeName:it.ZodObject,...gt(e)});Dr.strictCreate=(t,e)=>new Dr({shape:()=>t,unknownKeys:"strict",catchall:Gl.create(),typeName:it.ZodObject,...gt(e)});Dr.lazycreate=(t,e)=>new Dr({shape:t,unknownKeys:"strip",catchall:Gl.create(),typeName:it.ZodObject,...gt(e)});class Hy extends Et{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function i(s){for(const o of s)if(o.result.status==="valid")return o.result;for(const o of s)if(o.result.status==="dirty")return r.common.issues.push(...o.ctx.common.issues),o.result;const a=s.map(o=>new Es(o.ctx.common.issues));return Pe(r,{code:be.invalid_union,unionErrors:a}),at}if(r.common.async)return Promise.all(n.map(async s=>{const a={...r,common:{...r.common,issues:[]},parent:null};return{result:await s._parseAsync({data:r.data,path:r.path,parent:a}),ctx:a}})).then(i);{let s;const a=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!s&&(s={result:d,ctx:u}),u.common.issues.length&&a.push(u.common.issues)}if(s)return r.common.issues.push(...s.ctx.common.issues),s.result;const o=a.map(c=>new Es(c));return Pe(r,{code:be.invalid_union,unionErrors:o}),at}}get options(){return this._def.options}}Hy.create=(t,e)=>new Hy({options:t,typeName:it.ZodUnion,...gt(e)});const rl=t=>t instanceof Yy?rl(t.schema):t instanceof za?rl(t.innerType()):t instanceof Xy?[t.value]:t instanceof gu?t.options:t instanceof Qy?Lt.objectValues(t.enum):t instanceof Zy?rl(t._def.innerType):t instanceof qy?[void 0]:t instanceof Wy?[null]:t instanceof ko?[void 0,...rl(t.unwrap())]:t instanceof vu?[null,...rl(t.unwrap())]:t instanceof qM||t instanceof e0?rl(t.unwrap()):t instanceof Jy?rl(t._def.innerType):[];class nN extends Et{_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==De.object)return Pe(r,{code:be.invalid_type,expected:De.object,received:r.parsedType}),at;const n=this.discriminator,i=r.data[n],s=this.optionsMap.get(i);return s?r.common.async?s._parseAsync({data:r.data,path:r.path,parent:r}):s._parseSync({data:r.data,path:r.path,parent:r}):(Pe(r,{code:be.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),at)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){const i=new Map;for(const s of r){const a=rl(s.shape[e]);if(!a.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const o of a){if(i.has(o))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(o)}`);i.set(o,s)}}return new nN({typeName:it.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:i,...gt(n)})}}function S2(t,e){const r=al(t),n=al(e);if(t===e)return{valid:!0,data:t};if(r===De.object&&n===De.object){const i=Lt.objectKeys(e),s=Lt.objectKeys(t).filter(o=>i.indexOf(o)!==-1),a={...t,...e};for(const o of s){const c=S2(t[o],e[o]);if(!c.valid)return{valid:!1};a[o]=c.data}return{valid:!0,data:a}}else if(r===De.array&&n===De.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const a=t[s],o=e[s],c=S2(a,o);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return r===De.date&&n===De.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Ky extends Et{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=(s,a)=>{if(_2(s)||_2(a))return at;const o=S2(s.value,a.value);return o.valid?((E2(s)||E2(a))&&r.dirty(),{status:r.value,value:o.data}):(Pe(n,{code:be.invalid_intersection_types}),at)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([s,a])=>i(s,a)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Ky.create=(t,e,r)=>new Ky({left:t,right:e,typeName:it.ZodIntersection,...gt(r)});class Vo extends Et{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==De.array)return Pe(n,{code:be.invalid_type,expected:De.array,received:n.parsedType}),at;if(n.data.length<this._def.items.length)return Pe(n,{code:be.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),at;!this._def.rest&&n.data.length>this._def.items.length&&(Pe(n,{code:be.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const s=[...n.data].map((a,o)=>{const c=this._def.items[o]||this._def.rest;return c?c._parse(new Fo(n,a,n.path,o)):null}).filter(a=>!!a);return n.common.async?Promise.all(s).then(a=>di.mergeArray(r,a)):di.mergeArray(r,s)}get items(){return this._def.items}rest(e){return new Vo({...this._def,rest:e})}}Vo.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Vo({items:t,typeName:it.ZodTuple,rest:null,...gt(e)})};class Gy extends Et{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==De.object)return Pe(n,{code:be.invalid_type,expected:De.object,received:n.parsedType}),at;const i=[],s=this._def.keyType,a=this._def.valueType;for(const o in n.data)i.push({key:s._parse(new Fo(n,o,n.path,o)),value:a._parse(new Fo(n,n.data[o],n.path,o)),alwaysSet:o in n.data});return n.common.async?di.mergeObjectAsync(r,i):di.mergeObjectSync(r,i)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof Et?new Gy({keyType:e,valueType:r,typeName:it.ZodRecord,...gt(n)}):new Gy({keyType:ja.create(),valueType:e,typeName:it.ZodRecord,...gt(r)})}}class j1 extends Et{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==De.map)return Pe(n,{code:be.invalid_type,expected:De.map,received:n.parsedType}),at;const i=this._def.keyType,s=this._def.valueType,a=[...n.data.entries()].map(([o,c],u)=>({key:i._parse(new Fo(n,o,n.path,[u,"key"])),value:s._parse(new Fo(n,c,n.path,[u,"value"]))}));if(n.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const c of a){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return at;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),o.set(u.value,d.value)}return{status:r.value,value:o}})}else{const o=new Map;for(const c of a){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return at;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),o.set(u.value,d.value)}return{status:r.value,value:o}}}}j1.create=(t,e,r)=>new j1({valueType:e,keyType:t,typeName:it.ZodMap,...gt(r)});class pf extends Et{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==De.set)return Pe(n,{code:be.invalid_type,expected:De.set,received:n.parsedType}),at;const i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(Pe(n,{code:be.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(Pe(n,{code:be.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());const s=this._def.valueType;function a(c){const u=new Set;for(const d of c){if(d.status==="aborted")return at;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const o=[...n.data.values()].map((c,u)=>s._parse(new Fo(n,c,n.path,u)));return n.common.async?Promise.all(o).then(c=>a(c)):a(o)}min(e,r){return new pf({...this._def,minSize:{value:e,message:We.toString(r)}})}max(e,r){return new pf({...this._def,maxSize:{value:e,message:We.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}pf.create=(t,e)=>new pf({valueType:t,minSize:null,maxSize:null,typeName:it.ZodSet,...gt(e)});class Wh extends Et{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==De.function)return Pe(r,{code:be.invalid_type,expected:De.function,received:r.parsedType}),at;function n(o,c){return E1({data:o,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,_1(),tm].filter(u=>!!u),issueData:{code:be.invalid_arguments,argumentsError:c}})}function i(o,c){return E1({data:o,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,_1(),tm].filter(u=>!!u),issueData:{code:be.invalid_return_type,returnTypeError:c}})}const s={errorMap:r.common.contextualErrorMap},a=r.data;if(this._def.returns instanceof nm){const o=this;return Ai(async function(...c){const u=new Es([]),d=await o._def.args.parseAsync(c,s).catch(p=>{throw u.addIssue(n(c,p)),u}),f=await Reflect.apply(a,this,d);return await o._def.returns._def.type.parseAsync(f,s).catch(p=>{throw u.addIssue(i(f,p)),u})})}else{const o=this;return Ai(function(...c){const u=o._def.args.safeParse(c,s);if(!u.success)throw new Es([n(c,u.error)]);const d=Reflect.apply(a,this,u.data),f=o._def.returns.safeParse(d,s);if(!f.success)throw new Es([i(d,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Wh({...this._def,args:Vo.create(e).rest(Bd.create())})}returns(e){return new Wh({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,n){return new Wh({args:e||Vo.create([]).rest(Bd.create()),returns:r||Bd.create(),typeName:it.ZodFunction,...gt(n)})}}class Yy extends Et{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}Yy.create=(t,e)=>new Yy({getter:t,typeName:it.ZodLazy,...gt(e)});class Xy extends Et{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return Pe(r,{received:r.data,code:be.invalid_literal,expected:this._def.value}),at}return{status:"valid",value:e.data}}get value(){return this._def.value}}Xy.create=(t,e)=>new Xy({value:t,typeName:it.ZodLiteral,...gt(e)});function Rre(t,e){return new gu({values:t,typeName:it.ZodEnum,...gt(e)})}class gu extends Et{constructor(){super(...arguments),$g.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return Pe(r,{expected:Lt.joinValues(n),received:r.parsedType,code:be.invalid_type}),at}if(S1(this,$g)||jre(this,$g,new Set(this._def.values)),!S1(this,$g).has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return Pe(r,{received:r.data,code:be.invalid_enum_value,options:n}),at}return Ai(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return gu.create(e,{...this._def,...r})}exclude(e,r=this._def){return gu.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}$g=new WeakMap;gu.create=Rre;class Qy extends Et{constructor(){super(...arguments),Fg.set(this,void 0)}_parse(e){const r=Lt.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==De.string&&n.parsedType!==De.number){const i=Lt.objectValues(r);return Pe(n,{expected:Lt.joinValues(i),received:n.parsedType,code:be.invalid_type}),at}if(S1(this,Fg)||jre(this,Fg,new Set(Lt.getValidEnumValues(this._def.values))),!S1(this,Fg).has(e.data)){const i=Lt.objectValues(r);return Pe(n,{received:n.data,code:be.invalid_enum_value,options:i}),at}return Ai(e.data)}get enum(){return this._def.values}}Fg=new WeakMap;Qy.create=(t,e)=>new Qy({values:t,typeName:it.ZodNativeEnum,...gt(e)});class nm extends Et{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==De.promise&&r.common.async===!1)return Pe(r,{code:be.invalid_type,expected:De.promise,received:r.parsedType}),at;const n=r.parsedType===De.promise?r.data:Promise.resolve(r.data);return Ai(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}}nm.create=(t,e)=>new nm({type:t,typeName:it.ZodPromise,...gt(e)});class za extends Et{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===it.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:a=>{Pe(n,a),a.fatal?r.abort():r.dirty()},get path(){return n.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const a=i.transform(n.data,s);if(n.common.async)return Promise.resolve(a).then(async o=>{if(r.value==="aborted")return at;const c=await this._def.schema._parseAsync({data:o,path:n.path,parent:n});return c.status==="aborted"?at:c.status==="dirty"||r.value==="dirty"?Sh(c.value):c});{if(r.value==="aborted")return at;const o=this._def.schema._parseSync({data:a,path:n.path,parent:n});return o.status==="aborted"?at:o.status==="dirty"||r.value==="dirty"?Sh(o.value):o}}if(i.type==="refinement"){const a=o=>{const c=i.refinement(o,s);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?at:(o.status==="dirty"&&r.dirty(),a(o.value),{status:r.value,value:o.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>o.status==="aborted"?at:(o.status==="dirty"&&r.dirty(),a(o.value).then(()=>({status:r.value,value:o.value}))))}if(i.type==="transform")if(n.common.async===!1){const a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!ff(a))return a;const o=i.transform(a.value,s);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:o}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>ff(a)?Promise.resolve(i.transform(a.value,s)).then(o=>({status:r.value,value:o})):a);Lt.assertNever(i)}}za.create=(t,e,r)=>new za({schema:t,typeName:it.ZodEffects,effect:e,...gt(r)});za.createWithPreprocess=(t,e,r)=>new za({schema:e,effect:{type:"preprocess",transform:t},typeName:it.ZodEffects,...gt(r)});class ko extends Et{_parse(e){return this._getType(e)===De.undefined?Ai(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ko.create=(t,e)=>new ko({innerType:t,typeName:it.ZodOptional,...gt(e)});class vu extends Et{_parse(e){return this._getType(e)===De.null?Ai(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}vu.create=(t,e)=>new vu({innerType:t,typeName:it.ZodNullable,...gt(e)});class Zy extends Et{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===De.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Zy.create=(t,e)=>new Zy({innerType:t,typeName:it.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...gt(e)});class Jy extends Et{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Uy(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Es(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Es(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Jy.create=(t,e)=>new Jy({innerType:t,typeName:it.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...gt(e)});class C1 extends Et{_parse(e){if(this._getType(e)!==De.nan){const n=this._getOrReturnCtx(e);return Pe(n,{code:be.invalid_type,expected:De.nan,received:n.parsedType}),at}return{status:"valid",value:e.data}}}C1.create=t=>new C1({typeName:it.ZodNaN,...gt(t)});const NZe=Symbol("zod_brand");class qM extends Et{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class sx extends Et{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?at:s.status==="dirty"?(r.dirty(),Sh(s.value)):this._def.out._parseAsync({data:s.value,path:n.path,parent:n})})();{const i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?at:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(e,r){return new sx({in:e,out:r,typeName:it.ZodPipeline})}}class e0 extends Et{_parse(e){const r=this._def.innerType._parse(e),n=i=>(ff(i)&&(i.value=Object.freeze(i.value)),i);return Uy(r)?r.then(i=>n(i)):n(r)}unwrap(){return this._def.innerType}}e0.create=(t,e)=>new e0({innerType:t,typeName:it.ZodReadonly,...gt(e)});function uU(t,e){const r=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof r=="string"?{message:r}:r}function kre(t,e={},r){return t?rm.create().superRefine((n,i)=>{var s,a;const o=t(n);if(o instanceof Promise)return o.then(c=>{var u,d;if(!c){const f=uU(e,n),h=(d=(u=f.fatal)!==null&&u!==void 0?u:r)!==null&&d!==void 0?d:!0;i.addIssue({code:"custom",...f,fatal:h})}});if(!o){const c=uU(e,n),u=(a=(s=c.fatal)!==null&&s!==void 0?s:r)!==null&&a!==void 0?a:!0;i.addIssue({code:"custom",...c,fatal:u})}}):rm.create()}const TZe={object:Dr.lazycreate};var it;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(it||(it={}));const jZe=(t,e={message:`Input not instance of ${t.name}`})=>kre(r=>r instanceof t,e),Ire=ja.create,Ore=pu.create,CZe=C1.create,AZe=mu.create,Mre=zy.create,PZe=hf.create,RZe=N1.create,kZe=qy.create,IZe=Wy.create,OZe=rm.create,MZe=Bd.create,DZe=Gl.create,LZe=T1.create,$Ze=Ia.create,FZe=Dr.create,VZe=Dr.strictCreate,BZe=Hy.create,UZe=nN.create,zZe=Ky.create,qZe=Vo.create,WZe=Gy.create,HZe=j1.create,KZe=pf.create,GZe=Wh.create,YZe=Yy.create,XZe=Xy.create,QZe=gu.create,ZZe=Qy.create,JZe=nm.create,dU=za.create,eJe=ko.create,tJe=vu.create,rJe=za.createWithPreprocess,nJe=sx.create,iJe=()=>Ire().optional(),sJe=()=>Ore().optional(),aJe=()=>Mre().optional(),oJe={string:t=>ja.create({...t,coerce:!0}),number:t=>pu.create({...t,coerce:!0}),boolean:t=>zy.create({...t,coerce:!0}),bigint:t=>mu.create({...t,coerce:!0}),date:t=>hf.create({...t,coerce:!0})},lJe=at;var Rr=Object.freeze({__proto__:null,defaultErrorMap:tm,setErrorMap:rZe,getErrorMap:_1,makeIssue:E1,EMPTY_PATH:nZe,addIssueToContext:Pe,ParseStatus:di,INVALID:at,DIRTY:Sh,OK:Ai,isAborted:_2,isDirty:E2,isValid:ff,isAsync:Uy,get util(){return Lt},get objectUtil(){return w2},ZodParsedType:De,getParsedType:al,ZodType:Et,datetimeRegex:Pre,ZodString:ja,ZodNumber:pu,ZodBigInt:mu,ZodBoolean:zy,ZodDate:hf,ZodSymbol:N1,ZodUndefined:qy,ZodNull:Wy,ZodAny:rm,ZodUnknown:Bd,ZodNever:Gl,ZodVoid:T1,ZodArray:Ia,ZodObject:Dr,ZodUnion:Hy,ZodDiscriminatedUnion:nN,ZodIntersection:Ky,ZodTuple:Vo,ZodRecord:Gy,ZodMap:j1,ZodSet:pf,ZodFunction:Wh,ZodLazy:Yy,ZodLiteral:Xy,ZodEnum:gu,ZodNativeEnum:Qy,ZodPromise:nm,ZodEffects:za,ZodTransformer:za,ZodOptional:ko,ZodNullable:vu,ZodDefault:Zy,ZodCatch:Jy,ZodNaN:C1,BRAND:NZe,ZodBranded:qM,ZodPipeline:sx,ZodReadonly:e0,custom:kre,Schema:Et,ZodSchema:Et,late:TZe,get ZodFirstPartyTypeKind(){return it},coerce:oJe,any:OZe,array:$Ze,bigint:AZe,boolean:Mre,date:PZe,discriminatedUnion:UZe,effect:dU,enum:QZe,function:GZe,instanceof:jZe,intersection:zZe,lazy:YZe,literal:XZe,map:HZe,nan:CZe,nativeEnum:ZZe,never:DZe,null:IZe,nullable:tJe,number:Ore,object:FZe,oboolean:aJe,onumber:sJe,optional:eJe,ostring:iJe,pipeline:nJe,preprocess:rJe,promise:JZe,record:WZe,set:KZe,strictObject:VZe,string:Ire,symbol:RZe,transformer:dU,tuple:qZe,undefined:kZe,union:BZe,unknown:MZe,void:LZe,NEVER:lJe,ZodIssueCode:be,quotelessJson:tZe,ZodError:Es});const fU=(t,e,r)=>{if(t&&"reportValidity"in t){const n=Ce(r,e);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},Dre=(t,e)=>{for(const r in e.fields){const n=e.fields[r];n&&n.ref&&"reportValidity"in n.ref?fU(n.ref,r,t):n.refs&&n.refs.forEach(i=>fU(i,r,t))}},cJe=(t,e)=>{e.shouldUseNativeValidation&&Dre(t,e);const r={};for(const n in t){const i=Ce(e.fields,n),s=Object.assign(t[n]||{},{ref:i&&i.ref});if(uJe(e.names||Object.keys(t),n)){const a=Object.assign({},Ce(r,n));Yt(a,"root",s),Yt(r,n,a)}else Yt(r,n,s)}return r},uJe=(t,e)=>t.some(r=>r.startsWith(e+"."));var dJe=function(t,e){for(var r={};t.length;){var n=t[0],i=n.code,s=n.message,a=n.path.join(".");if(!r[a])if("unionErrors"in n){var o=n.unionErrors[0].errors[0];r[a]={message:o.message,type:o.code}}else r[a]={message:s,type:i};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return t.push(f)})}),e){var c=r[a].types,u=c&&c[n.code];r[a]=xre(a,e,r,i,u?[].concat(u,n.message):n.message)}t.shift()}return r},WM=function(t,e,r){return r===void 0&&(r={}),function(n,i,s){try{return Promise.resolve(function(a,o){try{var c=Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](n,e)).then(function(u){return s.shouldUseNativeValidation&&Dre({},s),{errors:{},values:r.raw?n:u}})}catch(u){return o(u)}return c&&c.then?c.then(void 0,o):c}(0,function(a){if(function(o){return Array.isArray(o==null?void 0:o.errors)}(a))return{values:{},errors:cJe(dJe(a.errors,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw a}))}catch(a){return Promise.reject(a)}}};const HM=LQe,Lre=g.createContext({}),fn=({...t})=>l.jsx(Lre.Provider,{value:{name:t.name},children:l.jsx(BQe,{...t})}),iN=()=>{const t=g.useContext(Lre),e=g.useContext($re),{getFieldState:r,formState:n}=rN(),i=r(t.name,n);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:s}=e;return{id:s,name:t.name,formItemId:`${s}-form-item`,formDescriptionId:`${s}-form-item-description`,formMessageId:`${s}-form-item-message`,...i}},$re=g.createContext({}),Xr=g.forwardRef(({className:t,...e},r)=>{const n=g.useId();return l.jsx($re.Provider,{value:{id:n},children:l.jsx("div",{ref:r,className:ge("space-y-2",t),...e})})});Xr.displayName="FormItem";const Qr=g.forwardRef(({className:t,...e},r)=>{const{error:n,formItemId:i}=iN();return l.jsx(ur,{ref:r,className:ge(n&&"text-destructive",t),htmlFor:i,...e})});Qr.displayName="FormLabel";const rn=g.forwardRef(({...t},e)=>{const{error:r,formItemId:n,formDescriptionId:i,formMessageId:s}=iN();return l.jsx(Vz,{ref:e,id:n,"aria-describedby":r?`${i} ${s}`:`${i}`,"aria-invalid":!!r,...t})});rn.displayName="FormControl";const Fre=g.forwardRef(({className:t,...e},r)=>{const{formDescriptionId:n}=iN();return l.jsx("p",{ref:r,id:n,className:ge("text-sm text-muted-foreground",t),...e})});Fre.displayName="FormDescription";const nn=g.forwardRef(({className:t,children:e,...r},n)=>{const{error:i,formMessageId:s}=iN(),a=i?String(i==null?void 0:i.message):e;return a?l.jsx("p",{ref:n,id:s,className:ge("text-sm font-medium text-destructive",t),...r,children:a}):null});nn.displayName="FormMessage";class ax{constructor(e=0,r="Network Error"){this.status=e,this.text=r}}const fJe=()=>{if(!(typeof localStorage>"u"))return{get:t=>Promise.resolve(localStorage.getItem(t)),set:(t,e)=>Promise.resolve(localStorage.setItem(t,e)),remove:t=>Promise.resolve(localStorage.removeItem(t))}},Vn={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:fJe()},KM=t=>t?typeof t=="string"?{publicKey:t}:t.toString()==="[object Object]"?t:{}:{},hJe=(t,e="https://api.emailjs.com")=>{if(!t)return;const r=KM(t);Vn.publicKey=r.publicKey,Vn.blockHeadless=r.blockHeadless,Vn.storageProvider=r.storageProvider,Vn.blockList=r.blockList,Vn.limitRate=r.limitRate,Vn.origin=r.origin||e},Vre=async(t,e,r={})=>{const n=await fetch(Vn.origin+t,{method:"POST",headers:r,body:e}),i=await n.text(),s=new ax(n.status,i);if(n.ok)return s;throw s},Bre=(t,e,r)=>{if(!t||typeof t!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!r||typeof r!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},pJe=t=>{if(t&&t.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},Ure=t=>t.webdriver||!t.languages||t.languages.length===0,zre=()=>new ax(451,"Unavailable For Headless Browser"),mJe=(t,e)=>{if(!Array.isArray(t))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},gJe=t=>{var e;return!((e=t.list)!=null&&e.length)||!t.watchVariable},vJe=(t,e)=>t instanceof FormData?t.get(e):t[e],qre=(t,e)=>{if(gJe(t))return!1;mJe(t.list,t.watchVariable);const r=vJe(e,t.watchVariable);return typeof r!="string"?!1:t.list.includes(r)},Wre=()=>new ax(403,"Forbidden"),yJe=(t,e)=>{if(typeof t!="number"||t<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},xJe=async(t,e,r)=>{const n=Number(await r.get(t)||0);return e-Date.now()+n},Hre=async(t,e,r)=>{if(!e.throttle||!r)return!1;yJe(e.throttle,e.id);const n=e.id||t;return await xJe(n,e.throttle,r)>0?!0:(await r.set(n,Date.now().toString()),!1)},Kre=()=>new ax(429,"Too Many Requests"),bJe=async(t,e,r,n)=>{const i=KM(n),s=i.publicKey||Vn.publicKey,a=i.blockHeadless||Vn.blockHeadless,o=i.storageProvider||Vn.storageProvider,c={...Vn.blockList,...i.blockList},u={...Vn.limitRate,...i.limitRate};return a&&Ure(navigator)?Promise.reject(zre()):(Bre(s,t,e),pJe(r),r&&qre(c,r)?Promise.reject(Wre()):await Hre(location.pathname,u,o)?Promise.reject(Kre()):Vre("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:s,service_id:t,template_id:e,template_params:r}),{"Content-type":"application/json"}))},wJe=t=>{if(!t||t.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},_Je=t=>typeof t=="string"?document.querySelector(t):t,EJe=async(t,e,r,n)=>{const i=KM(n),s=i.publicKey||Vn.publicKey,a=i.blockHeadless||Vn.blockHeadless,o=Vn.storageProvider||i.storageProvider,c={...Vn.blockList,...i.blockList},u={...Vn.limitRate,...i.limitRate};if(a&&Ure(navigator))return Promise.reject(zre());const d=_Je(r);Bre(s,t,e),wJe(d);const f=new FormData(d);return qre(c,f)?Promise.reject(Wre()):await Hre(location.pathname,u,o)?Promise.reject(Kre()):(f.append("lib_version","4.4.1"),f.append("service_id",t),f.append("template_id",e),f.append("user_id",s),Vre("/api/v1.0/email/send-form",f))},Gre={init:hJe,send:bJe,sendForm:EJe,EmailJSResponseStatus:ax};Gre.init("ooADCrOkTxcKdeikN");const GM=async(t,e)=>{try{const r=await bSe();if(r.length===0){console.warn("[Email] Nenhum admin encontrado para notificar");return}await Promise.all(r.map(async n=>{try{const i=await Gre.send("service_iwabe3j","template_qslkooq",{tipo_solicitacao:t,nome_usuario:e,to_email:n})}catch(i){console.error(`[Email] Erro para ${n}:`,i)}}))}catch(r){console.error("[Email] Erro geral:",r)}},SJe=["Recepção","Secretaria","Sala de atendimento","Sala de atendimento (Laranja)","Sala de auxiliar de coordenação fundamental 1","Sala de oficinas","Sala de música","Sala de science","Integral","4º Ano","Patio (Cantina)","Refeitório","Biblioteca (Inferior)","3º Ano","2º Ano","1º Ano","Sala dos professores","Sala de Linguas","Coordenação de linguas/Fundamental 2","Sala de artes","Coordenação Fundamental 1 / Coordenação de matemática","8º ano","7º Ano","Apoio pedagógico","Orientação educacional","TI","Sala de oficinas (Piso superior)","5º Ano","6º Ano","Biblioteca (Superior)","Sala de convivência","9º Ano"],NJe=Rr.object({date:Rr.date({required_error:"Data de reserva é obrigatória",invalid_type_error:"Formato de data inválido"}),startTime:Rr.string({required_error:"Hora inicial é obrigatória"}).regex(/^(0[7-9]|1[0-9]):[0-5]\d$/,"Horário deve ser entre 07:00 e 19:00"),endTime:Rr.string({required_error:"Hora final é obrigatória"}).regex(/^(0[7-9]|1[0-9]):[0-5]\d$/,"Horário deve ser entre 07:00 e 19:00"),selectedEquipment:Rr.array(Rr.string(),{required_error:"Selecione pelo menos um equipamento",invalid_type_error:"Selecione equipamentos válidos"}).min(1,"Pelo menos um equipamento deve ser selecionado"),location:Rr.string({required_error:"Local de uso é obrigatório",invalid_type_error:"Selecione um local válido"}).min(1,"Local não pode estar vazio"),purpose:Rr.string({required_error:"Finalidade é obrigatória",invalid_type_error:"Insira uma descrição válida"}).min(10,"Finalidade deve ter pelo menos 10 caracteres")}).refine(t=>{const[e,r]=t.startTime.split(":").map(Number),[n,i]=t.endTime.split(":").map(Number);return e*60+r<n*60+i},{message:"A hora final deve ser depois da hora inicial",path:["endTime"]}).refine(t=>{const[e,r]=t.startTime.split(":").map(Number),[n,i]=t.endTime.split(":").map(Number);return e>=7&&e<19&&n>7&&n<=19},{message:"O horário deve estar entre 07:00 e 19:00",path:["endTime"]}),hU=t=>{const e=t.replace(/\D/g,"");let r="";return e.length>=1&&(r+=e.substring(0,2)),e.length>=3&&(r+=":"+e.substring(2,4)),e.length===2&&t.length===2&&(r+=":"),r.substring(0,5)},TJe=()=>{const{currentUser:t}=zr(),[e,r]=g.useState([]),[n,i]=g.useState([]),[s,a]=g.useState(!1),[o,c]=g.useState(!1),u=zM({resolver:WM(NJe),defaultValues:{selectedEquipment:[],purpose:"",startTime:"",endTime:"",location:""}});g.useEffect(()=>{(async()=>{try{const[p,v]=await Promise.all([ure(),wQ()]);r(p.filter(m=>m instanceof Date&&!isNaN(m.getTime()))),i(v.sort((m,b)=>m.name.localeCompare(b.name)))}catch{Ke.error("Erro ao carregar dados iniciais")}})()},[]);const d=h=>e.some(p=>p.toDateString()===h.toDateString()),f=async h=>{a(!0);try{const p=h.selectedEquipment.reduce((b,w)=>{const y=n.find(_=>_.id===w);return y&&(b[y.type]=(b[y.type]||0)+1),b},{}),v=await hAe({date:h.date,startTime:h.startTime,endTime:h.endTime,equipmentIds:h.selectedEquipment});if(v.length>0){Ke.error(l.jsxs("div",{children:[l.jsx("p",{children:"Conflitos detectados:"}),l.jsx("ul",{className:"mt-2 list-disc pl-4",children:v.map((b,w)=>l.jsxs("li",{children:[b.equipmentName,": ",b.startTime," - ",b.endTime]},w))})]}));return}const m=d(h.date)&&h.startTime>="07:00"&&h.endTime<="19:00";await fAe({date:h.date,startTime:h.startTime,endTime:h.endTime,location:h.location,purpose:h.purpose,equipmentIds:h.selectedEquipment,equipmentQuantities:p,userName:(t==null?void 0:t.displayName)||"Usuário",userEmail:(t==null?void 0:t.email)||"email@exemplo.com",userId:(t==null?void 0:t.uid)||"",status:m?"approved":"pending"}),Ke.success(m?"Reserva aprovada automaticamente!":"Solicitação enviada para aprovação"),u.reset(),await GM("Reserva",(t==null?void 0:t.displayName)||"Usuário")}catch{Ke.error("Erro ao processar reserva")}finally{a(!1)}};return l.jsx(cn,{children:l.jsxs("div",{className:"min-h-screen bg-white overflow-hidden relative",children:[l.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[l.jsx("div",{className:"absolute left-1/4 top-1/4 h-96 w-96 rounded-full bg-sidebar blur-3xl opacity-5"}),l.jsx("div",{className:"absolute right-1/4 bottom-1/4 h-80 w-80 rounded-full bg-eccos-purple blur-3xl opacity-5"})]}),l.jsxs("div",{className:"relative z-10 space-y-8 p-6 md:p-12",children:[l.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2 bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:[l.jsx(NR,{className:"text-eccos-purple",size:35}),"Nova Reserva"]}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Preencha o formulário para reservar equipamentos"}),l.jsx(HM,{...u,children:l.jsxs("form",{onSubmit:u.handleSubmit(f),className:"space-y-6",children:[l.jsx(fn,{control:u.control,name:"date",render:({field:h})=>l.jsxs(Xr,{className:"flex flex-col",children:[l.jsx(Qr,{className:"text-gray-700",children:"Data *"}),l.jsxs(f_,{children:[l.jsx(h_,{asChild:!0,children:l.jsx(rn,{children:l.jsxs(oe,{variant:"outline",className:ge("w-full pl-3 text-left font-normal rounded-xl","bg-white border border-gray-200 hover:border-gray-300","shadow-sm hover:shadow-md transition-all duration-300","text-gray-700 hover:bg-gray-50",!h.value&&"text-gray-400"),children:[h.value?Dt(h.value,"PPP",{locale:Pn}):l.jsx("span",{children:"Selecione uma data"}),l.jsx(_i,{className:"ml-auto h-4 w-4 text-gray-500"})]})})}),l.jsx(ey,{className:"w-[320px] h-[320px] p-0 border-gray-200 shadow-xl rounded-2xl overflow-hidden",align:"start",children:l.jsx(v1,{mode:"single",selected:h.value,onSelect:h.onChange,disabled:p=>aw(p)||!d(p),modifiers:{available:e},modifiersStyles:{available:{border:"2px solid #22c55e"}},initialFocus:!0,className:"bg-white"})})]}),l.jsx(nn,{})]})}),l.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[l.jsx(fn,{control:u.control,name:"startTime",render:({field:h})=>l.jsxs(Xr,{children:[l.jsx(Qr,{className:"text-gray-700",children:"Hora Inicial *"}),l.jsx(rn,{children:l.jsx(or,{...h,placeholder:"07:00",maxLength:5,autoComplete:"off",className:"rounded-xl border-gray-200 focus:ring-eccos-purple",onChange:p=>{h.onChange(hU(p.target.value))}})}),l.jsx(nn,{})]})}),l.jsx(fn,{control:u.control,name:"endTime",render:({field:h})=>l.jsxs(Xr,{children:[l.jsx(Qr,{className:"text-gray-700",children:"Hora Final *"}),l.jsx(rn,{children:l.jsx(or,{...h,placeholder:"19:00",maxLength:5,autoComplete:"off",className:"rounded-xl border-gray-200 focus:ring-eccos-purple",onChange:p=>{h.onChange(hU(p.target.value))}})}),l.jsx(nn,{})]})})]}),l.jsx(fn,{control:u.control,name:"selectedEquipment",render:({field:h})=>l.jsx(Xr,{children:l.jsxs("div",{className:"mb-4 relative",children:[l.jsx(Qr,{className:"text-base text-gray-700",children:"Equipamentos *"}),(()=>{const p=n.filter(m=>h.value.includes(m.id)&&m.type==="Chromebook").length,v=n.filter(m=>h.value.includes(m.id)&&m.type==="iPad").length;if(p>0||v>0)return l.jsxs("div",{className:"fixed top-1/2 right-6 -translate-y-1/2 bg-white border border-gray-200 shadow-lg rounded-lg px-5 py-3 z-50 flex flex-col gap-1 transition-all duration-300",children:[p>0&&l.jsxs("span",{className:"text-sm text-blue-600",children:["Chromebooks: ",l.jsx("strong",{children:p})]}),v>0&&l.jsxs("span",{className:"text-sm text-purple-600",children:["iPads: ",l.jsx("strong",{children:v})]})]})})(),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-3 mt-6",children:n.map(p=>{const v=h.value.includes(p.id);return l.jsx("div",{onClick:()=>{const m=v?h.value.filter(b=>b!==p.id):[...h.value,p.id];h.onChange(m)},className:ge("flex flex-col justify-between p-3 cursor-pointer","bg-white border border-gray-200 rounded-lg","hover:border-gray-300 hover:shadow-md transition-all",v&&"ring-2 ring-eccos-purple bg-eccos-purple/5"),children:l.jsx("p",{className:"font-normal text-gray-700 text-sm",children:p.name})},p.id)})}),l.jsx(nn,{})]})})}),l.jsx(fn,{control:u.control,name:"location",render:({field:h})=>l.jsxs(Xr,{className:"flex flex-col",children:[l.jsx(Qr,{className:"text-gray-700",children:"Local de Uso *"}),l.jsxs(f_,{open:o,onOpenChange:c,children:[l.jsx(h_,{asChild:!0,children:l.jsx(rn,{children:l.jsxs(oe,{variant:"outline",className:ge("w-full justify-between pl-3 text-left font-normal rounded-xl","bg-white border border-gray-200 hover:border-gray-300","shadow-sm hover:shadow-md transition-all duration-300","text-gray-700 hover:bg-gray-50",!h.value&&"text-gray-400"),children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Hae,{className:"h-4 w-4 text-gray-500"}),h.value||"Selecione um local"]}),l.jsx(qs,{className:"h-4 w-4 text-gray-500"})]})})}),l.jsx(ey,{className:"w-[var(--radix-popover-trigger-width)] p-0 border-gray-200 shadow-xl rounded-2xl overflow-hidden max-h-[300px]",align:"start",sideOffset:4,children:l.jsxs("div",{className:"bg-white",children:[l.jsx("div",{className:"p-2 border-b border-gray-100",children:l.jsx("p",{className:"text-sm font-medium text-gray-600 px-2 py-1",children:"Selecione um local"})}),l.jsx("div",{className:"max-h-[250px] overflow-y-auto",children:SJe.map(p=>l.jsx("button",{type:"button",onClick:()=>{h.onChange(p),c(!1)},className:ge("w-full text-left px-4 py-3 text-sm transition-colors","hover:bg-gray-50 focus:bg-gray-50 focus:outline-none","border-b border-gray-50 last:border-b-0",h.value===p&&"bg-eccos-purple/5 text-eccos-purple font-medium"),children:p},p))})]})})]}),l.jsx(nn,{})]})}),l.jsx(fn,{control:u.control,name:"purpose",render:({field:h})=>l.jsxs(Xr,{children:[l.jsx(Qr,{className:"text-gray-700",children:"Finalidade *"}),l.jsx(rn,{children:l.jsx(Ba,{...h,placeholder:"Descreva o propósito da reserva...",autoComplete:"off",className:"rounded-xl border-gray-200 focus:ring-eccos-purple min-h-[120px]"})}),l.jsx(nn,{})]})}),l.jsxs("div",{className:"flex justify-end gap-4",children:[l.jsx(oe,{type:"button",variant:"outline",onClick:()=>u.reset(),className:"rounded-xl border-gray-200 hover:bg-gray-50 text-gray-700",children:"Limpar Formulário"}),l.jsx(oe,{type:"submit",className:"rounded-xl bg-eccos-purple hover:bg-sidebar text-white px-8 py-6 text-lg font-semibold transition-all",children:"Enviar Solicitação"})]})]})})]})]})})},jJe=Rr.object({tipo:Rr.enum(["Compra Pedagógica","Compra Administrativa","Compra Infraestrutura"],{required_error:"Selecione o tipo de compra"}),itemName:Rr.string().min(1,"Nome do item é obrigatório"),quantity:Rr.coerce.number().int({message:"Deve ser um número inteiro"}).positive("Quantidade deve ser positiva"),unitPrice:Rr.coerce.number().positive("Valor unitário deve ser positivo"),urgency:Rr.string().min(1,"Nível de urgência é obrigatório"),justification:Rr.string().min(10,"Justificativa deve ter pelo menos 10 caracteres"),additionalInfo:Rr.string().optional()}),CJe=()=>{const{currentUser:t}=zr(),e=zM({resolver:WM(jJe),defaultValues:{itemName:"",quantity:0,unitPrice:0,urgency:"",justification:"",additionalInfo:""}}),r=async n=>{try{await mAe({...n,userName:(t==null?void 0:t.displayName)||"Usuário não identificado",userEmail:(t==null?void 0:t.email)||"email@nao.informado",type:"purchase",status:"pending",createdAt:new Date,hidden:!1}),Ke.success("Solicitação de compra enviada com sucesso!"),e.reset(),await GM("Compra",(t==null?void 0:t.displayName)||"Usuário não identificado")}catch(i){console.error("[Solicitação] Erro completo:",i),Ke.error("Erro ao enviar solicitação")}};return l.jsx(cn,{children:l.jsxs("div",{className:"min-h-screen bg-white overflow-hidden relative",children:[l.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[l.jsx("div",{className:"absolute left-1/4 top-1/4 h-96 w-96 rounded-full bg-sidebar blur-3xl opacity-5"}),l.jsx("div",{className:"absolute right-1/4 bottom-1/4 h-80 w-80 rounded-full bg-eccos-purple blur-3xl opacity-5"})]}),l.jsxs("div",{className:"relative z-10 space-y-8 p-6 md:p-12 fade-up",children:[l.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2 bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:[l.jsx(yo,{className:"text-eccos-purple",size:35}),"Nova Compra"]}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Preencha todos os campos obrigatórios para solicitar novos equipamentos ou materiais"}),l.jsx(HM,{...e,children:l.jsxs("form",{onSubmit:e.handleSubmit(r),className:"space-y-6",children:[l.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[l.jsx(fn,{control:e.control,name:"itemName",render:({field:n})=>l.jsxs(Xr,{children:[l.jsx(Qr,{className:"text-gray-700",children:"Nome do Item *"}),l.jsx(rn,{children:l.jsx(or,{placeholder:"Ex: Notebook Dell Latitude 5440",className:"rounded-xl border-gray-200 focus:ring-eccos-purple",...n,autoComplete:"off"})}),l.jsx(nn,{})]})}),l.jsx(fn,{control:e.control,name:"tipo",render:({field:n})=>l.jsxs(Xr,{children:[l.jsx(Qr,{className:"text-gray-700",children:"Tipo de Compra *"}),l.jsxs(_a,{onValueChange:n.onChange,defaultValue:n.value,children:[l.jsx(rn,{children:l.jsx(Bs,{className:"rounded-xl border-gray-200 focus:ring-eccos-purple",children:l.jsx(Ea,{placeholder:"Selecione o tipo"})})}),l.jsxs(Us,{className:"rounded-xl border-gray-200",children:[l.jsx(Xt,{value:"Compra Pedagógica",children:"Compra Pedagógica"}),l.jsx(Xt,{value:"Compra Administrativa",children:"Compra Administrativa"}),l.jsx(Xt,{value:"Compra Infraestrutura",children:"Compra Infraestrutura"})]})]}),l.jsx(nn,{})]})})]}),l.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[l.jsx(fn,{control:e.control,name:"quantity",render:({field:n})=>l.jsxs(Xr,{children:[l.jsx(Qr,{className:"text-gray-700",children:"Quantidade *"}),l.jsx(rn,{children:l.jsx(or,{type:"number",className:"rounded-xl border-gray-200 focus:ring-eccos-purple",placeholder:"Ex: 5",value:n.value===0?"":n.value,onChange:i=>n.onChange(Number(i.target.value)),autoComplete:"off"})}),l.jsx(nn,{})]})}),l.jsx(fn,{control:e.control,name:"unitPrice",render:({field:n})=>l.jsxs(Xr,{children:[l.jsx(Qr,{className:"text-gray-700",children:"Valor Unitário (R$) *"}),l.jsx(rn,{children:l.jsx(or,{type:"number",step:"0.01",min:"0.01",className:"rounded-xl border-gray-200 focus:ring-eccos-purple",placeholder:"Ex: 100.00",value:n.value===0?"":n.value,onChange:i=>n.onChange(Number(i.target.value)),autoComplete:"off"})}),l.jsx(nn,{})]})})]}),l.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[l.jsxs(Xr,{children:[l.jsx(Qr,{className:"text-gray-700",children:"Valor Total Estimado"}),l.jsx(rn,{children:l.jsx(or,{readOnly:!0,className:"rounded-xl border-gray-200 bg-gray-50",value:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format((e.watch("unitPrice")||0)*(e.watch("quantity")||0))})})]}),l.jsx(fn,{control:e.control,name:"urgency",render:({field:n})=>l.jsxs(Xr,{children:[l.jsx(Qr,{className:"text-gray-700",children:"Nível de Urgência *"}),l.jsxs(_a,{onValueChange:n.onChange,defaultValue:n.value,children:[l.jsx(rn,{children:l.jsx(Bs,{className:"rounded-xl border-gray-200 focus:ring-eccos-purple",children:l.jsx(Ea,{placeholder:"Selecione a urgência"})})}),l.jsxs(Us,{className:"rounded-xl border-gray-200",children:[l.jsx(Xt,{value:"low",children:"Baixa (30+ dias)"}),l.jsx(Xt,{value:"medium",children:"Média (15 dias)"}),l.jsx(Xt,{value:"high",children:"Alta (7 dias)"}),l.jsx(Xt,{value:"critical",children:"Crítica (Imediata)"})]})]}),l.jsx(nn,{})]})})]}),l.jsx(fn,{control:e.control,name:"justification",render:({field:n})=>l.jsxs(Xr,{children:[l.jsx(Qr,{className:"text-gray-700",children:"Justificativa *"}),l.jsx(rn,{children:l.jsx(Ba,{placeholder:"Descreva detalhadamente a necessidade desta compra...",className:"rounded-xl border-gray-200 focus:ring-eccos-purple min-h-[120px]",...n,autoComplete:"off"})}),l.jsx(nn,{})]})}),l.jsx(fn,{control:e.control,name:"additionalInfo",render:({field:n})=>l.jsxs(Xr,{children:[l.jsx(Qr,{className:"text-gray-700",children:"Informações Adicionais"}),l.jsx(rn,{children:l.jsx(Ba,{placeholder:"Links de referência, especificações técnicas...",className:"rounded-xl border-gray-200 focus:ring-eccos-purple min-h-[100px]",...n,autoComplete:"off"})}),l.jsx(nn,{})]})}),l.jsxs("div",{className:"flex justify-end gap-4",children:[l.jsx(oe,{type:"button",variant:"outline",onClick:()=>e.reset(),className:"rounded-xl border-gray-200 hover:bg-gray-50 text-gray-700",children:"Limpar Formulário"}),l.jsx(oe,{type:"submit",className:"rounded-xl bg-eccos-purple hover:bg-sidebar text-white px-8 py-6 text-lg font-semibold transition-all",children:"Enviar Solicitação"})]})]})})]})]})})},AJe={"Berçário e Educação Infantil":["Recepção","Sala de reuniões","Cozinha","Pátio","Sala de música","Sala de science","Berçário 2","Berçário 3","Refeitório","Sala de movimento","Pátio integral","Infantil 1","Infantil 2"],Fundamental:["Recepção","Secretaria","Sala de atendimento","Sala de atendimento (Laranja)","Sala de auxiliar de coordenação fundamental 1","Sala de oficinas","Sala de música","Sala de science","Integral","4º Ano","Patio (Cantina)","Refeitório","Biblioteca (Inferior)","3º Ano","2º Ano","1º Ano","Sala dos professores","Sala de Linguas","Coordenação de linguas/Fundamental 2","Sala de artes","Coordenação Fundamental 1 / Coordenação de matemática","8º ano","7º Ano","Apoio pedagógico","Orientação educacional","TI","Sala de oficinas (Piso superior)","5º Ano","6º Ano","Biblioteca (Superior)","Sala de convivência","9º Ano"],Anexo:["Sala de manutenção","Sala de reuniões","Refeitório","Cozinha","Nutrição","Controladoria","Financeiro","Operacional","Mantenedoria"]},PJe=Rr.object({tipo:Rr.enum(["Manutenção","Tecnologia"],{required_error:"Selecione o tipo de suporte"}),unit:Rr.string({required_error:"Selecione a unidade"}),location:Rr.string({required_error:"Selecione a localização"}),category:Rr.string({required_error:"Selecione a categoria"}),priority:Rr.string({required_error:"Selecione a prioridade"}),deviceInfo:Rr.string().optional(),description:Rr.string().min(10,"A descrição deve ter pelo menos 10 caracteres")}),RJe=()=>{const{currentUser:t}=zr(),[e,r]=g.useState(!1),[n,i]=g.useState(""),s=zM({resolver:WM(PJe),defaultValues:{unit:"",location:"",category:"",priority:"",deviceInfo:"",description:""}}),a=async o=>{try{r(!0),await gAe({...o,userName:(t==null?void 0:t.displayName)||"Usuário não identificado",userEmail:(t==null?void 0:t.email)||"email@nao.informado",userId:(t==null?void 0:t.uid)||"",type:"support",status:"pending",createdAt:Tt.now(),hidden:!1}),Ke.success("Solicitação enviada com sucesso!"),s.reset(),i(""),await GM("Suporte",(t==null?void 0:t.displayName)||"Usuário não identificado")}catch(c){Ke.error("Erro ao enviar solicitação"),console.error("Erro detalhado:",c)}finally{r(!1)}};return l.jsx(cn,{children:l.jsxs("div",{className:"min-h-screen bg-white overflow-hidden relative",children:[l.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[l.jsx("div",{className:"absolute left-1/4 top-1/4 h-96 w-96 rounded-full bg-sidebar blur-3xl opacity-5"}),l.jsx("div",{className:"absolute right-1/4 bottom-1/4 h-80 w-80 rounded-full bg-eccos-purple blur-3xl opacity-5"})]}),l.jsxs(yi.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"relative z-10 space-y-8 p-6 md:p-12 fade-up",children:[l.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2 bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:[l.jsx(Pa,{className:"text-eccos-purple",size:35}),"Nova Manutenção"]}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Preencha todos os campos obrigatórios (*) para registrar sua solicitação"}),l.jsx(HM,{...s,children:l.jsxs("form",{onSubmit:s.handleSubmit(a),className:"space-y-8",children:[l.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[l.jsx(fn,{control:s.control,name:"unit",render:({field:o})=>l.jsxs(Xr,{children:[l.jsx(Qr,{className:"text-gray-700",children:"Unidade *"}),l.jsxs(_a,{onValueChange:c=>{o.onChange(c),i(c),s.resetField("location")},defaultValue:o.value,children:[l.jsx(rn,{children:l.jsx(Bs,{className:"rounded-xl border-gray-200 focus:ring-eccos-purple",children:l.jsx(Ea,{placeholder:"Selecione sua unidade"})})}),l.jsxs(Us,{className:"rounded-xl border-gray-200",children:[l.jsx(Xt,{value:"Berçário e Educação Infantil",children:"Berçário e Educação Infantil"}),l.jsx(Xt,{value:"Fundamental",children:"Fundamental"}),l.jsx(Xt,{value:"Anexo",children:"Anexo"})]})]}),l.jsx(nn,{})]})}),l.jsx(fn,{control:s.control,name:"location",render:({field:o})=>l.jsxs(Xr,{children:[l.jsx(Qr,{className:"text-gray-700",children:"Localização Exata *"}),l.jsxs(_a,{onValueChange:o.onChange,value:o.value,disabled:!n,children:[l.jsx(rn,{children:l.jsx(Bs,{className:"rounded-xl border-gray-200 focus:ring-eccos-purple",children:l.jsx(Ea,{placeholder:n?"Selecione o local específico":"Selecione a unidade primeiro"})})}),l.jsx(Us,{className:"rounded-xl border-gray-200",children:n&&AJe[n].map(c=>l.jsx(Xt,{value:c,children:c},c))})]}),l.jsx(nn,{})]})}),l.jsx(fn,{control:s.control,name:"tipo",render:({field:o})=>l.jsxs(Xr,{children:[l.jsx(Qr,{className:"text-gray-700",children:"Tipo de Manutenção *"}),l.jsxs(_a,{onValueChange:o.onChange,defaultValue:o.value,children:[l.jsx(rn,{children:l.jsx(Bs,{className:"rounded-xl border-gray-200 focus:ring-eccos-purple",children:l.jsx(Ea,{placeholder:"Selecione o tipo de suporte"})})}),l.jsxs(Us,{className:"rounded-xl border-gray-200",children:[l.jsx(Xt,{value:"Manutenção",children:"Infraestrutura"}),l.jsx(Xt,{value:"Tecnologia",children:"Tecnologia"})]})]}),l.jsx(nn,{})]})}),l.jsx(fn,{control:s.control,name:"category",render:({field:o})=>l.jsxs(Xr,{children:[l.jsx(Qr,{className:"text-gray-700",children:"Categoria da Manutenção *"}),l.jsxs(_a,{onValueChange:o.onChange,defaultValue:o.value,children:[l.jsx(rn,{children:l.jsx(Bs,{className:"rounded-xl border-gray-200 focus:ring-eccos-purple",children:l.jsx(Ea,{placeholder:"Selecione a categoria do problema"})})}),l.jsxs(Us,{className:"rounded-xl border-gray-200",children:[l.jsx(Xt,{value:"Manutenção Preventiva",children:"Manutenção Preventiva"}),l.jsx(Xt,{value:"Manutenção Corretiva",children:"Manutenção Corretiva"})]})]}),l.jsx(nn,{})]})}),l.jsx(fn,{control:s.control,name:"priority",render:({field:o})=>l.jsxs(Xr,{children:[l.jsx(Qr,{className:"text-gray-700",children:"Nível de Urgência *"}),l.jsxs(_a,{onValueChange:o.onChange,defaultValue:o.value,children:[l.jsx(rn,{children:l.jsx(Bs,{className:"rounded-xl border-gray-200 focus:ring-eccos-purple",children:l.jsx(Ea,{placeholder:"Qual a urgência do atendimento?"})})}),l.jsxs(Us,{className:"rounded-xl border-gray-200",children:[l.jsx(Xt,{value:"low",children:"Baixa - Não interfere nas atividades"}),l.jsx(Xt,{value:"medium",children:"Média - Afeta parcialmente o trabalho"}),l.jsx(Xt,{value:"high",children:"Alta - Impede atividades importantes"}),l.jsx(Xt,{value:"critical",children:"Crítica - Paralisação total"})]})]}),l.jsx(nn,{})]})}),l.jsx(fn,{control:s.control,name:"deviceInfo",render:({field:o})=>l.jsxs(Xr,{children:[l.jsx(Qr,{className:"text-gray-700",children:"Identificação do Equipamento"}),l.jsx(rn,{children:l.jsx(or,{placeholder:"Ex: Notebook Dell Latitude 3420, Mouse bluetooth",className:"rounded-xl border-gray-200 focus:ring-eccos-purple",...o,autoComplete:"off"})}),l.jsx(Fre,{className:"text-gray-500",children:"Forneça modelo ou identificação completa"}),l.jsx(nn,{})]})})]}),l.jsx(fn,{control:s.control,name:"description",render:({field:o})=>l.jsxs(Xr,{children:[l.jsx(Qr,{className:"text-gray-700",children:"Descrição Completa do Problema *"}),l.jsx(rn,{children:l.jsx(Ba,{placeholder:`Descreva detalhadamente:
- O que está acontecendo?
- Quando começou o problema?
- Quais mensagens de erro aparecem?
- Quais tentativas de solução já foram feitas?`,className:"rounded-xl border-gray-200 focus:ring-eccos-purple min-h-[150px]",...o,autoComplete:"off"})}),l.jsx(nn,{})]})}),l.jsxs("div",{className:"flex justify-end gap-4",children:[l.jsx(oe,{type:"button",variant:"outline",onClick:()=>s.reset(),className:"rounded-xl border-gray-200 hover:bg-gray-50 text-gray-700",children:"Limpar Formulário"}),l.jsx(oe,{type:"submit",className:"rounded-xl bg-eccos-purple hover:bg-sidebar text-white px-8 py-6 text-lg font-semibold transition-all",children:"Enviar Solicitação"})]})]})})]})]})})},pU=t=>{switch(t){case"pending":return l.jsx(_e,{variant:"outline",className:"border-amber-500 text-amber-600",children:"Pendente"});case"in-progress":return l.jsx(_e,{className:"bg-blue-50 text-blue-600 border-blue-100",children:"Em Andamento"});case"completed":return l.jsx(_e,{className:"bg-green-50 text-green-600 border-green-100",children:"Concluído"});case"canceled":return l.jsx(_e,{className:"bg-red-50 text-red-600 border-red-100",children:"Cancelado"});default:return l.jsx(_e,{variant:"outline",children:"Desconhecido"})}},kJe=t=>{if(!t)return l.jsx(_e,{variant:"outline",children:"Não especificado"});const e={labels:{critical:"Crítica",high:"Alta",medium:"Média",low:"Baixa"},colors:{critical:"bg-red-100 text-red-600 border-red-200",high:"bg-orange-100 text-orange-600 border-orange-200",medium:"bg-amber-100 text-amber-600 border-amber-200",low:"bg-green-100 text-green-600 border-green-200"}},r=t.toLowerCase();return l.jsx(_e,{className:ge("border",e.colors[r]),children:e.labels[r]||t})},IJe=()=>{const t=wu(),{currentUser:e}=zr(),[r,n]=g.useState(""),[i,s]=g.useState(null),[a,o]=g.useState(!1),[c,u]=g.useState(!1),[d,f]=g.useState("pending"),[h,p]=g.useState(!1),[v,m]=g.useState(null),[b,w]=g.useState({}),[y,_]=g.useState(()=>{const q=typeof window<"u"?localStorage.getItem("operacionalViewedRequests"):null;return q?new Set(JSON.parse(q)):new Set}),[S,E]=g.useState(!1),[N,T]=g.useState(null),j=["Tecnologia","Manutenção"],[A,R]=g.useState(j),{data:k=[],isLoading:O,isError:P,refetch:D}=Xi({queryKey:["supportRequests"],queryFn:()=>Nm(),select:q=>q.filter(U=>U.type==="support")}),z=k.filter(q=>{var U,X;return(((U=q.userName)==null?void 0:U.toLowerCase().includes(r.toLowerCase()))||((X=q.description)==null?void 0:X.toLowerCase().includes(r.toLowerCase())))&&A.includes(q.tipo)});g.useEffect(()=>{(()=>{const U={};k.forEach(X=>{const le=(X.messages||[]).filter(xe=>!xe.isAdmin&&!y.has(`${X.id}-${xe.timestamp.toMillis()}`)).length;le>0&&(U[X.id]=le)}),w(U)})()},[k,y]);const M=async q=>{try{u(!0);const U=await lf(q.id,q.collectionName);s(U),f(U.status),o(!0)}catch(U){Ke.error("Erro ao carregar detalhes"),console.error("Error:",U)}finally{u(!1)}},V=async q=>{try{const U=await lf(q.id,q.collectionName);T(U),_(X=>{const ie=new Set(X);return(U.messages||[]).forEach(le=>{le.isAdmin||ie.add(`${U.id}-${le.timestamp.toMillis()}`)}),localStorage.setItem("operacionalViewedRequests",JSON.stringify(Array.from(ie))),ie}),w(X=>{const ie={...X};return delete ie[U.id],ie}),E(!0)}catch(U){Ke.error("Erro ao abrir chat"),console.error("Error:",U)}},L=async()=>{if(!(!i||!d))try{const q=bt(Ue,i.collectionName,i.id);await Rn(q,{status:d}),await ty({title:"Alteração de Status",message:`Status do seu chamado foi alterado para: ${d}`,link:"minhas-solicitacoes",createdAt:new Date,readBy:[],recipients:[i.userEmail],isBatch:!1}),Ke.success("Status atualizado"),D(),s({...i,status:d}),t.invalidateQueries({queryKey:["notifications"]})}catch(q){Ke.error("Erro ao atualizar"),console.error("Error:",q)}},$=q=>{m({id:q.id,collectionName:q.collectionName}),p(!0)},G=async()=>{if(v)try{await bQ(v.id,v.collectionName),Ke.success("Excluído com sucesso"),p(!1),m(null),a&&o(!1),D()}catch(q){Ke.error("Erro ao excluir"),console.error("Error:",q)}};return l.jsx(cn,{children:l.jsxs("div",{className:"min-h-screen bg-white relative overflow-hidden",children:[l.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[l.jsx("div",{className:"absolute left-1/4 top-1/4 h-96 w-96 rounded-full bg-sidebar blur-3xl opacity-5"}),l.jsx("div",{className:"absolute right-1/4 bottom-1/4 h-80 w-80 rounded-full bg-eccos-purple blur-3xl opacity-5"})]}),l.jsxs("div",{className:"relative z-10 space-y-8 p-6 md:p-12",children:[l.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2 bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:[l.jsx(Pa,{className:"text-eccos-purple",size:35}),"Chamados de Suporte"]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[l.jsxs("div",{className:"relative flex-1 max-w-md",children:[l.jsx(yf,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),l.jsx(or,{placeholder:"Pesquisar por nome ou descrição...",value:r,onChange:q=>n(q.target.value),className:"pl-10 h-12 rounded-xl border-gray-200 focus:ring-eccos-purple"})]}),l.jsxs(ys,{children:[l.jsx(xs,{asChild:!0,children:l.jsxs(oe,{variant:"outline",className:"flex items-center gap-2 h-12 rounded-xl border-gray-200",children:[l.jsx(wl,{className:"h-4 w-4"})," Tipo (",A.length,")"]})}),l.jsx(qi,{align:"end",className:"bg-white rounded-xl shadow-lg",children:j.map(q=>l.jsx(Ta,{checked:A.includes(q),onCheckedChange:U=>{R(U?[...A,q]:A.filter(X=>X!==q))},className:"focus:bg-gray-50",children:q},q))})]})]}),O?l.jsx("div",{className:"flex justify-center items-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-eccos-purple"})}):P?l.jsx("div",{className:"text-center text-destructive p-4 border border-destructive rounded-2xl bg-red-50",children:"Erro ao carregar chamados"}):z.length===0?l.jsx("div",{className:"text-center text-gray-500 p-8 border-2 border-dashed rounded-2xl bg-gray-50",children:"Nenhum chamado encontrado"}):l.jsx(tt,{className:"border border-gray-100 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 overflow-hidden",children:l.jsxs($u,{children:[l.jsx(Fu,{className:"bg-gray-50",children:l.jsxs(Un,{children:[l.jsx(dr,{className:"text-center font-semibold text-gray-600 w-[35%]",children:"Tipo"}),l.jsx(dr,{className:"text-center font-semibold text-gray-600 w-[35%]",children:"Status"}),l.jsx(dr,{className:"text-center font-semibold text-gray-600 w-[30%]",children:"Ações"})]})}),l.jsx(Vu,{children:z.map(q=>l.jsxs(Un,{className:"hover:bg-gray-50",children:[l.jsx(tr,{className:"text-center truncate font-medium",children:l.jsxs("div",{className:"flex items-center justify-center gap-2",children:[l.jsx(Pa,{className:"h-4 w-4 text-pink-500"}),q.tipo||"Suporte"]})}),l.jsx(tr,{className:"text-center",children:pU(q.status)}),l.jsx(tr,{className:"text-center",children:l.jsxs("div",{className:"flex justify-center items-center space-x-1",children:[l.jsx(oe,{variant:"ghost",size:"icon",onClick:()=>M(q),className:"h-8 w-8",title:"Detalhes",children:l.jsx(kd,{className:"h-4 w-4 text-gray-600"})}),l.jsxs(oe,{variant:"ghost",size:"icon",onClick:()=>V(q),className:"h-8 w-8 relative",title:"Chat",children:[l.jsx(J1,{className:"h-4 w-4 text-gray-600"}),b[q.id]>0&&l.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-4 w-4 flex items-center justify-center",children:b[q.id]})]})]})})]},`${q.collectionName}-${q.id}`))})]})}),l.jsx(ts,{open:a,onOpenChange:o,children:l.jsx(Ii,{className:"max-w-full sm:max-w-3xl w-[95%] rounded-2xl border-gray-100 shadow-xl p-0 overflow-y-auto max-h-screen",children:c?l.jsx("div",{className:"flex justify-center items-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-eccos-purple"})}):i?l.jsxs(l.Fragment,{children:[l.jsxs(rs,{className:"p-4 border-b bg-gray-50",children:[l.jsxs(Oi,{className:"flex items-center gap-2 text-gray-900 text-lg",children:[l.jsx(Pa,{className:"h-5 w-5 text-eccos-purple"}),i.userName||i.userEmail]}),l.jsx(As,{asChild:!0,children:l.jsx("div",{className:"text-gray-600 px-1 mt-1",children:i&&l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2",children:[l.jsx("div",{className:"text-sm",children:Dt(new Date(i.createdAt.toMillis()),"dd 'de' MMMM 'de' yyyy 'às' HH:mm",{locale:Pn})}),l.jsx("div",{children:pU(i.status)})]})})})]}),l.jsxs("div",{className:"p-4 space-y-0",children:[l.jsxs("div",{className:"space-y-4 border-b pb-4",children:[l.jsx("h3",{className:"text-base font-medium text-gray-900",children:"Detalhes do Chamado"}),l.jsxs("div",{className:"grid grid-cols-1 gap-3 text-sm",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-gray-500",children:"Tipo"}),l.jsx("p",{className:"text-gray-700",children:i.tipo})]}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-gray-500",children:"Unidade"}),l.jsx("p",{className:"text-gray-700",children:i.unit})]}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-gray-500",children:"Localização"}),l.jsx("p",{className:"text-gray-700",children:i.location})]}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-gray-500",children:"Categoria"}),l.jsx("p",{className:"text-gray-700",children:i.category})]}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-gray-500",children:"Prioridade"}),l.jsx("p",{className:"text-gray-700",children:kJe(i.priority)})]}),i.deviceInfo&&l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-gray-500",children:"Identificação do Equipamento"}),l.jsx("p",{className:"text-gray-700",children:i.deviceInfo})]}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-gray-500",children:"Descrição Completa"}),l.jsx("pre",{className:"whitespace-pre-wrap font-sans p-2 bg-gray-50 rounded-md text-xs sm:text-sm",children:i.description||"Nenhuma descrição fornecida"})]})]})]}),l.jsxs("div",{className:"space-y-4 border-b pb-4",children:[l.jsx("h3",{className:"text-base font-medium text-gray-900",children:"Alterar Status"}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:items-center",children:[l.jsxs(_a,{value:d,onValueChange:q=>f(q),children:[l.jsx(Bs,{className:"w-full sm:w-[180px] h-10 rounded-lg",children:l.jsx(Ea,{placeholder:"Selecionar status"})}),l.jsxs(Us,{className:"rounded-xl",children:[l.jsx(Xt,{value:"pending",className:"rounded-lg",children:"Pendente"}),l.jsx(Xt,{value:"in-progress",className:"rounded-lg",children:"Em Andamento"}),l.jsx(Xt,{value:"completed",className:"rounded-lg",children:"Concluído"}),l.jsx(Xt,{value:"canceled",className:"rounded-lg",children:"Cancelado"})]})]}),l.jsx(oe,{onClick:L,className:"w-full sm:w-auto h-10 rounded-lg bg-gradient-to-r from-sidebar to-eccos-purple text-white hover:from-eccos-purple hover:to-sidebar",children:"Atualizar Status"}),l.jsxs(oe,{variant:"destructive",onClick:()=>i&&$(i),className:"w-full sm:w-auto h-10 rounded-lg text-sm",children:[l.jsx(Ll,{className:"h-4 w-4 mr-2"})," Excluir"]})]})]})]})]}):l.jsx("div",{className:"p-4 text-destructive text-center",children:"Nenhuma solicitação selecionada"})})}),l.jsx(SM,{request:N,isOpen:S,onOpenChange:E,onMessageSent:D}),l.jsx(Cu,{open:h,onOpenChange:p,children:l.jsxs(Zl,{className:"rounded-2xl border-gray-100",children:[l.jsxs(Jl,{children:[l.jsx(ec,{className:"text-gray-900",children:"Confirmar exclusão"}),l.jsx(Au,{className:"text-gray-600",children:"Tem certeza que deseja excluir permanentemente este chamado?"})]}),l.jsxs(_m,{children:[l.jsx(Ru,{className:"rounded-xl h-12 border-gray-200",children:"Cancelar"}),l.jsx(Pu,{onClick:G,className:"rounded-xl h-12 bg-red-600 hover:bg-red-700 text-white",children:"Confirmar Exclusão"})]})]})})]}),l.jsx("footer",{className:"relative z-10 bg-gray-50 py-10 px-4 md:px-12",children:l.jsx("div",{className:"max-w-6xl mx-auto text-center",children:l.jsx("p",{className:"text-gray-500 text-sm",children:"© 2025 Colégio ECCOS - Todos os direitos reservados"})})})]})})},OJe=({filtroCategoria:t,filtroNomeDescricao:e,setFiltroCategoria:r,setFiltroNomeDescricao:n,todasCategorias:i})=>l.jsxs("div",{className:"flex flex-wrap gap-4",children:[l.jsxs("div",{className:"flex-1 min-w-[250px]",children:[l.jsx(ur,{children:"Filtrar por Nome ou Descrição"}),l.jsx(or,{placeholder:"Digite um termo...",value:e,onChange:s=>n(s.target.value)})]}),l.jsxs("div",{className:"flex-1 min-w-[250px]",children:[l.jsx(ur,{children:"Filtrar por Categoria"}),l.jsxs("select",{className:"w-full mt-1 flex h-10 items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm",value:t,onChange:s=>r(s.target.value),children:[l.jsx("option",{value:"",children:"Todas categorias"}),i.map(s=>l.jsx("option",{value:s,children:s},s))]})]})]}),MJe=({itensFiltrados:t,setIsDetailModalOpen:e,setSelectedItemDetails:r})=>l.jsx("div",{className:"rounded-md border",children:l.jsxs($u,{children:[l.jsx(Fu,{children:l.jsxs(Un,{children:[l.jsx(dr,{className:"w-[200px]",children:"Item"}),l.jsx(dr,{children:"Quantidade"}),l.jsx(dr,{children:"Categoria"}),l.jsx(dr,{className:"text-right",children:"Detalhes"})]})}),l.jsx(Vu,{children:t.map(n=>l.jsxs(Un,{children:[l.jsx(tr,{className:"font-medium",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Gae,{className:"h-4 w-4"}),n.nome]})}),l.jsx(tr,{children:n.quantidade}),l.jsx(tr,{children:n.categoria}),l.jsx(tr,{className:"text-right",children:l.jsx(oe,{variant:"ghost",size:"sm",onClick:()=>{r(n),e(!0)},children:l.jsx(kd,{className:"h-4 w-4"})})})]},n.id))})]})}),DJe=({isOpen:t,onClose:e,selectedItemDetails:r,onDelete:n,onClone:i,onEdit:s})=>{var o;if(!r)return null;const a={Ótimo:"bg-green-100 text-green-800",Bom:"bg-blue-100 text-blue-800",Razoável:"bg-yellow-100 text-yellow-800",Ruim:"bg-orange-100 text-orange-800",Péssimo:"bg-red-100 text-red-800"};return l.jsx(ts,{open:t,onOpenChange:e,children:l.jsxs(Ii,{className:"w-full max-w-[95vw] sm:max-w-md md:max-w-lg lg:max-w-xl rounded-lg p-4 max-h-[80vh] overflow-y-auto",children:["        ",l.jsxs(rs,{children:[l.jsxs(Oi,{className:"flex items-center gap-2 text-lg sm:text-xl",children:[l.jsx(p8,{className:"h-5 w-5"})," Detalhes do Item"]}),l.jsx(As,{className:"text-sm text-gray-500",children:"Informações completas sobre o item do estoque"})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx(ur,{className:"text-xs font-medium",children:"Nome:"}),l.jsx("p",{className:"font-medium text-sm",children:r.nome})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx(ur,{className:"text-xs font-medium",children:"Quantidade:"}),l.jsx("p",{className:"text-sm",children:r.quantidade})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx(ur,{className:"text-xs font-medium",children:"Categoria:"}),l.jsx("p",{className:"text-sm",children:r.categoria})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx(ur,{className:"text-xs font-medium",children:"Valor Unitário:"}),l.jsx("p",{className:"text-sm",children:((o=r.valorUnitario)==null?void 0:o.toLocaleString("pt-BR",{style:"currency",currency:"BRL"}))||"Não informado"})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx(ur,{className:"text-xs font-medium",children:"Valor Total:"}),l.jsx("p",{className:"text-sm",children:(r.quantidade*(r.valorUnitario||0)).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx(ur,{className:"text-xs font-medium",children:"Unidade:"}),l.jsx("p",{className:"text-sm",children:r.unidade})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx(ur,{className:"text-xs font-medium",children:"Localização:"}),l.jsx("p",{className:"text-sm",children:r.localizacao})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx(ur,{className:"text-xs font-medium",children:"Estado:"}),l.jsx("p",{className:`inline-flex items-center rounded-md px-2 py-1 text-xs font-medium ${a[r.estado]||"bg-gray-100 text-gray-800"}`,children:r.estado})]}),l.jsxs("div",{className:"col-span-1 sm:col-span-2 space-y-1",children:[l.jsx(ur,{className:"text-xs font-medium",children:"Descrição:"}),l.jsx("p",{className:"text-sm",children:r.descricao||"Não informada"})]})]}),l.jsxs(ju,{className:"mt-6 flex flex-col-reverse sm:flex-row gap-2 justify-end",children:[l.jsxs(oe,{variant:"destructive",onClick:n,className:"w-full sm:w-auto",children:[l.jsx(Ll,{className:"mr-2 h-4 w-4"})," Excluir"]}),l.jsxs(oe,{onClick:i,className:"w-full sm:w-auto",children:[l.jsx(Vae,{className:"mr-2 h-4 w-4"})," Copiar"]}),l.jsxs(oe,{onClick:s,className:"w-full sm:w-auto",children:[l.jsx(Iv,{className:"mr-2 h-4 w-4"})," Editar"]})]})]})})},LJe=({isOpen:t,onClose:e,formState:r,editingItem:n,handleSubmit:i,handleChange:s,locationsByUnit:a})=>{var o;return l.jsx(ts,{open:t,onOpenChange:e,children:l.jsxs(Ii,{className:"max-w-2xl",children:[l.jsxs(rs,{children:[l.jsxs(Oi,{className:"flex items-center gap-2",children:[l.jsx(p8,{className:"h-6 w-6"}),n?"Editar Item":"Novo Item"]}),l.jsxs(As,{children:["Campos marcados com"," ",l.jsx("span",{className:"text-destructive",children:"*"})," são obrigatórios"]})]}),l.jsxs("form",{onSubmit:i,className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs(ur,{children:["Nome do Item ",l.jsx("span",{className:"text-destructive",children:"*"})]}),l.jsx(or,{placeholder:"Ex: Computador",value:r.nome,onChange:c=>s("nome",c.target.value)})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(ur,{children:["Quantidade ",l.jsx("span",{className:"text-destructive",children:"*"})]}),l.jsx(or,{type:"number",min:"0",step:"1",value:isNaN(r.quantidade)?"":r.quantidade,onChange:c=>s("quantidade",Number(c.target.value))})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(ur,{children:["Estado ",l.jsx("span",{className:"text-destructive",children:"*"})]}),l.jsxs("select",{value:r.estado,onChange:c=>s("estado",c.target.value),className:"w-full h-10 rounded-md border px-3",children:[l.jsx("option",{value:"",children:"Selecione um estado"}),l.jsx("option",{value:"Ótimo",children:"Ótimo"}),l.jsx("option",{value:"Bom",children:"Bom"}),l.jsx("option",{value:"Razoável",children:"Razoável"}),l.jsx("option",{value:"Ruim",children:"Ruim"}),l.jsx("option",{value:"Péssimo",children:"Péssimo"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(ur,{children:["Categoria ",l.jsx("span",{className:"text-destructive",children:"*"})]}),l.jsxs("select",{value:r.categoria,onChange:c=>s("categoria",c.target.value),className:"w-full h-10 rounded-md border px-3",children:[l.jsx("option",{value:"",children:"Selecione uma categoria"}),l.jsx("option",{value:"TI",children:"TI"}),l.jsx("option",{value:"Administrativo",children:"Administrativo"}),l.jsx("option",{value:"Limpeza",children:"Limpeza"}),l.jsx("option",{value:"Manutenção",children:"Manutenção"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(ur,{children:["Unidade ",l.jsx("span",{className:"text-destructive",children:"*"})]}),l.jsxs("select",{value:r.unidade,onChange:c=>s("unidade",c.target.value),className:"w-full h-10 rounded-md border px-3",children:[l.jsx("option",{value:"",children:"Selecione uma unidade"}),Object.keys(a).map(c=>l.jsx("option",{value:c,children:c},c))]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(ur,{children:["Localização ",l.jsx("span",{className:"text-destructive",children:"*"})]}),l.jsxs("select",{value:r.localizacao,onChange:c=>s("localizacao",c.target.value),disabled:!r.unidade,className:"w-full h-10 rounded-md border px-3",children:[l.jsx("option",{value:"",children:"Selecione uma localização"}),r.unidade&&((o=a[r.unidade])==null?void 0:o.map(c=>l.jsx("option",{value:c,children:c},c)))]})]})]}),l.jsxs(ju,{children:[l.jsx(oe,{type:"button",variant:"outline",onClick:()=>{e()},children:"Cancelar"}),l.jsx(oe,{type:"submit",children:n?"Salvar Alterações":"Adicionar Item"})]})]})]})})},$Je=({isOpen:t,onClose:e,itemName:r,onConfirm:n})=>l.jsx(Cu,{open:t,onOpenChange:e,children:l.jsxs(Zl,{children:[l.jsxs(Jl,{children:[l.jsx(ec,{children:"Confirmar exclusão"}),l.jsx(Au,{children:"Esta ação não pode ser desfeita. O item será permanentemente removido."})]}),l.jsxs("div",{className:"py-4",children:['Tem certeza que deseja excluir o item "',r,'"?']}),l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx(Ru,{children:"Cancelar"}),l.jsx(Pu,{onClick:n,className:"bg-destructive hover:bg-destructive/90",children:"Confirmar Exclusão"})]})]})}),FJe=({isOpen:t,onClose:e,itemName:r,onCreateAnyway:n,onEditExisting:i})=>l.jsx(Cu,{open:t,onOpenChange:e,children:l.jsxs(Zl,{children:[l.jsxs(Jl,{children:[l.jsx(ec,{children:"Item já existe"}),l.jsxs(Au,{children:['Um item com o nome "',r,'" já está cadastrado no estoque.']})]}),l.jsx("div",{className:"py-4",children:"Você quer:"}),l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx(oe,{variant:"outline",onClick:n,children:"Criar Novo Item"}),l.jsx(oe,{onClick:i,children:"Editar Item Existente"})]})]})}),VJe={"Berçário e Educação Infantil":["Recepção","Sala de reuniões","Cozinha","Pátio","Sala de música","Sala de science","Berçário 2","Berçário 3","Refeitório","Sala de movimento","Pátio integral","Infantil 1","Infantil 2"],Fundamental:["Recepção","Secretaria","Sala de atendimento","Sala de atendimento (Laranja)","Sala de auxiliar de coordenação fundamental 1","Sala de oficinas","Sala de música","Sala de science","Integral","4º Ano","Patio (Cantina)","Refeitório","Biblioteca (Inferior)","3º Ano","2º Ano","1º Ano","Sala dos professores","Sala de Linguas","Coordenação de linguas/Fundamental 2","Sala de artes","Coordenação Fundamental 1 / Coordenação de matemática","8º ano","7º Ano","Apoio pedagógico","Orientação educacional","TI","Sala de oficinas (Piso superior)","5º Ano","6º Ano","Biblioteca (Superior)","Sala de convivência","9º Ano"],Anexo:["Sala de manutenção","Sala de reuniões","Refeitório","Cozinha","Nutrição","Controladoria","Financeiro","Operacional","Mantenedoria"]},BJe=()=>{const t=wu(),[e,r]=g.useState(!1),[n,i]=g.useState(!1),[s,a]=g.useState(!1),[o,c]=g.useState(!1),[u,d]=g.useState(null),[f,h]=g.useState(null),[p,v]=g.useState(null),[m,b]=g.useState(""),[w,y]=g.useState(""),[_,S]=g.useState(""),[E,N]=g.useState({nome:"",quantidade:NaN,valorUnitario:void 0,descricao:void 0,categoria:"",unidade:"",localizacao:"",estado:"Bom"}),[T,j]=g.useState(!1),[A,R]=g.useState(null),[k,O]=g.useState({nomeBase:"",quantidadeItens:1,categoria:"",unidade:"",localizacao:"",estado:"Bom"});g.useEffect(()=>{const Q=new IntersectionObserver(Y=>{Y.forEach(ee=>{ee.isIntersecting&&ee.target.classList.add("visible")})},{threshold:.1});return document.querySelectorAll(".fade-up").forEach(Y=>Q.observe(Y)),()=>Q.disconnect()},[]);const{data:P=[],isLoading:D}=Xi({queryKey:["estoque"],queryFn:async()=>(await ea(on(Ue,"estoque"))).docs.map(Y=>({id:Y.id,...Y.data()}))}),z=P.filter(Q=>{var J;const Y=m?Q.categoria===m:!0,ee=w?Q.localizacao===w:!0,se=_?Q.nome.toLowerCase().includes(_.toLowerCase())||((J=Q.descricao)==null?void 0:J.toLowerCase().includes(_.toLowerCase()))||!1:!0;return Y&&ee&&se}),M=["TI","Administrativo","Limpeza","Manutenção"],V=Array.from(new Set(P.map(Q=>Q.localizacao).filter(Q=>Q!==""))),L=zx({mutationFn:async Q=>{await cu(on(Ue,"estoque"),Q)},onSuccess:()=>{t.invalidateQueries({queryKey:["estoque"]}),Ke.success("Item adicionado com sucesso")}});zx({mutationFn:async Q=>{const Y=Q.map(ee=>cu(on(Ue,"estoque"),ee));await Promise.all(Y)},onSuccess:()=>{t.invalidateQueries({queryKey:["estoque"]}),Ke.success("Itens adicionados com sucesso")}});const $=zx({mutationFn:async Q=>{if(!Q.id)return;const{id:Y,...ee}=Q;await Rn(bt(Ue,"estoque",Y),ee)},onSuccess:()=>{t.invalidateQueries({queryKey:["estoque"]}),Ke.success("Item atualizado com sucesso")}}),G=zx({mutationFn:async Q=>{await Sf(bt(Ue,"estoque",Q))},onSuccess:()=>{t.invalidateQueries({queryKey:["estoque"]}),Ke.success("Item removido com sucesso")}}),q=Q=>{Q.preventDefault();const Y=E.nome.trim();if(!Y){Ke.error("Nome do item é obrigatório");return}if(E.quantidade<=0){Ke.error("Quantidade deve ser maior que zero");return}if(!E.categoria){Ke.error("Selecione uma categoria");return}if(!E.unidade){Ke.error("Selecione uma unidade");return}if(!E.localizacao){Ke.error("Selecione uma localização");return}const ee=P.find(J=>J.nome===Y);if(ee&&!p){R(ee),j(!0);return}const se={nome:Y,quantidade:E.quantidade,categoria:E.categoria,unidade:E.unidade,localizacao:E.localizacao,estado:E.estado,...E.valorUnitario!==void 0&&{valorUnitario:E.valorUnitario},...E.descricao&&{descricao:E.descricao}};p?$.mutate({...se,id:p.id}):L.mutate(se),r(!1),U()},U=()=>{N({nome:"",quantidade:NaN,valorUnitario:void 0,descricao:void 0,categoria:"",unidade:"",localizacao:"",estado:"Bom"}),v(null)},X=Q=>{v(Q),N(Q),r(!0)},ie=Q=>{const Y={...Q};delete Y.id,v(null),N(Y),r(!0)},le=()=>{j(!1);const Q={nome:E.nome,quantidade:E.quantidade,categoria:E.categoria,unidade:E.unidade,localizacao:E.localizacao,estado:E.estado,...E.valorUnitario!==void 0&&{valorUnitario:E.valorUnitario},...E.descricao&&{descricao:E.descricao}};L.mutate(Q),r(!1),U()},xe=()=>{A&&(X(A),j(!1))},ce=(Q,Y)=>{N(ee=>({...ee,[Q]:Y}))};return l.jsx(cn,{children:l.jsxs("div",{className:"min-h-screen bg-white overflow-hidden relative",children:[l.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[l.jsx("div",{className:"absolute left-1/4 top-1/4 h-96 w-96 rounded-full bg-sidebar blur-3xl opacity-5"}),l.jsx("div",{className:"absolute right-1/4 bottom-1/4 h-80 w-80 rounded-full bg-eccos-purple blur-3xl opacity-5"})]}),l.jsxs("div",{className:"relative z-10 space-y-8 p-6 md:p-12 fade-up",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2 bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:[l.jsx(PR,{className:"text-eccos-purple",size:36}),"Controle de Estoque"]}),l.jsx("div",{className:"flex gap-2",children:l.jsxs(oe,{onClick:()=>r(!0),className:"bg-eccos-purple hover:bg-sidebar text-white transition-all duration-300",children:[l.jsx(TR,{className:"mr-2 h-4 w-4"}),"Novo Item"]})})]}),l.jsxs("div",{className:"bg-white border border-gray-100 rounded-2xl shadow-lg p-6 fade-up",children:[l.jsx("h2",{className:"text-lg font-semibold mb-4 text-gray-700",children:"Filtros"}),l.jsx(OJe,{filtroCategoria:m,filtroNomeDescricao:_,setFiltroCategoria:b,setFiltroNomeDescricao:S,todasCategorias:M,localizacoesCadastradas:V})]}),l.jsx("div",{className:"bg-white border border-gray-100 rounded-2xl shadow-lg overflow-hidden fade-up",children:l.jsx(MJe,{itensFiltrados:z,setIsDetailModalOpen:c,setSelectedItemDetails:h})}),l.jsx(DJe,{isOpen:o,onClose:()=>c(!1),selectedItemDetails:f,onDelete:()=>{d(f),a(!0)},onClone:()=>ie(f),onEdit:()=>X(f)}),l.jsx(LJe,{isOpen:e,onClose:()=>r(!1),formState:E,editingItem:p,handleSubmit:q,handleChange:ce,locationsByUnit:VJe}),l.jsx($Je,{isOpen:s,onClose:()=>a(!1),itemName:(u==null?void 0:u.nome)||"",onConfirm:()=>{u!=null&&u.id&&G.mutate(u.id),a(!1),c(!1),r(!1)}}),l.jsx(FJe,{isOpen:T,onClose:()=>j(!1),itemName:E.nome,onCreateAnyway:le,onEditExisting:xe})]}),l.jsx("footer",{className:"relative z-10 bg-gray-50 py-10 px-4 md:px-12 fade-up",children:l.jsx("div",{className:"max-w-6xl mx-auto",children:l.jsx("div",{className:"text-center",children:l.jsx("p",{className:"text-gray-500 text-sm",children:"© 2025 Colégio ECCOS - Todos os direitos reservados"})})})})]})})},UJe=()=>{const[t,e]=g.useState(new Date),[r,n]=g.useState(null),[i,s]=g.useState(null),{data:a=[],isLoading:o,isError:c,refetch:u}=Xi({queryKey:["reservasCalendario"],queryFn:()=>Nm(),select:y=>y.filter(_=>_.type==="reservation"),retry:2});g.useEffect(()=>{const y=new IntersectionObserver(_=>{_.forEach(S=>{S.isIntersecting&&S.target.classList.add("visible")})},{threshold:.1});return document.querySelectorAll(".fade-up").forEach(_=>y.observe(_)),()=>y.disconnect()},[]);const d=()=>{const y=[];for(let _=0;_<24;_++)y.push(`${_.toString().padStart(2,"0")}:00`);return y},f=(y,_)=>{const S=new Date(y),[E,N]=_.split(":").map(Number);return S.setHours(E,N,0,0),S},h=a.reduce((y,_)=>{const S=Dt(_.date.toDate(),"yyyy-MM-dd");return y[S]||(y[S]=[]),y[S].push({..._,start:f(S,_.startTime),end:f(S,_.endTime)}),y},{}),p=()=>{const y=Va(t,{weekStartsOn:0});return Array.from({length:7}).map((_,S)=>Cn(y,S))},v=a.length,m=p().reduce((y,_)=>{var E;const S=Dt(_,"yyyy-MM-dd");return y+(((E=h[S])==null?void 0:E.length)||0)},0),b=[...new Set(a.map(y=>y.location))].length,w=[...new Set(a.map(y=>y.userId))].length;return l.jsx(cn,{children:l.jsxs("div",{className:"min-h-screen bg-white overflow-hidden relative",children:[l.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[l.jsx("div",{className:"absolute left-1/4 top-1/4 h-96 w-96 rounded-full bg-sidebar blur-3xl opacity-5"}),l.jsx("div",{className:"absolute right-1/4 bottom-1/4 h-80 w-80 rounded-full bg-eccos-purple blur-3xl opacity-5"})]}),l.jsxs("div",{className:"relative z-10 space-y-6 p-4 md:p-6 lg:p-12 fade-up",children:[l.jsxs("h1",{className:"text-2xl md:text-3xl font-bold flex items-center gap-2 bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:[l.jsx(_i,{className:"text-eccos-purple",size:35}),"Calendário de Reservas"]}),o&&l.jsx("div",{className:"flex justify-center items-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-eccos-purple"})}),c&&l.jsxs("div",{className:"bg-white border border-gray-100 rounded-2xl shadow-lg p-8 text-center",children:[l.jsx("p",{className:"text-lg text-gray-500 mb-4",children:"Ocorreu um erro ao carregar as reservas."}),l.jsx(oe,{onClick:()=>u(),className:"bg-eccos-purple hover:bg-sidebar text-white",children:"Tentar novamente"})]}),!o&&!c&&l.jsxs("div",{className:"space-y-6 fade-up",children:[l.jsxs("div",{className:"grid gap-4 grid-cols-2 lg:grid-cols-4",children:[l.jsxs(tt,{className:"bg-white border border-gray-100 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 relative group overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),l.jsx(qt,{className:"pb-2",children:l.jsx(Wt,{className:"text-xs md:text-sm font-medium text-gray-600",children:"Total de Reservas"})}),l.jsxs(mt,{children:[l.jsx("div",{className:"text-xl md:text-2xl font-bold bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:v}),l.jsx(_e,{variant:"outline",className:"mt-2 border-eccos-purple text-eccos-purple text-xs",children:"Agendamentos"})]})]}),l.jsxs(tt,{className:"bg-white border border-gray-100 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 relative group overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),l.jsx(qt,{className:"pb-2",children:l.jsx(Wt,{className:"text-xs md:text-sm font-medium text-gray-600",children:"Reservas Nesta Semana"})}),l.jsxs(mt,{children:[l.jsx("div",{className:"text-xl md:text-2xl font-bold bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:m}),l.jsx(_e,{variant:"outline",className:"mt-2 border-eccos-purple text-eccos-purple text-xs",children:"Esta Semana"})]})]}),l.jsxs(tt,{className:"bg-white border border-gray-100 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 relative group overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),l.jsx(qt,{className:"pb-2",children:l.jsx(Wt,{className:"text-xs md:text-sm font-medium text-gray-600",children:"Locais Reservados"})}),l.jsxs(mt,{children:[l.jsx("div",{className:"text-xl md:text-2xl font-bold bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:b}),l.jsx(_e,{variant:"outline",className:"mt-2 border-eccos-purple text-eccos-purple text-xs",children:"Espaços"})]})]}),l.jsxs(tt,{className:"bg-white border border-gray-100 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 relative group overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),l.jsx(qt,{className:"pb-2",children:l.jsx(Wt,{className:"text-xs md:text-sm font-medium text-gray-600",children:"Usuários com Reservas"})}),l.jsxs(mt,{children:[l.jsx("div",{className:"text-xl md:text-2xl font-bold bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:w}),l.jsx(_e,{variant:"outline",className:"mt-2 border-eccos-purple text-eccos-purple text-xs",children:"Professores"})]})]})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4 px-4 py-4 bg-white rounded-lg shadow border border-gray-200",children:[l.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[l.jsx(oe,{variant:"outline",size:"sm",className:"border-eccos-purple text-eccos-purple hover:bg-eccos-purple/10",onClick:()=>e(y=>Cn(y,-7)),children:l.jsx(kw,{className:"h-4 w-4"})}),l.jsx("span",{className:"font-medium text-black text-sm sm:text-lg whitespace-nowrap",children:Dt(t,"MMMM 'de' yyyy",{locale:Pn})}),l.jsx(oe,{variant:"outline",size:"sm",className:"border-eccos-purple text-black hover:bg-eccos-purple/10",onClick:()=>e(y=>Cn(y,7)),children:l.jsx(Rv,{className:"h-4 w-4"})})]}),l.jsx(oe,{size:"sm",className:"bg-eccos-purple hover:bg-sidebar text-white",onClick:()=>u(),children:"Atualizar"})]}),l.jsxs(tt,{className:"border border-gray-200 rounded-2xl shadow-lg overflow-hidden bg-white",children:[l.jsx("div",{className:"bg-white border-b border-gray-200 sticky top-0 z-10",children:l.jsxs("div",{className:"grid grid-cols-8 h-12 md:h-16",children:[l.jsx("div",{className:"flex items-center justify-center text-xs md:text-sm font-medium border-r border-gray-200"}),p().map((y,_)=>{const S=["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"];return l.jsxs("div",{className:"flex flex-col items-center justify-center text-xs md:text-sm font-medium border-r border-gray-200",children:[l.jsx("span",{className:"text-xs font-bold text-black",children:S[_]}),l.jsx("span",{className:"mt-1 text-sm md:text-lg font-bold text-eccos-purple",children:Dt(y,"d")})]},_)})]})}),l.jsx("div",{className:"bg-white overflow-x-auto",children:l.jsx("div",{className:"grid grid-cols-8 min-w-full",children:d().map(y=>l.jsxs(B.Fragment,{children:[l.jsx("div",{className:"border-t border-r border-gray-200 p-1 md:p-2 text-xs text-blue-600 text-center font-medium h-12 md:h-16 flex items-center justify-center min-w-[50px]",children:y}),p().map((_,S)=>{const E=Dt(_,"yyyy-MM-dd"),N=h[E]||[];return l.jsx("div",{className:"border-t border-r border-gray-200 relative hover:bg-gray-50 transition-colors bg-white h-12 md:h-16 min-w-[50px]",style:{overflow:"visible"},children:N.filter(T=>{const j=f(E,y),[A]=y.split(":").map(Number),R=new Date(j);return R.setHours(A+1,0,0,0),T.start>=j&&T.start<R}).map((T,j)=>{const A=(T.end.getTime()-T.start.getTime())/36e5,R=T.start.getMinutes()/60*100;return l.jsxs("div",{role:"button",tabIndex:0,onClick:()=>n(T),onKeyDown:k=>{(k.key==="Enter"||k.key===" ")&&n(T)},className:"absolute bg-gradient-to-r from-blue-50 to-blue-100 border border-blue-300 rounded p-1 md:p-2 m-0.5 md:m-1 text-xs w-[95%] cursor-pointer z-20 shadow-md hover:shadow-lg transition-shadow",style:{top:`${R}%`,height:`${A*100}%`},children:[l.jsx("div",{className:"font-medium truncate text-xs",title:T.userName,children:T.userName.split(" ")[0]}),l.jsxs("div",{className:"text-blue-600 mt-0.5 text-xs hidden md:block",children:[Dt(T.start,"HH:mm")," - ",Dt(T.end,"HH:mm")]})]},j)})},S)})]},y))})})]})]}),r&&l.jsx(ts,{open:!!r,onOpenChange:()=>n(null),children:l.jsxs(Ii,{className:"max-w-md mx-4 bg-white rounded-2xl border border-gray-100 shadow-xl",children:[l.jsxs(rs,{children:[l.jsx(Oi,{className:"text-xl font-bold bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:"Detalhes da Reserva"}),l.jsx(As,{asChild:!0,children:l.jsx("div",{className:"text-sm text-muted-foreground",children:"Visualize os detalhes completos desta reserva."})})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Nome do Usuário"}),l.jsx("p",{className:"font-medium",children:r.userName})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Propósito"}),l.jsx("p",{children:r.purpose})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Local"}),l.jsx("p",{children:r.location})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Data"}),l.jsx("p",{children:Dt(r.date.toDate(),"dd 'de' MMMM 'de' yyyy",{locale:Pn})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Horário"}),l.jsxs("p",{children:[r.startTime," - ",r.endTime]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Equipamentos"}),Object.entries(r.equipmentQuantities).length>0?l.jsx("ul",{className:"list-disc pl-5 space-y-1 mt-1",children:Object.entries(r.equipmentQuantities).map(([y,_])=>l.jsxs("li",{children:[y,": ",l.jsx("strong",{children:typeof _=="number"?_:0})]},y))}):l.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhum equipamento solicitado."})]}),l.jsx("div",{className:"pt-2",children:l.jsx(oe,{className:"w-full bg-eccos-purple hover:bg-sidebar text-white",onClick:()=>n(null),children:"Fechar"})})]})]})})]}),l.jsx("footer",{className:"relative z-10 bg-gray-50 py-10 px-4 md:px-12 fade-up",children:l.jsx("div",{className:"max-w-6xl mx-auto",children:l.jsx("div",{className:"text-center",children:l.jsx("p",{className:"text-gray-500 text-sm",children:"© 2025 Colégio ECCOS - Todos os direitos reservados"})})})})]})})},zJe=()=>{const{toast:t}=qa(),[e,r]=g.useState([]),[n,i]=g.useState(!0),[s,a]=g.useState(null),[o,c]=g.useState([]),[u,d]=g.useState(!1);g.useEffect(()=>{(async()=>{try{const b=$a(on(Ue,"bugReports"),vs("status","==","open")),w=await ea(b),y=[];w.forEach(_=>{const S=_.data();y.push({id:_.id,title:S.title,description:S.description,createdAt:S.createdAt.toDate(),status:S.status,userEmail:S.userEmail,pageUrl:S.pageUrl})}),r(y.sort((_,S)=>S.createdAt.getTime()-_.createdAt.getTime())),i(!1)}catch(b){console.error("Erro ao carregar relatórios de bugs:",b),t({title:"Erro",description:"Não foi possível carregar os relatórios de bugs.",variant:"destructive"}),i(!1)}})()},[t]),g.useEffect(()=>{(async()=>{const b=Sl(Nl,"manuais/");try{const w=await EH(b),y=await Promise.all(w.items.map(async _=>{const S=await Tp(_);return{name:_.name,url:S}}));c(y)}catch(w){console.error("Erro ao carregar manuais:",w),t({title:"Erro",description:"Não foi possível carregar os manuais.",variant:"destructive"})}})()},[t]),g.useEffect(()=>{const m=new IntersectionObserver(b=>{b.forEach(w=>{w.isIntersecting&&w.target.classList.add("visible")})},{threshold:.1});return document.querySelectorAll(".fade-up").forEach(b=>m.observe(b)),()=>m.disconnect()},[]);const f=m=>{m.target.files&&m.target.files[0]&&a(m.target.files[0])},h=async()=>{if(!s){t({title:"Erro",description:"Por favor, selecione um arquivo.",variant:"destructive"});return}d(!0);try{if(s.type!=="application/pdf"){t({title:"Tipo de arquivo inválido",description:"Apenas arquivos PDF são permitidos.",variant:"destructive"});return}const m=Sl(Nl,`manuais/${s.name}`);await mI(m,s),t({title:"Sucesso!",description:"Arquivo enviado com sucesso."});const b=await Tp(m);c([...o,{name:s.name,url:b}]),a(null)}catch(m){console.error("Erro ao fazer upload:",m),t({title:"Erro",description:"Falha ao enviar o arquivo.",variant:"destructive"})}finally{d(!1)}},p=async m=>{try{const b=Sl(Nl,`manuais/${m}`);await gI(b),t({title:"Sucesso",description:"Manual removido com sucesso."}),c(o.filter(w=>w.name!==m))}catch(b){console.error("Erro ao excluir manual:",b),t({title:"Erro",description:"Falha ao remover o manual.",variant:"destructive"})}},v=async m=>{try{const b=bt(Ue,"bugReports",m);await Rn(b,{status:"resolved",resolvedAt:new Date}),t({title:"Bug resolvido",description:"O problema foi marcado como resolvido."}),r(e.filter(w=>w.id!==m))}catch(b){console.error("Erro ao marcar bug como resolvido:",b),t({title:"Erro",description:"Falha ao atualizar o status do bug.",variant:"destructive"})}};return n?l.jsx(cn,{children:l.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-eccos-purple/10 text-eccos-purple mb-4",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-eccos-purple"})}),l.jsx("p",{className:"text-gray-600",children:"Carregando dados do suporte..."})]})})}):l.jsx(cn,{children:l.jsxs("div",{className:"min-h-screen bg-white overflow-hidden relative",children:[l.jsxs("div",{className:"relative z-20 space-y-8 p-6 md:p-12 fade-up",children:[l.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2 bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:[l.jsx(Uae,{className:"text-eccos-purple",size:35}),"Suporte da Plataforma"]}),l.jsxs("div",{className:"grid gap-4 grid-cols-2 sm:grid-cols-2 lg:grid-cols-4",children:[l.jsxs(tt,{className:"bg-white border border-gray-100 rounded-2xl shadow-lg transition-all duration-300",children:[l.jsx(qt,{className:"pb-2",children:l.jsx(Wt,{className:"text-sm font-medium text-gray-600",children:"Bugs Reportados"})}),l.jsxs(mt,{children:[l.jsx("div",{className:"text-2xl font-bold bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:e.length}),l.jsx(_e,{variant:"outline",className:"mt-2 border-red-500 text-red-500",children:"Em Aberto"})]})]}),l.jsxs(tt,{className:"bg-white border border-gray-100 rounded-2xl shadow-lg transition-all duration-300",children:[l.jsx(qt,{className:"pb-2",children:l.jsx(Wt,{className:"text-sm font-medium text-gray-600",children:"Manuais Disponíveis"})}),l.jsxs(mt,{children:[l.jsx("div",{className:"text-2xl font-bold bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:o.length}),l.jsx(_e,{variant:"outline",className:"mt-2 border-blue-500 text-blue-500",children:"Documentos"})]})]}),l.jsxs(tt,{className:"bg-white border border-gray-100 rounded-2xl shadow-lg transition-all duration-300 xs:col-span-2 lg:col-span-1",children:[l.jsx(qt,{className:"pb-2",children:l.jsx(Wt,{className:"text-sm font-medium text-gray-600",children:"Status do Sistema"})}),l.jsxs(mt,{children:[l.jsx("div",{className:"text-2xl font-bold bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:"Online"}),l.jsx(_e,{variant:"outline",className:"mt-2 border-green-500 text-green-500",children:"Operacional"})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 xs:grid-cols-2 gap-8 fade-up",children:[l.jsxs(tt,{className:"bg-white border border-gray-100 rounded-2xl shadow-lg transition-all duration-300",children:[l.jsx(qt,{children:l.jsxs(Wt,{className:"flex items-center gap-2",children:[l.jsx(fd,{className:"text-red-500",size:24}),l.jsx("span",{className:"bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:"Relatórios de Bugs"}),l.jsx(_e,{variant:"destructive",className:"ml-2",children:e.length})]})}),l.jsx(mt,{children:e.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-green-100 text-green-600 mb-4",children:l.jsx(pp,{size:24})}),l.jsx("h3",{className:"text-lg font-semibold mb-2 text-gray-800",children:"Nenhum bug reportado"}),l.jsx("p",{className:"text-gray-500",children:"Todos os problemas foram resolvidos ou não há bugs reportados recentemente."})]}):l.jsx("div",{className:"space-y-4 max-h-[500px] overflow-y-auto pr-2",children:e.map(m=>l.jsx("div",{className:"border border-gray-100 rounded-xl p-4 hover:bg-gray-50 transition-all duration-200 hover:shadow-md relative",children:l.jsxs("div",{className:"flex justify-between items-start gap-4",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"font-semibold text-lg text-gray-800 mb-2",children:m.title}),l.jsx("p",{className:"text-gray-600 mb-3 leading-relaxed",children:m.description}),l.jsxs("div",{className:"space-y-1 text-sm text-gray-500",children:[l.jsxs("p",{children:[l.jsx("span",{className:"font-medium",children:"Reportado por:"})," ",m.userEmail]}),l.jsxs("p",{children:[l.jsx("span",{className:"font-medium",children:"Página:"})," ",m.pageUrl]}),l.jsxs("p",{children:[l.jsx("span",{className:"font-medium",children:"Data:"})," ",Dt(m.createdAt,"dd/MM/yyyy 'às' HH:mm",{locale:Pn})]})]})]}),l.jsxs(oe,{variant:"outline",size:"sm",onClick:()=>v(m.id),className:"flex items-center gap-2 border-green-200 text-green-700 hover:bg-green-50 hover:border-green-300 transition-all duration-200 relative z-10",children:[l.jsx(pp,{className:"h-4 w-4"}),"Resolver"]})]})},m.id))})})]}),l.jsxs(tt,{className:"bg-white border border-gray-100 rounded-2xl shadow-lg transition-all duration-300",children:[l.jsx(qt,{children:l.jsxs(Wt,{className:"flex items-center gap-2",children:[l.jsx(Ti,{className:"text-blue-500",size:24}),l.jsx("span",{className:"bg-gradient-to-r from-sidebar to-eccos-purple bg-clip-text text-transparent",children:"Manuais e Tutoriais"}),l.jsx(_e,{variant:"secondary",className:"ml-2",children:o.length})]})}),l.jsxs(mt,{children:[l.jsxs("div",{className:"mb-8 p-6 bg-gray-50 rounded-xl border border-gray-100",children:[l.jsx("h3",{className:"font-semibold text-lg mb-4 text-gray-800",children:"Adicionar Novo Manual"}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx(or,{type:"file",accept:".pdf",onChange:f,className:"flex-1 border-gray-200 focus:border-eccos-purple focus:ring-eccos-purple"}),l.jsxs(oe,{onClick:h,disabled:!s||u,className:"flex items-center gap-2 bg-eccos-purple hover:bg-sidebar text-white transition-all duration-200",children:[l.jsx(_8,{className:"h-4 w-4"}),u?"Enviando...":"Enviar"]})]}),l.jsx("p",{className:"text-sm text-gray-500 mt-3",children:"Apenas arquivos PDF são permitidos. Tamanho máximo: 10MB."})]}),l.jsx("h3",{className:"font-semibold text-lg mb-4 text-gray-800",children:"Manuais Disponíveis"}),o.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-blue-100 text-blue-600 mb-4",children:l.jsx(Ti,{size:24})}),l.jsx("h3",{className:"text-lg font-semibold mb-2 text-gray-800",children:"Nenhum manual disponível"}),l.jsx("p",{className:"text-gray-500",children:"Faça upload dos primeiros manuais para começar a biblioteca de documentação."})]}):l.jsx("div",{className:"space-y-3 max-h-[300px] overflow-y-auto pr-2",children:o.map((m,b)=>l.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-100 rounded-xl hover:bg-gray-50 transition-all duration-200 hover:shadow-md",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-lg bg-blue-100 text-blue-600",children:l.jsx(Ti,{className:"h-5 w-5"})}),l.jsx("span",{className:"font-medium text-gray-800 truncate max-w-[200px]",children:m.name})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("a",{href:m.url,target:"_blank",rel:"noopener noreferrer",children:l.jsxs(oe,{variant:"outline",size:"sm",className:"border-blue-200 text-blue-700 hover:bg-blue-50 hover:border-blue-300 transition-all duration-200",children:[l.jsx(Q1,{className:"h-4 w-4 mr-1"}),"Baixar"]})}),l.jsxs(oe,{variant:"outline",size:"sm",onClick:()=>p(m.name),className:"border-red-200 text-red-700 hover:bg-red-50 hover:border-red-300 transition-all duration-200",children:[l.jsx(om,{className:"h-4 w-4 mr-1"}),"Remover"]})]})]},b))})]})]})]})]}),l.jsx("footer",{className:"relative z-20 bg-gray-50 py-10 px-4 md:p-12 fade-up",children:l.jsx("div",{className:"max-w-6xl mx-auto",children:l.jsx("div",{className:"text-center",children:l.jsx("p",{className:"text-gray-500 text-sm",children:"© 2025 Colégio ECCOS - Todos os direitos reservados"})})})})]})})},qJe=({className:t})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t||"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})}),WJe=({className:t})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t||"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})}),HJe=()=>{var A,R;const{currentUser:t,loading:e,updateUserData:r}=zr(),[n,i]=g.useState(""),[s,a]=g.useState(""),[o,c]=g.useState(!0),[u,d]=g.useState(!1),{toast:f}=qa(),[h,p]=g.useState(null),[v,m]=g.useState(null),[b,w]=g.useState(0),[y,_]=g.useState(!1),S=g.useRef(null);g.useEffect(()=>{(async()=>{if(t)try{const O=bt(Ue,"users",t.uid),P=await Zs(O);if(P.exists()){const D=P.data();i(D.displayName||""),a(D.birthDate||"")}}catch(O){console.error("Error fetching user data:",O),f({title:"Erro",description:"Não foi possível carregar os dados do perfil.",variant:"destructive"})}finally{c(!1)}})()},[t,f]),g.useEffect(()=>()=>{v&&URL.revokeObjectURL(v)},[v]);const E=k=>{if(k.target.files&&k.target.files[0]){const O=k.target.files[0];if(!O.type.match("image.*")){f({title:"Erro",description:"Por favor, selecione um arquivo de imagem (JPEG, PNG, etc.)",variant:"destructive"});return}if(O.size>5*1024*1024){f({title:"Arquivo muito grande",description:"A imagem deve ter no máximo 5MB",variant:"destructive"});return}p(O),m(URL.createObjectURL(O))}},N=async()=>{if(!h||!t)return null;_(!0),w(0);try{const k=Sl(Nl,`profile_pics/${t.uid}`),O=xxe(k,h);return new Promise((P,D)=>{O.on("state_changed",z=>{const M=z.bytesTransferred/z.totalBytes*100;w(M)},z=>{_(!1),console.error("Upload error:",z),f({title:"Erro no upload",description:"Houve um problema ao fazer upload da imagem.",variant:"destructive"}),D(z)},async()=>{try{const z=await Tp(O.snapshot.ref);_(!1),P(z)}catch(z){_(!1),console.error("Error getting download URL:",z),f({title:"Erro",description:"Não foi possível obter a URL da imagem.",variant:"destructive"}),D(z)}})})}catch(k){return _(!1),console.error("Upload error:",k),f({title:"Erro no upload",description:"Houve um problema ao fazer upload da imagem.",variant:"destructive"}),null}},T=async()=>{if(!(!t||!t.photoURL)&&window.confirm("Tem certeza que deseja remover sua foto de perfil?")){d(!0);try{if(t.photoURL.includes("firebase")){const O=Sl(Nl,`profile_pics/${t.uid}`);try{await gI(O)}catch{console.log("Storage file not found or already deleted")}}const k=bt(Ue,"users",t.uid);await Rn(k,{photoURL:null}),r({photoURL:null}),m(null),p(null),S.current&&(S.current.value=""),f({title:"Foto removida",description:"Sua foto de perfil foi removida com sucesso."})}catch(k){console.error("Error removing profile photo:",k),f({title:"Erro",description:"Não foi possível remover a foto de perfil.",variant:"destructive"})}finally{d(!1)}}},j=async()=>{if(t){d(!0);try{const k={displayName:n,birthDate:s};if(h){const P=await N();P&&(k.photoURL=P)}const O=bt(Ue,"users",t.uid);await Rn(O,k),r(k),f({title:"Perfil atualizado",description:"Seus dados foram salvos com sucesso."}),p(null),v&&(URL.revokeObjectURL(v),m(null)),S.current&&(S.current.value="")}catch(k){console.error("Error updating profile:",k),f({title:"Erro",description:"Não foi possível atualizar o perfil.",variant:"destructive"})}finally{d(!1)}}};return e||o?l.jsx(cn,{children:l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-eccos-blue"})})}):l.jsx(cn,{children:l.jsxs("div",{className:"max-w-4xl mx-auto p-4 md:p-8",children:[l.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Perfil do Usuário"}),l.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 mb-6",children:[l.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[l.jsxs("div",{className:"relative group",children:[v||t!=null&&t.photoURL?l.jsx("div",{className:"h-16 w-16 rounded-full overflow-hidden",children:l.jsx("img",{src:v||(t==null?void 0:t.photoURL)||"",alt:"Foto de perfil",className:"w-full h-full object-cover rounded-full"})}):l.jsx("div",{className:"h-16 w-16 rounded-full flex items-center justify-center bg-gradient-to-br from-sidebar to-eccos-purple text-white text-2xl font-bold",children:((A=t==null?void 0:t.displayName)==null?void 0:A.charAt(0))||((R=t==null?void 0:t.email)==null?void 0:R.charAt(0).toUpperCase())||"U"}),l.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-40 rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:l.jsx(ur,{htmlFor:"profilePhoto",className:"cursor-pointer p-2 rounded-full bg-white bg-opacity-80 hover:bg-opacity-100",children:l.jsx(qJe,{className:"h-4 w-4 text-gray-800"})})})]}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-semibold",children:(t==null?void 0:t.displayName)||(t==null?void 0:t.email)}),l.jsx("p",{className:"text-gray-500 capitalize",children:t==null?void 0:t.role})]})]}),l.jsx(or,{id:"profilePhoto",type:"file",accept:"image/*",className:"hidden",onChange:E,disabled:y||u,ref:S}),y&&l.jsxs("div",{className:"mt-2 mb-4",children:[l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:l.jsx("div",{className:"bg-eccos-blue h-2.5 rounded-full",style:{width:`${b}%`}})}),l.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Enviando imagem... ",Math.round(b),"%"]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(ur,{htmlFor:"displayName",children:"Nome"}),l.jsx(or,{id:"displayName",value:n,onChange:k=>i(k.target.value),placeholder:"Seu nome completo"})]}),l.jsxs("div",{children:[l.jsx(ur,{htmlFor:"birthDate",children:"Data de Nascimento"}),l.jsx(or,{type:"date",id:"birthDate",value:s,onChange:k=>a(k.target.value)})]})]}),(t==null?void 0:t.photoURL)&&!v&&l.jsx("div",{className:"mt-4",children:l.jsxs(oe,{variant:"outline",onClick:T,disabled:u||y,className:"text-red-600 border-red-300 hover:bg-red-50 flex items-center gap-2",children:[l.jsx(WJe,{className:"h-4 w-4"}),l.jsx("span",{children:"Remover Foto de Perfil"})]})})]}),l.jsx("div",{className:"flex justify-end",children:l.jsx(oe,{onClick:j,disabled:u||y,className:"min-w-[180px]",children:u?"Salvando...":y?"Enviando imagem...":"Salvar Alterações"})})]})})},Hh={dashboard:{label:"Dashboard Administrativo",icon:l.jsx(Z1,{className:"h-4 w-4"}),category:"Administração"},userdashboard:{label:"Dashboard do Usuário",icon:l.jsx(Iw,{className:"h-4 w-4"}),category:"Geral"},equipamentos:{label:"Equipamentos",icon:l.jsx(Iw,{className:"h-4 w-4"}),category:"Recursos"},disponibilidade:{label:"Disponibilidade",icon:l.jsx(_i,{className:"h-4 w-4"}),category:"Recursos"},estoque:{label:"Estoque",icon:l.jsx(PR,{className:"h-4 w-4"}),category:"Recursos"},usuarios:{label:"Usuários",icon:l.jsx(Ov,{className:"h-4 w-4"}),category:"Administração"},solicitacoes:{label:"Solicitações (Admin)",icon:l.jsx(Ti,{className:"h-4 w-4"}),category:"Administração"},"user-solicitacoes":{label:"Minhas Solicitações",icon:l.jsx(Ti,{className:"h-4 w-4"}),category:"Geral"},"nova-reserva":{label:"Nova Reserva",icon:l.jsx(NR,{className:"h-4 w-4"}),category:"Ações"},"nova-compra":{label:"Nova Compra",icon:l.jsx(yo,{className:"h-4 w-4"}),category:"Ações"},"nova-suporte":{label:"Nova Solicitação Suporte",icon:l.jsx(Pa,{className:"h-4 w-4"}),category:"Ações"},notificacoes:{label:"Notificações",icon:l.jsx(Rd,{className:"h-4 w-4"}),category:"Geral"},"compras-financeiro":{label:"Compras Financeiro",icon:l.jsx(yo,{className:"h-4 w-4"}),category:"Financeiro"},"suporte-operacional":{label:"Suporte Operacional",icon:l.jsx(Pa,{className:"h-4 w-4"}),category:"Operacional"},"calendario-reservas":{label:"Calendário de Reservas",icon:l.jsx(_i,{className:"h-4 w-4"}),category:"Recursos"},"suporte-plataforma":{label:"Suporte da Plataforma",icon:l.jsx(fd,{className:"h-4 w-4"}),category:"Técnico"},"roles-management":{label:"Gerenciar Roles",icon:l.jsx(TR,{className:"h-4 w-4"}),category:"Administração"},profile:{label:"Perfil",icon:l.jsx(Ov,{className:"h-4 w-4"}),category:"Geral"},"notice-board-edit":{label:"Editar Quadro de Avisos",icon:l.jsx(Ti,{className:"h-4 w-4"}),category:"Administração"}},mU=Object.keys(Hh),KJe=[{id:"admin",name:"Administrador",description:"Acesso administrativo total",permissions:{dashboard:!0,userdashboard:!1,equipamentos:!0,disponibilidade:!0,estoque:!0,usuarios:!0,solicitacoes:!0,"user-solicitacoes":!0,"nova-reserva":!0,"nova-compra":!0,"nova-suporte":!0,notificacoes:!0,"compras-financeiro":!0,"suporte-operacional":!0,"calendario-reservas":!0,"suporte-plataforma":!0,"roles-management":!0,profile:!0,"notice-board-edit":!0}},{id:"financeiro",name:"Financeiro",description:"Controle financeiro e compras",permissions:{dashboard:!1,userdashboard:!0,"compras-financeiro":!0,"user-solicitacoes":!0,notificacoes:!0,profile:!0}},{id:"operacional",name:"Operacional",description:"Equipe de manutenção e suporte operacional",permissions:{dashboard:!1,userdashboard:!0,"suporte-operacional":!0,equipamentos:!0,estoque:!0,"user-solicitacoes":!0,notificacoes:!0,profile:!0}},{id:"user",name:"Usuário Padrão",description:"Usuário básico com acesso limitado",permissions:{dashboard:!1,userdashboard:!0,"user-solicitacoes":!0,"nova-reserva":!0,"nova-compra":!0,"nova-suporte":!0,notificacoes:!0,profile:!0}}],GJe=({role:t,onClose:e,onSave:r,onTogglePermission:n,onChange:i})=>{if(!t)return null;const s=mU.reduce((o,c)=>{var d;const u=((d=Hh[c])==null?void 0:d.category)||"Outros";return o[u]||(o[u]=[]),o[u].push(c),o},{}),a={Administração:"bg-red-50 border-red-200 text-red-800",Geral:"bg-blue-50 border-blue-200 text-blue-800",Recursos:"bg-green-50 border-green-200 text-green-800",Ações:"bg-purple-50 border-purple-200 text-purple-800",Financeiro:"bg-yellow-50 border-yellow-200 text-yellow-800",Operacional:"bg-orange-50 border-orange-200 text-orange-800",Técnico:"bg-gray-50 border-gray-200 text-gray-800",Outros:"bg-slate-50 border-slate-200 text-slate-800"};return l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-5xl max-h-[90vh] overflow-hidden",children:[l.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-blue-600 text-white p-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:l.jsx(AR,{className:"h-6 w-6"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-2xl font-bold",children:t.id?"Editar Role":"Nova Role"}),l.jsx("p",{className:"text-white/80",children:t.id?"Modificar permissões e informações da role":"Criar uma nova role no sistema"})]})]}),l.jsx(oe,{variant:"ghost",size:"sm",onClick:e,className:"text-white hover:bg-white/20 rounded-lg",children:l.jsx(xo,{className:"h-5 w-5"})})]})}),l.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-200px)]",children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700",children:"ID da Role"}),l.jsx(or,{placeholder:"ex: admin, user, financeiro",value:t.id,onChange:o=>i("id",o.target.value.toLowerCase().replace(/\s+/g,"-")),disabled:!!t.id&&t.id!=="",className:"rounded-lg border-gray-200 focus:border-purple-500 focus:ring-purple-500"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Nome da Role"}),l.jsx(or,{placeholder:"ex: Administrador, Usuário",value:t.name,onChange:o=>i("name",o.target.value),className:"rounded-lg border-gray-200 focus:border-purple-500 focus:ring-purple-500"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Descrição"}),l.jsx(or,{placeholder:"Descreva as responsabilidades desta role",value:t.description,onChange:o=>i("description",o.target.value),className:"rounded-lg border-gray-200 focus:border-purple-500 focus:ring-purple-500"})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Yae,{className:"h-5 w-5 text-purple-600"}),l.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"Permissões do Sistema"})]}),Object.entries(s).map(([o,c])=>l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(_e,{variant:"outline",className:`px-3 py-1 text-xs font-medium ${a[o]||a.Outros}`,children:o}),l.jsxs("span",{className:"text-sm text-gray-500",children:[c.filter(u=>{var d;return(d=t.permissions)==null?void 0:d[u]}).length,"/",c.length," ativas"]})]}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2",children:c.map(u=>{var h;const d=Hh[u],f=(h=t.permissions)==null?void 0:h[u];return l.jsx(oe,{variant:f?"default":"outline",onClick:()=>n(u),className:`justify-start text-sm h-auto py-3 px-4 rounded-lg transition-all ${f?"bg-gradient-to-r from-purple-600 to-blue-600 text-white shadow-md hover:shadow-lg":"hover:bg-gray-50 border-gray-200"}`,children:l.jsxs("span",{className:"flex items-center gap-2 min-w-0",children:[l.jsx("span",{className:`flex-shrink-0 ${f?"text-white":"text-gray-500"}`,children:d.icon}),l.jsx("span",{className:"truncate font-medium",children:d.label})]})},u)})})]},o))]})]})}),l.jsx("div",{className:"border-t bg-gray-50 px-6 py-4",children:l.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[l.jsxs("div",{className:"text-sm text-gray-600",children:[l.jsx("span",{className:"font-medium",children:Object.values(t.permissions||{}).filter(Boolean).length})," permissões ativas de ",l.jsx("span",{className:"font-medium",children:mU.length})," disponíveis"]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx(oe,{variant:"outline",onClick:e,className:"px-6 rounded-lg border-gray-300 hover:bg-gray-50",children:"Cancelar"}),l.jsxs(oe,{onClick:r,className:"px-6 bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white rounded-lg shadow-md hover:shadow-lg transition-all",children:[l.jsx(CR,{className:"mr-2 h-4 w-4"}),"Salvar Role"]})]})]})})]})})},YJe=()=>{const[t,e]=g.useState([]),[r,n]=g.useState(!1),[i,s]=g.useState(null),[a,o]=g.useState(!1),c=async()=>{n(!0),setTimeout(()=>{e(KJe),n(!1)},1e3)};g.useEffect(()=>{c()},[]);const u=async w=>{var y;if(w==="superadmin")return alert("Não é possível excluir o superadmin");if(w==="admin")return alert("Não é possível excluir o role de administrador padrão");window.confirm(`Tem certeza que deseja excluir a role "${(y=t.find(_=>_.id===w))==null?void 0:y.name}"?`)&&e(_=>_.filter(S=>S.id!==w))},d=async()=>{if(!i)return;if(!i.id.trim())return alert("ID é obrigatório");if(!i.name.trim())return alert("Nome é obrigatório");const w=t.some(y=>y.id===i.id);e(w?y=>y.map(_=>_.id===i.id?i:_):y=>[...y,i]),s(null),o(!1)},f=w=>{var y;i&&s({...i,permissions:{...i.permissions,[w]:!((y=i.permissions)!=null&&y[w])}})},h=()=>{s({id:"",name:"",description:"",permissions:{dashboard:!1,userdashboard:!0,profile:!0}}),o(!0)},p=w=>{s({...w}),o(!0)},v=(w,y)=>{i&&s({...i,[w]:y})},m=w=>{switch(w){case"admin":return"bg-red-50 border-red-200 text-red-800";case"financeiro":return"bg-yellow-50 border-yellow-200 text-yellow-800";case"operacional":return"bg-orange-50 border-orange-200 text-orange-800";case"user":return"bg-blue-50 border-blue-200 text-blue-800";default:return"bg-purple-50 border-purple-200 text-purple-800"}},b=l.jsxs("div",{className:"min-h-screen bg-gray-50 relative",children:[l.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[l.jsx("div",{className:"absolute left-1/4 top-1/4 h-96 w-96 rounded-full bg-purple-100 blur-3xl opacity-20"}),l.jsx("div",{className:"absolute right-1/4 bottom-1/4 h-80 w-80 rounded-full bg-blue-100 blur-3xl opacity-20"})]}),l.jsxs("div",{className:"relative space-y-8",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[l.jsxs("div",{children:[l.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-3 bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent",children:[l.jsx(AR,{className:"text-purple-600",size:35}),"Gerenciar Roles"]}),l.jsx("p",{className:"text-gray-600 mt-2",children:"Configure permissões e controle de acesso do sistema"})]}),l.jsxs(oe,{onClick:h,className:"bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white rounded-lg shadow-md hover:shadow-lg transition-all px-6",children:[l.jsx(Ow,{className:"mr-2 w-4 h-4"}),"Nova Role"]})]}),r?l.jsx("div",{className:"flex justify-center items-center p-20",children:l.jsxs("div",{className:"text-center",children:[l.jsx(v8,{className:"animate-spin w-12 h-12 text-purple-600 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600",children:"Carregando roles..."})]})}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:t.map(w=>{const y=Object.keys(w.permissions).filter(_=>w.permissions[_]);return l.jsxs(tt,{className:"bg-white border border-gray-200 rounded-2xl shadow-sm hover:shadow-lg transition-all duration-300 hover:border-purple-200",children:[l.jsx(qt,{className:"pb-4",children:l.jsx("div",{className:"flex items-start justify-between",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 bg-gradient-to-r from-purple-100 to-blue-100 rounded-lg",children:l.jsx(Qae,{className:"h-5 w-5 text-purple-600"})}),l.jsxs("div",{children:[l.jsx(Wt,{className:"text-lg font-bold text-gray-900",children:w.name}),l.jsx(_e,{variant:"outline",className:`mt-1 text-xs ${m(w.id)}`,children:w.id})]})]})})}),l.jsxs(mt,{className:"space-y-4",children:[l.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:w.description}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Permissões Ativas"}),l.jsxs(_e,{variant:"outline",className:"text-xs",children:[y.length,"/",Object.keys(Hh).length]})]}),l.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:y.length>0?y.map(_=>{var S,E;return l.jsxs("div",{className:"flex items-center gap-2 text-xs bg-gradient-to-r from-purple-50 to-blue-50 text-purple-800 px-3 py-2 rounded-lg border border-purple-100",children:[l.jsx("span",{className:"text-purple-600",children:(S=Hh[_])==null?void 0:S.icon}),l.jsx("span",{className:"font-medium",children:((E=Hh[_])==null?void 0:E.label)||_})]},_)}):l.jsx("div",{className:"text-xs text-gray-500 text-center py-4 bg-gray-50 rounded-lg",children:"Nenhuma permissão ativa"})})]}),l.jsxs("div",{className:"flex gap-2 pt-4 border-t",children:[l.jsxs(oe,{variant:"outline",size:"sm",onClick:()=>p(w),className:"flex-1 rounded-lg hover:bg-gray-50",children:[l.jsx(Iv,{className:"w-4 h-4 mr-1"}),"Editar"]}),l.jsxs(oe,{variant:"destructive",size:"sm",onClick:()=>u(w.id),disabled:w.id==="admin",className:"flex-1 rounded-lg",children:[l.jsx(_C,{className:"w-4 h-4 mr-1"}),"Excluir"]})]})]})]},w.id)})}),a&&i&&l.jsx(GJe,{role:i,onClose:()=>o(!1),onSave:d,onTogglePermission:f,onChange:v})]})]});return l.jsx(cn,{children:b})},XJe=()=>{const{userPermissions:t}=zr();return t.dashboard?l.jsx(Uee,{}):l.jsx(Bee,{})},QJe=new Wce,ZJe=ffe([{path:"/login",element:l.jsx(dAe,{})},{path:"/unauthorized",element:l.jsx(vGe,{})},{path:"/404",element:l.jsx(yGe,{})},{path:"/",element:l.jsx(FSe,{}),children:[{index:!0,element:l.jsxs(Sn,{children:[l.jsx(XJe,{})," "]})},{path:"dashboard",element:l.jsx(Sn,{children:l.jsx(Uee,{})})},{path:"nova-solicitacao/reserva",element:l.jsx(Sn,{children:l.jsx(TJe,{})})},{path:"nova-solicitacao/compra",element:l.jsx(Sn,{children:l.jsx(CJe,{})})},{path:"nova-solicitacao/suporte",element:l.jsx(Sn,{children:l.jsx(RJe,{})})},{path:"suporte-operacional",element:l.jsx(Sn,{requiredPermission:"suporte-operacional",children:l.jsx(IJe,{})})},{path:"compras-financeiro",element:l.jsx(Sn,{requiredPermission:"financeiro",children:l.jsx(NGe,{})})},{path:"calendario",element:l.jsx(Sn,{requiredPermission:"solicitacoes",children:l.jsx(UJe,{})})},{path:"equipamentos",element:l.jsx(Sn,{requiredPermission:"equipamentos",children:l.jsx(WYe,{})})},{path:"estoque",element:l.jsx(Sn,{requiredPermission:"estoque",children:l.jsx(BJe,{})})},{path:"disponibilidade",element:l.jsx(Sn,{requiredPermission:"equipamentos",children:l.jsx(jQe,{})})},{path:"usuarios",element:l.jsx(Sn,{requiredPermission:"usuarios",children:l.jsx(kQe,{})})},{path:"solicitacoes",element:l.jsx(Sn,{requiredPermission:"solicitacoes",children:l.jsx(OQe,{})})},{path:"suporte-plataforma",element:l.jsx(Sn,{requiredPermission:"suporte-plataforma",children:l.jsx(zJe,{})})},{path:"notificacoes",element:l.jsx(Sn,{requiredPermission:"notificacoes",children:l.jsx(MSe,{})})},{path:"minhas-solicitacoes",element:l.jsx(Sn,{children:l.jsx(EGe,{})})},{path:"perfil",element:l.jsx(Sn,{children:l.jsx(HJe,{})})},{path:"roles",element:l.jsx(Sn,{requiredPermission:"all",children:l.jsx(YJe,{})})},{path:"*",element:l.jsx(Xg,{to:"/404",replace:!0})}]},{path:"/index",element:l.jsx(Xg,{to:"/",replace:!0})}],{basename:"/Tecnologia-ECCOS/"}),JJe=()=>l.jsx(Xce,{client:QJe,children:l.jsx(Nxe,{children:l.jsxs(Cce,{children:[l.jsx(Ioe,{}),l.jsx(dle,{}),l.jsx(Sfe,{router:ZJe})]})})});Fz(document.getElementById("root")).render(l.jsx(JJe,{}));
